(self.webpackChunkfe_blog=self.webpackChunkfe_blog||[]).push([[179],{7344:(xe,_e,G)=>{"use strict";var y=G(5879);let R=null;function U(){return R}class F{}const J=new y.OlP("DocumentToken");let ee=(()=>{var s;class t{historyGo(i){throw new Error("Not implemented")}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return(0,y.f3M)(de)},providedIn:"platform"}),t})();const ae=new y.OlP("Location Initialized");let de=(()=>{var s;class t extends ee{constructor(){super(),this._doc=(0,y.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(i){const f=U().getGlobalEventTarget(this._doc,"window");return f.addEventListener("popstate",i,!1),()=>f.removeEventListener("popstate",i)}onHashChange(i){const f=U().getGlobalEventTarget(this._doc,"window");return f.addEventListener("hashchange",i,!1),()=>f.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,f,M){this._history.pushState(i,f,M)}replaceState(i,f,M){this._history.replaceState(i,f,M)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return new s},providedIn:"platform"}),t})();function Me(s,t){if(0==s.length)return t;if(0==t.length)return s;let c=0;return s.endsWith("/")&&c++,t.startsWith("/")&&c++,2==c?s+t.substring(1):1==c?s+t:s+"/"+t}function Fe(s){const t=s.match(/#|\?|$/),c=t&&t.index||s.length;return s.slice(0,c-("/"===s[c-1]?1:0))+s.slice(c)}function Ge(s){return s&&"?"!==s[0]?"?"+s:s}let ht=(()=>{var s;class t{historyGo(i){throw new Error("Not implemented")}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return(0,y.f3M)(_t)},providedIn:"root"}),t})();const Xt=new y.OlP("appBaseHref");let _t=(()=>{var s;class t extends ht{constructor(i,f){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=f??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Me(this._baseHref,i)}path(i=!1){const f=this._platformLocation.pathname+Ge(this._platformLocation.search),M=this._platformLocation.hash;return M&&i?`${f}${M}`:f}pushState(i,f,M,I){const Y=this.prepareExternalUrl(M+Ge(I));this._platformLocation.pushState(i,f,Y)}replaceState(i,f,M,I){const Y=this.prepareExternalUrl(M+Ge(I));this._platformLocation.replaceState(i,f,Y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ee),y.LFG(Xt,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),Pt=(()=>{var s;class t extends ht{constructor(i,f){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=f&&(this._baseHref=f)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let f=this._platformLocation.hash;return null==f&&(f="#"),f.length>0?f.substring(1):f}prepareExternalUrl(i){const f=Me(this._baseHref,i);return f.length>0?"#"+f:f}pushState(i,f,M,I){let Y=this.prepareExternalUrl(M+Ge(I));0==Y.length&&(Y=this._platformLocation.pathname),this._platformLocation.pushState(i,f,Y)}replaceState(i,f,M,I){let Y=this.prepareExternalUrl(M+Ge(I));0==Y.length&&(Y=this._platformLocation.pathname),this._platformLocation.replaceState(i,f,Y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ee),y.LFG(Xt,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})(),An=(()=>{var s;class t{constructor(i){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const f=this._locationStrategy.getBaseHref();this._basePath=function ct(s){if(new RegExp("^(https?:)?//").test(s)){const[,c]=s.split(/\/\/[^\/]+/);return c}return s}(Fe(Mn(f))),this._locationStrategy.onPopState(M=>{this._subject.emit({url:this.path(!0),pop:!0,state:M.state,type:M.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,f=""){return this.path()==this.normalize(i+Ge(f))}normalize(i){return t.stripTrailingSlash(function Fn(s,t){if(!s||!t.startsWith(s))return t;const c=t.substring(s.length);return""===c||["/",";","?","#"].includes(c[0])?c:t}(this._basePath,Mn(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,f="",M=null){this._locationStrategy.pushState(M,"",i,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ge(f)),M)}replaceState(i,f="",M=null){this._locationStrategy.replaceState(M,"",i,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ge(f)),M)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(f=>{this._notifyUrlChangeListeners(f.url,f.state)})),()=>{const f=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(f,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",f){this._urlChangeListeners.forEach(M=>M(i,f))}subscribe(i,f,M){return this._subject.subscribe({next:i,error:f,complete:M})}}return(s=t).normalizeQueryParams=Ge,s.joinWithSlash=Me,s.stripTrailingSlash=Fe,s.\u0275fac=function(i){return new(i||s)(y.LFG(ht))},s.\u0275prov=y.Yz7({token:s,factory:function(){return function pn(){return new An((0,y.LFG)(ht))}()},providedIn:"root"}),t})();function Mn(s){return s.replace(/\/index.html$/,"")}function Ls(s,t){t=encodeURIComponent(t);for(const c of s.split(";")){const i=c.indexOf("="),[f,M]=-1==i?[c,""]:[c.slice(0,i),c.slice(i+1)];if(f.trim()===t)return decodeURIComponent(M)}return null}class Ir{constructor(t,c,i,f){this.$implicit=t,this.ngForOf=c,this.index=i,this.count=f}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yl=(()=>{var s;class t{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,f,M){this._viewContainer=i,this._template=f,this._differs=M,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const f=this._viewContainer;i.forEachOperation((M,I,Y)=>{if(null==M.previousIndex)f.createEmbeddedView(this._template,new Ir(M.item,this._ngForOf,-1,-1),null===Y?void 0:Y);else if(null==Y)f.remove(null===I?void 0:I);else if(null!==I){const se=f.get(I);f.move(se,Y),As(se,M)}});for(let M=0,I=f.length;M<I;M++){const se=f.get(M).context;se.index=M,se.count=I,se.ngForOf=this._ngForOf}i.forEachIdentityChange(M=>{As(f.get(M.currentIndex),M)})}static ngTemplateContextGuard(i,f){return!0}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},s.\u0275dir=y.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function As(s,t){s.context.$implicit=t.item}let Ea=(()=>{var s;class t{constructor(i,f){this._viewContainer=i,this._context=new fl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=f}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){cn("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){cn("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,f){return!0}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(y.s_b),y.Y36(y.Rgc))},s.\u0275dir=y.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class fl{constructor(){this.$implicit=null,this.ngIf=null}}function cn(s,t){if(t&&!t.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,y.AaK)(t)}'.`)}class Ie{createSubscription(t,c){return(0,y.rg0)(()=>t.subscribe({next:c,error:i=>{throw i}}))}dispose(t){(0,y.rg0)(()=>t.unsubscribe())}}class pt{createSubscription(t,c){return t.then(c,i=>{throw i})}dispose(t){}}const Ot=new pt,nt=new Ie;let Kt=(()=>{var s;class t{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,f=>this._updateLatestValue(i,f))}_selectStrategy(i){if((0,y.QGY)(i))return Ot;if((0,y.F4k)(i))return nt;throw function to(s,t){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,f){i===this._obj&&(this._latestValue=f,this._ref.markForCheck())}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(y.sBO,16))},s.\u0275pipe=y.Yjl({name:"async",type:s,pure:!1,standalone:!0}),t})(),Pr=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})();const Do="browser";function Us(s){return"server"===s}let ls=(()=>{var s;class t{}return(s=t).\u0275prov=(0,y.Yz7)({token:s,providedIn:"root",factory:()=>new Ta((0,y.LFG)(J),window)}),t})();class Ta{constructor(t,c){this.document=t,this.window=c,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const c=function uu(s,t){const c=s.getElementById(t)||s.getElementsByName(t)[0];if(c)return c;if("function"==typeof s.createTreeWalker&&s.body&&"function"==typeof s.body.attachShadow){const i=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let f=i.currentNode;for(;f;){const M=f.shadowRoot;if(M){const I=M.getElementById(t)||M.querySelector(`[name="${t}"]`);if(I)return I}f=i.nextNode()}}return null}(this.document,t);c&&(this.scrollToElement(c),c.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const c=t.getBoundingClientRect(),i=c.left+this.window.pageXOffset,f=c.top+this.window.pageYOffset,M=this.offset();this.window.scrollTo(i-M[0],f-M[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class So{}class Wl extends F{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wu extends Wl{static makeCurrent(){!function u(s){R||(R=s)}(new wu)}onAndCancel(t,c,i){return t.addEventListener(c,i),()=>{t.removeEventListener(c,i)}}dispatchEvent(t,c){t.dispatchEvent(c)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,c){return(c=c||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,c){return"window"===c?window:"document"===c?t:"body"===c?t.body:null}getBaseHref(t){const c=function Zl(){return po=po||document.querySelector("base"),po?po.getAttribute("href"):null}();return null==c?null:function kc(s){Os=Os||document.createElement("a"),Os.setAttribute("href",s);const t=Os.pathname;return"/"===t.charAt(0)?t:`/${t}`}(c)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ls(document.cookie,t)}}let Os,po=null,nr=(()=>{var s;class t{build(){return new XMLHttpRequest}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const ql=new y.OlP("EventManagerPlugins");let Za=(()=>{var s;class t{constructor(i,f){this._zone=f,this._eventNameToPlugin=new Map,i.forEach(M=>{M.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,f,M){return this._findPluginFor(f).addEventListener(i,f,M)}getZone(){return this._zone}_findPluginFor(i){let f=this._eventNameToPlugin.get(i);if(f)return f;if(f=this._plugins.find(I=>I.supports(i)),!f)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(i,f),f}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ql),y.LFG(y.R0b))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();class ns{constructor(t){this._doc=t}}const Mu="ng-app-id";let Kl=(()=>{var s;class t{constructor(i,f,M,I={}){this.doc=i,this.appId=f,this.nonce=M,this.platformId=I,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Us(I),this.resetHostNodes()}addStyles(i){for(const f of i)1===this.changeUsageCount(f,1)&&this.onStyleAdded(f)}removeStyles(i){for(const f of i)this.changeUsageCount(f,-1)<=0&&this.onStyleRemoved(f)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(f=>f.remove()),i.clear());for(const f of this.getAllStyles())this.onStyleRemoved(f);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const f of this.getAllStyles())this.addStyleToHost(i,f)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const f of this.hostNodes)this.addStyleToHost(f,i)}onStyleRemoved(i){const f=this.styleRef;f.get(i)?.elements?.forEach(M=>M.remove()),f.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${Mu}="${this.appId}"]`);if(i?.length){const f=new Map;return i.forEach(M=>{null!=M.textContent&&f.set(M.textContent,M)}),f}return null}changeUsageCount(i,f){const M=this.styleRef;if(M.has(i)){const I=M.get(i);return I.usage+=f,I.usage}return M.set(i,{usage:f,elements:[]}),f}getStyleElement(i,f){const M=this.styleNodesInDOM,I=M?.get(f);if(I?.parentNode===i)return M.delete(f),I.removeAttribute(Mu),I;{const Y=this.doc.createElement("style");return this.nonce&&Y.setAttribute("nonce",this.nonce),Y.textContent=f,this.platformIsServer&&Y.setAttribute(Mu,this.appId),Y}}addStyleToHost(i,f){const M=this.getStyleElement(i,f);i.appendChild(M);const I=this.styleRef,Y=I.get(f)?.elements;Y?Y.push(M):I.set(f,{elements:[M],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const Rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cs=/%COMP%/g,Ql=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ec(s,t){return t.map(c=>c.replace(cs,s))}let hn=(()=>{var s;class t{constructor(i,f,M,I,Y,se,ce,Re=null){this.eventManager=i,this.sharedStylesHost=f,this.appId=M,this.removeStylesOnCompDestroy=I,this.doc=Y,this.platformId=se,this.ngZone=ce,this.nonce=Re,this.rendererByCompId=new Map,this.platformIsServer=Us(se),this.defaultRenderer=new io(i,Y,ce,this.platformIsServer)}createRenderer(i,f){if(!i||!f)return this.defaultRenderer;this.platformIsServer&&f.encapsulation===y.ifc.ShadowDom&&(f={...f,encapsulation:y.ifc.Emulated});const M=this.getOrCreateRenderer(i,f);return M instanceof ca?M.applyToHost(i):M instanceof Ka&&M.applyStyles(),M}getOrCreateRenderer(i,f){const M=this.rendererByCompId;let I=M.get(f.id);if(!I){const Y=this.doc,se=this.ngZone,ce=this.eventManager,Re=this.sharedStylesHost,$e=this.removeStylesOnCompDestroy,Vt=this.platformIsServer;switch(f.encapsulation){case y.ifc.Emulated:I=new ca(ce,Re,f,this.appId,$e,Y,se,Vt);break;case y.ifc.ShadowDom:return new Kr(ce,Re,i,f,Y,se,this.nonce,Vt);default:I=new Ka(ce,Re,f,$e,Y,se,Vt)}M.set(f.id,I)}return I}ngOnDestroy(){this.rendererByCompId.clear()}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Za),y.LFG(Kl),y.LFG(y.AFp),y.LFG(Ql),y.LFG(J),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();class io{constructor(t,c,i,f){this.eventManager=t,this.doc=c,this.ngZone=i,this.platformIsServer=f,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,c){return c?this.doc.createElementNS(Rs[c]||c,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,c){(la(t)?t.content:t).appendChild(c)}insertBefore(t,c,i){t&&(la(t)?t.content:t).insertBefore(c,i)}removeChild(t,c){t&&t.removeChild(c)}selectRootElement(t,c){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new y.vHH(-5104,!1);return c||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,c,i,f){if(f){c=f+":"+c;const M=Rs[f];M?t.setAttributeNS(M,c,i):t.setAttribute(c,i)}else t.setAttribute(c,i)}removeAttribute(t,c,i){if(i){const f=Rs[i];f?t.removeAttributeNS(f,c):t.removeAttribute(`${i}:${c}`)}else t.removeAttribute(c)}addClass(t,c){t.classList.add(c)}removeClass(t,c){t.classList.remove(c)}setStyle(t,c,i,f){f&(y.JOm.DashCase|y.JOm.Important)?t.style.setProperty(c,i,f&y.JOm.Important?"important":""):t.style[c]=i}removeStyle(t,c,i){i&y.JOm.DashCase?t.style.removeProperty(c):t.style[c]=""}setProperty(t,c,i){t[c]=i}setValue(t,c){t.nodeValue=c}listen(t,c,i){if("string"==typeof t&&!(t=U().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${c}`);return this.eventManager.addEventListener(t,c,this.decoratePreventDefault(i))}decoratePreventDefault(t){return c=>{if("__ngUnwrap__"===c)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(c)):t(c))&&c.preventDefault()}}}function la(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class Kr extends io{constructor(t,c,i,f,M,I,Y,se){super(t,M,I,se),this.sharedStylesHost=c,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ce=ec(f.id,f.styles);for(const Re of ce){const $e=document.createElement("style");Y&&$e.setAttribute("nonce",Y),$e.textContent=Re,this.shadowRoot.appendChild($e)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,c){return super.appendChild(this.nodeOrShadowRoot(t),c)}insertBefore(t,c,i){return super.insertBefore(this.nodeOrShadowRoot(t),c,i)}removeChild(t,c){return super.removeChild(this.nodeOrShadowRoot(t),c)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ka extends io{constructor(t,c,i,f,M,I,Y,se){super(t,M,I,Y),this.sharedStylesHost=c,this.removeStylesOnCompDestroy=f,this.styles=se?ec(se,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ca extends Ka{constructor(t,c,i,f,M,I,Y,se){const ce=f+"-"+i.id;super(t,c,i,M,I,Y,se,ce),this.contentAttr=function Oc(s){return"_ngcontent-%COMP%".replace(cs,s)}(ce),this.hostAttr=function Rc(s){return"_nghost-%COMP%".replace(cs,s)}(ce)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,c){const i=super.createElement(t,c);return super.setAttribute(i,this.contentAttr,""),i}}let Fc=(()=>{var s;class t extends ns{constructor(i){super(i)}supports(i){return!0}addEventListener(i,f,M){return i.addEventListener(f,M,!1),()=>this.removeEventListener(i,f,M)}removeEventListener(i,f,M){return i.removeEventListener(f,M)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const jo=["alt","control","meta","shift"],ah={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Du={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let tc=(()=>{var s;class t extends ns{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,f,M){const I=t.parseEventName(f),Y=t.eventCallback(I.fullKey,M,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(i,I.domEventName,Y))}static parseEventName(i){const f=i.toLowerCase().split("."),M=f.shift();if(0===f.length||"keydown"!==M&&"keyup"!==M)return null;const I=t._normalizeKey(f.pop());let Y="",se=f.indexOf("code");if(se>-1&&(f.splice(se,1),Y="code."),jo.forEach(Re=>{const $e=f.indexOf(Re);$e>-1&&(f.splice($e,1),Y+=Re+".")}),Y+=I,0!=f.length||0===I.length)return null;const ce={};return ce.domEventName=M,ce.fullKey=Y,ce}static matchEventFullKeyCode(i,f){let M=ah[i.key]||i.key,I="";return f.indexOf("code.")>-1&&(M=i.code,I="code."),!(null==M||!M)&&(M=M.toLowerCase()," "===M?M="space":"."===M&&(M="dot"),jo.forEach(Y=>{Y!==M&&(0,Du[Y])(i)&&(I+=Y+".")}),I+=M,I===f)}static eventCallback(i,f,M){return I=>{t.matchEventFullKeyCode(I,i)&&M.runGuarded(()=>f(I))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const La=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:Do},{provide:y.g9A,useValue:function Eu(){wu.makeCurrent()},multi:!0},{provide:J,useFactory:function us(){return(0,y.RDi)(document),document},deps:[]}]),ro=new y.OlP(""),ic=[{provide:y.rWj,useClass:class Pi{addToWindow(t){y.dqk.getAngularTestability=(i,f=!0)=>{const M=t.findTestabilityInTree(i,f);if(null==M)throw new y.vHH(5103,!1);return M},y.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(i=>{const f=y.dqk.getAllAngularTestabilities();let M=f.length,I=!1;const Y=function(se){I=I||se,M--,0==M&&i(I)};f.forEach(se=>{se.whenStable(Y)})})}findTestabilityInTree(t,c,i){return null==c?null:t.getTestability(c)??(i?U().isShadowRoot(c)?this.findTestabilityInTree(t,c.host,!0):this.findTestabilityInTree(t,c.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Nc=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Tu(){return new y.qLn},deps:[]},{provide:ql,useClass:Fc,multi:!0,deps:[J,y.R0b,y.Lbi]},{provide:ql,useClass:tc,multi:!0,deps:[J]},hn,Kl,Za,{provide:y.FYo,useExisting:hn},{provide:So,useClass:nr,deps:[]},[]];let Su=(()=>{var s;class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:y.AFp,useValue:i.appId}]}}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ro,12))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[...Nc,...ic],imports:[Pr,y.hGG]}),t})(),md=(()=>{var s;class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:function(i){let f=null;return f=i?new i:function ua(){return new md((0,y.LFG)(J))}(),f},providedIn:"root"}),t})();typeof window<"u"&&window;var Hs=G(5592),oo=G(4674),or=G(9666),Gn=G(2096),gs=G(5619);const{isArray:Ia}=Array,{getPrototypeOf:g,prototype:a,keys:p}=Object;function b(s){if(1===s.length){const t=s[0];if(Ia(t))return{args:t,keys:null};if(function D(s){return s&&"object"==typeof s&&g(s)===a}(t)){const c=p(t);return{args:c.map(i=>t[i]),keys:c}}}return{args:s,keys:null}}var S=G(2737),O=G(7398);const{isArray:N}=Array;function K(s){return(0,O.U)(t=>function V(s,t){return N(t)?s(...t):s(t)}(s,t))}var q=G(9940);function re(s,t){return s.reduce((c,i,f)=>(c[i]=t[f],c),{})}var he=G(8251),ve=G(7103);function we(...s){const t=(0,q.yG)(s),c=(0,q.jO)(s),{args:i,keys:f}=b(s);if(0===i.length)return(0,or.D)([],t);const M=new Hs.y(function be(s,t,c=S.y){return i=>{De(t,()=>{const{length:f}=s,M=new Array(f);let I=f,Y=f;for(let se=0;se<f;se++)De(t,()=>{const ce=(0,or.D)(s[se],t);let Re=!1;ce.subscribe((0,he.x)(i,$e=>{M[se]=$e,Re||(Re=!0,Y--),Y||i.next(c(M.slice()))},()=>{--I||i.complete()}))},i)},i)}}(i,t,f?I=>re(f,I):S.y));return c?M.pipe(K(c)):M}function De(s,t,c){s?(0,ve.f)(c,s,t):t()}const ye=(0,G(2306).d)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var Ce=G(7537);function Ue(...s){return function Le(){return(0,Ce.J)(1)}()((0,or.D)(s,(0,q.yG)(s)))}var Ye=G(4829);function Ve(s){return new Hs.y(t=>{(0,Ye.Xf)(s()).subscribe(t)})}var Xe=G(8407);function Ze(s,t){const c=(0,oo.m)(s)?s:()=>s,i=f=>f.error(c());return new Hs.y(t?f=>t.schedule(i,0,f):i)}var it=G(6232),Rt=G(7394),Qe=G(9360);function Mt(){return(0,Qe.e)((s,t)=>{let c=null;s._refCount++;const i=(0,he.x)(t,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(c=null);const f=s._connection,M=c;c=null,f&&(!M||f===M)&&f.unsubscribe(),t.unsubscribe()});s.subscribe(i),i.closed||(c=s.connect())})}class ut extends Hs.y{constructor(t,c){super(),this.source=t,this.subjectFactory=c,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Rt.w0;const c=this.getSubject();t.add(this.source.subscribe((0,he.x)(c,void 0,()=>{this._teardown(),c.complete()},i=>{this._teardown(),c.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Rt.w0.EMPTY)}return t}refCount(){return Mt()(this)}}var Lt=G(8645),tt=G(4664),bt=G(8180);function $t(...s){const t=(0,q.yG)(s);return(0,Qe.e)((c,i)=>{(t?Ue(s,c,t):Ue(s,c)).subscribe(i)})}var Dt=G(2181),Ct=G(1631);function wn(s){return(0,Qe.e)((t,c)=>{let i=!1;t.subscribe((0,he.x)(c,f=>{i=!0,c.next(f)},()=>{i||c.next(s),c.complete()}))})}function Wn(s=_n){return(0,Qe.e)((t,c)=>{let i=!1;t.subscribe((0,he.x)(c,f=>{i=!0,c.next(f)},()=>i?c.complete():c.error(s())))})}function _n(){return new ye}function In(s,t){const c=arguments.length>=2;return i=>i.pipe(s?(0,Dt.h)((f,M)=>s(f,M,i)):S.y,(0,bt.q)(1),c?wn(t):Wn(()=>new ye))}var pi=G(6328);function jn(s,t,c){const i=(0,oo.m)(s)||t||c?{next:s,error:t,complete:c}:s;return i?(0,Qe.e)((f,M)=>{var I;null===(I=i.subscribe)||void 0===I||I.call(i);let Y=!0;f.subscribe((0,he.x)(M,se=>{var ce;null===(ce=i.next)||void 0===ce||ce.call(i,se),M.next(se)},()=>{var se;Y=!1,null===(se=i.complete)||void 0===se||se.call(i),M.complete()},se=>{var ce;Y=!1,null===(ce=i.error)||void 0===ce||ce.call(i,se),M.error(se)},()=>{var se,ce;Y&&(null===(se=i.unsubscribe)||void 0===se||se.call(i)),null===(ce=i.finalize)||void 0===ce||ce.call(i)}))}):S.y}var mn=G(6306),Ii=G(6699);function mi(s){return s<=0?()=>it.E:(0,Qe.e)((t,c)=>{let i=[];t.subscribe((0,he.x)(c,f=>{i.push(f),s<i.length&&i.shift()},()=>{for(const f of i)c.next(f);c.complete()},void 0,()=>{i=null}))})}function B(s){return(0,Qe.e)((t,c)=>{try{t.subscribe(c)}finally{c.add(s)}})}var X=G(9773);const ne="primary",me=Symbol("RouteTitle");class Ne{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const c=this.params[t];return Array.isArray(c)?c[0]:c}return null}getAll(t){if(this.has(t)){const c=this.params[t];return Array.isArray(c)?c:[c]}return[]}get keys(){return Object.keys(this.params)}}function lt(s){return new Ne(s)}function on(s,t,c){const i=c.path.split("/");if(i.length>s.length||"full"===c.pathMatch&&(t.hasChildren()||i.length<s.length))return null;const f={};for(let M=0;M<i.length;M++){const I=i[M],Y=s[M];if(I.startsWith(":"))f[I.substring(1)]=Y;else if(I!==Y.path)return null}return{consumed:s.slice(0,i.length),posParams:f}}function ii(s,t){const c=s?Object.keys(s):void 0,i=t?Object.keys(t):void 0;if(!c||!i||c.length!=i.length)return!1;let f;for(let M=0;M<c.length;M++)if(f=c[M],!yi(s[f],t[f]))return!1;return!0}function yi(s,t){if(Array.isArray(s)&&Array.isArray(t)){if(s.length!==t.length)return!1;const c=[...s].sort(),i=[...t].sort();return c.every((f,M)=>i[M]===f)}return s===t}function Vr(s){return s.length>0?s[s.length-1]:null}function ys(s){return function Vi(s){return!!s&&(s instanceof Hs.y||(0,oo.m)(s.lift)&&(0,oo.m)(s.subscribe))}(s)?s:(0,y.QGY)(s)?(0,or.D)(Promise.resolve(s)):(0,Gn.of)(s)}const Iu={exact:function zc(s,t,c){if(!$s(s.segments,t.segments)||!Ef(s.segments,t.segments,c)||s.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!s.children[i]||!zc(s.children[i],t.children[i],c))return!1;return!0},subset:ka},yd={exact:function Bc(s,t){return ii(s,t)},subset:function Df(s,t){return Object.keys(t).length<=Object.keys(s).length&&Object.keys(t).every(c=>yi(s[c],t[c]))},ignored:()=>!0};function xl(s,t,c){return Iu[c.paths](s.root,t.root,c.matrixParams)&&yd[c.queryParams](s.queryParams,t.queryParams)&&!("exact"===c.fragment&&s.fragment!==t.fragment)}function ka(s,t,c){return dh(s,t,t.segments,c)}function dh(s,t,c,i){if(s.segments.length>c.length){const f=s.segments.slice(0,c.length);return!(!$s(f,c)||t.hasChildren()||!Ef(f,c,i))}if(s.segments.length===c.length){if(!$s(s.segments,c)||!Ef(s.segments,c,i))return!1;for(const f in t.children)if(!s.children[f]||!ka(s.children[f],t.children[f],i))return!1;return!0}{const f=c.slice(0,s.segments.length),M=c.slice(s.segments.length);return!!($s(s.segments,f)&&Ef(s.segments,f,i)&&s.children[ne])&&dh(s.children[ne],t,M,i)}}function Ef(s,t,c){return t.every((i,f)=>yd[c](s[f].parameters,i.parameters))}class Xr{constructor(t=new Tr([],{}),c={},i=null){this.root=t,this.queryParams=c,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return Pu.serialize(this)}}class Tr{constructor(t,c){this.segments=t,this.children=c,this.parent=null,Object.values(c).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tf(this)}}class wl{constructor(t,c){this.path=t,this.parameters=c}get parameterMap(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}toString(){return Ml(this)}}function $s(s,t){return s.length===t.length&&s.every((c,i)=>c.path===t[i].path)}let jc=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return new da},providedIn:"root"}),t})();class da{parse(t){const c=new El(t);return new Xr(c.parseRootSegment(),c.parseQueryParams(),c.parseFragment())}serialize(t){const c=`/${Sf(t.root,!0)}`,i=function Ou(s){const t=Object.keys(s).map(c=>{const i=s[c];return Array.isArray(i)?i.map(f=>`${y_(c)}=${y_(f)}`).join("&"):`${y_(c)}=${y_(i)}`}).filter(c=>!!c);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${c}${i}${"string"==typeof t.fragment?`#${function Pa(s){return encodeURI(s)}(t.fragment)}`:""}`}}const Pu=new da;function Tf(s){return s.segments.map(t=>Ml(t)).join("/")}function Sf(s,t){if(!s.hasChildren())return Tf(s);if(t){const c=s.children[ne]?Sf(s.children[ne],!1):"",i=[];return Object.entries(s.children).forEach(([f,M])=>{f!==ne&&i.push(`${f}:${Sf(M,!1)}`)}),i.length>0?`${c}(${i.join("//")})`:c}{const c=function ku(s,t){let c=[];return Object.entries(s.children).forEach(([i,f])=>{i===ne&&(c=c.concat(t(f,i)))}),Object.entries(s.children).forEach(([i,f])=>{i!==ne&&(c=c.concat(t(f,i)))}),c}(s,(i,f)=>f===ne?[Sf(s.children[ne],!1)]:[`${f}:${Sf(i,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[ne]?`${Tf(s)}/${c[0]}`:`${Tf(s)}/(${c.join("//")})`}}function Ug(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y_(s){return Ug(s).replace(/%3B/gi,";")}function vd(s){return Ug(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oa(s){return decodeURIComponent(s)}function hh(s){return Oa(s.replace(/\+/g,"%20"))}function Ml(s){return`${vd(s.path)}${function Dl(s){return Object.keys(s).map(t=>`;${vd(t)}=${vd(s[t])}`).join("")}(s.parameters)}`}const Ru=/^[^\/()?;#]+/;function Yc(s){const t=s.match(Ru);return t?t[0]:""}const Fv=/^[^\/()?;=#]+/,v_=/^[^=?&#]+/,b_=/^[^&#]+/;class El{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tr([],{}):new Tr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let c={};this.peekStartsWith("/(")&&(this.capture("/"),c=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(c).length>0)&&(i[ne]=new Tr(t,c)),i}parseSegment(){const t=Yc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(t),new wl(Oa(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const c=function Nv(s){const t=s.match(Fv);return t?t[0]:""}(this.remaining);if(!c)return;this.capture(c);let i="";if(this.consumeOptional("=")){const f=Yc(this.remaining);f&&(i=f,this.capture(i))}t[Oa(c)]=Oa(i)}parseQueryParam(t){const c=function zp(s){const t=s.match(v_);return t?t[0]:""}(this.remaining);if(!c)return;this.capture(c);let i="";if(this.consumeOptional("=")){const I=function Cf(s){const t=s.match(b_);return t?t[0]:""}(this.remaining);I&&(i=I,this.capture(i))}const f=hh(c),M=hh(i);if(t.hasOwnProperty(f)){let I=t[f];Array.isArray(I)||(I=[I],t[f]=I),I.push(M)}else t[f]=M}parseParens(t){const c={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yc(this.remaining),f=this.remaining[i.length];if("/"!==f&&")"!==f&&";"!==f)throw new y.vHH(4010,!1);let M;i.indexOf(":")>-1?(M=i.slice(0,i.indexOf(":")),this.capture(M),this.capture(":")):t&&(M=ne);const I=this.parseChildren();c[M]=1===Object.keys(I).length?I[ne]:new Tr([],I),this.consumeOptional("//")}return c}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new y.vHH(4011,!1)}}function Lf(s){return s.segments.length>0?new Tr([],{[ne]:s}):s}function Vg(s){const t={};for(const i of Object.keys(s.children)){const M=Vg(s.children[i]);if(i===ne&&0===M.segments.length&&M.hasChildren())for(const[I,Y]of Object.entries(M.children))t[I]=Y;else(M.segments.length>0||M.hasChildren())&&(t[i]=M)}return function rs(s){if(1===s.numberOfChildren&&s.children[ne]){const t=s.children[ne];return new Tr(s.segments.concat(t.segments),t.children)}return s}(new Tr(s.segments,t))}function Cn(s){return s instanceof Xr}function fh(s){let t;const f=Lf(function c(M){const I={};for(const se of M.children){const ce=c(se);I[se.outlet]=ce}const Y=new Tr(M.url,I);return M===s&&(t=Y),Y}(s.root));return t??f}function Uo(s,t,c,i){let f=s;for(;f.parent;)f=f.parent;if(0===t.length)return mo(f,f,f,c,i);const M=function ph(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new bd(!0,0,s);let t=0,c=!1;const i=s.reduce((f,M,I)=>{if("object"==typeof M&&null!=M){if(M.outlets){const Y={};return Object.entries(M.outlets).forEach(([se,ce])=>{Y[se]="string"==typeof ce?ce.split("/"):ce}),[...f,{outlets:Y}]}if(M.segmentPath)return[...f,M.segmentPath]}return"string"!=typeof M?[...f,M]:0===I?(M.split("/").forEach((Y,se)=>{0==se&&"."===Y||(0==se&&""===Y?c=!0:".."===Y?t++:""!=Y&&f.push(Y))}),f):[...f,M]},[]);return new bd(c,t,i)}(t);if(M.toRoot())return mo(f,f,new Tr([],{}),c,i);const I=function Hg(s,t,c){if(s.isAbsolute)return new sc(t,!0,0);if(!c)return new sc(t,!1,NaN);if(null===c.parent)return new sc(c,!0,0);const i=Af(s.commands[0])?0:1;return function Yp(s,t,c){let i=s,f=t,M=c;for(;M>f;){if(M-=f,i=i.parent,!i)throw new y.vHH(4005,!1);f=i.segments.length}return new sc(i,!1,f-M)}(c,c.segments.length-1+i,s.numberOfDoubleDots)}(M,f,s),Y=I.processChildren?Fu(I.segmentGroup,I.index,M.commands):x_(I.segmentGroup,I.index,M.commands);return mo(f,I.segmentGroup,Y,c,i)}function Af(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Sl(s){return"object"==typeof s&&null!=s&&s.outlets}function mo(s,t,c,i,f){let I,M={};i&&Object.entries(i).forEach(([se,ce])=>{M[se]=Array.isArray(ce)?ce.map(Re=>`${Re}`):`${ce}`}),I=s===t?c:jp(s,t,c);const Y=Lf(Vg(I));return new Xr(Y,M,f)}function jp(s,t,c){const i={};return Object.entries(s.children).forEach(([f,M])=>{i[f]=M===t?c:jp(M,t,c)}),new Tr(s.segments,i)}class bd{constructor(t,c,i){if(this.isAbsolute=t,this.numberOfDoubleDots=c,this.commands=i,t&&i.length>0&&Af(i[0]))throw new y.vHH(4003,!1);const f=i.find(Sl);if(f&&f!==Vr(i))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sc{constructor(t,c,i){this.segmentGroup=t,this.processChildren=c,this.index=i}}function x_(s,t,c){if(s||(s=new Tr([],{})),0===s.segments.length&&s.hasChildren())return Fu(s,t,c);const i=function Up(s,t,c){let i=0,f=t;const M={match:!1,pathIndex:0,commandIndex:0};for(;f<s.segments.length;){if(i>=c.length)return M;const I=s.segments[f],Y=c[i];if(Sl(Y))break;const se=`${Y}`,ce=i<c.length-1?c[i+1]:null;if(f>0&&void 0===se)break;if(se&&ce&&"object"==typeof ce&&void 0===ce.outlets){if(!Cl(se,ce,I))return M;i+=2}else{if(!Cl(se,{},I))return M;i++}f++}return{match:!0,pathIndex:f,commandIndex:i}}(s,t,c),f=c.slice(i.commandIndex);if(i.match&&i.pathIndex<s.segments.length){const M=new Tr(s.segments.slice(0,i.pathIndex),{});return M.children[ne]=new Tr(s.segments.slice(i.pathIndex),s.children),Fu(M,0,f)}return i.match&&0===f.length?new Tr(s.segments,{}):i.match&&!s.hasChildren()?Vp(s,t,c):i.match?Fu(s,0,f):Vp(s,t,c)}function Fu(s,t,c){if(0===c.length)return new Tr(s.segments,{});{const i=function $g(s){return Sl(s[0])?s[0].outlets:{[ne]:s}}(c),f={};if(Object.keys(i).some(M=>M!==ne)&&s.children[ne]&&1===s.numberOfChildren&&0===s.children[ne].segments.length){const M=Fu(s.children[ne],t,c);return new Tr(s.segments,M.children)}return Object.entries(i).forEach(([M,I])=>{"string"==typeof I&&(I=[I]),null!==I&&(f[M]=x_(s.children[M],t,I))}),Object.entries(s.children).forEach(([M,I])=>{void 0===i[M]&&(f[M]=I)}),new Tr(s.segments,f)}}function Vp(s,t,c){const i=s.segments.slice(0,t);let f=0;for(;f<c.length;){const M=c[f];if(Sl(M)){const se=mh(M.outlets);return new Tr(i,se)}if(0===f&&Af(c[0])){i.push(new wl(s.segments[t].path,_h(c[0]))),f++;continue}const I=Sl(M)?M.outlets[ne]:`${M}`,Y=f<c.length-1?c[f+1]:null;I&&Y&&Af(Y)?(i.push(new wl(I,_h(Y))),f+=2):(i.push(new wl(I,{})),f++)}return new Tr(i,{})}function mh(s){const t={};return Object.entries(s).forEach(([c,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[c]=Vp(new Tr([],{}),0,i))}),t}function _h(s){const t={};return Object.entries(s).forEach(([c,i])=>t[c]=`${i}`),t}function Cl(s,t,c){return s==c.path&&ii(t,c.parameters)}const gh="imperative";class Ll{constructor(t,c){this.id=t,this.url=c}}class Nu extends Ll{constructor(t,c,i="imperative",f=null){super(t,c),this.type=0,this.navigationTrigger=i,this.restoredState=f}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ha extends Ll{constructor(t,c,i){super(t,c),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Io extends Ll{constructor(t,c,i,f){super(t,c),this.reason=i,this.code=f,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uc extends Ll{constructor(t,c,i,f){super(t,c),this.reason=i,this.code=f,this.type=16}}class Es extends Ll{constructor(t,c,i,f){super(t,c),this.error=i,this.target=f,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ja extends Ll{constructor(t,c,i,f){super(t,c),this.urlAfterRedirects=i,this.state=f,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gg extends Ll{constructor(t,c,i,f){super(t,c),this.urlAfterRedirects=i,this.state=f,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends Ll{constructor(t,c,i,f,M){super(t,c),this.urlAfterRedirects=i,this.state=f,this.shouldActivate=M,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bv extends Ll{constructor(t,c,i,f){super(t,c),this.urlAfterRedirects=i,this.state=f,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hp extends Ll{constructor(t,c,i,f){super(t,c),this.urlAfterRedirects=i,this.state=f,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Al{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $p{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w_{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bu{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zu{constructor(t,c,i){this.routerEvent=t,this.position=c,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class If{}class kf{constructor(t){this.url=t}}class Zp{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ju,this.attachRef=null}}let ju=(()=>{var s;class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,f){const M=this.getOrCreateContext(i);M.outlet=f,this.contexts.set(i,M)}onChildOutletDestroyed(i){const f=this.getContext(i);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let f=this.getContext(i);return f||(f=new Zp,this.contexts.set(i,f)),f}getContext(i){return this.contexts.get(i)||null}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();class D_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const c=this.pathFromRoot(t);return c.length>1?c[c.length-2]:null}children(t){const c=qp(t,this._root);return c?c.children.map(i=>i.value):[]}firstChild(t){const c=qp(t,this._root);return c&&c.children.length>0?c.children[0].value:null}siblings(t){const c=xd(t,this._root);return c.length<2?[]:c[c.length-2].children.map(f=>f.value).filter(f=>f!==t)}pathFromRoot(t){return xd(t,this._root).map(c=>c.value)}}function qp(s,t){if(s===t.value)return t;for(const c of t.children){const i=qp(s,c);if(i)return i}return null}function xd(s,t){if(s===t.value)return[t];for(const c of t.children){const i=xd(s,c);if(i.length)return i.unshift(t),i}return[]}class Qa{constructor(t,c){this.value=t,this.children=c}toString(){return`TreeNode(${this.value})`}}function oc(s){const t={};return s&&s.children.forEach(c=>t[c.value.outlet]=c),t}class Kp extends D_{constructor(t,c){super(t),this.snapshot=c,Vo(this,t)}toString(){return this.snapshot.toString()}}function _o(s,t){const c=function E_(s,t){const I=new hs([],{},{},"",{},ne,t,null,{});return new Yu("",new Qa(I,[]))}(0,t),i=new gs.X([new wl("",{})]),f=new gs.X({}),M=new gs.X({}),I=new gs.X({}),Y=new gs.X(""),se=new Vc(i,f,I,Y,M,ne,t,c.root);return se.snapshot=c.root,new Kp(new Qa(se,[]),c)}class Vc{constructor(t,c,i,f,M,I,Y,se){this.urlSubject=t,this.paramsSubject=c,this.queryParamsSubject=i,this.fragmentSubject=f,this.dataSubject=M,this.outlet=I,this.component=Y,this._futureSnapshot=se,this.title=this.dataSubject?.pipe((0,O.U)(ce=>ce[me]))??(0,Gn.of)(void 0),this.url=t,this.params=c,this.queryParams=i,this.fragment=f,this.data=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,O.U)(t=>lt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,O.U)(t=>lt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Il(s,t="emptyOnly"){const c=s.pathFromRoot;let i=0;if("always"!==t)for(i=c.length-1;i>=1;){const f=c[i],M=c[i-1];if(f.routeConfig&&""===f.routeConfig.path)i--;else{if(M.component)break;i--}}return function zv(s){return s.reduce((t,c)=>({params:{...t.params,...c.params},data:{...t.data,...c.data},resolve:{...c.data,...t.resolve,...c.routeConfig?.data,...c._resolvedData}}),{params:{},data:{},resolve:{}})}(c.slice(i))}class hs{get title(){return this.data?.[me]}constructor(t,c,i,f,M,I,Y,se,ce){this.url=t,this.params=c,this.queryParams=i,this.fragment=f,this.data=M,this.outlet=I,this.component=Y,this.routeConfig=se,this._resolve=ce}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yu extends D_{constructor(t,c){super(c),this.url=t,Vo(this,c)}toString(){return Ho(this._root)}}function Vo(s,t){t.value._routerState=s,t.children.forEach(c=>Vo(s,c))}function Ho(s){const t=s.children.length>0?` { ${s.children.map(Ho).join(", ")} } `:"";return`${s.value}${t}`}function ao(s){if(s.snapshot){const t=s.snapshot,c=s._futureSnapshot;s.snapshot=c,ii(t.queryParams,c.queryParams)||s.queryParamsSubject.next(c.queryParams),t.fragment!==c.fragment&&s.fragmentSubject.next(c.fragment),ii(t.params,c.params)||s.paramsSubject.next(c.params),function Bn(s,t){if(s.length!==t.length)return!1;for(let c=0;c<s.length;++c)if(!ii(s[c],t[c]))return!1;return!0}(t.url,c.url)||s.urlSubject.next(c.url),ii(t.data,c.data)||s.dataSubject.next(c.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function ac(s,t){const c=ii(s.params,t.params)&&function Bp(s,t){return $s(s,t)&&s.every((c,i)=>ii(c.parameters,t[i].parameters))}(s.url,t.url);return c&&!(!s.parent!=!t.parent)&&(!s.parent||ac(s.parent,t.parent))}let Pf=(()=>{var s;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(ju),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(yh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:f,previousValue:M}=i.name;if(f)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,f){this.activated=i,this._activatedRoute=f,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,f){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=i;const M=this.location,Y=i.snapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,ce=new Wg(i,se,M.injector);this.activated=M.createComponent(Y,{index:M.length,injector:ce,environmentInjector:f??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.lG2({type:s,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),t})();class Wg{constructor(t,c,i){this.route=t,this.childContexts=c,this.parent=i}get(t,c){return t===Vc?this.route:t===ju?this.childContexts:this.parent.get(t,c)}}const yh=new y.OlP("");let el=(()=>{var s;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:f}=i,M=we([f.queryParams,f.params,f.data]).pipe((0,tt.w)(([I,Y,se],ce)=>(se={...I,...Y,...se},0===ce?(0,Gn.of)(se):Promise.resolve(se)))).subscribe(I=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==f||null===f.component)return void this.unsubscribeFromRouteData(i);const Y=(0,y.qFp)(f.component);if(Y)for(const{templateName:se}of Y.inputs)i.activatedComponentRef.setInput(se,I[se]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,M)}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();function Md(s,t,c){if(c&&s.shouldReuseRoute(t.value,c.value.snapshot)){const i=c.value;i._futureSnapshot=t.value;const f=function Zg(s,t,c){return t.children.map(i=>{for(const f of c.children)if(s.shouldReuseRoute(i.value,f.value.snapshot))return Md(s,i,f);return Md(s,i)})}(s,t,c);return new Qa(i,f)}{if(s.shouldAttach(t.value)){const M=s.retrieve(t.value);if(null!==M){const I=M.route;return I.value._futureSnapshot=t.value,I.children=t.children.map(Y=>Md(s,Y)),I}}const i=function qg(s){return new Vc(new gs.X(s.url),new gs.X(s.params),new gs.X(s.queryParams),new gs.X(s.fragment),new gs.X(s.data),s.outlet,s.component,s)}(t.value),f=t.children.map(M=>Md(s,M));return new Qa(i,f)}}const vh="ngNavigationCancelingError";function Xp(s,t){const{redirectTo:c,navigationBehaviorOptions:i}=Cn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,f=Hc(!1,0,t);return f.url=c,f.navigationBehaviorOptions=i,f}function Hc(s,t,c){const i=new Error("NavigationCancelingError: "+(s||""));return i[vh]=!0,i.cancellationCode=t,c&&(i.url=c),i}function bh(s){return s&&s[vh]}let $c=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(i,f){1&i&&y._UZ(0,"router-outlet")},dependencies:[Pf],encapsulation:2}),t})();function wh(s){const t=s.children&&s.children.map(wh),c=t?{...s,children:t}:{...s};return!c.component&&!c.loadComponent&&(t||c.loadChildren)&&c.outlet&&c.outlet!==ne&&(c.component=$c),c}function $o(s){return s.outlet||ne}function tl(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let t=s.parent;t;t=t.parent){const c=t.routeConfig;if(c?._loadedInjector)return c._loadedInjector;if(c?._injector)return c._injector}return null}class lc{constructor(t,c,i,f,M){this.routeReuseStrategy=t,this.futureState=c,this.currState=i,this.forwardEvent=f,this.inputBindingEnabled=M}activate(t){const c=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(c,i,t),ao(this.futureState.root),this.activateChildRoutes(c,i,t)}deactivateChildRoutes(t,c,i){const f=oc(c);t.children.forEach(M=>{const I=M.value.outlet;this.deactivateRoutes(M,f[I],i),delete f[I]}),Object.values(f).forEach(M=>{this.deactivateRouteAndItsChildren(M,i)})}deactivateRoutes(t,c,i){const f=t.value,M=c?c.value:null;if(f===M)if(f.component){const I=i.getContext(f.outlet);I&&this.deactivateChildRoutes(t,c,I.children)}else this.deactivateChildRoutes(t,c,i);else M&&this.deactivateRouteAndItsChildren(c,i)}deactivateRouteAndItsChildren(t,c){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,c):this.deactivateRouteAndOutlet(t,c)}detachAndStoreRouteSubtree(t,c){const i=c.getContext(t.value.outlet),f=i&&t.value.component?i.children:c,M=oc(t);for(const I of Object.keys(M))this.deactivateRouteAndItsChildren(M[I],f);if(i&&i.outlet){const I=i.outlet.detach(),Y=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:I,route:t,contexts:Y})}}deactivateRouteAndOutlet(t,c){const i=c.getContext(t.value.outlet),f=i&&t.value.component?i.children:c,M=oc(t);for(const I of Object.keys(M))this.deactivateRouteAndItsChildren(M[I],f);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,c,i){const f=oc(c);t.children.forEach(M=>{this.activateRoutes(M,f[M.value.outlet],i),this.forwardEvent(new Bu(M.value.snapshot))}),t.children.length&&this.forwardEvent(new w_(t.value.snapshot))}activateRoutes(t,c,i){const f=t.value,M=c?c.value:null;if(ao(f),f===M)if(f.component){const I=i.getOrCreateContext(f.outlet);this.activateChildRoutes(t,c,I.children)}else this.activateChildRoutes(t,c,i);else if(f.component){const I=i.getOrCreateContext(f.outlet);if(this.routeReuseStrategy.shouldAttach(f.snapshot)){const Y=this.routeReuseStrategy.retrieve(f.snapshot);this.routeReuseStrategy.store(f.snapshot,null),I.children.onOutletReAttached(Y.contexts),I.attachRef=Y.componentRef,I.route=Y.route.value,I.outlet&&I.outlet.attach(Y.componentRef,Y.route.value),ao(Y.route.value),this.activateChildRoutes(t,null,I.children)}else{const Y=tl(f.snapshot);I.attachRef=null,I.route=f,I.injector=Y,I.outlet&&I.outlet.activateWith(f,I.injector),this.activateChildRoutes(t,null,I.children)}}else this.activateChildRoutes(t,null,i)}}class nl{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class go{constructor(t,c){this.component=t,this.route=c}}function Go(s,t,c){const i=s._root;return vs(i,t?t._root:null,c,[i.value])}function Ed(s,t){const c=Symbol(),i=t.get(s,c);return i===c?"function"!=typeof s||(0,y.Z0I)(s)?t.get(s):s:i}function vs(s,t,c,i,f={canDeactivateChecks:[],canActivateChecks:[]}){const M=oc(t);return s.children.forEach(I=>{(function Qp(s,t,c,i,f={canDeactivateChecks:[],canActivateChecks:[]}){const M=s.value,I=t?t.value:null,Y=c?c.getContext(s.value.outlet):null;if(I&&M.routeConfig===I.routeConfig){const se=function Td(s,t,c){if("function"==typeof c)return c(s,t);switch(c){case"pathParamsChange":return!$s(s.url,t.url);case"pathParamsOrQueryParamsChange":return!$s(s.url,t.url)||!ii(s.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ac(s,t)||!ii(s.queryParams,t.queryParams);default:return!ac(s,t)}}(I,M,M.routeConfig.runGuardsAndResolvers);se?f.canActivateChecks.push(new nl(i)):(M.data=I.data,M._resolvedData=I._resolvedData),vs(s,t,M.component?Y?Y.children:null:c,i,f),se&&Y&&Y.outlet&&Y.outlet.isActivated&&f.canDeactivateChecks.push(new go(Y.outlet.component,I))}else I&&Ra(t,Y,f),f.canActivateChecks.push(new nl(i)),vs(s,null,M.component?Y?Y.children:null:c,i,f)})(I,M[I.value.outlet],c,i.concat([I.value]),f),delete M[I.value.outlet]}),Object.entries(M).forEach(([I,Y])=>Ra(Y,c.getContext(I),f)),f}function Ra(s,t,c){const i=oc(s),f=s.value;Object.entries(i).forEach(([M,I])=>{Ra(I,f.component?t?t.children.getContext(M):null:t,c)}),c.canDeactivateChecks.push(new go(f.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,f))}function Sd(s){return"function"==typeof s}function Ld(s){return s instanceof ye||"EmptyError"===s?.name}const Ad=Symbol("INITIAL_VALUE");function uc(){return(0,tt.w)(s=>we(s.map(t=>t.pipe((0,bt.q)(1),$t(Ad)))).pipe((0,O.U)(t=>{for(const c of t)if(!0!==c){if(c===Ad)return Ad;if(!1===c||c instanceof Xr)return c}return!0}),(0,Dt.h)(t=>t!==Ad),(0,bt.q)(1)))}function k_(s){return(0,Xe.z)(jn(t=>{if(Cn(t))throw Xp(0,t)}),(0,O.U)(t=>!0===t))}class Gc{constructor(t){this.segmentGroup=t||null}}class Eh{constructor(t){this.urlTree=t}}function Hu(s){return Ze(new Gc(s))}function Th(s){return Ze(new Eh(s))}class ny{constructor(t,c){this.urlSerializer=t,this.urlTree=c}noMatchError(t){return new y.vHH(4002,!1)}lineralizeSegments(t,c){let i=[],f=c.root;for(;;){if(i=i.concat(f.segments),0===f.numberOfChildren)return(0,Gn.of)(i);if(f.numberOfChildren>1||!f.children[ne])return Ze(new y.vHH(4e3,!1));f=f.children[ne]}}applyRedirectCommands(t,c,i){return this.applyRedirectCreateUrlTree(c,this.urlSerializer.parse(c),t,i)}applyRedirectCreateUrlTree(t,c,i,f){const M=this.createSegmentGroup(t,c.root,i,f);return new Xr(M,this.createQueryParams(c.queryParams,this.urlTree.queryParams),c.fragment)}createQueryParams(t,c){const i={};return Object.entries(t).forEach(([f,M])=>{if("string"==typeof M&&M.startsWith(":")){const Y=M.substring(1);i[f]=c[Y]}else i[f]=M}),i}createSegmentGroup(t,c,i,f){const M=this.createSegments(t,c.segments,i,f);let I={};return Object.entries(c.children).forEach(([Y,se])=>{I[Y]=this.createSegmentGroup(t,se,i,f)}),new Tr(M,I)}createSegments(t,c,i,f){return c.map(M=>M.path.startsWith(":")?this.findPosParam(t,M,f):this.findOrReturn(M,i))}findPosParam(t,c,i){const f=i[c.path.substring(1)];if(!f)throw new y.vHH(4001,!1);return f}findOrReturn(t,c){let i=0;for(const f of c){if(f.path===t.path)return c.splice(i),f;i++}return t}}const O_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vv(s,t,c,i,f){const M=R_(s,t,c);return M.matched?(i=function Kg(s,t){return s.providers&&!s._injector&&(s._injector=(0,y.MMx)(s.providers,t,`Route: ${s.path}`)),s._injector??t}(t,i),function Uv(s,t,c,i){const f=t.canMatch;if(!f||0===f.length)return(0,Gn.of)(!0);const M=f.map(I=>{const Y=Ed(I,s);return ys(function cc(s){return s&&Sd(s.canMatch)}(Y)?Y.canMatch(t,c):s.runInContext(()=>Y(t,c)))});return(0,Gn.of)(M).pipe(uc(),k_())}(i,t,c).pipe((0,O.U)(I=>!0===I?M:{...O_}))):(0,Gn.of)(M)}function R_(s,t,c){if(""===t.path)return"full"===t.pathMatch&&(s.hasChildren()||c.length>0)?{...O_}:{matched:!0,consumedSegments:[],remainingSegments:c,parameters:{},positionalParamSegments:{}};const f=(t.matcher||on)(c,s,t);if(!f)return{...O_};const M={};Object.entries(f.posParams??{}).forEach(([Y,se])=>{M[Y]=se.path});const I=f.consumed.length>0?{...M,...f.consumed[f.consumed.length-1].parameters}:M;return{matched:!0,consumedSegments:f.consumed,remainingSegments:c.slice(f.consumed.length),parameters:I,positionalParamSegments:f.posParams??{}}}function tm(s,t,c,i){return c.length>0&&function zf(s,t,c){return c.some(i=>Fa(s,t,i)&&$o(i)!==ne)}(s,c,i)?{segmentGroup:new Tr(t,Id(i,new Tr(c,s.children))),slicedSegments:[]}:0===c.length&&function jf(s,t,c){return c.some(i=>Fa(s,t,i))}(s,c,i)?{segmentGroup:new Tr(s.segments,iy(s,0,c,i,s.children)),slicedSegments:c}:{segmentGroup:new Tr(s.segments,s.children),slicedSegments:c}}function iy(s,t,c,i,f){const M={};for(const I of i)if(Fa(s,c,I)&&!f[$o(I)]){const Y=new Tr([],{});M[$o(I)]=Y}return{...f,...M}}function Id(s,t){const c={};c[ne]=t;for(const i of s)if(""===i.path&&$o(i)!==ne){const f=new Tr([],{});c[$o(i)]=f}return c}function Fa(s,t,c){return(!(s.hasChildren()||t.length>0)||"full"!==c.pathMatch)&&""===c.path}class Hv{constructor(t,c,i,f,M,I,Y){this.injector=t,this.configLoader=c,this.rootComponentType=i,this.config=f,this.urlTree=M,this.paramsInheritanceStrategy=I,this.urlSerializer=Y,this.allowRedirects=!0,this.applyRedirects=new ny(this.urlSerializer,this.urlTree)}noMatchError(t){return new y.vHH(4002,!1)}recognize(){const t=tm(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ne).pipe((0,mn.K)(c=>{if(c instanceof Eh)return this.allowRedirects=!1,this.urlTree=c.urlTree,this.match(c.urlTree);throw c instanceof Gc?this.noMatchError(c):c}),(0,O.U)(c=>{const i=new hs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),f=new Qa(i,c),M=new Yu("",f),I=function Tl(s,t,c=null,i=null){return Uo(fh(s),t,c,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return I.queryParams=this.urlTree.queryParams,M.url=this.urlSerializer.serialize(I),this.inheritParamsAndData(M._root),{state:M,tree:I}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ne).pipe((0,mn.K)(i=>{throw i instanceof Gc?this.noMatchError(i):i}))}inheritParamsAndData(t){const c=t.value,i=Il(c,this.paramsInheritanceStrategy);c.params=Object.freeze(i.params),c.data=Object.freeze(i.data),t.children.forEach(f=>this.inheritParamsAndData(f))}processSegmentGroup(t,c,i,f){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,c,i):this.processSegment(t,c,i,i.segments,f,!0)}processChildren(t,c,i){const f=[];for(const M of Object.keys(i.children))"primary"===M?f.unshift(M):f.push(M);return(0,or.D)(f).pipe((0,pi.b)(M=>{const I=i.children[M],Y=function Jg(s,t){const c=s.filter(i=>$o(i)===t);return c.push(...s.filter(i=>$o(i)!==t)),c}(c,M);return this.processSegmentGroup(t,Y,I,M)}),(0,Ii.R)((M,I)=>(M.push(...I),M)),wn(null),function On(s,t){const c=arguments.length>=2;return i=>i.pipe(s?(0,Dt.h)((f,M)=>s(f,M,i)):S.y,mi(1),c?wn(t):Wn(()=>new ye))}(),(0,Ct.z)(M=>{if(null===M)return Hu(i);const I=im(M);return function $v(s){s.sort((t,c)=>t.value.outlet===ne?-1:c.value.outlet===ne?1:t.value.outlet.localeCompare(c.value.outlet))}(I),(0,Gn.of)(I)}))}processSegment(t,c,i,f,M,I){return(0,or.D)(c).pipe((0,pi.b)(Y=>this.processSegmentAgainstRoute(Y._injector??t,c,Y,i,f,M,I).pipe((0,mn.K)(se=>{if(se instanceof Gc)return(0,Gn.of)(null);throw se}))),In(Y=>!!Y),(0,mn.K)(Y=>{if(Ld(Y))return function ry(s,t,c){return 0===t.length&&!s.children[c]}(i,f,M)?(0,Gn.of)([]):Hu(i);throw Y}))}processSegmentAgainstRoute(t,c,i,f,M,I,Y){return function Wo(s,t,c,i){return!!($o(s)===i||i!==ne&&Fa(t,c,s))&&("**"===s.path||R_(t,s,c).matched)}(i,f,M,I)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,f,i,M,I,Y):Y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,f,c,i,M,I):Hu(f):Hu(f)}expandSegmentAgainstRouteUsingRedirect(t,c,i,f,M,I){return"**"===f.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,f,I):this.expandRegularSegmentAgainstRouteUsingRedirect(t,c,i,f,M,I)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,c,i,f){const M=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Th(M):this.applyRedirects.lineralizeSegments(i,M).pipe((0,Ct.z)(I=>{const Y=new Tr(I,{});return this.processSegment(t,c,Y,I,f,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,c,i,f,M,I){const{matched:Y,consumedSegments:se,remainingSegments:ce,positionalParamSegments:Re}=R_(c,f,M);if(!Y)return Hu(c);const $e=this.applyRedirects.applyRedirectCommands(se,f.redirectTo,Re);return f.redirectTo.startsWith("/")?Th($e):this.applyRedirects.lineralizeSegments(f,$e).pipe((0,Ct.z)(Vt=>this.processSegment(t,i,c,Vt.concat(ce),I,!1)))}matchSegmentAgainstRoute(t,c,i,f,M,I){let Y;if("**"===i.path){const se=f.length>0?Vr(f).parameters:{},ce=new hs(f,se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dc(i),$o(i),i.component??i._loadedComponent??null,i,il(i));Y=(0,Gn.of)({snapshot:ce,consumedSegments:[],remainingSegments:[]}),c.children={}}else Y=Vv(c,i,f,t).pipe((0,O.U)(({matched:se,consumedSegments:ce,remainingSegments:Re,parameters:$e})=>se?{snapshot:new hs(ce,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dc(i),$o(i),i.component??i._loadedComponent??null,i,il(i)),consumedSegments:ce,remainingSegments:Re}:null));return Y.pipe((0,tt.w)(se=>null===se?Hu(c):this.getChildConfig(t=i._injector??t,i,f).pipe((0,tt.w)(({routes:ce})=>{const Re=i._loadedInjector??t,{snapshot:$e,consumedSegments:Vt,remainingSegments:Ft}=se,{segmentGroup:Yt,slicedSegments:fn}=tm(c,Vt,Ft,ce);if(0===fn.length&&Yt.hasChildren())return this.processChildren(Re,ce,Yt).pipe((0,O.U)(qn=>null===qn?null:[new Qa($e,qn)]));if(0===ce.length&&0===fn.length)return(0,Gn.of)([new Qa($e,[])]);const Tn=$o(i)===M;return this.processSegment(Re,ce,Yt,fn,Tn?ne:M,!0).pipe((0,O.U)(qn=>[new Qa($e,qn)]))}))))}getChildConfig(t,c,i){return c.children?(0,Gn.of)({routes:c.children,injector:t}):c.loadChildren?void 0!==c._loadedRoutes?(0,Gn.of)({routes:c._loadedRoutes,injector:c._loadedInjector}):function Vu(s,t,c,i){const f=t.canLoad;if(void 0===f||0===f.length)return(0,Gn.of)(!0);const M=f.map(I=>{const Y=Ed(I,s);return ys(function jv(s){return s&&Sd(s.canLoad)}(Y)?Y.canLoad(t,c):s.runInContext(()=>Y(t,c)))});return(0,Gn.of)(M).pipe(uc(),k_())}(t,c,i).pipe((0,Ct.z)(f=>f?this.configLoader.loadChildren(t,c).pipe(jn(M=>{c._loadedRoutes=M.routes,c._loadedInjector=M.injector})):function Sh(s){return Ze(Hc(!1,3))}())):(0,Gn.of)({routes:[],injector:t})}}function Gv(s){const t=s.value.routeConfig;return t&&""===t.path}function im(s){const t=[],c=new Set;for(const i of s){if(!Gv(i)){t.push(i);continue}const f=t.find(M=>i.value.routeConfig===M.value.routeConfig);void 0!==f?(f.children.push(...i.children),c.add(f)):t.push(i)}for(const i of c){const f=im(i.children);t.push(new Qa(i.value,f))}return t.filter(i=>!c.has(i))}function dc(s){return s.data||{}}function il(s){return s.resolve||{}}function N_(s){return"string"==typeof s.title||null===s.title}function B_(s){return(0,tt.w)(t=>{const c=s(t);return c?(0,or.D)(c).pipe((0,O.U)(()=>t)):(0,Gn.of)(t)})}const $u=new y.OlP("ROUTES");let z_=(()=>{var s;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return(0,Gn.of)(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const f=ys(i.loadComponent()).pipe((0,O.U)(rm),jn(I=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=I}),B(()=>{this.componentLoaders.delete(i)})),M=new ut(f,()=>new Lt.x).pipe(Mt());return this.componentLoaders.set(i,M),M}loadChildren(i,f){if(this.childrenLoaders.get(f))return this.childrenLoaders.get(f);if(f._loadedRoutes)return(0,Gn.of)({routes:f._loadedRoutes,injector:f._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(f);const I=this.loadModuleFactoryOrRoutes(f.loadChildren).pipe((0,O.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(f);let ce,Re;return Array.isArray(se)?Re=se:(ce=se.create(i).injector,Re=ce.get($u,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:Re.map(wh),injector:ce}}),B(()=>{this.childrenLoaders.delete(f)})),Y=new ut(I,()=>new Lt.x).pipe(Mt());return this.childrenLoaders.set(f,Y),Y}loadModuleFactoryOrRoutes(i){return ys(i()).pipe((0,O.U)(rm),(0,Ct.z)(f=>f instanceof y.YKP||Array.isArray(f)?(0,Gn.of)(f):(0,or.D)(this.compiler.compileModuleAsync(f))))}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function rm(s){return function Ch(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}let ir=(()=>{var s;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt.x,this.transitionAbortSubject=new Lt.x,this.configLoader=(0,y.f3M)(z_),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(jc),this.rootContexts=(0,y.f3M)(ju),this.inputBindingEnabled=null!==(0,y.f3M)(yh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Gn.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new $p(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Al(M))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const f=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:f})}setupNavigations(i,f,M){return this.transitions=new gs.X({id:0,currentUrlTree:f,currentRawUrl:f,currentBrowserUrl:f,extractedUrl:i.urlHandlingStrategy.extract(f),urlAfterRedirects:i.urlHandlingStrategy.extract(f),rawUrl:f,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gh,restoredState:null,currentSnapshot:M.snapshot,targetSnapshot:null,currentRouterState:M,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.h)(I=>0!==I.id),(0,O.U)(I=>({...I,extractedUrl:i.urlHandlingStrategy.extract(I.rawUrl)})),(0,tt.w)(I=>{this.currentTransition=I;let Y=!1,se=!1;return(0,Gn.of)(I).pipe(jn(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tt.w)(ce=>{const Re=ce.currentBrowserUrl.toString(),$e=!i.navigated||ce.extractedUrl.toString()!==Re||Re!==ce.currentUrlTree.toString();if(!$e&&"reload"!==(ce.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const Ft="";return this.events.next(new Uc(ce.id,this.urlSerializer.serialize(ce.rawUrl),Ft,0)),ce.resolve(null),it.E}if(i.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return(0,Gn.of)(ce).pipe((0,tt.w)(Ft=>{const Yt=this.transitions?.getValue();return this.events.next(new Nu(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),Ft.source,Ft.restoredState)),Yt!==this.transitions?.getValue()?it.E:Promise.resolve(Ft)}),function Yf(s,t,c,i,f,M){return(0,Ct.z)(I=>function nm(s,t,c,i,f,M,I="emptyOnly"){return new Hv(s,t,c,i,f,I,M).recognize()}(s,t,c,i,I.extractedUrl,f,M).pipe((0,O.U)(({state:Y,tree:se})=>({...I,targetSnapshot:Y,urlAfterRedirects:se}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),jn(Ft=>{I.targetSnapshot=Ft.targetSnapshot,I.urlAfterRedirects=Ft.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ft.urlAfterRedirects};const Yt=new Ja(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(Yt)}));if($e&&i.urlHandlingStrategy.shouldProcessUrl(ce.currentRawUrl)){const{id:Ft,extractedUrl:Yt,source:fn,restoredState:Tn,extras:qn}=ce,Si=new Nu(Ft,this.urlSerializer.serialize(Yt),fn,Tn);this.events.next(Si);const Qr=_o(0,this.rootComponentType).snapshot;return this.currentTransition=I={...ce,targetSnapshot:Qr,urlAfterRedirects:Yt,extras:{...qn,skipLocationChange:!1,replaceUrl:!1}},(0,Gn.of)(I)}{const Ft="";return this.events.next(new Uc(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Ft,1)),ce.resolve(null),it.E}}),jn(ce=>{const Re=new Gg(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Re)}),(0,O.U)(ce=>(this.currentTransition=I={...ce,guards:Go(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)},I)),function Nf(s,t){return(0,Ct.z)(c=>{const{targetSnapshot:i,currentSnapshot:f,guards:{canActivateChecks:M,canDeactivateChecks:I}}=c;return 0===I.length&&0===M.length?(0,Gn.of)({...c,guardsResult:!0}):function A_(s,t,c,i){return(0,or.D)(s).pipe((0,Ct.z)(f=>function ty(s,t,c,i,f){const M=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!M||0===M.length)return(0,Gn.of)(!0);const I=M.map(Y=>{const se=tl(t)??f,ce=Ed(Y,se);return ys(function Yv(s){return s&&Sd(s.canDeactivate)}(ce)?ce.canDeactivate(s,t,c,i):se.runInContext(()=>ce(s,t,c,i))).pipe(In())});return(0,Gn.of)(I).pipe(uc())}(f.component,f.route,c,t,i)),In(f=>!0!==f,!0))}(I,i,f,s).pipe((0,Ct.z)(Y=>Y&&function em(s){return"boolean"==typeof s}(Y)?function I_(s,t,c,i){return(0,or.D)(t).pipe((0,pi.b)(f=>Ue(function ey(s,t){return null!==s&&t&&t(new Gp(s)),(0,Gn.of)(!0)}(f.route.parent,i),function Mh(s,t){return null!==s&&t&&t(new M_(s)),(0,Gn.of)(!0)}(f.route,i),function Dh(s,t,c){const i=t[t.length-1],M=t.slice(0,t.length-1).reverse().map(I=>function Fs(s){const t=s.routeConfig?s.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:s,guards:t}:null}(I)).filter(I=>null!==I).map(I=>Ve(()=>{const Y=I.guards.map(se=>{const ce=tl(I.node)??c,Re=Ed(se,ce);return ys(function Rf(s){return s&&Sd(s.canActivateChild)}(Re)?Re.canActivateChild(i,s):ce.runInContext(()=>Re(i,s))).pipe(In())});return(0,Gn.of)(Y).pipe(uc())}));return(0,Gn.of)(M).pipe(uc())}(s,f.path,c),function Bf(s,t,c){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Gn.of)(!0);const f=i.map(M=>Ve(()=>{const I=tl(t)??c,Y=Ed(M,I);return ys(function Qg(s){return s&&Sd(s.canActivate)}(Y)?Y.canActivate(t,s):I.runInContext(()=>Y(t,s))).pipe(In())}));return(0,Gn.of)(f).pipe(uc())}(s,f.route,c))),In(f=>!0!==f,!0))}(i,M,s,t):(0,Gn.of)(Y)),(0,O.U)(Y=>({...c,guardsResult:Y})))})}(this.environmentInjector,ce=>this.events.next(ce)),jn(ce=>{if(I.guardsResult=ce.guardsResult,Cn(ce.guardsResult))throw Xp(0,ce.guardsResult);const Re=new ds(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Re)}),(0,Dt.h)(ce=>!!ce.guardsResult||(this.cancelNavigationTransition(ce,"",3),!1)),B_(ce=>{if(ce.guards.canActivateChecks.length)return(0,Gn.of)(ce).pipe(jn(Re=>{const $e=new Bv(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next($e)}),(0,tt.w)(Re=>{let $e=!1;return(0,Gn.of)(Re).pipe(function Pb(s,t){return(0,Ct.z)(c=>{const{targetSnapshot:i,guards:{canActivateChecks:f}}=c;if(!f.length)return(0,Gn.of)(c);let M=0;return(0,or.D)(f).pipe((0,pi.b)(I=>function Ob(s,t,c,i){const f=s.routeConfig,M=s._resolve;return void 0!==f?.title&&!N_(f)&&(M[me]=f.title),function Rb(s,t,c,i){const f=function Fb(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}(s);if(0===f.length)return(0,Gn.of)({});const M={};return(0,or.D)(f).pipe((0,Ct.z)(I=>function Nb(s,t,c,i){const f=tl(t)??i,M=Ed(s,f);return ys(M.resolve?M.resolve(t,c):f.runInContext(()=>M(t,c)))}(s[I],t,c,i).pipe(In(),jn(Y=>{M[I]=Y}))),mi(1),function C(s){return(0,O.U)(()=>s)}(M),(0,mn.K)(I=>Ld(I)?it.E:Ze(I)))}(M,s,t,i).pipe((0,O.U)(I=>(s._resolvedData=I,s.data=Il(s,c).resolve,f&&N_(f)&&(s.data[me]=f.title),null)))}(I.route,i,s,t)),jn(()=>M++),mi(1),(0,Ct.z)(I=>M===f.length?(0,Gn.of)(c):it.E))})}(i.paramsInheritanceStrategy,this.environmentInjector),jn({next:()=>$e=!0,complete:()=>{$e||this.cancelNavigationTransition(Re,"",2)}}))}),jn(Re=>{const $e=new Hp(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next($e)}))}),B_(ce=>{const Re=$e=>{const Vt=[];$e.routeConfig?.loadComponent&&!$e.routeConfig._loadedComponent&&Vt.push(this.configLoader.loadComponent($e.routeConfig).pipe(jn(Ft=>{$e.component=Ft}),(0,O.U)(()=>{})));for(const Ft of $e.children)Vt.push(...Re(Ft));return Vt};return we(Re(ce.targetSnapshot.root)).pipe(wn(),(0,bt.q)(1))}),B_(()=>this.afterPreactivation()),(0,O.U)(ce=>{const Re=function wd(s,t,c){const i=Md(s,t._root,c?c._root:void 0);return new Kp(i,t)}(i.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return this.currentTransition=I={...ce,targetRouterState:Re},I}),jn(()=>{this.events.next(new If)}),((s,t,c,i)=>(0,O.U)(f=>(new lc(t,f.targetRouterState,f.currentRouterState,c,i).activate(s),f)))(this.rootContexts,i.routeReuseStrategy,ce=>this.events.next(ce),this.inputBindingEnabled),(0,bt.q)(1),jn({next:ce=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ha(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects))),i.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{Y=!0}}),(0,X.R)(this.transitionAbortSubject.pipe(jn(ce=>{throw ce}))),B(()=>{Y||se||this.cancelNavigationTransition(I,"",1),this.currentNavigation?.id===I.id&&(this.currentNavigation=null)}),(0,mn.K)(ce=>{if(se=!0,bh(ce))this.events.next(new Io(I.id,this.urlSerializer.serialize(I.extractedUrl),ce.message,ce.cancellationCode)),function Uu(s){return bh(s)&&Cn(s.url)}(ce)?this.events.next(new kf(ce.url)):I.resolve(!1);else{this.events.next(new Es(I.id,this.urlSerializer.serialize(I.extractedUrl),ce,I.targetSnapshot??void 0));try{I.resolve(i.errorHandler(ce))}catch(Re){I.reject(Re)}}return it.E}))}))}cancelNavigationTransition(i,f,M){const I=new Io(i.id,this.urlSerializer.serialize(i.extractedUrl),f,M);this.events.next(I),i.resolve(!1)}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function Wc(s){return s!==gh}let sm=(()=>{var s;class t{buildTitle(i){let f,M=i.root;for(;void 0!==M;)f=this.getResolvedTitleForRoute(M)??f,M=M.children.find(I=>I.outlet===ne);return f}getResolvedTitleForRoute(i){return i.data[me]}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return(0,y.f3M)(Uf)},providedIn:"root"}),t})(),Uf=(()=>{var s;class t extends sm{constructor(i){super(),this.title=i}updateTitle(i){const f=this.buildTitle(i);void 0!==f&&this.title.setTitle(f)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(md))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),Vf=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return(0,y.f3M)(Wv)},providedIn:"root"}),t})();class om{shouldDetach(t){return!1}store(t,c){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,c){return t.routeConfig===c.routeConfig}}let Wv=(()=>{var s;class t extends om{}return(s=t).\u0275fac=function(){let c;return function(f){return(c||(c=y.n5z(s)))(f||s)}}(),s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();const am=new y.OlP("",{providedIn:"root",factory:()=>({})});let kd=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:function(){return(0,y.f3M)(Hf)},providedIn:"root"}),t})(),Hf=(()=>{var s;class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,f){return i}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();var Lh=function(s){return s[s.COMPLETE=0]="COMPLETE",s[s.FAILED=1]="FAILED",s[s.REDIRECTING=2]="REDIRECTING",s}(Lh||{});function j_(s,t){s.events.pipe((0,Dt.h)(c=>c instanceof ha||c instanceof Io||c instanceof Es||c instanceof Uc),(0,O.U)(c=>c instanceof ha||c instanceof Uc?Lh.COMPLETE:c instanceof Io&&(0===c.code||1===c.code)?Lh.REDIRECTING:Lh.FAILED),(0,Dt.h)(c=>c!==Lh.REDIRECTING),(0,bt.q)(1)).subscribe(()=>{t()})}function sy(s){throw s}function oy(s,t,c){return t.parse("/")}const $f={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gs=(()=>{var s;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this._events=new Lt.x,this.options=(0,y.f3M)(am,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||sy,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oy,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(kd),this.routeReuseStrategy=(0,y.f3M)(Vf),this.titleStrategy=(0,y.f3M)(sm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)($u,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(ir),this.urlSerializer=(0,y.f3M)(jc),this.location=(0,y.f3M)(An),this.componentInputBindingEnabled=!!(0,y.f3M)(yh,{optional:!0}),this.eventsSubscription=new Rt.w0,this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_o(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(f=>{try{const{currentTransition:M}=this.navigationTransitions;if(null===M)return void(Pd(f)&&this._events.next(f));if(f instanceof Nu)Wc(M.source)&&(this.browserUrlTree=M.extractedUrl);else if(f instanceof Uc)this.rawUrlTree=M.rawUrl;else if(f instanceof Ja){if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(I,M)}this.browserUrlTree=M.urlAfterRedirects}}else if(f instanceof If)this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects);else if(f instanceof Io)0!==f.code&&1!==f.code&&(this.navigated=!0),(3===f.code||2===f.code)&&this.restoreHistory(M);else if(f instanceof kf){const I=this.urlHandlingStrategy.merge(f.url,M.currentRawUrl),Y={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wc(M.source)};this.scheduleNavigation(I,gh,null,Y,{resolve:M.resolve,reject:M.reject,promise:M.promise})}f instanceof Es&&this.restoreHistory(M,!0),f instanceof ha&&(this.navigated=!0),Pd(f)&&this._events.next(f)}catch(M){this.navigationTransitions.transitionAbortSubject.next(M)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gh,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const f="popstate"===i.type?"popstate":"hashchange";"popstate"===f&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,f,i.state)},0)}))}navigateToSyncWithBrowser(i,f,M){const I={replaceUrl:!0},Y=M?.navigationId?M:null;if(M){const ce={...M};delete ce.navigationId,delete ce.\u0275routerPageId,0!==Object.keys(ce).length&&(I.state=ce)}const se=this.parseUrl(i);this.scheduleNavigation(se,f,Y,I)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(wh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,f={}){const{relativeTo:M,queryParams:I,fragment:Y,queryParamsHandling:se,preserveFragment:ce}=f,Re=ce?this.currentUrlTree.fragment:Y;let Vt,$e=null;switch(se){case"merge":$e={...this.currentUrlTree.queryParams,...I};break;case"preserve":$e=this.currentUrlTree.queryParams;break;default:$e=I||null}null!==$e&&($e=this.removeEmptyProps($e));try{Vt=fh(M?M.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),Vt=this.currentUrlTree.root}return Uo(Vt,i,$e,Re??null)}navigateByUrl(i,f={skipLocationChange:!1}){const M=Cn(i)?i:this.parseUrl(i),I=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(I,gh,null,f)}navigate(i,f={skipLocationChange:!1}){return function ay(s){for(let t=0;t<s.length;t++)if(null==s[t])throw new y.vHH(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,f),f)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let f;try{f=this.urlSerializer.parse(i)}catch(M){f=this.malformedUriErrorHandler(M,this.urlSerializer,i)}return f}isActive(i,f){let M;if(M=!0===f?{...$f}:!1===f?{...Zv}:f,Cn(i))return xl(this.currentUrlTree,i,M);const I=this.parseUrl(i);return xl(this.currentUrlTree,I,M)}removeEmptyProps(i){return Object.keys(i).reduce((f,M)=>{const I=i[M];return null!=I&&(f[M]=I),f},{})}scheduleNavigation(i,f,M,I,Y){if(this.disposed)return Promise.resolve(!1);let se,ce,Re;Y?(se=Y.resolve,ce=Y.reject,Re=Y.promise):Re=new Promise((Vt,Ft)=>{se=Vt,ce=Ft});const $e=this.pendingTasks.add();return j_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($e))}),this.navigationTransitions.handleNavigationRequest({source:f,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:I,resolve:se,reject:ce,promise:Re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Re.catch(Vt=>Promise.reject(Vt))}setBrowserUrl(i,f){const M=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(M)||f.extras.replaceUrl){const Y={...f.extras.state,...this.generateNgRouterState(f.id,this.browserPageId)};this.location.replaceState(M,"",Y)}else{const I={...f.extras.state,...this.generateNgRouterState(f.id,this.browserPageId+1)};this.location.go(M,"",I)}}restoreHistory(i,f=!1){if("computed"===this.canceledNavigationResolution){const I=this.currentPageId-this.browserPageId;0!==I?this.location.historyGo(I):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===I&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,f){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:f}:{navigationId:i}}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function Pd(s){return!(s instanceof If||s instanceof kf)}let Ah=(()=>{var s;class t{constructor(i,f,M,I,Y,se){this.router=i,this.route=f,this.tabIndexAttribute=M,this.renderer=I,this.el=Y,this.locationStrategy=se,this.href=null,this.commands=null,this.onChanges=new Lt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ce=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ce||"area"===ce,this.isAnchorElement?this.subscription=i.events.subscribe(Re=>{Re instanceof ha&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,f,M,I,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||f||M||I||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,f){const M=this.renderer,I=this.el.nativeElement;null!==f?M.setAttribute(I,i,f):M.removeAttribute(I,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(Gs),y.Y36(Vc),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(ht))},s.\u0275dir=y.lG2({type:s,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,f){1&i&&y.NdJ("click",function(I){return f.onClick(I.button,I.ctrlKey,I.shiftKey,I.altKey,I.metaKey)}),2&i&&y.uIk("target",f.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",y.VuI],replaceUrl:["replaceUrl","replaceUrl",y.VuI],routerLink:"routerLink"},standalone:!0,features:[y.Xq5,y.TTD]}),t})();class Od{}let Y_=(()=>{var s;class t{constructor(i,f,M,I,Y){this.router=i,this.injector=M,this.preloadingStrategy=I,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.h)(i=>i instanceof ha),(0,pi.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,f){const M=[];for(const I of f){I.providers&&!I._injector&&(I._injector=(0,y.MMx)(I.providers,i,`Route: ${I.path}`));const Y=I._injector??i,se=I._loadedInjector??Y;(I.loadChildren&&!I._loadedRoutes&&void 0===I.canLoad||I.loadComponent&&!I._loadedComponent)&&M.push(this.preloadConfig(Y,I)),(I.children||I._loadedRoutes)&&M.push(this.processRoutes(se,I.children??I._loadedRoutes))}return(0,or.D)(M).pipe((0,Ce.J)())}preloadConfig(i,f){return this.preloadingStrategy.preload(f,()=>{let M;M=f.loadChildren&&void 0===f.canLoad?this.loader.loadChildren(i,f):(0,Gn.of)(null);const I=M.pipe((0,Ct.z)(Y=>null===Y?(0,Gn.of)(void 0):(f._loadedRoutes=Y.routes,f._loadedInjector=Y.injector,this.processRoutes(Y.injector??i,Y.routes))));if(f.loadComponent&&!f._loadedComponent){const Y=this.loader.loadComponent(f);return(0,or.D)([I,Y]).pipe((0,Ce.J)())}return I})}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Gs),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Od),y.LFG(z_))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();const lm=new y.OlP("");let Gf=(()=>{var s;class t{constructor(i,f,M,I,Y={}){this.urlSerializer=i,this.transitions=f,this.viewportScroller=M,this.zone=I,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Nu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ha?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Uc&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof zu&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,f){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zu(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(s=t).\u0275fac=function(i){y.$Z()},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();function fa(s,t){return{\u0275kind:s,\u0275providers:t}}function ar(){const s=(0,y.f3M)(y.zs3);return t=>{const c=s.get(y.z2F);if(t!==c.components[0])return;const i=s.get(Gs),f=s.get(kh);1===s.get(cm)&&i.initialNavigation(),s.get(Kf,null,y.XFs.Optional)?.setUpPreloading(),s.get(lm,null,y.XFs.Optional)?.init(),i.resetRootComponentType(c.componentTypes[0]),f.closed||(f.next(),f.complete(),f.unsubscribe())}}const kh=new y.OlP("",{factory:()=>new Lt.x}),cm=new y.OlP("",{providedIn:"root",factory:()=>1}),Kf=new y.OlP("");function uy(s){return fa(0,[{provide:Kf,useExisting:Y_},{provide:Od,useExisting:s}])}const Xf=new y.OlP("ROUTER_FORROOT_GUARD"),dy=[An,{provide:jc,useClass:da},Gs,ju,{provide:Vc,useFactory:function U_(s){return s.routerState.root},deps:[Gs]},z_,[]];function H_(){return new y.PXZ("Router",Gs)}let hc=(()=>{var s;class t{constructor(i){}static forRoot(i,f){return{ngModule:t,providers:[dy,[],{provide:$u,multi:!0,useValue:i},{provide:Xf,useFactory:fy,deps:[[Gs,new y.FiY,new y.tp0]]},{provide:am,useValue:f||{}},f?.useHash?{provide:ht,useClass:Pt}:{provide:ht,useClass:_t},{provide:lm,useFactory:()=>{const s=(0,y.f3M)(ls),t=(0,y.f3M)(y.R0b),c=(0,y.f3M)(am),i=(0,y.f3M)(ir),f=(0,y.f3M)(jc);return c.scrollOffset&&s.setOffset(c.scrollOffset),new Gf(f,i,s,t,c)}},f?.preloadingStrategy?uy(f.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:H_},f?.initialNavigation?$_(f):[],f?.bindToComponentInputs?fa(8,[el,{provide:yh,useExisting:el}]).\u0275providers:[],[{provide:Qf,useFactory:ar},{provide:y.tb,multi:!0,useExisting:Qf}]]}}static forChild(i){return{ngModule:t,providers:[{provide:$u,multi:!0,useValue:i}]}}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Xf,8))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})();function fy(s){return"guarded"}function $_(s){return["disabled"===s.initialNavigation?fa(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const t=(0,y.f3M)(Gs);return()=>{t.setUpLocationChangeListener()}}},{provide:cm,useValue:2}]).\u0275providers:[],"enabledBlocking"===s.initialNavigation?fa(2,[{provide:cm,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:t=>{const c=t.get(ae,Promise.resolve());return()=>c.then(()=>new Promise(i=>{const f=t.get(Gs),M=t.get(kh);j_(f,()=>{i(!0)}),t.get(ir).afterPreactivation=()=>(i(!0),M.closed?(0,Gn.of)(void 0):M),f.initialNavigation()}))}}]).\u0275providers:[]]}const Qf=new y.OlP("");var yn=G(4221);const pm=(0,yn.ZF)("blogs"),py=(0,yn.P1)(pm,s=>s.blogs),W_=(0,yn.P1)(pm,s=>s.loading),my=(0,yn.P1)(pm,s=>s.error),ep_apiUrl=((0,yn.P1)(py,s=>{const t=localStorage.getItem("userId");return t?s.filter(c=>c.userId===t):[]}),"https://erin-awful-turkey.cyclic.cloud");class mm{constructor(t,c,i,f){this.username=t,this.token=c,this.userId=i,this.expiresIn=f}get expireDate(){return this.expiresIn}get userToken(){return this.token}}class Rh{}class _m{}class Na{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(c=>{const i=c.indexOf(":");if(i>0){const f=c.slice(0,i),M=f.toLowerCase(),I=c.slice(i+1).trim();this.maybeSetNormalizedName(f,M),this.headers.has(M)?this.headers.get(M).push(I):this.headers.set(M,[I])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((c,i)=>{this.setHeaderEntries(i,c)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([c,i])=>{this.setHeaderEntries(c,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const c=this.headers.get(t.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,c){return this.clone({name:t,value:c,op:"a"})}set(t,c){return this.clone({name:t,value:c,op:"s"})}delete(t,c){return this.clone({name:t,value:c,op:"d"})}maybeSetNormalizedName(t,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,t)}init(){this.lazyInit&&(this.lazyInit instanceof Na?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(c=>{this.headers.set(c,t.headers.get(c)),this.normalizedNames.set(c,t.normalizedNames.get(c))})}clone(t){const c=new Na;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof Na?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([t]),c}applyUpdate(t){const c=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,c);const f=("a"===t.op?this.headers.get(c):void 0)||[];f.push(...i),this.headers.set(c,f);break;case"d":const M=t.value;if(M){let I=this.headers.get(c);if(!I)return;I=I.filter(Y=>-1===M.indexOf(Y)),0===I.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,I)}else this.headers.delete(c),this.normalizedNames.delete(c)}}setHeaderEntries(t,c){const i=(Array.isArray(c)?c:[c]).map(M=>M.toString()),f=t.toLowerCase();this.headers.set(f,i),this.maybeSetNormalizedName(t,f)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>t(this.normalizedNames.get(c),this.headers.get(c)))}}class Jv{encodeKey(t){return ym(t)}encodeValue(t){return ym(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gm=/%(\d[a-f0-9])/gi,Qv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ym(s){return encodeURIComponent(s).replace(gm,(t,c)=>Qv[c]??t)}function Fh(s){return`${s}`}class pa{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Jv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ub(s,t){const c=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(f=>{const M=f.indexOf("="),[I,Y]=-1==M?[t.decodeKey(f),""]:[t.decodeKey(f.slice(0,M)),t.decodeValue(f.slice(M+1))],se=c.get(I)||[];se.push(Y),c.set(I,se)}),c}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(c=>{const i=t.fromObject[c],f=Array.isArray(i)?i.map(Fh):[Fh(i)];this.map.set(c,f)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const c=this.map.get(t);return c?c[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,c){return this.clone({param:t,value:c,op:"a"})}appendAll(t){const c=[];return Object.keys(t).forEach(i=>{const f=t[i];Array.isArray(f)?f.forEach(M=>{c.push({param:i,value:M,op:"a"})}):c.push({param:i,value:f,op:"a"})}),this.clone(c)}set(t,c){return this.clone({param:t,value:c,op:"s"})}delete(t,c){return this.clone({param:t,value:c,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const c=this.encoder.encodeKey(t);return this.map.get(t).map(i=>c+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const c=new pa({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(t),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const c=("a"===t.op?this.map.get(t.param):void 0)||[];c.push(Fh(t.value)),this.map.set(t.param,c);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const f=i.indexOf(Fh(t.value));-1!==f&&i.splice(f,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ts{constructor(){this.map=new Map}set(t,c){return this.map.set(t,c),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Fd(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function fc(s){return typeof Blob<"u"&&s instanceof Blob}function qc(s){return typeof FormData<"u"&&s instanceof FormData}class Gu{constructor(t,c,i,f){let M;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qo(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||f?(this.body=void 0!==i?i:null,M=f):M=i,M&&(this.reportProgress=!!M.reportProgress,this.withCredentials=!!M.withCredentials,M.responseType&&(this.responseType=M.responseType),M.headers&&(this.headers=M.headers),M.context&&(this.context=M.context),M.params&&(this.params=M.params)),this.headers||(this.headers=new Na),this.context||(this.context=new Ts),this.params){const I=this.params.toString();if(0===I.length)this.urlWithParams=c;else{const Y=c.indexOf("?");this.urlWithParams=c+(-1===Y?"?":Y<c.length-1?"&":"")+I}}else this.params=new pa,this.urlWithParams=c}serializeBody(){return null===this.body?null:Fd(this.body)||fc(this.body)||qc(this.body)||function Z_(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qc(this.body)?null:fc(this.body)?this.body.type||null:Fd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const c=t.method||this.method,i=t.url||this.url,f=t.responseType||this.responseType,M=void 0!==t.body?t.body:this.body,I=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,Y=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let se=t.headers||this.headers,ce=t.params||this.params;const Re=t.context??this.context;return void 0!==t.setHeaders&&(se=Object.keys(t.setHeaders).reduce(($e,Vt)=>$e.set(Vt,t.setHeaders[Vt]),se)),t.setParams&&(ce=Object.keys(t.setParams).reduce(($e,Vt)=>$e.set(Vt,t.setParams[Vt]),ce)),new Gu(c,i,M,{params:ce,headers:se,context:Re,reportProgress:Y,responseType:f,withCredentials:I})}}var Kc=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Kc||{});class tp{constructor(t,c=200,i="OK"){this.headers=t.headers||new Na,this.status=void 0!==t.status?t.status:c,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Nd extends tp{constructor(t={}){super(t),this.type=Kc.ResponseHeader}clone(t={}){return new Nd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bd extends tp{constructor(t={}){super(t),this.type=Kc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vm extends tp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function bm(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Xi=(()=>{var s;class t{constructor(i){this.handler=i}request(i,f,M={}){let I;if(i instanceof Gu)I=i;else{let ce,Re;ce=M.headers instanceof Na?M.headers:new Na(M.headers),M.params&&(Re=M.params instanceof pa?M.params:new pa({fromObject:M.params})),I=new Gu(i,f,void 0!==M.body?M.body:null,{headers:ce,context:M.context,params:Re,reportProgress:M.reportProgress,responseType:M.responseType||"json",withCredentials:M.withCredentials})}const Y=(0,Gn.of)(I).pipe((0,pi.b)(ce=>this.handler.handle(ce)));if(i instanceof Gu||"events"===M.observe)return Y;const se=Y.pipe((0,Dt.h)(ce=>ce instanceof Bd));switch(M.observe||"body"){case"body":switch(I.responseType){case"arraybuffer":return se.pipe((0,O.U)(ce=>{if(null!==ce.body&&!(ce.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ce.body}));case"blob":return se.pipe((0,O.U)(ce=>{if(null!==ce.body&&!(ce.body instanceof Blob))throw new Error("Response is not a Blob.");return ce.body}));case"text":return se.pipe((0,O.U)(ce=>{if(null!==ce.body&&"string"!=typeof ce.body)throw new Error("Response is not a string.");return ce.body}));default:return se.pipe((0,O.U)(ce=>ce.body))}case"response":return se;default:throw new Error(`Unreachable: unhandled observe type ${M.observe}}`)}}delete(i,f={}){return this.request("DELETE",i,f)}get(i,f={}){return this.request("GET",i,f)}head(i,f={}){return this.request("HEAD",i,f)}jsonp(i,f){return this.request("JSONP",i,{params:(new pa).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,f={}){return this.request("OPTIONS",i,f)}patch(i,f,M={}){return this.request("PATCH",i,bm(M,f))}post(i,f,M={}){return this.request("POST",i,bm(M,f))}put(i,f,M={}){return this.request("PUT",i,bm(M,f))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Rh))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();function Mm(s,t){return t(s)}function t0(s,t){return(c,i)=>t.intercept(c,{handle:f=>s(f,i)})}const Dm=new y.OlP(""),Wu=new y.OlP(""),yy=new y.OlP("");function vy(){let s=null;return(t,c)=>{null===s&&(s=((0,y.f3M)(Dm,{optional:!0})??[]).reduceRight(t0,Mm));const i=(0,y.f3M)(y.HDt),f=i.add();return s(t,c).pipe(B(()=>i.remove(f)))}}let by=(()=>{var s;class t extends Rh{constructor(i,f){super(),this.backend=i,this.injector=f,this.chain=null,this.pendingTasks=(0,y.f3M)(y.HDt)}handle(i){if(null===this.chain){const M=Array.from(new Set([...this.injector.get(Wu),...this.injector.get(yy,[])]));this.chain=M.reduceRight((I,Y)=>function gy(s,t,c){return(i,f)=>c.runInContext(()=>t(i,M=>s(M,f)))}(I,Y,this.injector),Mm)}const f=this.pendingTasks.add();return this.chain(i,M=>this.backend.handle(M)).pipe(B(()=>this.pendingTasks.remove(f)))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(_m),y.LFG(y.lqb))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const Q_=/^\)\]\}',?\n/;let _a=(()=>{var s;class t{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new y.vHH(-2800,!1);const f=this.xhrFactory;return(f.\u0275loadImpl?(0,or.D)(f.\u0275loadImpl()):(0,Gn.of)(null)).pipe((0,tt.w)(()=>new Hs.y(I=>{const Y=f.build();if(Y.open(i.method,i.urlWithParams),i.withCredentials&&(Y.withCredentials=!0),i.headers.forEach((Tn,qn)=>Y.setRequestHeader(Tn,qn.join(","))),i.headers.has("Accept")||Y.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const Tn=i.detectContentTypeHeader();null!==Tn&&Y.setRequestHeader("Content-Type",Tn)}if(i.responseType){const Tn=i.responseType.toLowerCase();Y.responseType="json"!==Tn?Tn:"text"}const se=i.serializeBody();let ce=null;const Re=()=>{if(null!==ce)return ce;const Tn=Y.statusText||"OK",qn=new Na(Y.getAllResponseHeaders()),Si=function eg(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(Y)||i.url;return ce=new Nd({headers:qn,status:Y.status,statusText:Tn,url:Si}),ce},$e=()=>{let{headers:Tn,status:qn,statusText:Si,url:Qr}=Re(),Zi=null;204!==qn&&(Zi=typeof Y.response>"u"?Y.responseText:Y.response),0===qn&&(qn=Zi?200:0);let ba=qn>=200&&qn<300;if("json"===i.responseType&&"string"==typeof Zi){const lu=Zi;Zi=Zi.replace(Q_,"");try{Zi=""!==Zi?JSON.parse(Zi):null}catch(Qo){Zi=lu,ba&&(ba=!1,Zi={error:Qo,text:Zi})}}ba?(I.next(new Bd({body:Zi,headers:Tn,status:qn,statusText:Si,url:Qr||void 0})),I.complete()):I.error(new vm({error:Zi,headers:Tn,status:qn,statusText:Si,url:Qr||void 0}))},Vt=Tn=>{const{url:qn}=Re(),Si=new vm({error:Tn,status:Y.status||0,statusText:Y.statusText||"Unknown Error",url:qn||void 0});I.error(Si)};let Ft=!1;const Yt=Tn=>{Ft||(I.next(Re()),Ft=!0);let qn={type:Kc.DownloadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(qn.total=Tn.total),"text"===i.responseType&&Y.responseText&&(qn.partialText=Y.responseText),I.next(qn)},fn=Tn=>{let qn={type:Kc.UploadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(qn.total=Tn.total),I.next(qn)};return Y.addEventListener("load",$e),Y.addEventListener("error",Vt),Y.addEventListener("timeout",Vt),Y.addEventListener("abort",Vt),i.reportProgress&&(Y.addEventListener("progress",Yt),null!==se&&Y.upload&&Y.upload.addEventListener("progress",fn)),Y.send(se),I.next({type:Kc.Sent}),()=>{Y.removeEventListener("error",Vt),Y.removeEventListener("abort",Vt),Y.removeEventListener("load",$e),Y.removeEventListener("timeout",Vt),i.reportProgress&&(Y.removeEventListener("progress",Yt),null!==se&&Y.upload&&Y.upload.removeEventListener("progress",fn)),Y.readyState!==Y.DONE&&Y.abort()}})))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(So))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const Nh=new y.OlP("XSRF_ENABLED"),mc=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rp=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wy{}let tg=(()=>{var s;class t{constructor(i,f,M){this.doc=i,this.platform=f,this.cookieName=M,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ls(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J),y.LFG(y.Lbi),y.LFG(mc))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();function My(s,t){const c=s.url.toLowerCase();if(!(0,y.f3M)(Nh)||"GET"===s.method||"HEAD"===s.method||c.startsWith("http://")||c.startsWith("https://"))return t(s);const i=(0,y.f3M)(wy).getToken(),f=(0,y.f3M)(rp);return null!=i&&!s.headers.has(f)&&(s=s.clone({headers:s.headers.set(f,i)})),t(s)}var Xc=function(s){return s[s.Interceptors=0]="Interceptors",s[s.LegacyInterceptors=1]="LegacyInterceptors",s[s.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",s[s.NoXsrfProtection=3]="NoXsrfProtection",s[s.JsonpSupport=4]="JsonpSupport",s[s.RequestsMadeViaParent=5]="RequestsMadeViaParent",s[s.Fetch=6]="Fetch",s}(Xc||{});function Zu(s,t){return{\u0275kind:s,\u0275providers:t}}function Dy(...s){const t=[Xi,_a,by,{provide:Rh,useExisting:by},{provide:_m,useExisting:_a},{provide:Wu,useValue:My,multi:!0},{provide:Nh,useValue:!0},{provide:wy,useClass:tg}];for(const c of s)t.push(...c.\u0275providers);return(0,y.MR2)(t)}const ng=new y.OlP("LEGACY_INTERCEPTOR_FN");let rg=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[Dy(Zu(Xc.LegacyInterceptors,[{provide:ng,useFactory:vy},{provide:Wu,useExisting:ng,multi:!0}]))]}),t})(),qu=(()=>{var s;class t{constructor(i){this.http=i,this.apiUrl=ep_apiUrl}login(i,f){return this.http.post(`${this.apiUrl}/login`,{email:i,password:f})}register(i){return this.http.post(`${this.apiUrl}/register`,i)}formatUser(i){const f=new Date((new Date).getTime()+1e3*+i.expiresIn);return new mm(i.username,i.token,i.userId,f)}runTimeoutInterval(i){const f=(new Date).getTime(),I=i.expireDate.getTime()-f;this.timeoutInterval=setTimeout(()=>{},I)}setUserInLocalStorage(i){localStorage.setItem("userData",JSON.stringify(i)),this.runTimeoutInterval(i)}getUserFromLocalStorage(){const i=localStorage.getItem("userData");if(i){const f=JSON.parse(i),M=new Date(f.expirationDate),I=new mm(f.username,f.token,f.userId,M);return this.runTimeoutInterval(I),I}return null}getUserId(){const i=localStorage.getItem("userData");return i?JSON.parse(i).userId:null}logout(){localStorage.removeItem("userData"),this.timeoutInterval&&(clearTimeout(this.timeoutInterval),this.timeoutInterval=null)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Xi))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function og(s,t){if(1&s){const c=y.EpF();y.TgZ(0,"div",13)(1,"button",14),y.NdJ("click",function(){y.CHM(c);const f=y.oxw().$implicit,M=y.oxw();return y.KtG(M.goToEditPage(f._id))}),y._uU(2," Edit "),y.qZA()()}}function km(s,t){if(1&s&&(y.TgZ(0,"div",2)(1,"div",3),y._UZ(2,"img",4),y.qZA(),y.TgZ(3,"div",5)(4,"span",6),y._uU(5,"Automobile"),y.qZA(),y.TgZ(6,"h4",7),y._uU(7),y.qZA(),y.TgZ(8,"p"),y._uU(9),y.qZA()(),y.TgZ(10,"div",8)(11,"div",9),y._UZ(12,"img",10),y.TgZ(13,"div",11)(14,"h5"),y._uU(15),y.qZA(),y.TgZ(16,"small"),y._uU(17),y.qZA()()(),y.YNc(18,og,3,0,"div",12),y.qZA()()),2&s){const c=t.$implicit,i=y.oxw();y.xp6(7),y.Oqu(c.title),y.xp6(2),y.hij(" ",c.content," "),y.xp6(6),y.Oqu(c.username),y.xp6(2),y.Oqu(c.created_at),y.xp6(1),y.Q6J("ngIf",c.userId==i.userId)}}let ag=(()=>{var s;class t{constructor(i,f,M){this.store=i,this.router=f,this.userService=M,this.blogs$=this.store.select(py),this.loading$=this.store.select(W_),this.error$=this.store.select(my),this.userId=this.userService.getUserId()}ngOnInit(){this.blogs$.subscribe(i=>{console.log(i)})}goToEditPage(i){console.log(i),this.router.navigate(["/posts/"+i])}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh),y.Y36(Gs),y.Y36(qu))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-blogs"]],decls:3,vars:3,consts:[[1,"container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card__header"],["src","https://source.unsplash.com/600x400/?car,automobile","alt","card__image","width","600",1,"card__image"],[1,"card__body"],[1,"tag","tag-red"],[1,"card-title"],[1,"card__footer"],[1,"user"],["src","https://i.pravatar.cc/40?img=3","alt","user__image",1,"user__image"],[1,"user__info"],["class","edit-btn",4,"ngIf"],[1,"edit-btn"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,f){1&i&&(y.TgZ(0,"div",0),y.YNc(1,km,19,5,"div",1),y.ALo(2,"async"),y.qZA()),2&i&&(y.xp6(1),y.Q6J("ngForOf",y.lcZ(2,1,f.blogs$)))},dependencies:[Yl,Ea,Kt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;max-width:1200px;margin-block:2rem;gap:2rem}img[_ngcontent-%COMP%]{max-width:100%;display:block;object-fit:cover}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:clamp(20rem,20rem + 2vw,22rem);overflow:hidden;box-shadow:0 .1rem 1rem #0000001a;border-radius:1em;background:#ece9e6;background:linear-gradient(to right,#ffffff,#ece9e6)}.card__body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:.5rem}.tag[_ngcontent-%COMP%]{align-self:flex-start;padding:.25em .75em;border-radius:1em;font-size:.75rem}.tag[_ngcontent-%COMP%] + .tag[_ngcontent-%COMP%]{margin-left:.5em}.tag-blue[_ngcontent-%COMP%]{background:#56ccf2;background:linear-gradient(to bottom,#2f80ed,#56ccf2);color:#fafafa}.tag-brown[_ngcontent-%COMP%]{background:#d1913c;background:linear-gradient(to bottom,#ffd194,#d1913c);color:#fafafa}.tag-red[_ngcontent-%COMP%]{background:#cb2d3e;background:linear-gradient(to bottom,#ef473a,#cb2d3e);color:#fafafa}.card__body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;text-transform:capitalize}.card__footer[_ngcontent-%COMP%]{display:flex;padding:1rem;margin-top:auto;justify-content:space-between}.card__footer[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.user[_ngcontent-%COMP%]{display:flex;gap:.5rem}.user__image[_ngcontent-%COMP%]{border-radius:50%}.user__info[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{color:#666}"]}),t})(),sp=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-home"]],decls:1,vars:0,template:function(i,f){1&i&&y._UZ(0,"app-blogs")},dependencies:[ag]}),t})();const Bh=(0,yn.PH)("[Blog] Add Blog",(0,yn.Ky)()),Sy=(0,yn.PH)("[Blog] Add Blog Success",(0,yn.Ky)()),lg=(0,yn.PH)("[Blog] Add Blog Failure",(0,yn.Ky)());let _c=(()=>{var s;class t{constructor(i,f){this._renderer=i,this._elementRef=f,this.onChange=M=>{},this.onTouched=()=>{}}setProperty(i,f){this._renderer.setProperty(this._elementRef.nativeElement,i,f)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(y.Qsj),y.Y36(y.SBq))},s.\u0275dir=y.lG2({type:s}),t})(),ol=(()=>{var s;class t extends _c{}return(s=t).\u0275fac=function(){let c;return function(f){return(c||(c=y.n5z(s)))(f||s)}}(),s.\u0275dir=y.lG2({type:s,features:[y.qOj]}),t})();const Ko=new y.OlP("NgValueAccessor"),cg={provide:Ko,useExisting:(0,y.Gpc)(()=>Yd),multi:!0},Cy=new y.OlP("CompositionEventMode");let Yd=(()=>{var s;class t extends _c{constructor(i,f,M){super(i,f),this._compositionMode=M,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yh(){const s=U()?U().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Cy,8))},s.\u0275dir=y.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,f){1&i&&y.NdJ("input",function(I){return f._handleInput(I.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(I){return f._compositionEnd(I.target.value)})},features:[y._Bn([cg]),y.qOj]}),t})();function gc(s){return null==s||("string"==typeof s||Array.isArray(s))&&0===s.length}function Ol(s){return null!=s&&"number"==typeof s.length}const Hr=new y.OlP("NgValidators"),yc=new y.OlP("NgAsyncValidators"),ug=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ga{static min(t){return function Pm(s){return t=>{if(gc(t.value)||gc(s))return null;const c=parseFloat(t.value);return!isNaN(c)&&c<s?{min:{min:s,actual:t.value}}:null}}(t)}static max(t){return function Ly(s){return t=>{if(gc(t.value)||gc(s))return null;const c=parseFloat(t.value);return!isNaN(c)&&c>s?{max:{max:s,actual:t.value}}:null}}(t)}static required(t){return function dg(s){return gc(s.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Qc(s){return!0===s.value?null:{required:!0}}(t)}static email(t){return function u0(s){return gc(s.value)||ug.test(s.value)?null:{email:!0}}(t)}static minLength(t){return function eu(s){return t=>gc(t.value)||!Ol(t.value)?null:t.value.length<s?{minlength:{requiredLength:s,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function d0(s){return t=>Ol(t.value)&&t.value.length>s?{maxlength:{requiredLength:s,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ap(s){if(!s)return tu;let t,c;return"string"==typeof s?(c="","^"!==s.charAt(0)&&(c+="^"),c+=s,"$"!==s.charAt(s.length-1)&&(c+="$"),t=new RegExp(c)):(c=s.toString(),t=s),i=>{if(gc(i.value))return null;const f=i.value;return t.test(f)?null:{pattern:{requiredPattern:c,actualValue:f}}}}(t)}static nullValidator(t){return null}static compose(t){return Vh(t)}static composeAsync(t){return Om(t)}}function tu(s){return null}function Ud(s){return null!=s}function lp(s){return(0,y.QGY)(s)?(0,or.D)(s):s}function Uh(s){let t={};return s.forEach(c=>{t=null!=c?{...t,...c}:t}),0===Object.keys(t).length?null:t}function cp(s,t){return t.map(c=>c(s))}function Ku(s){return s.map(t=>function Ay(s){return!s.validate}(t)?t:c=>t.validate(c))}function Vh(s){if(!s)return null;const t=s.filter(Ud);return 0==t.length?null:function(c){return Uh(cp(c,t))}}function Ei(s){return null!=s?Vh(Ku(s)):null}function Om(s){if(!s)return null;const t=s.filter(Ud);return 0==t.length?null:function(c){return function zh(...s){const t=(0,q.jO)(s),{args:c,keys:i}=b(s),f=new Hs.y(M=>{const{length:I}=c;if(!I)return void M.complete();const Y=new Array(I);let se=I,ce=I;for(let Re=0;Re<I;Re++){let $e=!1;(0,Ye.Xf)(c[Re]).subscribe((0,he.x)(M,Vt=>{$e||($e=!0,ce--),Y[Re]=Vt},()=>se--,void 0,()=>{(!se||!$e)&&(ce||M.next(i?re(i,Y):Y),M.complete())}))}});return t?f.pipe(K(t)):f}(cp(c,t).map(lp)).pipe((0,O.U)(Uh))}}function up(s){return null!=s?Om(Ku(s)):null}function Vd(s,t){return null===s?[t]:Array.isArray(s)?[...s,t]:[s,t]}function Rm(s){return s._rawValidators}function Iy(s){return s._rawAsyncValidators}function Hd(s){return s?Array.isArray(s)?s:[s]:[]}function nu(s,t){return Array.isArray(s)?s.includes(t):s===t}function dp(s,t){const c=Hd(t);return Hd(s).forEach(f=>{nu(c,f)||c.push(f)}),c}function Hh(s,t){return Hd(t).filter(c=>!nu(s,c))}class hg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ei(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=up(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,c){return!!this.control&&this.control.hasError(t,c)}getError(t,c){return this.control?this.control.getError(t,c):null}}class Ns extends hg{get formDirective(){return null}get path(){return null}}class Ba extends hg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $d{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $h=(()=>{var s;class t extends $d{constructor(i){super(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(Ba,2))},s.\u0275dir=y.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,f){2&i&&y.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[y.qOj]}),t})(),Rl=(()=>{var s;class t extends $d{constructor(i){super(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(Ns,10))},s.\u0275dir=y.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,f){2&i&&y.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[y.qOj]}),t})();const ya="VALID",Nl="INVALID",Po="PENDING",al="DISABLED";function Wh(s){return(Zh(s)?s.validators:s)||null}function Bm(s,t){return(Zh(t)?t.asyncValidators:s)||null}function Zh(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class ll{constructor(t,c){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(c)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ya}get invalid(){return this.status===Nl}get pending(){return this.status==Po}get disabled(){return this.status===al}get enabled(){return this.status!==al}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dp(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dp(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Hh(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Hh(t,this._rawAsyncValidators))}hasValidator(t){return nu(this._rawValidators,t)}hasAsyncValidator(t){return nu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(c=>{c.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(c=>{c.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Po,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const c=this._parentMarkedDirty(t.onlySelf);this.status=al,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:c}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const c=this._parentMarkedDirty(t.onlySelf);this.status=ya,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:c}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ya||this.status===Po)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(c=>c._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?al:ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Po,this._hasOwnPendingAsyncValidator=!0;const c=lp(this.asyncValidator(this));this._asyncValidationSubscription=c.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,c={}){this.errors=t,this._updateControlsErrors(!1!==c.emitEvent)}get(t){let c=t;return null==c||(Array.isArray(c)||(c=c.split(".")),0===c.length)?null:c.reduce((i,f)=>i&&i._find(f),this)}getError(t,c){const i=c?this.get(c):this;return i&&i.errors?i.errors[t]:null}hasError(t,c){return!!this.getError(t,c)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?al:this.errors?Nl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Po)?Po:this._anyControlsHaveStatus(Nl)?Nl:ya}_anyControlsHaveStatus(t){return this._anyControls(c=>c.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Nm(s){return Array.isArray(s)?Ei(s):s||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Ny(s){return Array.isArray(s)?up(s):s||null}(this._rawAsyncValidators)}}class iu extends ll{constructor(t,c,i){super(Wh(c),Bm(i,c)),this.controls=t,this._initObservables(),this._setUpdateStrategy(c),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,c){return this.controls[t]?this.controls[t]:(this.controls[t]=c,c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange),c)}addControl(t,c,i={}){this.registerControl(t,c),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,c={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}setControl(t,c,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],c&&this.registerControl(t,c),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,c={}){(function pg(s,t,c){s._forEachChild((i,f)=>{if(void 0===c[f])throw new y.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function By(s,t,c){const i=s.controls;if(!(t?Object.keys(i):i).length)throw new y.vHH(1e3,"");if(!i[c])throw new y.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:c.emitEvent})}),this.updateValueAndValidity(c)}patchValue(t,c={}){null!=t&&(Object.keys(t).forEach(i=>{const f=this.controls[i];f&&f.patchValue(t[i],{onlySelf:!0,emitEvent:c.emitEvent})}),this.updateValueAndValidity(c))}reset(t={},c={}){this._forEachChild((i,f)=>{i.reset(t[f],{onlySelf:!0,emitEvent:c.emitEvent})}),this._updatePristine(c),this._updateTouched(c),this.updateValueAndValidity(c)}getRawValue(){return this._reduceChildren({},(t,c,i)=>(t[i]=c.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(c,i)=>!!i._syncPendingControls()||c);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(c=>{const i=this.controls[c];i&&t(i,c)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[c,i]of Object.entries(this.controls))if(this.contains(c)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(c,i,f)=>((i.enabled||this.disabled)&&(c[f]=i.value),c))}_reduceChildren(t,c){let i=t;return this._forEachChild((f,M)=>{i=c(i,f,M)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Xo=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ru}),ru="always";function zm(s,t,c=ru){Kh(s,t),t.valueAccessor.writeValue(s.value),(s.disabled||"always"===c)&&t.valueAccessor.setDisabledState?.(s.disabled),function lo(s,t){t.valueAccessor.registerOnChange(c=>{s._pendingValue=c,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&jm(s,t)})}(s,t),function za(s,t){const c=(i,f)=>{t.valueAccessor.writeValue(i),f&&t.viewToModelUpdate(i)};s.registerOnChange(c),t._registerOnDestroy(()=>{s._unregisterOnChange(c)})}(s,t),function mg(s,t){t.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&jm(s,t),"submit"!==s.updateOn&&s.markAsTouched()})}(s,t),function Wd(s,t){if(t.valueAccessor.setDisabledState){const c=i=>{t.valueAccessor.setDisabledState(i)};s.registerOnDisabledChange(c),t._registerOnDestroy(()=>{s._unregisterOnDisabledChange(c)})}}(s,t)}function Xu(s,t,c=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ju(s,t),s&&(t._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function hp(s,t){s.forEach(c=>{c.registerOnValidatorChange&&c.registerOnValidatorChange(t)})}function Kh(s,t){const c=Rm(s);null!==t.validator?s.setValidators(Vd(c,t.validator)):"function"==typeof c&&s.setValidators([c]);const i=Iy(s);null!==t.asyncValidator?s.setAsyncValidators(Vd(i,t.asyncValidator)):"function"==typeof i&&s.setAsyncValidators([i]);const f=()=>s.updateValueAndValidity();hp(t._rawValidators,f),hp(t._rawAsyncValidators,f)}function Ju(s,t){let c=!1;if(null!==s){if(null!==t.validator){const f=Rm(s);if(Array.isArray(f)&&f.length>0){const M=f.filter(I=>I!==t.validator);M.length!==f.length&&(c=!0,s.setValidators(M))}}if(null!==t.asyncValidator){const f=Iy(s);if(Array.isArray(f)&&f.length>0){const M=f.filter(I=>I!==t.asyncValidator);M.length!==f.length&&(c=!0,s.setAsyncValidators(M))}}}const i=()=>{};return hp(t._rawValidators,i),hp(t._rawAsyncValidators,i),c}function jm(s,t){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Vm(s,t){const c=s.indexOf(t);c>-1&&s.splice(c,1)}function pp(s){return"object"==typeof s&&null!==s&&2===Object.keys(s).length&&"value"in s&&"disabled"in s}const Bl=class extends ll{constructor(t=null,c,i){super(Wh(c),Bm(i,c)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(c),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zh(c)&&(c.nonNullable||c.initialValueIsDefault)&&(this.defaultValue=pp(t)?t.value:t)}setValue(t,c={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==c.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==c.emitViewToModelChange)),this.updateValueAndValidity(c)}patchValue(t,c={}){this.setValue(t,c)}reset(t=this.defaultValue,c={}){this._applyFormState(t),this.markAsPristine(c),this.markAsUntouched(c),this.setValue(this.value,c),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Vm(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Vm(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){pp(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let k=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),te=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})();const Ee=new y.OlP("NgModelWithFormControlWarning"),je={provide:Ns,useExisting:(0,y.Gpc)(()=>ot)};let ot=(()=>{var s;class t extends Ns{constructor(i,f,M){super(),this.callSetDisabledState=M,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(i),this._setAsyncValidators(f)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ju(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const f=this.form.get(i.path);return zm(f,i,this.callSetDisabledState),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),f}getControl(i){return this.form.get(i.path)}removeControl(i){Xu(i.control||null,i,!1),function v0(s,t){const c=s.indexOf(t);c>-1&&s.splice(c,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,f){this.form.get(i.path).setValue(f)}onSubmit(i){return this.submitted=!0,function Um(s,t){s._syncPendingControls(),t.forEach(c=>{const i=c.control;"submit"===i.updateOn&&i._pendingChange&&(c.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const f=i.control,M=this.form.get(i.path);f!==M&&(Xu(f||null,i),(s=>s instanceof Bl)(M)&&(zm(M,i,this.callSetDisabledState),i.control=M))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const f=this.form.get(i.path);(function Qu(s,t){Kh(s,t)})(f,i),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const f=this.form.get(i.path);f&&function _g(s,t){return Ju(s,t)}(f,i)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kh(this.form,this),this._oldForm&&Ju(this._oldForm,this)}_checkFormPresent(){}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(Hr,10),y.Y36(yc,10),y.Y36(Xo,8))},s.\u0275dir=y.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,f){1&i&&y.NdJ("submit",function(I){return f.onSubmit(I)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([je]),y.qOj,y.TTD]}),t})();const It={provide:Ba,useExisting:(0,y.Gpc)(()=>jt)};let jt=(()=>{var s;class t extends Ba{set isDisabled(i){}constructor(i,f,M,I,Y){super(),this._ngModelWarningConfig=Y,this._added=!1,this.name=null,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(f),this._setAsyncValidators(M),this.valueAccessor=function fp(s,t){if(!t)return null;let c,i,f;return Array.isArray(t),t.forEach(M=>{M.constructor===Yd?c=M:function Hy(s){return Object.getPrototypeOf(s.constructor)===ol}(M)?i=M:f=M}),f||i||c||null}(0,I)}ngOnChanges(i){this._added||this._setUpControl(),function Vy(s,t){if(!s.hasOwnProperty("model"))return!1;const c=s.model;return!!c.isFirstChange()||!Object.is(t,c.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function qh(s,t){return[...t.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(s=t)._ngModelWarningSentOnce=!1,s.\u0275fac=function(i){return new(i||s)(y.Y36(Ns,13),y.Y36(Hr,10),y.Y36(yc,10),y.Y36(Ko,10),y.Y36(Ee,8))},s.\u0275dir=y.lG2({type:s,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([It]),y.qOj,y.TTD]}),t})(),Oo=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[te]}),t})(),Kd=(()=>{var s;class t{static withConfig(i){return{ngModule:t,providers:[{provide:Xo,useValue:i.callSetDisabledState??ru}]}}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Oo]}),t})(),_p=(()=>{var s;class t{static withConfig(i){return{ngModule:t,providers:[{provide:Ee,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Xo,useValue:i.callSetDisabledState??ru}]}}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Oo]}),t})(),bg=(()=>{var s;class t{constructor(i,f){this.store=i,this.router=f,this.addPost=new iu({title:new Bl("",[ga.minLength(4)]),content:new Bl("",[ga.minLength(4)])})}onSubmit(){if(this.addPost.valid){const i=this.addPost.get("title")?.value||"",f=this.addPost.get("content")?.value||"";this.store.dispatch(Bh({title:i,content:f}))}else console.log("Form is not valid")}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh),y.Y36(Gs))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-add-blog"]],decls:14,vars:1,consts:[[1,"container","center-form"],[1,"row"],[1,"col-md-12"],[1,"custom-form",3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","email","id","exampleInputEmail1","formControlName","title",1,"form-control"],["type","text","id","exampleInputPassword1","formControlName","content",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(i,f){1&i&&(y.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),y._uU(6,"Title"),y.qZA(),y._UZ(7,"input",6),y.qZA(),y.TgZ(8,"div",4)(9,"label",5),y._uU(10,"Content"),y.qZA(),y._UZ(11,"input",7),y.qZA(),y.TgZ(12,"button",8),y.NdJ("click",function(){return f.onSubmit()}),y._uU(13," Submit "),y.qZA()()()()()),2&i&&(y.xp6(3),y.Q6J("formGroup",f.addPost))},dependencies:[k,Yd,$h,Rl,ot,jt]}),t})();const va=(0,yn.ZF)("getBlog"),Wy=(0,yn.P1)(va,s=>s),id=(0,yn.PH)("[Get Post] Get Post",(0,yn.Ky)()),Gm=(0,yn.PH)("[Get Post Success] Get Post Success",(0,yn.Ky)()),Wm=(0,yn.PH)("[Edit Post] Edit Post",(0,yn.Ky)()),xc=(0,yn.PH)("[Edit Post] Edit Post",(0,yn.Ky)());function Jh(s,t){if(1&s){const c=y.EpF();y.TgZ(0,"div",2),y._UZ(1,"img",3),y.TgZ(2,"div",4)(3,"h5",5),y._uU(4),y.qZA(),y.TgZ(5,"p",6),y._uU(6),y.qZA(),y._UZ(7,"input",7),y.TgZ(8,"button",8),y.NdJ("click",function(){y.CHM(c);const f=y.oxw();return y.KtG(f.saveBlog())}),y._uU(9,"Save"),y.qZA()()()}if(2&s){const c=t.ngIf;y.xp6(1),y.Q6J("src","http://localhost:3000"+c.imageUrl,y.LSH),y.xp6(3),y.Oqu(c.title),y.xp6(2),y.Oqu(c.content),y.xp6(1),y.s9C("value",c.title)}}let Zm=(()=>{var s;class t{constructor(i,f){this.store=i,this.route=f,this.blog$=this.store.select(Wy)}ngOnInit(){const i=this.route.snapshot.paramMap.get("id");null!==i&&this.store.dispatch(id({blogId:i}))}saveBlog(){this.store.dispatch(Wm({_id:"test",title:"test",content:"",imageUrl:""}))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh),y.Y36(Vc))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-edit-blog"]],decls:3,vars:3,consts:[[1,"container","d-flex","justify-content-center"],["class","card","style","width: 18rem",4,"ngIf"],[1,"card",2,"width","18rem"],["alt","Blog Image",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","text",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(i,f){1&i&&(y.TgZ(0,"div",0),y.YNc(1,Jh,10,4,"div",1),y.ALo(2,"async"),y.qZA()),2&i&&(y.xp6(1),y.Q6J("ngIf",y.lcZ(2,1,f.blog$)))},dependencies:[Ea,Kt]}),t})();const Zs=(0,yn.ZF)("auth"),Qh=((0,yn.P1)(Zs,s=>s),(0,yn.P1)(Zs,s=>!!s.user)),rd=((0,yn.P1)(Zs,s=>s),(0,yn.P1)(Zs,s=>s.user)),h1=((0,yn.P1)(Zs,s=>s),(0,yn.P1)(Zs,s=>s.user?s.user.userToken:null));let x0=(()=>{var s;class t{constructor(i,f){this.store=i,this.router=f}canActivate(){return this.store.select(Qh).pipe((0,O.U)(i=>!!i))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(yn.yh),y.LFG(Gs))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();const Zy=(0,yn.PH)("[Blog] Load Blogs"),qy=(0,yn.PH)("[Blog] Load Blogs Success",(0,yn.Ky)()),Gb=(0,yn.PH)("[Blog] Load Blogs Failure",(0,yn.Ky)());(0,yn.PH)("[Blog] Load Blogs By User Id",(0,yn.Ky)());let Wb=(()=>{var s;class t{constructor(i){this.store=i}resolve(){const i=localStorage.getItem("blogs");if(i){const f=JSON.parse(i);this.store.dispatch(qy({blogs:f}))}else this.store.dispatch(Zy())}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(yn.yh))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();var f1=G(2574);const w0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:sp,canActivate:[x0],resolve:{blogs:Wb}},{path:"new-post",component:bg,canActivate:[x0]},{path:"posts/:id",component:Zm},{path:"map",component:(()=>{var s;class t{constructor(){}ngOnInit(){this.initializeMap()}initializeMap(){this.map=new f1.Map({accessToken:"pk.eyJ1IjoiZ29sZGd1biIsImEiOiJjbG0wbmN1djIxYnVvM2RwNjBjY2ZqdTJoIn0.IRn0RbczCcxZL0RKkO2Z2g",container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-74.5,40],zoom:9}),this.map.on("load",()=>{this.map.addLayer({id:"maptiler-layer",type:"raster",source:{type:"raster",tileSize:256},minzoom:0,maxzoom:22})})}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-map"]],decls:1,vars:0,consts:[["id","map",1,"match-parent"]],template:function(i,f){1&i&&y._UZ(0,"div",0)},styles:[".map_box_container[_ngcontent-%COMP%]{position:relative;height:100%!important;width:100%!important}#map[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:100%}"]}),t})()}];let p1=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[hc.forRoot(w0),hc]}),t})();const Kb=(0,yn.PH)("[auth page] login start",(0,yn.Ky)()),D0=(0,yn.PH)("[auth page] login Success",(0,yn.Ky)()),E0=(0,yn.PH)("[Registration] Register",(0,yn.Ky)()),Jy=(0,yn.PH)("[Registration] Register Success",(0,yn.Ky)()),Qy=(0,yn.PH)("[Registration] Register Failure",(0,yn.Ky)()),T0=(0,yn.PH)("[auth page] auto login"),ev=(0,yn.PH)("[auth page] logout");class Xb{}class m1{}const sd="*";function S0(s,t=null){return{type:2,steps:s,options:t}}function Xd(s){return{type:6,styles:s,offset:null}}function Mg(s,t,c){return{type:0,name:s,styles:t,options:c}}class gp{constructor(t=0,c=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+c}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const c="start"==t?this._onStartFns:this._onDoneFns;c.forEach(i=>i()),c.length=0}}class C0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let c=0,i=0,f=0;const M=this.players.length;0==M?queueMicrotask(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++c==M&&this._onFinish()}),I.onDestroy(()=>{++i==M&&this._onDestroy()}),I.onStart(()=>{++f==M&&this._onStart()})}),this.totalTime=this.players.reduce((I,Y)=>Math.max(I,Y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const c=t*this.totalTime;this.players.forEach(i=>{const f=i.totalTime?Math.min(1,c/i.totalTime):1;i.setPosition(f)})}getPosition(){const t=this.players.reduce((c,i)=>null===c||i.totalTime>c.totalTime?i:c,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const c="start"==t?this._onStartFns:this._onDoneFns;c.forEach(i=>i()),c.length=0}}const ex=function xg(s,t){return{type:7,name:s,definitions:t,options:{}}}("navbarAnimation",[Mg("collapsed",Xd({height:"0",opacity:"0"})),Mg("expanded",Xd({height:"*",opacity:"1"})),function Dg(s,t,c=null){return{type:1,expr:s,animation:t,options:c}}("collapsed <=> expanded",function wg(s,t=null){return{type:4,styles:t,timings:s}}("300ms ease-in-out"))]);function tx(s,t){1&s&&(y.TgZ(0,"a",12),y._uU(1,"Blogs"),y.qZA())}function nx(s,t){1&s&&(y.TgZ(0,"a",13),y._uU(1,"New Post"),y.qZA())}function ix(s,t){1&s&&(y.TgZ(0,"li",7)(1,"a",14),y._uU(2,"Register"),y.qZA()())}function rx(s,t){1&s&&(y.TgZ(0,"li",7)(1,"a",15),y._uU(2,"Login"),y.qZA()())}function sx(s,t){if(1&s&&(y.TgZ(0,"li",7)(1,"a",16),y._uU(2),y.ALo(3,"async"),y.qZA()()),2&s){const c=y.oxw();let i;y.xp6(2),y.hij(" ",null==(i=y.lcZ(3,1,c.username))?null:i.username," ")}}function nv(s,t){if(1&s){const c=y.EpF();y.TgZ(0,"li",7)(1,"a",17),y.NdJ("click",function(f){y.CHM(c);const M=y.oxw();return y.KtG(M.logout(f))}),y._uU(2,"Logout"),y.qZA()()}}let ef=(()=>{var s;class t{constructor(i){this.store=i,this.navbarState="expanded",this.lastScrollTop=0}ngOnInit(){this.isAuthenticated=this.store.select(Qh),this.username=this.store.select(rd)}onScroll(i){const f=window.pageYOffset||document.documentElement.scrollTop;this.navbarState=f>this.lastScrollTop?"collapsed":"expanded",this.lastScrollTop=f}logout(i){i.preventDefault(),this.store.dispatch(ev())}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-navbar"]],hostBindings:function(i,f){1&i&&y.NdJ("scroll",function(I){return f.onScroll(I)},!1,y.Jf7)},decls:26,vars:19,consts:[[1,"navbar","navbar-expand-md","navbar-light","bg-light","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["class","nav-link","routerLink","/home",4,"ngIf"],["class","nav-link","routerLink","/new-post",4,"ngIf"],["routerLink","/map",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/home",1,"nav-link"],["routerLink","/new-post",1,"nav-link"],["routerLink","/register",1,"nav-link"],["routerLink","/login",1,"nav-link"],[1,"nav-link"],["routerLink","/login",1,"nav-link",3,"click"]],template:function(i,f){1&i&&(y.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),y._uU(3,"Navbar"),y.qZA(),y.TgZ(4,"button",3),y._UZ(5,"span",4),y.qZA(),y.TgZ(6,"div",5)(7,"ul",6),y._UZ(8,"li",7),y.TgZ(9,"li",7),y.YNc(10,tx,2,0,"a",8),y.ALo(11,"async"),y.qZA(),y.TgZ(12,"li",7),y.YNc(13,nx,2,0,"a",9),y.ALo(14,"async"),y.qZA(),y.TgZ(15,"li",7)(16,"a",10),y._uU(17,"Map"),y.qZA()(),y.YNc(18,ix,3,0,"li",11),y.ALo(19,"async"),y.YNc(20,rx,3,0,"li",11),y.ALo(21,"async"),y.YNc(22,sx,4,3,"li",11),y.ALo(23,"async"),y.YNc(24,nv,3,0,"li",11),y.ALo(25,"async"),y.qZA()()()()),2&i&&(y.Q6J("@navbarAnimation",f.navbarState),y.xp6(10),y.Q6J("ngIf",y.lcZ(11,7,f.isAuthenticated)),y.xp6(3),y.Q6J("ngIf",y.lcZ(14,9,f.isAuthenticated)),y.xp6(5),y.Q6J("ngIf",!y.lcZ(19,11,f.isAuthenticated)),y.xp6(2),y.Q6J("ngIf",!y.lcZ(21,13,f.isAuthenticated)),y.xp6(2),y.Q6J("ngIf",y.lcZ(23,15,f.isAuthenticated)),y.xp6(2),y.Q6J("ngIf",y.lcZ(25,17,f.isAuthenticated)))},dependencies:[Ea,Ah,Kt],styles:[".navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;transition:top .3s}.navbar.navbar-hidden[_ngcontent-%COMP%]{top:-100px}"],data:{animation:[ex]}}),t})(),y1=(()=>{var s;class t{constructor(i){this.store=i}ngOnInit(){this.store.dispatch(T0())}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:0,template:function(i,f){1&i&&y._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[Pf,ef]}),t})();function v1(s,t){1&s&&(y.TgZ(0,"span",12),y._uU(1," Email is required."),y.qZA())}function L0(s,t){1&s&&(y.TgZ(0,"span",12),y._uU(1," Email not valid."),y.qZA())}function yp(s,t){1&s&&(y.TgZ(0,"span",12),y._uU(1," Username is required."),y.qZA())}function A0(s,t){1&s&&(y.TgZ(0,"div",12),y._uU(1," Username must be at least 4 characters long. "),y.qZA())}const iE=[{path:"",children:[{path:"login",component:(()=>{var s;class t{constructor(i){this.store=i,this.loginForm=new iu({email:new Bl("",[ga.required,ga.email]),password:new Bl("",[ga.required])})}onSubmit(){this.loginForm.valid&&(this.store.dispatch(Kb({email:this.loginForm.value.email||"",password:this.loginForm.value.password||""})),this.loginForm.reset())}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"container","center-form"],[1,"row"],[1,"col-md-12"],[1,"custom-form",3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","formControlName","email",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(i,f){1&i&&(y.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),y._uU(6,"Email address"),y.qZA(),y._UZ(7,"input",6),y.qZA(),y.TgZ(8,"div",4)(9,"label",7),y._uU(10,"Password"),y.qZA(),y._UZ(11,"input",8),y.qZA(),y.TgZ(12,"button",9),y.NdJ("click",function(){return f.onSubmit()}),y._uU(13," Submit "),y.qZA()()()()()),2&i&&(y.xp6(3),y.Q6J("formGroup",f.loginForm))},dependencies:[k,Yd,$h,Rl,ot,jt],styles:[".btn-primary[_ngcontent-%COMP%], .custom-form[_ngcontent-%COMP%]   .custom-btn-primary[_ngcontent-%COMP%]{background-color:#333d51;border:none;font-size:13px;width:80px;line-height:24px}.center-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.custom-form[_ngcontent-%COMP%]{border:1px solid #cbd0d8;padding:20px;background:#cbd0d8;border-radius:10px;width:320px}.custom-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block}"]}),t})()},{path:"register",component:(()=>{var s;class t{constructor(i,f){this.store=i,this.router=f,this.emailForm=new iu({username:new Bl("",[ga.required,ga.minLength(4)]),email:new Bl("",[ga.required,ga.email]),password:new Bl("",[ga.required,ga.minLength(4)])})}OnInit(){}onSubmit(){this.emailForm.valid&&(this.store.dispatch(E0({userData:{username:this.emailForm.value.username,email:this.emailForm.value.email,password:this.emailForm.value.password}})),this.router.navigate(["/login"]),this.emailForm.reset())}}return(s=t).\u0275fac=function(i){return new(i||s)(y.Y36(yn.yh),y.Y36(Gs))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-register"]],decls:22,vars:6,consts:[[1,"container","center-form"],[1,"row"],[1,"col-md-12"],[1,"custom-form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","username","aria-describedby","username","formControlName","username",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","custom-btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(i,f){if(1&i&&(y.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),y.NdJ("ngSubmit",function(){return f.onSubmit()}),y.TgZ(4,"div",4)(5,"label",5),y._uU(6,"Email address"),y.qZA(),y._UZ(7,"input",6),y.YNc(8,v1,2,0,"span",7),y.YNc(9,L0,2,0,"span",7),y.qZA(),y.TgZ(10,"div",4)(11,"label",5),y._uU(12,"Username "),y.qZA(),y._UZ(13,"input",8),y.YNc(14,yp,2,0,"span",7),y.YNc(15,A0,2,0,"div",7),y.qZA(),y.TgZ(16,"div",4)(17,"label",9),y._uU(18,"Password"),y.qZA(),y._UZ(19,"input",10),y.qZA(),y.TgZ(20,"button",11),y._uU(21," Submit "),y.qZA()()()()()),2&i){let M,I,Y,se;y.xp6(3),y.Q6J("formGroup",f.emailForm),y.xp6(5),y.Q6J("ngIf",(null==(M=f.emailForm.get("email"))?null:M.hasError("required"))&&(null==(M=f.emailForm.get("email"))?null:M.touched)),y.xp6(1),y.Q6J("ngIf",(null==(I=f.emailForm.get("email"))?null:I.hasError("email"))&&(null==(I=f.emailForm.get("email"))?null:I.touched)),y.xp6(5),y.Q6J("ngIf",(null==(Y=f.emailForm.get("username"))?null:Y.hasError("required"))&&(null==(Y=f.emailForm.get("username"))?null:Y.touched)),y.xp6(1),y.Q6J("ngIf",((null==(se=f.emailForm.get("username"))?null:se.hasError("minlength"))||(null==(se=f.emailForm.get("username"))?null:se.hasError("required")))&&(null==(se=f.emailForm.get("username"))?null:se.touched)),y.xp6(5),y.Q6J("disabled",!f.emailForm.valid)}},dependencies:[Ea,k,Yd,$h,Rl,ot,jt],styles:[".btn-primary[_ngcontent-%COMP%], .custom-form[_ngcontent-%COMP%]   .custom-btn-primary[_ngcontent-%COMP%]{background-color:#333d51;border:none;font-size:13px;width:80px;line-height:24px}.center-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.custom-form[_ngcontent-%COMP%]{border:1px solid #cbd0d8;padding:20px;background:#cbd0d8;border-radius:10px;width:320px}.custom-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block}"]}),t})()}]}];let rE=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Pr,Kd,_p,rg,hc.forChild(iE)]}),t})();var b1=G(7632),I0=G(3019),ax=G(2420);class od{constructor(t,c,i){this.kind=t,this.value=c,this.error=i,this.hasValue="N"===t}observe(t){return lx(this,t)}do(t,c,i){const{kind:f,value:M,error:I}=this;return"N"===f?t?.(M):"E"===f?c?.(I):i?.()}accept(t,c,i){var f;return(0,oo.m)(null===(f=t)||void 0===f?void 0:f.next)?this.observe(t):this.do(t,c,i)}toObservable(){const{kind:t,value:c,error:i}=this,f="N"===t?(0,Gn.of)(c):"E"===t?Ze(()=>i):"C"===t?it.E:0;if(!f)throw new TypeError(`Unexpected notification kind ${t}`);return f}static createNext(t){return new od("N",t)}static createError(t){return new od("E",void 0,t)}static createComplete(){return od.completeNotification}}function lx(s,t){var c,i,f;const{kind:M,value:I,error:Y}=s;if("string"!=typeof M)throw new TypeError('Invalid notification, missing "kind"');"N"===M?null===(c=t.next)||void 0===c||c.call(t,I):"E"===M?null===(i=t.error)||void 0===i||i.call(t,Y):null===(f=t.complete)||void 0===f||f.call(t)}function k0(s,t,c,i){return(0,Qe.e)((f,M)=>{let I;t&&"function"!=typeof t?({duration:c,element:I,connector:i}=t):I=t;const Y=new Map,se=Yt=>{Y.forEach(Yt),Yt(M)},ce=Yt=>se(fn=>fn.error(Yt));let Re=0,$e=!1;const Vt=new he.Q(M,Yt=>{try{const fn=s(Yt);let Tn=Y.get(fn);if(!Tn){Y.set(fn,Tn=i?i():new Lt.x);const qn=function Ft(Yt,fn){const Tn=new Hs.y(qn=>{Re++;const Si=fn.subscribe(qn);return()=>{Si.unsubscribe(),0==--Re&&$e&&Vt.unsubscribe()}});return Tn.key=Yt,Tn}(fn,Tn);if(M.next(qn),c){const Si=(0,he.x)(Tn,()=>{Tn.complete(),Si?.unsubscribe()},void 0,void 0,()=>Y.delete(fn));Vt.add((0,Ye.Xf)(c(qn)).subscribe(Si))}}Tn.next(I?I(Yt):Yt)}catch(fn){ce(fn)}},()=>se(Yt=>Yt.complete()),ce,()=>Y.clear(),()=>($e=!0,0===Re));f.subscribe(Vt)})}function iv(s,t){return t?c=>c.pipe(iv((i,f)=>(0,Ye.Xf)(s(i,f)).pipe((0,O.U)((M,I)=>t(i,M,f,I))))):(0,Qe.e)((c,i)=>{let f=0,M=null,I=!1;c.subscribe((0,he.x)(i,Y=>{M||(M=(0,he.x)(i,void 0,()=>{M=null,I&&i.complete()}),(0,Ye.Xf)(s(Y,f++)).subscribe(M))},()=>{I=!0,!M&&i.complete()}))})}od.completeNotification=new od("C");const ux={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Jd="__@ngrx/effects_create__";function tf(s,t={}){const c=t.functional?s:s(),i={...ux,...t};return Object.defineProperty(c,Jd,{value:i}),c}function P0(s){return Object.getPrototypeOf(s)}function rv(s){return"function"==typeof s}function Eg(s){return s.filter(rv)}function E1(s,t,c){const i=P0(s),M=i&&"Object"!==i.constructor.name?i.constructor.name:null,I=function dx(s){return function M1(s){return Object.getOwnPropertyNames(s).filter(i=>!(!s[i]||!s[i].hasOwnProperty(Jd))&&s[i][Jd].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...s[i][Jd]}))}(s)}(s).map(({propertyName:Y,dispatch:se,useEffectsErrorHandler:ce})=>{const Re="function"==typeof s[Y]?s[Y]():s[Y],$e=ce?c(Re,t):Re;return!1===se?$e.pipe(function x1(){return(0,Qe.e)((s,t)=>{s.subscribe((0,he.x)(t,ax.Z))})}()):$e.pipe(function w1(){return(0,Qe.e)((s,t)=>{s.subscribe((0,he.x)(t,c=>{t.next(od.createNext(c))},()=>{t.next(od.createComplete()),t.complete()},c=>{t.next(od.createError(c)),t.complete()}))})}()).pipe((0,O.U)(Ft=>({effect:s[Y],notification:Ft,propertyName:Y,sourceName:M,sourceInstance:s})))});return(0,I0.T)(...I)}function su(s,t,c=10){return s.pipe((0,mn.K)(i=>(t&&t.handleError(i),c<=1?s:su(s,t,c-1))))}let ja=(()=>{var s;class t extends Hs.y{constructor(i){super(),i&&(this.source=i)}lift(i){const f=new t;return f.source=this,f.operator=i,f}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(yn.Y$))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function Ro(...s){return(0,Dt.h)(t=>s.some(c=>"string"==typeof c?c===t.type:c.type===t.type))}const O0=new y.OlP("@ngrx/effects Internal Root Guard"),Tg=new y.OlP("@ngrx/effects User Provided Effects"),R0=new y.OlP("@ngrx/effects Internal Root Effects"),hx=new y.OlP("@ngrx/effects Internal Root Effects Instances"),fx=new y.OlP("@ngrx/effects Internal Feature Effects"),px=new y.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),F0=new y.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>su}),Km="@ngrx/effects/init";(0,yn.PH)(Km);function bx(s){return N0(s,"ngrxOnInitEffects")}function N0(s,t){return s&&t in s&&"function"==typeof s[t]}let B0=(()=>{var s;class t extends Lt.x{constructor(i,f){super(),this.errorHandler=i,this.effectsErrorHandler=f}addEffects(i){this.next(i)}toActions(){return this.pipe(k0(i=>function sE(s){return!!s.constructor&&"Object"!==s.constructor.name&&"Function"!==s.constructor.name}(i)?P0(i):i),(0,Ct.z)(i=>i.pipe(k0(z0))),(0,Ct.z)(i=>{const f=i.pipe(iv(I=>function ov(s,t){return c=>{const i=E1(c,s,t);return function yx(s){return N0(s,"ngrxOnRunEffects")}(c)?c.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(I)),(0,O.U)(I=>(function mx(s,t){if("N"===s.notification.kind){const c=s.notification.value;!function C1(s){return"function"!=typeof s&&s&&s.type&&"string"==typeof s.type}(c)&&t.handleError(new Error(`Effect ${function L1({propertyName:s,sourceInstance:t,sourceName:c}){const i="function"==typeof t[s];return c?`"${c}.${String(s)}${i?"()":""}"`:`"${String(s)}()"`}(s)} dispatched an invalid action: ${function _x(s){try{return JSON.stringify(s)}catch{return s}}(c)}`))}}(I,this.errorHandler),I.notification)),(0,Dt.h)(I=>"N"===I.kind&&null!=I.value),function cx(){return(0,Qe.e)((s,t)=>{s.subscribe((0,he.x)(t,c=>lx(c,t)))})}()),M=i.pipe((0,bt.q)(1),(0,Dt.h)(bx),(0,O.U)(I=>I.ngrxOnInitEffects()));return(0,I0.T)(f,M)}))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(y.qLn),y.LFG(F0))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function z0(s){return function sv(s){return N0(s,"ngrxOnIdentifyEffects")}(s)?s.ngrxOnIdentifyEffects():""}let av=(()=>{var s;class t{get isStarted(){return!!this.effectsSubscription}constructor(i,f){this.effectSources=i,this.store=f,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(B0),y.LFG(yn.yh))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),j0=(()=>{var s;class t{constructor(i,f,M,I,Y,se,ce){this.sources=i,f.start();for(const Re of I)i.addEffects(Re);M.dispatch({type:Km})}addEffects(i){this.sources.addEffects(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(B0),y.LFG(av),y.LFG(yn.yh),y.LFG(hx),y.LFG(yn.cr,8),y.LFG(yn.CK,8),y.LFG(O0,8))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})(),xx=(()=>{var s;class t{constructor(i,f,M,I){const Y=f.flat();for(const se of Y)i.addEffects(se)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(j0),y.LFG(px),y.LFG(yn.cr,8),y.LFG(yn.CK,8))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})(),Xm=(()=>{var s;class t{static forFeature(...i){const f=i.flat(),M=Eg(f);return{ngModule:xx,providers:[M,{provide:fx,multi:!0,useValue:f},{provide:Tg,multi:!0,useValue:[]},{provide:px,multi:!0,useFactory:Y0,deps:[fx,Tg]}]}}static forRoot(...i){const f=i.flat(),M=Eg(f);return{ngModule:j0,providers:[M,{provide:R0,useValue:[f]},{provide:O0,useFactory:wx},{provide:Tg,multi:!0,useValue:[]},{provide:hx,useFactory:Y0,deps:[R0,Tg]}]}}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})();function Y0(s,t){const c=[];for(const i of s)c.push(...i);for(const i of t)c.push(...i);return c.map(i=>function ad(s){return s instanceof y.OlP||rv(s)}(i)?(0,y.f3M)(i):i)}function wx(){const s=(0,y.f3M)(av,{optional:!0,skipSelf:!0}),t=(0,y.f3M)(R0,{self:!0});if((1!==t.length||0!==t[0].length)&&s)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const O1=(0,yn.Lq)({email:null,password:"",token:null,loading:!1,error:null,success:!1},(0,yn.on)(D0,(s,t)=>({...s,user:t.user})),(0,yn.on)(ev,s=>({...s,user:null})),(0,yn.on)(E0,s=>({...s,loading:!0,error:null,success:!1})),(0,yn.on)(Jy,s=>({...s,loading:!1,success:!0})),(0,yn.on)(Qy,(s,{error:t})=>({...s,loading:!1,error:t,success:!1})));let R1=(()=>{var s;class t{constructor(i,f,M){this.actions$=i,this.loginService=f,this.router=M,this.login$=tf(()=>this.actions$.pipe(Ro(Kb),iv(I=>this.loginService.login(I.email,I.password).pipe((0,O.U)(Y=>{const se=this.loginService.formatUser(Y);return this.loginService.setUserInLocalStorage(se),this.router.navigate(["home"]),D0({user:se,redirect:!0})}))))),this.register$=tf(()=>this.actions$.pipe(Ro(E0),(0,tt.w)(({userData:I})=>this.loginService.register(I).pipe((0,O.U)(Y=>Jy({user:Y})),(0,mn.K)(Y=>(console.error("HTTP Error:",Y),(0,Gn.of)(Qy({error:Y})))))))),this.autoLogin$=tf(()=>this.actions$.pipe(Ro(T0),(0,Ct.z)(()=>{const I=this.loginService.getUserFromLocalStorage();return(0,Gn.of)(D0({user:I,redirect:!1}))}))),this.logout$=tf(()=>this.actions$.pipe(Ro(ev),(0,O.U)(I=>{this.loginService.logout(),this.router.navigate(["login"])})),{dispatch:!1})}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ja),y.LFG(qu),y.LFG(Gs))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})(),Mx=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[yn.Aw.forFeature("auth",O1),Xm.forFeature([R1])]}),t})();const N1=(0,yn.Lq)({blogs:[],loading:!1,error:null},(0,yn.on)(Zy,s=>({...s,loading:!0})),(0,yn.on)(qy,(s,{blogs:t})=>({...s,blogs:t,loading:!1})),(0,yn.on)(Gb,(s,{error:t})=>({...s,error:t,loading:!1})));var B1=G(6676);let z1=(()=>{var s;class t{constructor(i){this.http=i,this.apiUrl=ep_apiUrl}getBlogs(){return this.http.get(`${this.apiUrl}/posts`)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Xi))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),j1=(()=>{var s;class t{constructor(i,f){this.actions$=i,this.blogService=f,this.loadBlogs$=tf(()=>this.actions$.pipe(Ro(Zy),(0,Ct.z)(()=>this.blogService.getBlogs().pipe((0,O.U)(M=>{const I=M.map(Y=>({...Y,created_at:this.formatRelativeTime(Y.created_at)}));return localStorage.setItem("blogs",JSON.stringify(I)),qy({blogs:I})}),(0,mn.K)(M=>(0,Gn.of)(Gb({error:M.message})))))))}formatRelativeTime(i){try{const f=B1(i,"YYYY-MM-DDTHH:mm:ss.SSSZ");return f.isValid()?f.fromNow():"Invalid timestamp"}catch(f){return console.error(f),"Error parsing timestamp"}}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ja),y.LFG(z1))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})(),Dx=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[Wb],imports:[yn.Aw.forFeature("blogs",N1),Xm.forFeature([j1])]}),t})(),Y1=(()=>{var s;class t{constructor(i){this.http=i,this.apiUrl=ep_apiUrl}createBlog(i,f){const M=new Na({Authorization:`${f}`}),I=new FormData;return I.append("title",i.title),I.append("content",i.content),this.http.post(`${this.apiUrl}/posts`,i,{headers:M})}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Xi))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),U1=(()=>{var s;class t{constructor(i,f){this.actions$=i,this.addBlogService=f,this.addBlog$=tf(()=>this.actions$.pipe(Ro(Bh),(0,tt.w)(M=>this.addBlogService.createBlog(M,"asdas").pipe((0,O.U)(I=>(localStorage.removeItem("blogs"),Sy({message:I.message,postId:I.postId}))),(0,mn.K)(I=>(0,Gn.of)(lg({error:I.message})))))))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ja),y.LFG(Y1))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();const H1=(0,yn.Lq)({message:null,postId:null,error:null},(0,yn.on)(Sy,(s,{message:t,postId:c})=>({...s,message:t,postId:c,error:null})),(0,yn.on)(lg,(s,{error:t})=>({...s,message:null,postId:null,error:t})));let Ex=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[yn.Aw.forFeature("newBlog",H1),Xm.forFeature([U1])]}),t})();const Tx=(0,yn.Lq)({_id:"",title:"",content:"",imageUrl:"",userId:""},(0,yn.on)(Gm,(s,{response:t})=>({...s,_id:t._id,title:t.title,content:t.content,imageUrl:t.imageUrl,userId:t.userId})));let U0=(()=>{var s;class t{constructor(i){this.http=i,this.apiUrl=ep_apiUrl}getBlog(i){return this.http.get(`${this.apiUrl}/post/${i}`)}editBlog(i){const f=localStorage.getItem("token"),M=new Na({Authorization:f});return this.http.put(`${this.apiUrl}/posts/64fc929e18e4d343a4e1fdb7`,i,{headers:M})}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Xi))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),Sx=(()=>{var s;class t{constructor(i,f){this.actions$=i,this.blogService=f,this.getPostId$=tf(()=>this.actions$.pipe(Ro(id),(0,tt.w)(M=>this.blogService.getBlog(M.blogId).pipe((0,O.U)(I=>Gm({response:I}))))))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ja),y.LFG(U0))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})(),Cx=(()=>{var s;class t{constructor(i,f){this.actions$=i,this.blogService=f,this.editPost$=tf(()=>this.actions$.pipe(Ro(Wm),(0,tt.w)(({_id:M,title:I,content:Y,imageUrl:se})=>this.blogService.editBlog({_id:M,title:I,content:Y,imageUrl:se}).pipe((0,O.U)(ce=>(console.log(ce),xc({response:ce})))))))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ja),y.LFG(U0))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})(),V0=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[yn.Aw.forFeature("getBlog",Tx),Xm.forFeature([Cx,Sx])]}),t})(),Lx=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Dx,Ex,Mx,V0,Dx,Ex,Mx,V0]}),t})(),Ax=(()=>{var s;class t{constructor(i){this.store=i}intercept(i,f){return this.store.select(h1).pipe((0,bt.q)(1),iv(M=>{if(!M)return f.handle(i);let I=i.clone({setHeaders:{Authorization:`${M}`}});return f.handle(I)}))}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(yn.yh))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();function H0(s){return new y.vHH(3e3,!1)}function ou(s){switch(s.length){case 0:return new gp;case 1:return s[0];default:return new C0(s)}}function G0(s,t,c=new Map,i=new Map){const f=[],M=[];let I=-1,Y=null;if(t.forEach(se=>{const ce=se.get("offset"),Re=ce==I,$e=Re&&Y||new Map;se.forEach((Vt,Ft)=>{let Yt=Ft,fn=Vt;if("offset"!==Ft)switch(Yt=s.normalizePropertyName(Yt,f),fn){case"!":fn=c.get(Ft);break;case sd:fn=i.get(Ft);break;default:fn=s.normalizeStyleValue(Ft,Yt,fn,f)}$e.set(Yt,fn)}),Re||M.push($e),Y=$e,I=ce}),f.length)throw function Rx(s){return new y.vHH(3502,!1)}();return M}function uv(s,t,c,i){switch(t){case"start":s.onStart(()=>i(c&&dv(c,"start",s)));break;case"done":s.onDone(()=>i(c&&dv(c,"done",s)));break;case"destroy":s.onDestroy(()=>i(c&&dv(c,"destroy",s)))}}function dv(s,t,c){const M=W0(s.element,s.triggerName,s.fromState,s.toState,t||s.phaseName,c.totalTime??s.totalTime,!!c.disabled),I=s._data;return null!=I&&(M._data=I),M}function W0(s,t,c,i,f="",M=0,I){return{element:s,triggerName:t,fromState:c,toState:i,phaseName:f,totalTime:M,disabled:!!I}}function Jo(s,t,c){let i=s.get(t);return i||s.set(t,i=c),i}function t_(s){const t=s.indexOf(":");return[s.substring(1,t),s.slice(t+1)]}const oM=(()=>typeof document>"u"?null:document.documentElement)();function Z0(s){const t=s.parentNode||s.host||null;return t===oM?null:t}let nf=null,q0=!1;function Ux(s,t){for(;t;){if(t===s)return!0;t=Z0(t)}return!1}function Vx(s,t,c){if(c)return Array.from(s.querySelectorAll(t));const i=s.querySelector(t);return i?[i]:[]}let lM=(()=>{var s;class t{validateStyleProperty(i){return function jx(s){nf||(nf=function Yx(){return typeof document<"u"?document.body:null}()||{},q0=!!nf.style&&"WebkitAppearance"in nf.style);let t=!0;return nf.style&&!function aM(s){return"ebkit"==s.substring(1,6)}(s)&&(t=s in nf.style,!t&&q0&&(t="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in nf.style)),t}(i)}matchesElement(i,f){return!1}containsElement(i,f){return Ux(i,f)}getParentElement(i){return Z0(i)}query(i,f,M){return Vx(i,f,M)}computeStyle(i,f,M){return M||""}animate(i,f,M,I,Y,se=[],ce){return new gp(M,I)}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})(),Hx=(()=>{class t{}return t.NOOP=new lM,t})();const pE=1e3,X0="ng-enter",fv="ng-leave",Cg="ng-trigger",rf=".ng-trigger",$x="ng-animating",J0=".ng-animating";function Qd(s){if("number"==typeof s)return s;const t=s.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Q0(parseFloat(t[1]),t[2])}function Q0(s,t){return"s"===t?s*pE:s}function eb(s,t,c){return s.hasOwnProperty("duration")?s:function cM(s,t,c){let f,M=0,I="";if("string"==typeof s){const Y=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Y)return t.push(H0()),{duration:0,delay:0,easing:""};f=Q0(parseFloat(Y[1]),Y[2]);const se=Y[3];null!=se&&(M=Q0(parseFloat(se),Y[4]));const ce=Y[5];ce&&(I=ce)}else f=s;if(!c){let Y=!1,se=t.length;f<0&&(t.push(function Ix(){return new y.vHH(3100,!1)}()),Y=!0),M<0&&(t.push(function kx(){return new y.vHH(3101,!1)}()),Y=!0),Y&&t.splice(se,0,H0())}return{duration:f,delay:M,easing:I}}(s,t,c)}function n_(s,t={}){return Object.keys(s).forEach(c=>{t[c]=s[c]}),t}function Gx(s){const t=new Map;return Object.keys(s).forEach(c=>{t.set(c,s[c])}),t}function sf(s,t=new Map,c){if(c)for(let[i,f]of c)t.set(i,f);for(let[i,f]of s)t.set(i,f);return t}function au(s,t,c){t.forEach((i,f)=>{const M=_v(f);c&&!c.has(f)&&c.set(f,s.style[M]),s.style[M]=i})}function bp(s,t){t.forEach((c,i)=>{const f=_v(i);s.style[f]=""})}function r_(s){return Array.isArray(s)?1==s.length?s[0]:S0(s):s}const pv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wx(s){let t=[];if("string"==typeof s){let c;for(;c=pv.exec(s);)t.push(c[1]);pv.lastIndex=0}return t}function xp(s,t,c){const i=s.toString(),f=i.replace(pv,(M,I)=>{let Y=t[I];return null==Y&&(c.push(function W1(s){return new y.vHH(3003,!1)}()),Y=""),Y.toString()});return f==i?s:f}function mv(s){const t=[];let c=s.next();for(;!c.done;)t.push(c.value),c=s.next();return t}const Zx=/-+([a-z0-9])/g;function _v(s){return s.replace(Zx,(...t)=>t[1].toUpperCase())}function Ya(s,t,c){switch(t.type){case 7:return s.visitTrigger(t,c);case 0:return s.visitState(t,c);case 1:return s.visitTransition(t,c);case 2:return s.visitSequence(t,c);case 3:return s.visitGroup(t,c);case 4:return s.visitAnimate(t,c);case 5:return s.visitKeyframes(t,c);case 6:return s.visitStyle(t,c);case 8:return s.visitReference(t,c);case 9:return s.visitAnimateChild(t,c);case 10:return s.visitAnimateRef(t,c);case 11:return s.visitQuery(t,c);case 12:return s.visitStagger(t,c);default:throw function Z1(s){return new y.vHH(3004,!1)}()}}function qx(s,t){return window.getComputedStyle(s)[t]}const gv="*";function mM(s,t){const c=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(i=>function _M(s,t,c){if(":"==s[0]){const se=function Kx(s,t){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,i)=>parseFloat(i)>parseFloat(c);case":decrement":return(c,i)=>parseFloat(i)<parseFloat(c);default:return t.push(function cv(s){return new y.vHH(3016,!1)}()),"* => *"}}(s,c);if("function"==typeof se)return void t.push(se);s=se}const i=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return c.push(function lv(s){return new y.vHH(3015,!1)}()),t;const f=i[1],M=i[2],I=i[3];t.push(Xx(f,I));"<"==M[0]&&!(f==gv&&I==gv)&&t.push(Xx(I,f))}(i,c,t)):c.push(s),c}const Lg=new Set(["true","1"]),yv=new Set(["false","0"]);function Xx(s,t){const c=Lg.has(s)||yv.has(s),i=Lg.has(t)||yv.has(t);return(f,M)=>{let I=s==gv||s==f,Y=t==gv||t==M;return!I&&c&&"boolean"==typeof f&&(I=f?Lg.has(s):yv.has(s)),!Y&&i&&"boolean"==typeof M&&(Y=M?Lg.has(t):yv.has(t)),I&&Y}}const gM=new RegExp("s*:selfs*,?","g");function nb(s,t,c,i){return new yM(s).build(t,c,i)}class yM{constructor(t){this._driver=t}build(t,c,i){const f=new Qx(c);return this._resetContextStyleTimingState(f),Ya(this,r_(t),f)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,c){let i=c.queryCount=0,f=c.depCount=0;const M=[],I=[];return"@"==t.name.charAt(0)&&c.errors.push(function lE(){return new y.vHH(3006,!1)}()),t.definitions.forEach(Y=>{if(this._resetContextStyleTimingState(c),0==Y.type){const se=Y,ce=se.name;ce.toString().split(/\s*,\s*/).forEach(Re=>{se.name=Re,M.push(this.visitState(se,c))}),se.name=ce}else if(1==Y.type){const se=this.visitTransition(Y,c);i+=se.queryCount,f+=se.depCount,I.push(se)}else c.errors.push(function $0(){return new y.vHH(3007,!1)}())}),{type:7,name:t.name,states:M,transitions:I,queryCount:i,depCount:f,options:null}}visitState(t,c){const i=this.visitStyle(t.styles,c),f=t.options&&t.options.params||null;if(i.containsDynamicStyles){const M=new Set,I=f||{};i.styles.forEach(Y=>{Y instanceof Map&&Y.forEach(se=>{Wx(se).forEach(ce=>{I.hasOwnProperty(ce)||M.add(ce)})})}),M.size&&(mv(M.values()),c.errors.push(function cE(s,t){return new y.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:f?{params:f}:null}}visitTransition(t,c){c.queryCount=0,c.depCount=0;const i=Ya(this,r_(t.animation),c);return{type:1,matchers:mM(t.expr,c.errors),animation:i,queryCount:c.queryCount,depCount:c.depCount,options:wp(t.options)}}visitSequence(t,c){return{type:2,steps:t.steps.map(i=>Ya(this,i,c)),options:wp(t.options)}}visitGroup(t,c){const i=c.currentTime;let f=0;const M=t.steps.map(I=>{c.currentTime=i;const Y=Ya(this,I,c);return f=Math.max(f,c.currentTime),Y});return c.currentTime=f,{type:3,steps:M,options:wp(t.options)}}visitAnimate(t,c){const i=function vM(s,t){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return Ag(eb(s,t).duration,0,"");const c=s;if(c.split(/\s+/).some(M=>"{"==M.charAt(0)&&"{"==M.charAt(1))){const M=Ag(0,0,"");return M.dynamic=!0,M.strValue=c,M}const f=eb(c,t);return Ag(f.duration,f.delay,f.easing)}(t.timings,c.errors);c.currentAnimateTimings=i;let f,M=t.styles?t.styles:Xd({});if(5==M.type)f=this.visitKeyframes(M,c);else{let I=t.styles,Y=!1;if(!I){Y=!0;const ce={};i.easing&&(ce.easing=i.easing),I=Xd(ce)}c.currentTime+=i.duration+i.delay;const se=this.visitStyle(I,c);se.isEmptyStep=Y,f=se}return c.currentAnimateTimings=null,{type:4,timings:i,style:f,options:null}}visitStyle(t,c){const i=this._makeStyleAst(t,c);return this._validateStyleAst(i,c),i}_makeStyleAst(t,c){const i=[],f=Array.isArray(t.styles)?t.styles:[t.styles];for(let Y of f)"string"==typeof Y?Y===sd?i.push(Y):c.errors.push(new y.vHH(3002,!1)):i.push(Gx(Y));let M=!1,I=null;return i.forEach(Y=>{if(Y instanceof Map&&(Y.has("easing")&&(I=Y.get("easing"),Y.delete("easing")),!M))for(let se of Y.values())if(se.toString().indexOf("{{")>=0){M=!0;break}}),{type:6,styles:i,easing:I,offset:t.offset,containsDynamicStyles:M,options:null}}_validateStyleAst(t,c){const i=c.currentAnimateTimings;let f=c.currentTime,M=c.currentTime;i&&M>0&&(M-=i.duration+i.delay),t.styles.forEach(I=>{"string"!=typeof I&&I.forEach((Y,se)=>{const ce=c.collectedStyles.get(c.currentQuerySelector),Re=ce.get(se);let $e=!0;Re&&(M!=f&&M>=Re.startTime&&f<=Re.endTime&&(c.errors.push(function uE(s,t,c,i,f){return new y.vHH(3010,!1)}()),$e=!1),M=Re.startTime),$e&&ce.set(se,{startTime:M,endTime:f}),c.options&&function dM(s,t,c){const i=t.params||{},f=Wx(s);f.length&&f.forEach(M=>{i.hasOwnProperty(M)||c.push(function vp(s){return new y.vHH(3001,!1)}())})}(Y,c.options,c.errors)})})}visitKeyframes(t,c){const i={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Qm(){return new y.vHH(3011,!1)}()),i;let M=0;const I=[];let Y=!1,se=!1,ce=0;const Re=t.steps.map(qn=>{const Si=this._makeStyleAst(qn,c);let Qr=null!=Si.offset?Si.offset:function sb(s){if("string"==typeof s)return null;let t=null;if(Array.isArray(s))s.forEach(c=>{if(c instanceof Map&&c.has("offset")){const i=c;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const c=s;t=parseFloat(c.get("offset")),c.delete("offset")}return t}(Si.styles),Zi=0;return null!=Qr&&(M++,Zi=Si.offset=Qr),se=se||Zi<0||Zi>1,Y=Y||Zi<ce,ce=Zi,I.push(Zi),Si});se&&c.errors.push(function K1(){return new y.vHH(3012,!1)}()),Y&&c.errors.push(function X1(){return new y.vHH(3200,!1)}());const $e=t.steps.length;let Vt=0;M>0&&M<$e?c.errors.push(function J1(){return new y.vHH(3202,!1)}()):0==M&&(Vt=1/($e-1));const Ft=$e-1,Yt=c.currentTime,fn=c.currentAnimateTimings,Tn=fn.duration;return Re.forEach((qn,Si)=>{const Qr=Vt>0?Si==Ft?1:Vt*Si:I[Si],Zi=Qr*Tn;c.currentTime=Yt+fn.delay+Zi,fn.duration=Zi,this._validateStyleAst(qn,c),qn.offset=Qr,i.styles.push(qn)}),i}visitReference(t,c){return{type:8,animation:Ya(this,r_(t.animation),c),options:wp(t.options)}}visitAnimateChild(t,c){return c.depCount++,{type:9,options:wp(t.options)}}visitAnimateRef(t,c){return{type:10,animation:this.visitReference(t.animation,c),options:wp(t.options)}}visitQuery(t,c){const i=c.currentQuerySelector,f=t.options||{};c.queryCount++,c.currentQuery=t;const[M,I]=function ib(s){const t=!!s.split(/\s*,\s*/).find(c=>":self"==c);return t&&(s=s.replace(gM,"")),s=s.replace(/@\*/g,rf).replace(/@\w+/g,c=>rf+"-"+c.slice(1)).replace(/:animating/g,J0),[s,t]}(t.selector);c.currentQuerySelector=i.length?i+" "+M:M,Jo(c.collectedStyles,c.currentQuerySelector,new Map);const Y=Ya(this,r_(t.animation),c);return c.currentQuery=null,c.currentQuerySelector=i,{type:11,selector:M,limit:f.limit||0,optional:!!f.optional,includeSelf:I,animation:Y,originalSelector:t.selector,options:wp(t.options)}}visitStagger(t,c){c.currentQuery||c.errors.push(function e_(){return new y.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:eb(t.timings,c.errors,!0);return{type:12,animation:Ya(this,r_(t.animation),c),timings:i,options:null}}}class Qx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wp(s){return s?(s=n_(s)).params&&(s.params=function rb(s){return s?n_(s):null}(s.params)):s={},s}function Ag(s,t,c){return{duration:s,delay:t,easing:c}}function ob(s,t,c,i,f,M,I=null,Y=!1){return{type:1,element:s,keyframes:t,preStyleProps:c,postStyleProps:i,duration:f,delay:M,totalTime:f+M,easing:I,subTimeline:Y}}class Ig{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,c){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...c)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bM=new RegExp(":enter","g"),ab=new RegExp(":leave","g");function kg(s,t,c,i,f,M=new Map,I=new Map,Y,se,ce=[]){return(new xM).buildKeyframes(s,t,c,i,f,M,I,Y,se,ce)}class xM{buildKeyframes(t,c,i,f,M,I,Y,se,ce,Re=[]){ce=ce||new Ig;const $e=new vv(t,c,ce,f,M,Re,[]);$e.options=se;const Vt=se.delay?Qd(se.delay):0;$e.currentTimeline.delayNextStep(Vt),$e.currentTimeline.setStyles([I],null,$e.errors,se),Ya(this,i,$e);const Ft=$e.timelines.filter(Yt=>Yt.containsAnimation());if(Ft.length&&Y.size){let Yt;for(let fn=Ft.length-1;fn>=0;fn--){const Tn=Ft[fn];if(Tn.element===c){Yt=Tn;break}}Yt&&!Yt.allowOnlyTimelineStyles()&&Yt.setStyles([Y],null,$e.errors,se)}return Ft.length?Ft.map(Yt=>Yt.buildKeyframes()):[ob(c,[],[],[],0,Vt,"",!1)]}visitTrigger(t,c){}visitState(t,c){}visitTransition(t,c){}visitAnimateChild(t,c){const i=c.subInstructions.get(c.element);if(i){const f=c.createSubContext(t.options),M=c.currentTimeline.currentTime,I=this._visitSubInstructions(i,f,f.options);M!=I&&c.transformIntoNewTimeline(I)}c.previousNode=t}visitAnimateRef(t,c){const i=c.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],c,i),this.visitReference(t.animation,i),c.transformIntoNewTimeline(i.currentTimeline.currentTime),c.previousNode=t}_applyAnimationRefDelays(t,c,i){for(const f of t){const M=f?.delay;if(M){const I="number"==typeof M?M:Qd(xp(M,f?.params??{},c.errors));i.delayNextStep(I)}}}_visitSubInstructions(t,c,i){let M=c.currentTimeline.currentTime;const I=null!=i.duration?Qd(i.duration):null,Y=null!=i.delay?Qd(i.delay):null;return 0!==I&&t.forEach(se=>{const ce=c.appendInstructionToTimeline(se,I,Y);M=Math.max(M,ce.duration+ce.delay)}),M}visitReference(t,c){c.updateOptions(t.options,!0),Ya(this,t.animation,c),c.previousNode=t}visitSequence(t,c){const i=c.subContextCount;let f=c;const M=t.options;if(M&&(M.params||M.delay)&&(f=c.createSubContext(M),f.transformIntoNewTimeline(),null!=M.delay)){6==f.previousNode.type&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Pg);const I=Qd(M.delay);f.delayNextStep(I)}t.steps.length&&(t.steps.forEach(I=>Ya(this,I,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>i&&f.transformIntoNewTimeline()),c.previousNode=t}visitGroup(t,c){const i=[];let f=c.currentTimeline.currentTime;const M=t.options&&t.options.delay?Qd(t.options.delay):0;t.steps.forEach(I=>{const Y=c.createSubContext(t.options);M&&Y.delayNextStep(M),Ya(this,I,Y),f=Math.max(f,Y.currentTimeline.currentTime),i.push(Y.currentTimeline)}),i.forEach(I=>c.currentTimeline.mergeTimelineCollectedStyles(I)),c.transformIntoNewTimeline(f),c.previousNode=t}_visitTiming(t,c){if(t.dynamic){const i=t.strValue;return eb(c.params?xp(i,c.params,c.errors):i,c.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,c){const i=c.currentAnimateTimings=this._visitTiming(t.timings,c),f=c.currentTimeline;i.delay&&(c.incrementTime(i.delay),f.snapshotCurrentStyles());const M=t.style;5==M.type?this.visitKeyframes(M,c):(c.incrementTime(i.duration),this.visitStyle(M,c),f.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=t}visitStyle(t,c){const i=c.currentTimeline,f=c.currentAnimateTimings;!f&&i.hasCurrentStyleProperties()&&i.forwardFrame();const M=f&&f.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(M):i.setStyles(t.styles,M,c.errors,c.options),c.previousNode=t}visitKeyframes(t,c){const i=c.currentAnimateTimings,f=c.currentTimeline.duration,M=i.duration,Y=c.createSubContext().currentTimeline;Y.easing=i.easing,t.styles.forEach(se=>{Y.forwardTime((se.offset||0)*M),Y.setStyles(se.styles,se.easing,c.errors,c.options),Y.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(Y),c.transformIntoNewTimeline(f+M),c.previousNode=t}visitQuery(t,c){const i=c.currentTimeline.currentTime,f=t.options||{},M=f.delay?Qd(f.delay):0;M&&(6===c.previousNode.type||0==i&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Pg);let I=i;const Y=c.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!f.optional,c.errors);c.currentQueryTotal=Y.length;let se=null;Y.forEach((ce,Re)=>{c.currentQueryIndex=Re;const $e=c.createSubContext(t.options,ce);M&&$e.delayNextStep(M),ce===c.element&&(se=$e.currentTimeline),Ya(this,t.animation,$e),$e.currentTimeline.applyStylesToKeyframe(),I=Math.max(I,$e.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(I),se&&(c.currentTimeline.mergeTimelineCollectedStyles(se),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=t}visitStagger(t,c){const i=c.parentContext,f=c.currentTimeline,M=t.timings,I=Math.abs(M.duration),Y=I*(c.currentQueryTotal-1);let se=I*c.currentQueryIndex;switch(M.duration<0?"reverse":M.easing){case"reverse":se=Y-se;break;case"full":se=i.currentStaggerTime}const Re=c.currentTimeline;se&&Re.delayNextStep(se);const $e=Re.currentTime;Ya(this,t.animation,c),c.previousNode=t,i.currentStaggerTime=f.currentTime-$e+(f.startTime-i.currentTimeline.startTime)}}const Pg={};class vv{constructor(t,c,i,f,M,I,Y,se){this._driver=t,this.element=c,this.subInstructions=i,this._enterClassName=f,this._leaveClassName=M,this.errors=I,this.timelines=Y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=se||new bv(this._driver,c,0),Y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,c){if(!t)return;const i=t;let f=this.options;null!=i.duration&&(f.duration=Qd(i.duration)),null!=i.delay&&(f.delay=Qd(i.delay));const M=i.params;if(M){let I=f.params;I||(I=this.options.params={}),Object.keys(M).forEach(Y=>{(!c||!I.hasOwnProperty(Y))&&(I[Y]=xp(M[Y],I,this.errors))})}}_copyOptions(){const t={};if(this.options){const c=this.options.params;if(c){const i=t.params={};Object.keys(c).forEach(f=>{i[f]=c[f]})}}return t}createSubContext(t=null,c,i){const f=c||this.element,M=new vv(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,i||0));return M.previousNode=this.previousNode,M.currentAnimateTimings=this.currentAnimateTimings,M.options=this._copyOptions(),M.updateOptions(t),M.currentQueryIndex=this.currentQueryIndex,M.currentQueryTotal=this.currentQueryTotal,M.parentContext=this,this.subContextCount++,M}transformIntoNewTimeline(t){return this.previousNode=Pg,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,c,i){const f={duration:c??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},M=new tw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,f,t.stretchStartingKeyframe);return this.timelines.push(M),f}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,c,i,f,M,I){let Y=[];if(f&&Y.push(this.element),t.length>0){t=(t=t.replace(bM,"."+this._enterClassName)).replace(ab,"."+this._leaveClassName);let ce=this._driver.query(this.element,t,1!=i);0!==i&&(ce=i<0?ce.slice(ce.length+i,ce.length):ce.slice(0,i)),Y.push(...ce)}return!M&&0==Y.length&&I.push(function Q1(s){return new y.vHH(3014,!1)}()),Y}}class bv{constructor(t,c,i,f){this._driver=t,this.element=c,this.startTime=i,this._elementTimelineStylesLookup=f,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+t),c&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,c){return this.applyStylesToKeyframe(),new bv(this._driver,t,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,c){this._localTimelineStyles.set(t,c),this._globalTimelineStyles.set(t,c),this._styleSummary.set(t,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[c,i]of this._globalTimelineStyles)this._backFill.set(c,i||sd),this._currentKeyframe.set(c,sd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,c,i,f){c&&this._previousKeyframe.set("easing",c);const M=f&&f.params||{},I=function nw(s,t){const c=new Map;let i;return s.forEach(f=>{if("*"===f){i=i||t.keys();for(let M of i)c.set(M,sd)}else sf(f,c)}),c}(t,this._globalTimelineStyles);for(let[Y,se]of I){const ce=xp(se,M,i);this._pendingStyles.set(Y,ce),this._localTimelineStyles.has(Y)||this._backFill.set(Y,this._globalTimelineStyles.get(Y)??sd),this._updateStyle(Y,ce)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,c)=>{this._currentKeyframe.set(c,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,t)}))}snapshotCurrentStyles(){for(let[t,c]of this._localTimelineStyles)this._pendingStyles.set(t,c),this._updateStyle(t,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let c in this._currentKeyframe)t.push(c);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((c,i)=>{const f=this._styleSummary.get(i);(!f||c.time>f.time)&&this._updateStyle(i,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,c=new Set,i=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((Y,se)=>{const ce=sf(Y,new Map,this._backFill);ce.forEach((Re,$e)=>{"!"===Re?t.add($e):Re===sd&&c.add($e)}),i||ce.set("offset",se/this.duration),f.push(ce)});const M=t.size?mv(t.values()):[],I=c.size?mv(c.values()):[];if(i){const Y=f[0],se=new Map(Y);Y.set("offset",0),se.set("offset",1),f=[Y,se]}return ob(this.element,f,M,I,this.duration,this.startTime,this.easing,!1)}}class tw extends bv{constructor(t,c,i,f,M,I,Y=!1){super(t,c,I.delay),this.keyframes=i,this.preStyleProps=f,this.postStyleProps=M,this._stretchStartingKeyframe=Y,this.timings={duration:I.duration,delay:I.delay,easing:I.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:c,duration:i,easing:f}=this.timings;if(this._stretchStartingKeyframe&&c){const M=[],I=i+c,Y=c/I,se=sf(t[0]);se.set("offset",0),M.push(se);const ce=sf(t[0]);ce.set("offset",xv(Y)),M.push(ce);const Re=t.length-1;for(let $e=1;$e<=Re;$e++){let Vt=sf(t[$e]);const Ft=Vt.get("offset");Vt.set("offset",xv((c+Ft*i)/I)),M.push(Vt)}i=I,c=0,f="",t=M}return ob(this.element,t,this.preStyleProps,this.postStyleProps,i,c,f,!0)}}function xv(s,t=3){const c=Math.pow(10,t-1);return Math.round(s*c)/c}class wv{}const DM=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class EM extends wv{normalizePropertyName(t,c){return _v(t)}normalizeStyleValue(t,c,i,f){let M="";const I=i.toString().trim();if(DM.has(c)&&0!==i&&"0"!==i)if("number"==typeof i)M="px";else{const Y=i.match(/^[+-]?[\d\.]+([a-z]*)$/);Y&&0==Y[1].length&&f.push(function Jm(s,t){return new y.vHH(3005,!1)}())}return I+M}}function iw(s,t,c,i,f,M,I,Y,se,ce,Re,$e,Vt){return{type:0,element:s,triggerName:t,isRemovalTransition:f,fromState:c,fromStyles:M,toState:i,toStyles:I,timelines:Y,queriedElements:se,preStyleProps:ce,postStyleProps:Re,totalTime:$e,errors:Vt}}const lb={};class cb{constructor(t,c,i){this._triggerName=t,this.ast=c,this._stateStyles=i}match(t,c,i,f){return function rw(s,t,c,i,f){return s.some(M=>M(t,c,i,f))}(this.ast.matchers,t,c,i,f)}buildStyles(t,c,i){let f=this._stateStyles.get("*");return void 0!==t&&(f=this._stateStyles.get(t?.toString())||f),f?f.buildStyles(c,i):new Map}build(t,c,i,f,M,I,Y,se,ce,Re){const $e=[],Vt=this.ast.options&&this.ast.options.params||lb,Yt=this.buildStyles(i,Y&&Y.params||lb,$e),fn=se&&se.params||lb,Tn=this.buildStyles(f,fn,$e),qn=new Set,Si=new Map,Qr=new Map,Zi="void"===f,ba={params:TM(fn,Vt),delay:this.ast.options?.delay},lu=Re?[]:kg(t,c,this.ast.animation,M,I,Yt,Tn,ba,ce,$e);let Qo=0;if(lu.forEach(df=>{Qo=Math.max(df.duration+df.delay,Qo)}),$e.length)return iw(c,this._triggerName,i,f,Zi,Yt,Tn,[],[],Si,Qr,Qo,$e);lu.forEach(df=>{const Ap=df.element,gS=Jo(Si,Ap,new Set);df.preStyleProps.forEach(jg=>gS.add(jg));const kb=Jo(Qr,Ap,new Set);df.postStyleProps.forEach(jg=>kb.add(jg)),Ap!==c&&qn.add(Ap)});const uf=mv(qn.values());return iw(c,this._triggerName,i,f,Zi,Yt,Tn,lu,uf,Si,Qr,Qo)}}function TM(s,t){const c=n_(t);for(const i in s)s.hasOwnProperty(i)&&null!=s[i]&&(c[i]=s[i]);return c}class SM{constructor(t,c,i){this.styles=t,this.defaultParams=c,this.normalizer=i}buildStyles(t,c){const i=new Map,f=n_(this.defaultParams);return Object.keys(t).forEach(M=>{const I=t[M];null!==I&&(f[M]=I)}),this.styles.styles.forEach(M=>{"string"!=typeof M&&M.forEach((I,Y)=>{I&&(I=xp(I,f,c));const se=this.normalizer.normalizePropertyName(Y,c);I=this.normalizer.normalizeStyleValue(Y,se,I,c),i.set(Y,I)})}),i}}class CM{constructor(t,c,i){this.name=t,this.ast=c,this._normalizer=i,this.transitionFactories=[],this.states=new Map,c.states.forEach(f=>{this.states.set(f.name,new SM(f.style,f.options&&f.options.params||{},i))}),sw(this.states,"true","1"),sw(this.states,"false","0"),c.transitions.forEach(f=>{this.transitionFactories.push(new cb(t,f,this.states))}),this.fallbackTransition=function LM(s,t,c){return new cb(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(I,Y)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,c,i,f){return this.transitionFactories.find(I=>I.match(t,c,i,f))||null}matchStyles(t,c,i){return this.fallbackTransition.buildStyles(t,c,i)}}function sw(s,t,c){s.has(t)?s.has(c)||s.set(c,s.get(t)):s.has(c)&&s.set(t,s.get(c))}const AM=new Ig;class IM{constructor(t,c,i){this.bodyNode=t,this._driver=c,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,c){const i=[],M=nb(this._driver,c,i,[]);if(i.length)throw function eM(s){return new y.vHH(3503,!1)}();this._animations.set(t,M)}_buildPlayer(t,c,i){const f=t.element,M=G0(this._normalizer,t.keyframes,c,i);return this._driver.animate(f,M,t.duration,t.delay,t.easing,[],!0)}create(t,c,i={}){const f=[],M=this._animations.get(t);let I;const Y=new Map;if(M?(I=kg(this._driver,c,M,X0,fv,new Map,new Map,i,AM,f),I.forEach(Re=>{const $e=Jo(Y,Re.element,new Map);Re.postStyleProps.forEach(Vt=>$e.set(Vt,null))})):(f.push(function Fx(){return new y.vHH(3300,!1)}()),I=[]),f.length)throw function Nx(s){return new y.vHH(3504,!1)}();Y.forEach((Re,$e)=>{Re.forEach((Vt,Ft)=>{Re.set(Ft,this._driver.computeStyle($e,Ft,sd))})});const ce=ou(I.map(Re=>{const $e=Y.get(Re.element);return this._buildPlayer(Re,new Map,$e)}));return this._playersById.set(t,ce),ce.onDestroy(()=>this.destroy(t)),this.players.push(ce),ce}destroy(t){const c=this._getPlayer(t);c.destroy(),this._playersById.delete(t);const i=this.players.indexOf(c);i>=0&&this.players.splice(i,1)}_getPlayer(t){const c=this._playersById.get(t);if(!c)throw function Bx(s){return new y.vHH(3301,!1)}();return c}listen(t,c,i,f){const M=W0(c,"","","");return uv(this._getPlayer(t),i,M,f),()=>{}}command(t,c,i,f){if("register"==i)return void this.register(t,f[0]);if("create"==i)return void this.create(t,c,f[0]||{});const M=this._getPlayer(t);switch(i){case"play":M.play();break;case"pause":M.pause();break;case"reset":M.reset();break;case"restart":M.restart();break;case"finish":M.finish();break;case"init":M.init();break;case"setPosition":M.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(t)}}}const ow="ng-animate-queued",ub="ng-animate-disabled",FM=[],s_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wc="__ng_removed";class Mv{get params(){return this.options.params}constructor(t,c=""){this.namespaceId=c;const i=t&&t.hasOwnProperty("value");if(this.value=function uw(s){return s??null}(i?t.value:t),i){const M=n_(t);delete M.value,this.options=M}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const c=t.params;if(c){const i=this.options.params;Object.keys(c).forEach(f=>{null==i[f]&&(i[f]=c[f])})}}}const o_="void",Dv=new Mv(o_);class lw{constructor(t,c,i){this.id=t,this.hostElement=c,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mc(c,this._hostClassName)}listen(t,c,i,f){if(!this._triggers.has(c))throw function zx(s,t){return new y.vHH(3302,!1)}();if(null==i||0==i.length)throw function tM(s){return new y.vHH(3303,!1)}();if(!function BM(s){return"start"==s||"done"==s}(i))throw function nM(s,t){return new y.vHH(3400,!1)}();const M=Jo(this._elementListeners,t,[]),I={name:c,phase:i,callback:f};M.push(I);const Y=Jo(this._engine.statesByElement,t,new Map);return Y.has(c)||(Mc(t,Cg),Mc(t,Cg+"-"+c),Y.set(c,Dv)),()=>{this._engine.afterFlush(()=>{const se=M.indexOf(I);se>=0&&M.splice(se,1),this._triggers.has(c)||Y.delete(c)})}}register(t,c){return!this._triggers.has(t)&&(this._triggers.set(t,c),!0)}_getTrigger(t){const c=this._triggers.get(t);if(!c)throw function iM(s){return new y.vHH(3401,!1)}();return c}trigger(t,c,i,f=!0){const M=this._getTrigger(c),I=new cw(this.id,c,t);let Y=this._engine.statesByElement.get(t);Y||(Mc(t,Cg),Mc(t,Cg+"-"+c),this._engine.statesByElement.set(t,Y=new Map));let se=Y.get(c);const ce=new Mv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&se&&ce.absorbOptions(se.options),Y.set(c,ce),se||(se=Dv),ce.value!==o_&&se.value===ce.value){if(!function EE(s,t){const c=Object.keys(s),i=Object.keys(t);if(c.length!=i.length)return!1;for(let f=0;f<c.length;f++){const M=c[f];if(!t.hasOwnProperty(M)||s[M]!==t[M])return!1}return!0}(se.params,ce.params)){const fn=[],Tn=M.matchStyles(se.value,se.params,fn),qn=M.matchStyles(ce.value,ce.params,fn);fn.length?this._engine.reportError(fn):this._engine.afterFlush(()=>{bp(t,Tn),au(t,qn)})}return}const Vt=Jo(this._engine.playersByElement,t,[]);Vt.forEach(fn=>{fn.namespaceId==this.id&&fn.triggerName==c&&fn.queued&&fn.destroy()});let Ft=M.matchTransition(se.value,ce.value,t,ce.params),Yt=!1;if(!Ft){if(!f)return;Ft=M.fallbackTransition,Yt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:Ft,fromState:se,toState:ce,player:I,isFallbackTransition:Yt}),Yt||(Mc(t,ow),I.onStart(()=>{af(t,ow)})),I.onDone(()=>{let fn=this.players.indexOf(I);fn>=0&&this.players.splice(fn,1);const Tn=this._engine.playersByElement.get(t);if(Tn){let qn=Tn.indexOf(I);qn>=0&&Tn.splice(qn,1)}}),this.players.push(I),Vt.push(I),I}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(c=>c.delete(t)),this._elementListeners.forEach((c,i)=>{this._elementListeners.set(i,c.filter(f=>f.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const c=this._engine.playersByElement.get(t);c&&(c.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,c){const i=this._engine.driver.query(t,rf,!0);i.forEach(f=>{if(f[wc])return;const M=this._engine.fetchNamespacesByElement(f);M.size?M.forEach(I=>I.triggerLeaveAnimation(f,c,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(t,c,i,f){const M=this._engine.statesByElement.get(t),I=new Map;if(M){const Y=[];if(M.forEach((se,ce)=>{if(I.set(ce,se.value),this._triggers.has(ce)){const Re=this.trigger(t,ce,o_,f);Re&&Y.push(Re)}}),Y.length)return this._engine.markElementAsRemoved(this.id,t,!0,c,I),i&&ou(Y).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const c=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(c&&i){const f=new Set;c.forEach(M=>{const I=M.name;if(f.has(I))return;f.add(I);const se=this._triggers.get(I).fallbackTransition,ce=i.get(I)||Dv,Re=new Mv(o_),$e=new cw(this.id,I,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:I,transition:se,fromState:ce,toState:Re,player:$e,isFallbackTransition:!0})})}}removeNode(t,c){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,c),this.triggerLeaveAnimation(t,c,!0))return;let f=!1;if(i.totalAnimations){const M=i.players.length?i.playersByQueriedElement.get(t):[];if(M&&M.length)f=!0;else{let I=t;for(;I=I.parentNode;)if(i.statesByElement.get(I)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(t),f)i.markElementAsRemoved(this.id,t,!1,c);else{const M=t[wc];(!M||M===s_)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,c))}}insertNode(t,c){Mc(t,this._hostClassName)}drainQueuedTransitions(t){const c=[];return this._queue.forEach(i=>{const f=i.player;if(f.destroyed)return;const M=i.element,I=this._elementListeners.get(M);I&&I.forEach(Y=>{if(Y.name==i.triggerName){const se=W0(M,i.triggerName,i.fromState.value,i.toState.value);se._data=t,uv(i.player,Y.phase,se,Y.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):c.push(i)}),this._queue=[],c.sort((i,f)=>{const M=i.transition.ast.depCount,I=f.transition.ast.depCount;return 0==M||0==I?M-I:this._engine.driver.containsElement(i.element,f.element)?1:-1})}destroy(t){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class NM{_onRemovalComplete(t,c){this.onRemovalComplete(t,c)}constructor(t,c,i){this.bodyNode=t,this.driver=c,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,M)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(c=>{c.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,c){const i=new lw(t,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(i,c):(this.newHostElements.set(c,i),this.collectEnterElement(c)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,c){const i=this._namespaceList,f=this.namespacesByHostElement;if(i.length-1>=0){let I=!1,Y=this.driver.getParentElement(c);for(;Y;){const se=f.get(Y);if(se){const ce=i.indexOf(se);i.splice(ce+1,0,t),I=!0;break}Y=this.driver.getParentElement(Y)}I||i.unshift(t)}else i.push(t);return f.set(c,t),t}register(t,c){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,c)),i}registerTrigger(t,c,i){let f=this._namespaceLookup[t];f&&f.register(c,i)&&this.totalAnimations++}destroy(t,c){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const f=this._namespaceList.indexOf(i);f>=0&&this._namespaceList.splice(f,1),i.destroy(c),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const c=new Set,i=this.statesByElement.get(t);if(i)for(let f of i.values())if(f.namespaceId){const M=this._fetchNamespace(f.namespaceId);M&&c.add(M)}return c}trigger(t,c,i,f){if(Ev(c)){const M=this._fetchNamespace(t);if(M)return M.trigger(c,i,f),!0}return!1}insertNode(t,c,i,f){if(!Ev(c))return;const M=c[wc];if(M&&M.setForRemoval){M.setForRemoval=!1,M.setForMove=!0;const I=this.collectedLeaveElements.indexOf(c);I>=0&&this.collectedLeaveElements.splice(I,1)}if(t){const I=this._fetchNamespace(t);I&&I.insertNode(c,i)}f&&this.collectEnterElement(c)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,c){c?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mc(t,ub)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),af(t,ub))}removeNode(t,c,i){if(Ev(c)){const f=t?this._fetchNamespace(t):null;f?f.removeNode(c,i):this.markElementAsRemoved(t,c,!1,i);const M=this.namespacesByHostElement.get(c);M&&M.id!==t&&M.removeNode(c,i)}else this._onRemovalComplete(c,i)}markElementAsRemoved(t,c,i,f,M){this.collectedLeaveElements.push(c),c[wc]={namespaceId:t,setForRemoval:f,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:M}}listen(t,c,i,f,M){return Ev(c)?this._fetchNamespace(t).listen(c,i,f,M):()=>{}}_buildInstruction(t,c,i,f,M){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,f,t.fromState.options,t.toState.options,c,M)}destroyInnerAnimations(t){let c=this.driver.query(t,rf,!0);c.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(t,J0,!0),c.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const c=this.playersByElement.get(t);c&&c.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const c=this.playersByQueriedElement.get(t);c&&c.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ou(this.players).onDone(()=>t());t()})}processLeaveNode(t){const c=t[wc];if(c&&c.setForRemoval){if(t[wc]=s_,c.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(c.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,c.setForRemoval)}t.classList?.contains(ub)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,f)=>this._balanceNamespaceList(i,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Mc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{c=this._flushAnimations(i,t)}finally{for(let f=0;f<i.length;f++)i[f]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],c.length?ou(c).onDone(()=>{i.forEach(f=>f())}):i.forEach(f=>f())}}reportError(t){throw function Sg(s){return new y.vHH(3402,!1)}()}_flushAnimations(t,c){const i=new Ig,f=[],M=new Map,I=[],Y=new Map,se=new Map,ce=new Map,Re=new Set;this.disabledNodes.forEach(Qn=>{Re.add(Qn);const xi=this.driver.query(Qn,".ng-animate-queued",!0);for(let Li=0;Li<xi.length;Li++)Re.add(xi[Li])});const $e=this.bodyNode,Vt=Array.from(this.statesByElement.keys()),Ft=a_(Vt,this.collectedEnterElements),Yt=new Map;let fn=0;Ft.forEach((Qn,xi)=>{const Li=X0+fn++;Yt.set(xi,Li),Qn.forEach(Cr=>Mc(Cr,Li))});const Tn=[],qn=new Set,Si=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const xi=this.collectedLeaveElements[Qn],Li=xi[wc];Li&&Li.setForRemoval&&(Tn.push(xi),qn.add(xi),Li.hasAnimation?this.driver.query(xi,".ng-star-inserted",!0).forEach(Cr=>qn.add(Cr)):Si.add(xi))}const Qr=new Map,Zi=a_(Vt,Array.from(qn));Zi.forEach((Qn,xi)=>{const Li=fv+fn++;Qr.set(xi,Li),Qn.forEach(Cr=>Mc(Cr,Li))}),t.push(()=>{Ft.forEach((Qn,xi)=>{const Li=Yt.get(xi);Qn.forEach(Cr=>af(Cr,Li))}),Zi.forEach((Qn,xi)=>{const Li=Qr.get(xi);Qn.forEach(Cr=>af(Cr,Li))}),Tn.forEach(Qn=>{this.processLeaveNode(Qn)})});const ba=[],lu=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(c).forEach(Li=>{const Cr=Li.player,xa=Li.element;if(ba.push(Cr),this.collectedEnterElements.length){const hl=xa[wc];if(hl&&hl.setForMove){if(hl.previousTriggersValues&&hl.previousTriggersValues.has(Li.triggerName)){const Yg=hl.previousTriggersValues.get(Li.triggerName),ld=this.statesByElement.get(Li.element);if(ld&&ld.has(Li.triggerName)){const c1=ld.get(Li.triggerName);c1.value=Yg,ld.set(Li.triggerName,c1)}}return void Cr.destroy()}}const hf=!$e||!this.driver.containsElement($e,xa),cu=Qr.get(xa),f_=Yt.get(xa),Ks=this._buildInstruction(Li,i,f_,cu,hf);if(Ks.errors&&Ks.errors.length)return void lu.push(Ks);if(hf)return Cr.onStart(()=>bp(xa,Ks.fromStyles)),Cr.onDestroy(()=>au(xa,Ks.toStyles)),void f.push(Cr);if(Li.isFallbackTransition)return Cr.onStart(()=>bp(xa,Ks.fromStyles)),Cr.onDestroy(()=>au(xa,Ks.toStyles)),void f.push(Cr);const bS=[];Ks.timelines.forEach(hl=>{hl.stretchStartingKeyframe=!0,this.disabledNodes.has(hl.element)||bS.push(hl)}),Ks.timelines=bS,i.append(xa,Ks.timelines),I.push({instruction:Ks,player:Cr,element:xa}),Ks.queriedElements.forEach(hl=>Jo(Y,hl,[]).push(Cr)),Ks.preStyleProps.forEach((hl,Yg)=>{if(hl.size){let ld=se.get(Yg);ld||se.set(Yg,ld=new Set),hl.forEach((c1,KD)=>ld.add(KD))}}),Ks.postStyleProps.forEach((hl,Yg)=>{let ld=ce.get(Yg);ld||ce.set(Yg,ld=new Set),hl.forEach((c1,KD)=>ld.add(KD))})});if(lu.length){const Qn=[];lu.forEach(xi=>{Qn.push(function rM(s,t){return new y.vHH(3505,!1)}())}),ba.forEach(xi=>xi.destroy()),this.reportError(Qn)}const Qo=new Map,uf=new Map;I.forEach(Qn=>{const xi=Qn.element;i.has(xi)&&(uf.set(xi,xi),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,Qo))}),f.forEach(Qn=>{const xi=Qn.element;this._getPreviousPlayers(xi,!1,Qn.namespaceId,Qn.triggerName,null).forEach(Cr=>{Jo(Qo,xi,[]).push(Cr),Cr.destroy()})});const df=Tn.filter(Qn=>l_(Qn,se,ce)),Ap=new Map;hw(Ap,this.driver,Si,ce,sd).forEach(Qn=>{l_(Qn,se,ce)&&df.push(Qn)});const kb=new Map;Ft.forEach((Qn,xi)=>{hw(kb,this.driver,new Set(Qn),se,"!")}),df.forEach(Qn=>{const xi=Ap.get(Qn),Li=kb.get(Qn);Ap.set(Qn,new Map([...xi?.entries()??[],...Li?.entries()??[]]))});const jg=[],yS=[],vS={};I.forEach(Qn=>{const{element:xi,player:Li,instruction:Cr}=Qn;if(i.has(xi)){if(Re.has(xi))return Li.onDestroy(()=>au(xi,Cr.toStyles)),Li.disabled=!0,Li.overrideTotalTime(Cr.totalTime),void f.push(Li);let xa=vS;if(uf.size>1){let cu=xi;const f_=[];for(;cu=cu.parentNode;){const Ks=uf.get(cu);if(Ks){xa=Ks;break}f_.push(cu)}f_.forEach(Ks=>uf.set(Ks,xa))}const hf=this._buildAnimation(Li.namespaceId,Cr,Qo,M,kb,Ap);if(Li.setRealPlayer(hf),xa===vS)jg.push(Li);else{const cu=this.playersByElement.get(xa);cu&&cu.length&&(Li.parentPlayer=ou(cu)),f.push(Li)}}else bp(xi,Cr.fromStyles),Li.onDestroy(()=>au(xi,Cr.toStyles)),yS.push(Li),Re.has(xi)&&f.push(Li)}),yS.forEach(Qn=>{const xi=M.get(Qn.element);if(xi&&xi.length){const Li=ou(xi);Qn.setRealPlayer(Li)}}),f.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<Tn.length;Qn++){const xi=Tn[Qn],Li=xi[wc];if(af(xi,fv),Li&&Li.hasAnimation)continue;let Cr=[];if(Y.size){let hf=Y.get(xi);hf&&hf.length&&Cr.push(...hf);let cu=this.driver.query(xi,J0,!0);for(let f_=0;f_<cu.length;f_++){let Ks=Y.get(cu[f_]);Ks&&Ks.length&&Cr.push(...Ks)}}const xa=Cr.filter(hf=>!hf.destroyed);xa.length?zM(this,xi,xa):this.processLeaveNode(xi)}return Tn.length=0,jg.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const xi=this.players.indexOf(Qn);this.players.splice(xi,1)}),Qn.play()}),jg}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,c,i,f,M){let I=[];if(c){const Y=this.playersByQueriedElement.get(t);Y&&(I=Y)}else{const Y=this.playersByElement.get(t);if(Y){const se=!M||M==o_;Y.forEach(ce=>{ce.queued||!se&&ce.triggerName!=f||I.push(ce)})}}return(i||f)&&(I=I.filter(Y=>!(i&&i!=Y.namespaceId||f&&f!=Y.triggerName))),I}_beforeAnimationBuild(t,c,i){const M=c.element,I=c.isRemovalTransition?void 0:t,Y=c.isRemovalTransition?void 0:c.triggerName;for(const se of c.timelines){const ce=se.element,Re=ce!==M,$e=Jo(i,ce,[]);this._getPreviousPlayers(ce,Re,I,Y,c.toState).forEach(Ft=>{const Yt=Ft.getRealPlayer();Yt.beforeDestroy&&Yt.beforeDestroy(),Ft.destroy(),$e.push(Ft)})}bp(M,c.fromStyles)}_buildAnimation(t,c,i,f,M,I){const Y=c.triggerName,se=c.element,ce=[],Re=new Set,$e=new Set,Vt=c.timelines.map(Yt=>{const fn=Yt.element;Re.add(fn);const Tn=fn[wc];if(Tn&&Tn.removedBeforeQueried)return new gp(Yt.duration,Yt.delay);const qn=fn!==se,Si=function DE(s){const t=[];return fw(s,t),t}((i.get(fn)||FM).map(Qo=>Qo.getRealPlayer())).filter(Qo=>!!Qo.element&&Qo.element===fn),Qr=M.get(fn),Zi=I.get(fn),ba=G0(this._normalizer,Yt.keyframes,Qr,Zi),lu=this._buildPlayer(Yt,ba,Si);if(Yt.subTimeline&&f&&$e.add(fn),qn){const Qo=new cw(t,Y,fn);Qo.setRealPlayer(lu),ce.push(Qo)}return lu});ce.forEach(Yt=>{Jo(this.playersByQueriedElement,Yt.element,[]).push(Yt),Yt.onDone(()=>function ME(s,t,c){let i=s.get(t);if(i){if(i.length){const f=i.indexOf(c);i.splice(f,1)}0==i.length&&s.delete(t)}return i}(this.playersByQueriedElement,Yt.element,Yt))}),Re.forEach(Yt=>Mc(Yt,$x));const Ft=ou(Vt);return Ft.onDestroy(()=>{Re.forEach(Yt=>af(Yt,$x)),au(se,c.toStyles)}),$e.forEach(Yt=>{Jo(f,Yt,[]).push(Ft)}),Ft}_buildPlayer(t,c,i){return c.length>0?this.driver.animate(t.element,c,t.duration,t.delay,t.easing,i):new gp(t.duration,t.delay)}}class cw{constructor(t,c,i){this.namespaceId=t,this.triggerName=c,this.element=i,this._player=new gp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((c,i)=>{c.forEach(f=>uv(t,i,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const c=this._player;c.triggerCallback&&t.onStart(()=>c.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,c){Jo(this._queuedCallbacks,t,[]).push(c)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const c=this._player;c.triggerCallback&&c.triggerCallback(t)}}function Ev(s){return s&&1===s.nodeType}function dw(s,t){const c=s.style.display;return s.style.display=t??"none",c}function hw(s,t,c,i,f){const M=[];c.forEach(se=>M.push(dw(se)));const I=[];i.forEach((se,ce)=>{const Re=new Map;se.forEach($e=>{const Vt=t.computeStyle(ce,$e,f);Re.set($e,Vt),(!Vt||0==Vt.length)&&(ce[wc]=aw,I.push(ce))}),s.set(ce,Re)});let Y=0;return c.forEach(se=>dw(se,M[Y++])),I}function a_(s,t){const c=new Map;if(s.forEach(Y=>c.set(Y,[])),0==t.length)return c;const f=new Set(t),M=new Map;function I(Y){if(!Y)return 1;let se=M.get(Y);if(se)return se;const ce=Y.parentNode;return se=c.has(ce)?ce:f.has(ce)?1:I(ce),M.set(Y,se),se}return t.forEach(Y=>{const se=I(Y);1!==se&&c.get(se).push(Y)}),c}function Mc(s,t){s.classList?.add(t)}function af(s,t){s.classList?.remove(t)}function zM(s,t,c){ou(c).onDone(()=>s.processLeaveNode(t))}function fw(s,t){for(let c=0;c<s.length;c++){const i=s[c];i instanceof C0?fw(i.players,t):t.push(i)}}function l_(s,t,c){const i=c.get(s);if(!i)return!1;let f=t.get(s);return f?i.forEach(M=>f.add(M)):t.set(s,i),c.delete(s),!0}class Tv{constructor(t,c,i){this.bodyNode=t,this._driver=c,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(f,M)=>{},this._transitionEngine=new NM(t,c,i),this._timelineEngine=new IM(t,c,i),this._transitionEngine.onRemovalComplete=(f,M)=>this.onRemovalComplete(f,M)}registerTrigger(t,c,i,f,M){const I=t+"-"+f;let Y=this._triggerCache[I];if(!Y){const se=[],Re=nb(this._driver,M,se,[]);if(se.length)throw function Ox(s,t){return new y.vHH(3404,!1)}();Y=function wE(s,t,c){return new CM(s,t,c)}(f,Re,this._normalizer),this._triggerCache[I]=Y}this._transitionEngine.registerTrigger(c,f,Y)}register(t,c){this._transitionEngine.register(t,c)}destroy(t,c){this._transitionEngine.destroy(t,c)}onInsert(t,c,i,f){this._transitionEngine.insertNode(t,c,i,f)}onRemove(t,c,i){this._transitionEngine.removeNode(t,c,i)}disableAnimations(t,c){this._transitionEngine.markElementAsDisabled(t,c)}process(t,c,i,f){if("@"==i.charAt(0)){const[M,I]=t_(i);this._timelineEngine.command(M,c,I,f)}else this._transitionEngine.trigger(t,c,i,f)}listen(t,c,i,f,M){if("@"==i.charAt(0)){const[I,Y]=t_(i);return this._timelineEngine.listen(I,c,Y,M)}return this._transitionEngine.listen(t,c,i,f,M)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let YM=(()=>{class t{constructor(i,f,M){this._element=i,this._startStyles=f,this._endStyles=M,this._state=0;let I=t.initialStylesByElement.get(i);I||t.initialStylesByElement.set(i,I=new Map),this._initialStyles=I}start(){this._state<1&&(this._startStyles&&au(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(au(this._element,this._initialStyles),this._endStyles&&(au(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bp(this._element,this._endStyles),this._endStyles=null),au(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function c_(s){let t=null;return s.forEach((c,i)=>{(function pw(s){return"display"===s||"position"===s})(i)&&(t=t||new Map,t.set(i,c))}),t}class mw{constructor(t,c,i,f){this.element=t,this.keyframes=c,this.options=i,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const c=[];return t.forEach(i=>{c.push(Object.fromEntries(i))}),c}_triggerWebAnimation(t,c,i){return t.animate(this._convertKeyframesToObject(c),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,f)=>{"offset"!==f&&t.set(f,this._finished?i:qx(this.element,f))}),this.currentSnapshot=t}triggerCallback(t){const c="start"===t?this._onStartFns:this._onDoneFns;c.forEach(i=>i()),c.length=0}}class _w{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,c){return!1}containsElement(t,c){return Ux(t,c)}getParentElement(t){return Z0(t)}query(t,c,i){return Vx(t,c,i)}computeStyle(t,c,i){return window.getComputedStyle(t)[c]}animate(t,c,i,f,M,I=[]){const se={duration:i,delay:f,fill:0==f?"both":"forwards"};M&&(se.easing=M);const ce=new Map,Re=I.filter(Ft=>Ft instanceof mw);(function hM(s,t){return 0===s||0===t})(i,f)&&Re.forEach(Ft=>{Ft.currentSnapshot.forEach((Yt,fn)=>ce.set(fn,Yt))});let $e=function uM(s){return s.length?s[0]instanceof Map?s:s.map(t=>Gx(t)):[]}(c).map(Ft=>sf(Ft));$e=function fM(s,t,c){if(c.size&&t.length){let i=t[0],f=[];if(c.forEach((M,I)=>{i.has(I)||f.push(I),i.set(I,M)}),f.length)for(let M=1;M<t.length;M++){let I=t[M];f.forEach(Y=>I.set(Y,qx(s,Y)))}}return t}(t,$e,ce);const Vt=function jM(s,t){let c=null,i=null;return Array.isArray(t)&&t.length?(c=c_(t[0]),t.length>1&&(i=c_(t[t.length-1]))):t instanceof Map&&(c=c_(t)),c||i?new YM(s,c,i):null}(t,$e);return new mw(t,$e,se,Vt)}}let Sv=(()=>{var s;class t extends Xb{constructor(i,f){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(f.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(i){const f=this._nextAnimationId.toString();this._nextAnimationId++;const M=Array.isArray(i)?S0(i):i;return db(this._renderer,null,f,"register",[M]),new UM(f,this._renderer)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(y.FYo),y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();class UM extends m1{constructor(t,c){super(),this._id=t,this._renderer=c}create(t,c){return new VM(this._id,t,c||{},this._renderer)}}class VM{constructor(t,c,i,f){this.id=t,this.element=c,this._renderer=f,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,c){return this._renderer.listen(this.element,`@@${this.id}:${t}`,c)}_command(t,...c){return db(this._renderer,this.element,this.id,t,c)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function db(s,t,c,i,f){return s.setProperty(t,`@@${c}:${i}`,f)}const gw="@.disabled";let yw=(()=>{var s;class t{constructor(i,f,M){this.delegate=i,this.engine=f,this._zone=M,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,f.onRemovalComplete=(I,Y)=>{const se=Y?.parentNode(I);se&&Y.removeChild(se,I)}}createRenderer(i,f){const I=this.delegate.createRenderer(i,f);if(!(i&&f&&f.data&&f.data.animation)){let $e=this._rendererCache.get(I);return $e||($e=new Og("",I,this.engine,()=>this._rendererCache.delete(I)),this._rendererCache.set(I,$e)),$e}const Y=f.id,se=f.id+"-"+this._currentId;this._currentId++,this.engine.register(se,i);const ce=$e=>{Array.isArray($e)?$e.forEach(ce):this.engine.registerTrigger(Y,se,i,$e.name,$e)};return f.data.animation.forEach(ce),new HM(this,se,I,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,f,M){i>=0&&i<this._microtaskId?this._zone.run(()=>f(M)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(I=>{const[Y,se]=I;Y(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,M]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(y.FYo),y.LFG(Tv),y.LFG(y.R0b))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})();class Og{constructor(t,c,i,f){this.namespaceId=t,this.delegate=c,this.engine=i,this._onDestroy=f}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,c){return this.delegate.createElement(t,c)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,c){this.delegate.appendChild(t,c),this.engine.onInsert(this.namespaceId,c,t,!1)}insertBefore(t,c,i,f=!0){this.delegate.insertBefore(t,c,i),this.engine.onInsert(this.namespaceId,c,t,f)}removeChild(t,c,i){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(t,c){return this.delegate.selectRootElement(t,c)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,c,i,f){this.delegate.setAttribute(t,c,i,f)}removeAttribute(t,c,i){this.delegate.removeAttribute(t,c,i)}addClass(t,c){this.delegate.addClass(t,c)}removeClass(t,c){this.delegate.removeClass(t,c)}setStyle(t,c,i,f){this.delegate.setStyle(t,c,i,f)}removeStyle(t,c,i){this.delegate.removeStyle(t,c,i)}setProperty(t,c,i){"@"==c.charAt(0)&&c==gw?this.disableAnimations(t,!!i):this.delegate.setProperty(t,c,i)}setValue(t,c){this.delegate.setValue(t,c)}listen(t,c,i){return this.delegate.listen(t,c,i)}disableAnimations(t,c){this.engine.disableAnimations(t,c)}}class HM extends Og{constructor(t,c,i,f,M){super(c,i,f,M),this.factory=t,this.namespaceId=c}setProperty(t,c,i){"@"==c.charAt(0)?"."==c.charAt(1)&&c==gw?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,c.slice(1),i):this.delegate.setProperty(t,c,i)}listen(t,c,i){if("@"==c.charAt(0)){const f=function $M(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(t);let M=c.slice(1),I="";return"@"!=M.charAt(0)&&([M,I]=function vw(s){const t=s.indexOf(".");return[s.substring(0,t),s.slice(t+1)]}(M)),this.engine.listen(this.namespaceId,f,M,I,Y=>{this.factory.scheduleListenerCallback(Y._data||-1,i,Y)})}return this.delegate.listen(t,c,i)}}const ww=[{provide:Xb,useClass:Sv},{provide:wv,useFactory:function hb(){return new EM}},{provide:Tv,useClass:(()=>{var s;class t extends Tv{constructor(i,f,M,I){super(i.body,f,M)}ngOnDestroy(){this.flush()}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J),y.LFG(Hx),y.LFG(wv),y.LFG(y.z2F))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),t})()},{provide:y.FYo,useFactory:function xw(s,t,c){return new yw(s,t,c)},deps:[hn,Tv,y.R0b]}],Lv=[{provide:Hx,useFactory:()=>new _w},{provide:y.QbO,useValue:"BrowserAnimations"},...ww],fb=[{provide:Hx,useClass:lM},{provide:y.QbO,useValue:"NoopAnimations"},...ww];let Av,GM=(()=>{var s;class t{static withConfig(i){return{ngModule:t,providers:i.disableAnimations?fb:Lv}}}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:Lv,imports:[Su]}),t})();try{Av=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Av=!1}let Rg,Ep,eh=(()=>{var s;class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function Va(s){return s===Do}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Av)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(y.Lbi))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function Dp(s){return function Sw(){if(null==Rg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rg=!0}))}finally{Rg=Rg||!1}return Rg}()?s:!!s.capture}function Cw(){if(null==Ep){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ep=!1,Ep;if("scrollBehavior"in document.documentElement.style)Ep=!0;else{const s=Element.prototype.scrollTo;Ep=!!s&&!/\{\s*\[native code\]\s*\}/.test(s.toString())}}return Ep}function Iv(s){return s.composedPath?s.composedPath()[0]:s.target}function mb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function bb(s){return Array.isArray(s)?s:[s]}function qs(s){return null==s?"":"string"==typeof s?s:`${s}px`}function xb(s){return s instanceof y.SBq?s.nativeElement:s}var TT=G(836),wb=G(3620);const Mb=new Set;let Sp,Vw=(()=>{var s;class t{constructor(i,f){this._platform=i,this._nonce=f,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):d_}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function Hw(s,t){if(!Mb.has(s))try{Sp||(Sp=document.createElement("style"),t&&(Sp.nonce=t),Sp.setAttribute("type","text/css"),document.head.appendChild(Sp)),Sp.sheet&&(Sp.sheet.insertRule(`@media ${s} {body{ }}`,0),Mb.add(s))}catch(c){console.error(c)}}(i,this._nonce),this._matchMedia(i)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(eh),y.LFG(y.Ojb,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function d_(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}let Ov=(()=>{var s;class t{constructor(i,f){this._mediaMatcher=i,this._zone=f,this._queries=new Map,this._destroySubject=new Lt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Db(bb(i)).some(M=>this._registerQuery(M).mql.matches)}observe(i){let I=we(Db(bb(i)).map(Y=>this._registerQuery(Y).observable));return I=Ue(I.pipe((0,bt.q)(1)),I.pipe((0,TT.T)(1),(0,wb.b)(0))),I.pipe((0,O.U)(Y=>{const se={matches:!1,breakpoints:{}};return Y.forEach(({matches:ce,query:Re})=>{se.matches=se.matches||ce,se.breakpoints[Re]=ce}),se}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const f=this._mediaMatcher.matchMedia(i),I={observable:new Hs.y(Y=>{const se=ce=>this._zone.run(()=>Y.next(ce));return f.addListener(se),()=>{f.removeListener(se)}}).pipe($t(f),(0,O.U)(({matches:Y})=>({query:i,matches:Y})),(0,X.R)(this._destroySubject)),mql:f};return this._queries.set(i,I),I}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(Vw),y.LFG(y.R0b))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();function Db(s){return s.map(t=>t.split(",")).reduce((t,c)=>t.concat(c)).map(t=>t.trim())}const e1="cdk-high-contrast-black-on-white",t1="cdk-high-contrast-white-on-black",Sb="cdk-high-contrast-active";let ND=(()=>{var s;class t{constructor(i,f){this._platform=i,this._document=f,this._breakpointSubscription=(0,y.f3M)(Ov).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const f=this._document.defaultView||window,M=f&&f.getComputedStyle?f.getComputedStyle(i):null,I=(M&&M.backgroundColor||"").replace(/ /g,"");switch(i.remove(),I){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(Sb,e1,t1),this._hasCheckedHighContrastMode=!0;const f=this.getHighContrastMode();1===f?i.add(Sb,e1):2===f&&i.add(Sb,t1)}}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(eh),y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();const n1=new y.OlP("cdk-dir-doc",{providedIn:"root",factory:function zD(){return(0,y.f3M)(J)}}),r1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jT=(()=>{var s;class t{constructor(i){this.value="ltr",this.change=new y.vpe,i&&(this.value=function s1(s){const t=s?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?r1.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(n1,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),Cp=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})();const VD=new y.OlP("mat-sanity-checks",{providedIn:"root",factory:function WT(){return!0}});let h_=(()=>{var s;class t{constructor(i,f,M){this._sanityChecks=f,this._document=M,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!mb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(ND),y.LFG(VD,8),y.LFG(J))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Cp,Cp]}),t})();class Ke{constructor(t,c,i,f=!1){this._renderer=t,this.element=c,this.config=i,this._animationForciblyDisabledThroughCss=f,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rt=Dp({passive:!0,capture:!0});class Bt{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const c=Iv(t);c&&this._events.get(t.type)?.forEach((i,f)=>{(f===c||f.contains(c))&&i.forEach(M=>M.handleEvent(t))})}}addHandler(t,c,i,f){const M=this._events.get(c);if(M){const I=M.get(i);I?I.add(f):M.set(i,new Set([f]))}else this._events.set(c,new Map([[i,new Set([f])]])),t.runOutsideAngular(()=>{document.addEventListener(c,this._delegateEventHandler,rt)})}removeHandler(t,c,i){const f=this._events.get(t);if(!f)return;const M=f.get(c);M&&(M.delete(i),0===M.size&&f.delete(c),0===f.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,rt)))}}const sn={enterDuration:225,exitDuration:150},Jn=Dp({passive:!0,capture:!0}),en=["mousedown","touchstart"],Ti=["mouseup","mouseleave","touchend","touchcancel"];class Oi{constructor(t,c,i,f){this._target=t,this._ngZone=c,this._platform=f,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,f.isBrowser&&(this._containerElement=xb(i))}fadeInRipple(t,c,i={}){const f=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),M={...sn,...i.animation};i.centered&&(t=f.left+f.width/2,c=f.top+f.height/2);const I=i.radius||function Ur(s,t,c){const i=Math.max(Math.abs(s-c.left),Math.abs(s-c.right)),f=Math.max(Math.abs(t-c.top),Math.abs(t-c.bottom));return Math.sqrt(i*i+f*f)}(t,c,f),Y=t-f.left,se=c-f.top,ce=M.enterDuration,Re=document.createElement("div");Re.classList.add("mat-ripple-element"),Re.style.left=Y-I+"px",Re.style.top=se-I+"px",Re.style.height=2*I+"px",Re.style.width=2*I+"px",null!=i.color&&(Re.style.backgroundColor=i.color),Re.style.transitionDuration=`${ce}ms`,this._containerElement.appendChild(Re);const $e=window.getComputedStyle(Re),Ft=$e.transitionDuration,Yt="none"===$e.transitionProperty||"0s"===Ft||"0s, 0s"===Ft||0===f.width&&0===f.height,fn=new Ke(this,Re,i,Yt);Re.style.transform="scale3d(1, 1, 1)",fn.state=0,i.persistent||(this._mostRecentTransientRipple=fn);let Tn=null;return!Yt&&(ce||M.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const qn=()=>this._finishRippleTransition(fn),Si=()=>this._destroyRipple(fn);Re.addEventListener("transitionend",qn),Re.addEventListener("transitioncancel",Si),Tn={onTransitionEnd:qn,onTransitionCancel:Si}}),this._activeRipples.set(fn,Tn),(Yt||!ce)&&this._finishRippleTransition(fn),fn}fadeOutRipple(t){if(2===t.state||3===t.state)return;const c=t.element,i={...sn,...t.config.animation};c.style.transitionDuration=`${i.exitDuration}ms`,c.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const c=xb(t);!this._platform.isBrowser||!c||c===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=c,en.forEach(i=>{Oi._eventManager.addHandler(this._ngZone,i,c,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ti.forEach(c=>{this._triggerElement.addEventListener(c,this,Jn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const c=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!c||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const c=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==c&&(t.element.removeEventListener("transitionend",c.onTransitionEnd),t.element.removeEventListener("transitioncancel",c.onTransitionCancel)),t.element.remove()}_onMousedown(t){const c=function ID(s){return 0===s.buttons||0===s.offsetX&&0===s.offsetY}(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!c&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!function kD(s){const t=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const c=t.changedTouches;if(c)for(let i=0;i<c.length;i++)this.fadeInRipple(c[i].clientX,c[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(en.forEach(c=>Oi._eventManager.removeHandler(c,t,this)),this._pointerUpEventsRegistered&&Ti.forEach(c=>t.removeEventListener(c,this,Jn)))}}Oi._eventManager=new Bt;let Lp=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[h_,h_]}),t})(),bC=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[h_,Lp,h_]}),t})();var xC=G(4266);const wC=["addListener","removeListener"],MC=["addEventListener","removeEventListener"],DC=["on","off"];function HD(s,t,c,i){if((0,oo.m)(c)&&(i=c,c=void 0),i)return HD(s,t,c).pipe(K(i));const[f,M]=function SC(s){return(0,oo.m)(s.addEventListener)&&(0,oo.m)(s.removeEventListener)}(s)?MC.map(I=>Y=>s[I](t,Y,c)):function EC(s){return(0,oo.m)(s.addListener)&&(0,oo.m)(s.removeListener)}(s)?wC.map(QT(s,t)):function TC(s){return(0,oo.m)(s.on)&&(0,oo.m)(s.off)}(s)?DC.map(QT(s,t)):[];if(!f&&(0,xC.z)(s))return(0,Ct.z)(I=>HD(I,t,c))((0,Ye.Xf)(s));if(!f)throw new TypeError("Invalid event target");return new Hs.y(I=>{const Y=(...se)=>I.next(1<se.length?se:se[0]);return f(Y),()=>M(Y)})}function QT(s,t){return c=>i=>s[c](t,i)}var eS=G(1954);const Ib={schedule(s){let t=requestAnimationFrame,c=cancelAnimationFrame;const{delegate:i}=Ib;i&&(t=i.requestAnimationFrame,c=i.cancelAnimationFrame);const f=t(M=>{c=void 0,s(M)});return new Rt.w0(()=>c?.(f))},requestAnimationFrame(...s){const{delegate:t}=Ib;return(t?.requestAnimationFrame||requestAnimationFrame)(...s)},cancelAnimationFrame(...s){const{delegate:t}=Ib;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...s)},delegate:void 0};var tS=G(2631);new class LC extends tS.v{flush(t){this._active=!0;const c=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let f;t=t||i.shift();do{if(f=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===c&&i.shift());if(this._active=!1,f){for(;(t=i[0])&&t.id===c&&i.shift();)t.unsubscribe();throw f}}}(class CC extends eS.o{constructor(t,c){super(t,c),this.scheduler=t,this.work=c}requestAsyncId(t,c,i=0){return null!==i&&i>0?super.requestAsyncId(t,c,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ib.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,c,i=0){var f;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,c,i);const{actions:M}=t;null!=c&&(null===(f=M[M.length-1])||void 0===f?void 0:f.id)!==c&&(Ib.cancelAnimationFrame(c),t._scheduled=void 0)}});let $D,IC=1;const a1={};function nS(s){return s in a1&&(delete a1[s],!0)}const kC={setImmediate(s){const t=IC++;return a1[t]=!0,$D||($D=Promise.resolve()),$D.then(()=>nS(t)&&s()),t},clearImmediate(s){nS(s)}},{setImmediate:PC,clearImmediate:OC}=kC,l1={setImmediate(...s){const{delegate:t}=l1;return(t?.setImmediate||PC)(...s)},clearImmediate(s){const{delegate:t}=l1;return(t?.clearImmediate||OC)(s)},delegate:void 0};new class FC extends tS.v{flush(t){this._active=!0;const c=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let f;t=t||i.shift();do{if(f=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===c&&i.shift());if(this._active=!1,f){for(;(t=i[0])&&t.id===c&&i.shift();)t.unsubscribe();throw f}}}(class RC extends eS.o{constructor(t,c){super(t,c),this.scheduler=t,this.work=c}requestAsyncId(t,c,i=0){return null!==i&&i>0?super.requestAsyncId(t,c,i):(t.actions.push(this),t._scheduled||(t._scheduled=l1.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,c,i=0){var f;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,c,i);const{actions:M}=t;null!=c&&(null===(f=M[M.length-1])||void 0===f?void 0:f.id)!==c&&(l1.clearImmediate(c),t._scheduled===c&&(t._scheduled=void 0))}});var iS=G(6321),zC=G(671),jC=G(93);function rS(s,t=iS.z){return function BC(s){return(0,Qe.e)((t,c)=>{let i=!1,f=null,M=null,I=!1;const Y=()=>{if(M?.unsubscribe(),M=null,i){i=!1;const ce=f;f=null,c.next(ce)}I&&c.complete()},se=()=>{M=null,I&&c.complete()};t.subscribe((0,he.x)(c,ce=>{i=!0,f=ce,M||(0,Ye.Xf)(s(ce)).subscribe(M=(0,he.x)(c,Y,se))},()=>{I=!0,(!i||!M||M.closed)&&c.complete()}))})}(()=>function YC(s=0,t,c=iS.P){let i=-1;return null!=t&&((0,zC.K)(t)?c=t:i=t),new Hs.y(f=>{let M=(0,jC.q)(s)?+s-c.now():s;M<0&&(M=0);let I=0;return c.schedule(function(){f.closed||(f.next(I++),0<=i?this.schedule(void 0,i):f.complete())},M)})}(s,t))}let VC=(()=>{var s;class t{constructor(i,f,M){this._ngZone=i,this._platform=f,this._scrolled=new Lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=M}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const f=this.scrollContainers.get(i);f&&(f.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new Hs.y(f=>{this._globalSubscription||this._addGlobalListener();const M=i>0?this._scrolled.pipe(rS(i)).subscribe(f):this._scrolled.subscribe(f);return this._scrolledCount++,()=>{M.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Gn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,f)=>this.deregister(f)),this._scrolled.complete()}ancestorScrolled(i,f){const M=this.getAncestorScrollContainers(i);return this.scrolled(f).pipe((0,Dt.h)(I=>!I||M.indexOf(I)>-1))}getAncestorScrollContainers(i){const f=[];return this.scrollContainers.forEach((M,I)=>{this._scrollableContainsElement(I,i)&&f.push(I)}),f}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,f){let M=xb(f),I=i.getElementRef().nativeElement;do{if(M==I)return!0}while(M=M.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>HD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(y.R0b),y.LFG(eh),y.LFG(J,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),sS=(()=>{var s;class t{constructor(i,f,M){this._platform=i,this._change=new Lt.x,this._changeListener=I=>{this._change.next(I)},this._document=M,f.runOutsideAngular(()=>{if(i.isBrowser){const I=this._getWindow();I.addEventListener("resize",this._changeListener),I.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:f,height:M}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+M,right:i.left+f,height:M,width:f}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,f=this._getWindow(),M=i.documentElement,I=M.getBoundingClientRect();return{top:-I.top||i.body.scrollTop||f.scrollY||M.scrollTop||0,left:-I.left||i.body.scrollLeft||f.scrollX||M.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(rS(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(eh),y.LFG(y.R0b),y.LFG(J,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),GD=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})(),oS=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Cp,GD,Cp,GD]}),t})();class WD{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class $C extends WD{constructor(t,c,i,f,M){super(),this.component=t,this.viewContainerRef=c,this.injector=i,this.componentFactoryResolver=f,this.projectableNodes=M}}class GC extends WD{constructor(t,c,i,f){super(),this.templateRef=t,this.viewContainerRef=c,this.context=i,this.injector=f}get origin(){return this.templateRef.elementRef}attach(t,c=this.context){return this.context=c,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class WC extends WD{constructor(t){super(),this.element=t instanceof y.SBq?t.nativeElement:t}}class ZC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof $C?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof GC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof WC?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qC extends ZC{constructor(t,c,i,f,M){super(),this.outletElement=t,this._componentFactoryResolver=c,this._appRef=i,this._defaultInjector=f,this.attachDomPortal=I=>{const Y=I.element,se=this._document.createComment("dom-portal");Y.parentNode.insertBefore(se,Y),this.outletElement.appendChild(Y),this._attachedPortal=I,super.setDisposeFn(()=>{se.parentNode&&se.parentNode.replaceChild(Y,se)})},this._document=M}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let f;return t.viewContainerRef?(f=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>f.destroy())):(f=i.create(t.injector||this._defaultInjector||y.zs3.NULL),this._appRef.attachView(f.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(f.hostView),f.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(f)),this._attachedPortal=t,f}attachTemplatePortal(t){let c=t.viewContainerRef,i=c.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(f=>this.outletElement.appendChild(f)),i.detectChanges(),this.setDisposeFn(()=>{let f=c.indexOf(i);-1!==f&&c.remove(f)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let KC=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),t})();const aS=Cw();class XC{constructor(t,c){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=c}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qs(-this._previousScrollPosition.left),t.style.top=qs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,f=this._document.body.style,M=i.scrollBehavior||"",I=f.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),aS&&(i.scrollBehavior=f.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aS&&(i.scrollBehavior=M,f.scrollBehavior=I)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const c=this._document.body,i=this._viewportRuler.getViewportSize();return c.scrollHeight>i.height||c.scrollWidth>i.width}}class JC{constructor(t,c,i,f){this._scrollDispatcher=t,this._ngZone=c,this._viewportRuler=i,this._config=f,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,Dt.h)(c=>!c||!this._overlayRef.overlayElement.contains(c.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const c=this._viewportRuler.getViewportScrollPosition().top;Math.abs(c-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lS{enable(){}disable(){}attach(){}}function ZD(s,t){return t.some(c=>s.bottom<c.top||s.top>c.bottom||s.right<c.left||s.left>c.right)}function cS(s,t){return t.some(c=>s.top<c.top||s.bottom>c.bottom||s.left<c.left||s.right>c.right)}class QC{constructor(t,c,i,f){this._scrollDispatcher=t,this._viewportRuler=c,this._ngZone=i,this._config=f,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const c=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:f}=this._viewportRuler.getViewportSize();ZD(c,[{width:i,height:f,bottom:f,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eL=(()=>{var s;class t{constructor(i,f,M,I){this._scrollDispatcher=i,this._viewportRuler=f,this._ngZone=M,this.noop=()=>new lS,this.close=Y=>new JC(this._scrollDispatcher,this._ngZone,this._viewportRuler,Y),this.block=()=>new XC(this._viewportRuler,this._document),this.reposition=Y=>new QC(this._scrollDispatcher,this._viewportRuler,this._ngZone,Y),this._document=I}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(VC),y.LFG(sS),y.LFG(y.R0b),y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();class tL{constructor(t){if(this.scrollStrategy=new lS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const c=Object.keys(t);for(const i of c)void 0!==t[i]&&(this[i]=t[i])}}}class nL{constructor(t,c){this.connectionPair=t,this.scrollableViewProperties=c}}let uS=(()=>{var s;class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const f=this._attachedOverlays.indexOf(i);f>-1&&this._attachedOverlays.splice(f,1),0===this._attachedOverlays.length&&this.detach()}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),iL=(()=>{var s;class t extends uS{constructor(i,f){super(i),this._ngZone=f,this._keydownListener=M=>{const I=this._attachedOverlays;for(let Y=I.length-1;Y>-1;Y--)if(I[Y]._keydownEvents.observers.length>0){const se=I[Y]._keydownEvents;this._ngZone?this._ngZone.run(()=>se.next(M)):se.next(M);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J),y.LFG(y.R0b,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),rL=(()=>{var s;class t extends uS{constructor(i,f,M){super(i),this._platform=f,this._ngZone=M,this._cursorStyleIsSet=!1,this._pointerDownListener=I=>{this._pointerDownEventTarget=Iv(I)},this._clickListener=I=>{const Y=Iv(I),se="click"===I.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Y;this._pointerDownEventTarget=null;const ce=this._attachedOverlays.slice();for(let Re=ce.length-1;Re>-1;Re--){const $e=ce[Re];if($e._outsidePointerEvents.observers.length<1||!$e.hasAttached())continue;if($e.overlayElement.contains(Y)||$e.overlayElement.contains(se))break;const Vt=$e._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Vt.next(I)):Vt.next(I)}}}add(i){if(super.add(i),!this._isAttached){const f=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(f)):this._addEventListeners(f),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=f.style.cursor,f.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J),y.LFG(eh),y.LFG(y.R0b,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),dS=(()=>{var s;class t{constructor(i,f){this._platform=f,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||mb()){const M=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let I=0;I<M.length;I++)M[I].remove()}const f=this._document.createElement("div");f.classList.add(i),mb()?f.setAttribute("platform","test"):this._platform.isBrowser||f.setAttribute("platform","server"),this._document.body.appendChild(f),this._containerElement=f}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(J),y.LFG(eh))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();class sL{constructor(t,c,i,f,M,I,Y,se,ce,Re=!1){this._portalOutlet=t,this._host=c,this._pane=i,this._config=f,this._ngZone=M,this._keyboardDispatcher=I,this._document=Y,this._location=se,this._outsideClickDispatcher=ce,this._animationsDisabled=Re,this._backdropElement=null,this._backdropClick=new Lt.x,this._attachments=new Lt.x,this._detachments=new Lt.x,this._locationChanges=Rt.w0.EMPTY,this._backdropClickHandler=$e=>this._backdropClick.next($e),this._backdropTransitionendHandler=$e=>{this._disposeBackdrop($e.target)},this._keydownEvents=new Lt.x,this._outsidePointerEvents=new Lt.x,f.scrollStrategy&&(this._scrollStrategy=f.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=f.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const c=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,bt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof c?.onDestroy&&c.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),c}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qs(this._config.width),t.height=qs(this._config.height),t.minWidth=qs(this._config.minWidth),t.minHeight=qs(this._config.minHeight),t.maxWidth=qs(this._config.maxWidth),t.maxHeight=qs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,c,i){const f=bb(c||[]).filter(M=>!!M);f.length&&(i?t.classList.add(...f):t.classList.remove(...f))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,X.R)((0,I0.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hS="cdk-overlay-connected-position-bounding-box",oL=/([A-Za-z%]+)$/;class aL{get positions(){return this._preferredPositions}constructor(t,c,i,f,M){this._viewportRuler=c,this._document=i,this._platform=f,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt.x,this._resizeSubscription=Rt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(hS),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,c=this._overlayRect,i=this._viewportRect,f=this._containerRect,M=[];let I;for(let Y of this._preferredPositions){let se=this._getOriginPoint(t,f,Y),ce=this._getOverlayPoint(se,c,Y),Re=this._getOverlayFit(ce,c,i,Y);if(Re.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Y,se);this._canFitWithFlexibleDimensions(Re,ce,i)?M.push({position:Y,origin:se,overlayRect:c,boundingBoxRect:this._calculateBoundingBoxRect(se,Y)}):(!I||I.overlayFit.visibleArea<Re.visibleArea)&&(I={overlayFit:Re,overlayPoint:ce,originPoint:se,position:Y,overlayRect:c})}if(M.length){let Y=null,se=-1;for(const ce of M){const Re=ce.boundingBoxRect.width*ce.boundingBoxRect.height*(ce.position.weight||1);Re>se&&(se=Re,Y=ce)}return this._isPushed=!1,void this._applyPosition(Y.position,Y.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(I.position,I.originPoint);this._applyPosition(I.position,I.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const c=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,c)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,c,i){let f,M;if("center"==i.originX)f=t.left+t.width/2;else{const I=this._isRtl()?t.right:t.left,Y=this._isRtl()?t.left:t.right;f="start"==i.originX?I:Y}return c.left<0&&(f-=c.left),M="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,c.top<0&&(M-=c.top),{x:f,y:M}}_getOverlayPoint(t,c,i){let f,M;return f="center"==i.overlayX?-c.width/2:"start"===i.overlayX?this._isRtl()?-c.width:0:this._isRtl()?0:-c.width,M="center"==i.overlayY?-c.height/2:"top"==i.overlayY?0:-c.height,{x:t.x+f,y:t.y+M}}_getOverlayFit(t,c,i,f){const M=pS(c);let{x:I,y:Y}=t,se=this._getOffset(f,"x"),ce=this._getOffset(f,"y");se&&(I+=se),ce&&(Y+=ce);let Vt=0-Y,Ft=Y+M.height-i.height,Yt=this._subtractOverflows(M.width,0-I,I+M.width-i.width),fn=this._subtractOverflows(M.height,Vt,Ft),Tn=Yt*fn;return{visibleArea:Tn,isCompletelyWithinViewport:M.width*M.height===Tn,fitsInViewportVertically:fn===M.height,fitsInViewportHorizontally:Yt==M.width}}_canFitWithFlexibleDimensions(t,c,i){if(this._hasFlexibleDimensions){const f=i.bottom-c.y,M=i.right-c.x,I=fS(this._overlayRef.getConfig().minHeight),Y=fS(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=I&&I<=f)&&(t.fitsInViewportHorizontally||null!=Y&&Y<=M)}return!1}_pushOverlayOnScreen(t,c,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const f=pS(c),M=this._viewportRect,I=Math.max(t.x+f.width-M.width,0),Y=Math.max(t.y+f.height-M.height,0),se=Math.max(M.top-i.top-t.y,0),ce=Math.max(M.left-i.left-t.x,0);let Re=0,$e=0;return Re=f.width<=M.width?ce||-I:t.x<this._viewportMargin?M.left-i.left-t.x:0,$e=f.height<=M.height?se||-Y:t.y<this._viewportMargin?M.top-i.top-t.y:0,this._previousPushAmount={x:Re,y:$e},{x:t.x+Re,y:t.y+$e}}_applyPosition(t,c){if(this._setTransformOrigin(t),this._setOverlayElementStyles(c,t),this._setBoundingBoxStyles(c,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),f=new nL(t,i);this._positionChanges.next(f)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const c=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,f=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let M=0;M<c.length;M++)c[M].style.transformOrigin=`${i} ${f}`}_calculateBoundingBoxRect(t,c){const i=this._viewportRect,f=this._isRtl();let M,I,Y,Re,$e,Vt;if("top"===c.overlayY)I=t.y,M=i.height-I+this._viewportMargin;else if("bottom"===c.overlayY)Y=i.height-t.y+2*this._viewportMargin,M=i.height-Y+this._viewportMargin;else{const Ft=Math.min(i.bottom-t.y+i.top,t.y),Yt=this._lastBoundingBoxSize.height;M=2*Ft,I=t.y-Ft,M>Yt&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.y-Yt/2)}if("end"===c.overlayX&&!f||"start"===c.overlayX&&f)Vt=i.width-t.x+this._viewportMargin,Re=t.x-this._viewportMargin;else if("start"===c.overlayX&&!f||"end"===c.overlayX&&f)$e=t.x,Re=i.right-t.x;else{const Ft=Math.min(i.right-t.x+i.left,t.x),Yt=this._lastBoundingBoxSize.width;Re=2*Ft,$e=t.x-Ft,Re>Yt&&!this._isInitialRender&&!this._growAfterOpen&&($e=t.x-Yt/2)}return{top:I,left:$e,bottom:Y,right:Vt,width:Re,height:M}}_setBoundingBoxStyles(t,c){const i=this._calculateBoundingBoxRect(t,c);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const f={};if(this._hasExactPosition())f.top=f.left="0",f.bottom=f.right=f.maxHeight=f.maxWidth="",f.width=f.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,I=this._overlayRef.getConfig().maxWidth;f.height=qs(i.height),f.top=qs(i.top),f.bottom=qs(i.bottom),f.width=qs(i.width),f.left=qs(i.left),f.right=qs(i.right),f.alignItems="center"===c.overlayX?"center":"end"===c.overlayX?"flex-end":"flex-start",f.justifyContent="center"===c.overlayY?"center":"bottom"===c.overlayY?"flex-end":"flex-start",M&&(f.maxHeight=qs(M)),I&&(f.maxWidth=qs(I))}this._lastBoundingBoxSize=i,zg(this._boundingBox.style,f)}_resetBoundingBoxStyles(){zg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,c){const i={},f=this._hasExactPosition(),M=this._hasFlexibleDimensions,I=this._overlayRef.getConfig();if(f){const Re=this._viewportRuler.getViewportScrollPosition();zg(i,this._getExactOverlayY(c,t,Re)),zg(i,this._getExactOverlayX(c,t,Re))}else i.position="static";let Y="",se=this._getOffset(c,"x"),ce=this._getOffset(c,"y");se&&(Y+=`translateX(${se}px) `),ce&&(Y+=`translateY(${ce}px)`),i.transform=Y.trim(),I.maxHeight&&(f?i.maxHeight=qs(I.maxHeight):M&&(i.maxHeight="")),I.maxWidth&&(f?i.maxWidth=qs(I.maxWidth):M&&(i.maxWidth="")),zg(this._pane.style,i)}_getExactOverlayY(t,c,i){let f={top:"",bottom:""},M=this._getOverlayPoint(c,this._overlayRect,t);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,i)),"bottom"===t.overlayY?f.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":f.top=qs(M.y),f}_getExactOverlayX(t,c,i){let I,f={left:"",right:""},M=this._getOverlayPoint(c,this._overlayRect,t);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,i)),I=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===I?f.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":f.left=qs(M.x),f}_getScrollVisibility(){const t=this._getOriginRect(),c=this._pane.getBoundingClientRect(),i=this._scrollables.map(f=>f.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cS(t,i),isOriginOutsideView:ZD(t,i),isOverlayClipped:cS(c,i),isOverlayOutsideView:ZD(c,i)}}_subtractOverflows(t,...c){return c.reduce((i,f)=>i-Math.max(f,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,c=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+c-this._viewportMargin,width:t-2*this._viewportMargin,height:c-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,c){return"x"===c?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bb(t).forEach(c=>{""!==c&&-1===this._appliedPanelClasses.indexOf(c)&&(this._appliedPanelClasses.push(c),this._pane.classList.add(c))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof y.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const c=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+c,height:i,width:c}}}function zg(s,t){for(let c in t)t.hasOwnProperty(c)&&(s[c]=t[c]);return s}function fS(s){if("number"!=typeof s&&null!=s){const[t,c]=s.split(oL);return c&&"px"!==c?null:parseFloat(t)}return s||null}function pS(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}const mS="cdk-global-overlay-wrapper";class lL{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const c=t.getConfig();this._overlayRef=t,this._width&&!c.width&&t.updateSize({width:this._width}),this._height&&!c.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(mS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,c=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:f,height:M,maxWidth:I,maxHeight:Y}=i,se=!("100%"!==f&&"100vw"!==f||I&&"100%"!==I&&"100vw"!==I),ce=!("100%"!==M&&"100vh"!==M||Y&&"100%"!==Y&&"100vh"!==Y),Re=this._xPosition,$e=this._xOffset,Vt="rtl"===this._overlayRef.getConfig().direction;let Ft="",Yt="",fn="";se?fn="flex-start":"center"===Re?(fn="center",Vt?Yt=$e:Ft=$e):Vt?"left"===Re||"end"===Re?(fn="flex-end",Ft=$e):("right"===Re||"start"===Re)&&(fn="flex-start",Yt=$e):"left"===Re||"start"===Re?(fn="flex-start",Ft=$e):("right"===Re||"end"===Re)&&(fn="flex-end",Yt=$e),t.position=this._cssPosition,t.marginLeft=se?"0":Ft,t.marginTop=ce?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=se?"0":Yt,c.justifyContent=fn,c.alignItems=ce?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,c=this._overlayRef.hostElement,i=c.style;c.classList.remove(mS),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let cL=(()=>{var s;class t{constructor(i,f,M,I){this._viewportRuler=i,this._document=f,this._platform=M,this._overlayContainer=I}global(){return new lL}flexibleConnectedTo(i){return new aL(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(sS),y.LFG(J),y.LFG(eh),y.LFG(dS))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),uL=0,qD=(()=>{var s;class t{constructor(i,f,M,I,Y,se,ce,Re,$e,Vt,Ft,Yt){this.scrollStrategies=i,this._overlayContainer=f,this._componentFactoryResolver=M,this._positionBuilder=I,this._keyboardDispatcher=Y,this._injector=se,this._ngZone=ce,this._document=Re,this._directionality=$e,this._location=Vt,this._outsideClickDispatcher=Ft,this._animationsModuleType=Yt}create(i){const f=this._createHostElement(),M=this._createPaneElement(f),I=this._createPortalOutlet(M),Y=new tL(i);return Y.direction=Y.direction||this._directionality.value,new sL(I,f,M,Y,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const f=this._document.createElement("div");return f.id="cdk-overlay-"+uL++,f.classList.add("cdk-overlay-pane"),i.appendChild(f),f}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(y.z2F)),new qC(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(s=t).\u0275fac=function(i){return new(i||s)(y.LFG(eL),y.LFG(dS),y.LFG(y._Vd),y.LFG(cL),y.LFG(iL),y.LFG(y.zs3),y.LFG(y.R0b),y.LFG(J),y.LFG(jT),y.LFG(An),y.LFG(rL),y.LFG(y.QbO,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();const fL={provide:new y.OlP("cdk-connected-overlay-scroll-strategy"),deps:[qD],useFactory:function hL(s){return()=>s.scrollStrategies.reposition()}};let pL=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[qD,fL],imports:[Cp,KC,oS,oS]}),t})();const yL={provide:new y.OlP("mat-menu-scroll-strategy"),deps:[qD],useFactory:function gL(s){return()=>s.scrollStrategies.reposition()}};let vL=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[yL],imports:[Pr,Lp,h_,pL,GD,h_]}),t})(),bL=(()=>{var s;class t{}return(s=t).\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s,bootstrap:[y1]}),s.\u0275inj=y.cJS({providers:[{provide:Dm,useClass:Ax,multi:!0},{provide:ht,useClass:Pt}],imports:[Su,p1,rE,Kd,Pr,rg,_p,GM,yn.Aw.forRoot({}),Xm.forRoot([]),Lx,b1.FT.instrument({maxAge:25}),bC,vL]}),t})();La().bootstrapModule(bL).catch(s=>console.error(s))},2574:function(xe){xe.exports=function(){"use strict";var _e,G,y;function R(u,F){if(_e)if(G){var J="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+_e+")(sharedChunk); ("+G+")(sharedChunk); self.onerror = null;",ee={};_e(ee),y=F(ee),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(y.workerUrl=window.URL.createObjectURL(new Blob([J],{type:"text/javascript"})))}else G=F;else _e=F}return R(0,function(u){var F=typeof self<"u"?self:{},J="2.15.0";let ee;const ae={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==ee){const r=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ee=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):r}catch{ee=r}}return ee},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!ae.API_URL)return null;try{const r=new URL(ae.API_URL);return"api.mapbox.cn"===r.hostname?"https://events.mapbox.cn/events/v2":"api.mapbox.com"===r.hostname?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},de={supported:!1,testSupport:function(r){!Ge&&Fe&&(ht?Xt(r):Me=r)}};let Me,Fe,Ge=!1,ht=!1;function Xt(r){const e=r.createTexture();r.bindTexture(r.TEXTURE_2D,e);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,Fe),r.isContextLost())return;de.supported=!0}catch{}r.deleteTexture(e),Ge=!0}F.document&&(Fe=F.document.createElement("img"),Fe.onload=function(){Me&&Xt(Me),Me=null,ht=!0},Fe.onerror=function(){Ge=!0,Me=null},Fe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const _t="01";function Pt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var An=pn;function pn(r,e,o,d){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(d-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=e,this.p2x=o,this.p2y=d}pn.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,e){if(void 0===e&&(e=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,d=0;d<8;d++){var m=this.sampleCurveX(o)-r;if(Math.abs(m)<e)return o;var v=this.sampleCurveDerivativeX(o);if(Math.abs(v)<1e-6)break;o-=m/v}var w=0,E=1;for(o=r,d=0;d<20&&(m=this.sampleCurveX(o),!(Math.abs(m-r)<e));d++)r>m?w=o:E=o,o=.5*(E-w)+w;return o},solve:function(r,e){return this.sampleCurveY(this.solveCurveX(r,e))}};var Fn=Pt(An),Mn=ct;function ct(r,e){this.x=r,this.y=e}ct.prototype={clone:function(){return new ct(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,e){return this.clone()._rotateAround(r,e)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var e=r.x-this.x,o=r.y-this.y;return e*e+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,e){return Math.atan2(this.x*e-this.y*r,this.x*r+this.y*e)},_matMult:function(r){var e=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=e,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var e=Math.cos(r),o=Math.sin(r),d=o*this.x+e*this.y;return this.x=e*this.x-o*this.y,this.y=d,this},_rotateAround:function(r,e){var o=Math.cos(r),d=Math.sin(r),m=e.y+d*(this.x-e.x)+o*(this.y-e.y);return this.x=e.x+o*(this.x-e.x)-d*(this.y-e.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ct.convert=function(r){return r instanceof ct?r:Array.isArray(r)?new ct(r[0],r[1]):r};var qe=Pt(Mn);const zt=Math.PI/180,Jt=180/Math.PI;function Nt(r){return r*zt}function rn(r){return r*Jt}const wi=[[0,0],[1,0],[1,1],[0,1]];function fi(r){if(r<=0)return 0;if(r>=1)return 1;const e=r*r,o=e*r;return 4*(r<.5?o:3*(r-e)+o-.75)}function _r(r,e,o,d){const m=new Fn(r,e,o,d);return function(v){return m.solve(v)}}const ws=_r(.25,.1,.25,1);function ei(r,e,o){return Math.min(o,Math.max(e,r))}function co(r,e,o){return(o=ei((o-r)/(e-r),0,1))*o*(3-2*o)}function zi(r,e,o){const d=o-e,m=((r-e)%d+d)%d+e;return m===e?o:m}function Mr(r,e,o){if(!r.length)return o(null,[]);let d=r.length;const m=new Array(r.length);let v=null;r.forEach((w,E)=>{e(w,(L,k)=>{L&&(v=L),m[E]=k,0==--d&&o(v,m)})})}function es(r){const e=[];for(const o in r)e.push(r[o]);return e}function dt(r,...e){for(const o of e)for(const d in o)r[d]=o[d];return r}let gt=1;function At(){return gt++}function St(){return function r(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function mt(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Et(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function Tt(r,e){r.forEach(o=>{e[o]&&(e[o]=e[o].bind(e))})}function wt(r,e){return-1!==r.indexOf(e,r.length-e.length)}function vn(r,e,o){const d={};for(const m in r)d[m]=e.call(o||this,r[m],m,r);return d}function Sn(r,e,o){const d={};for(const m in r)e.call(o||this,r[m],m,r)&&(d[m]=r[m]);return d}function Mi(r){return Array.isArray(r)?r.map(Mi):"object"==typeof r&&r?vn(r,Mi):r}const Yn={};function di(r){Yn[r]||(typeof console<"u"&&console.warn(r),Yn[r]=!0)}function Ji(r,e,o){return(o.y-r.y)*(e.x-r.x)>(e.y-r.y)*(o.x-r.x)}function ps(r){let e=0;for(let o,d,m=0,v=r.length,w=v-1;m<v;w=m++)o=r[m],d=r[w],e+=(d.x-o.x)*(o.y+d.y);return e}function $i(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gr(r){const e={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,d,m,v)=>{const w=m||v;return e[d]=!w||w.toLowerCase(),""}),e["max-age"]){const o=parseInt(e["max-age"],10);isNaN(o)?delete e["max-age"]:e["max-age"]=o}return e}let Xs=null;function xo(r){if(null==Xs){const e=r.navigator?r.navigator.userAgent:null;Xs=!!r.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return Xs}function Js(r){try{const e=F[r];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch{return!1}}function Ki(r,e){return[r[4*e],r[4*e+1],r[4*e+2],r[4*e+3]]}const yr="mapbox-tiles";let Nn,bi,wa=500,Kn=50;function Nr(){try{return F.caches}catch{}}function vr(){Nr()&&!Nn&&(Nn=F.caches.open(yr))}function ti(r){const e=r.indexOf("?");if(e<0)return r;const d=function(m){const v=m.indexOf("?");return v>0?m.slice(v+1).split("&"):[]}(r).filter(m=>{const v=m.split("=");return"language"===v[0]||"worldview"===v[0]});return d.length?`${r.slice(0,e)}?${d.join("&")}`:r.slice(0,e)}let ji=1/0;const $r={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze($r);class Qs extends Error{constructor(e,o,d){401===o&&et(d)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=o,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Qi=$i()?()=>self.worker&&self.worker.referrer:()=>("blob:"===F.location.protocol?F.parent:F).location.href,Fo=function(r,e){if(!(/^file:/.test(o=r.url)||/^file:/.test(Qi())&&!/^\w+:/.test(o))){if(F.fetch&&F.Request&&F.AbortController&&F.Request.prototype.hasOwnProperty("signal"))return function(d,m){const v=new F.AbortController,w=new F.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:Qi(),referrerPolicy:d.referrerPolicy,signal:v.signal});let E=!1,L=!1;const k=(j=w.url).indexOf("sku=")>0&&et(j);var j;"json"===d.type&&w.headers.set("Accept","application/json");const H=(Q,te,le)=>{if(L)return;if(Q&&"SecurityError"!==Q.message&&di(Q.toString()),te&&le)return W(te);const ge=Date.now();F.fetch(w).then(Te=>{if(Te.ok){const Oe=k?Te.clone():null;return W(Te,Oe,ge)}return m(new Qs(Te.statusText,Te.status,d.url))}).catch(Te=>{"AbortError"!==Te.name&&m(new Error(`${Te.message} ${d.url}`))})},W=(Q,te,le)=>{("arrayBuffer"===d.type?Q.arrayBuffer():"json"===d.type?Q.json():Q.text()).then(ge=>{L||(te&&le&&function(Te,Oe,Ee){if(vr(),!Nn)return;const Pe={status:Oe.status,statusText:Oe.statusText,headers:new F.Headers};Oe.headers.forEach((ot,st)=>Pe.headers.set(st,ot));const ze=gr(Oe.headers.get("Cache-Control")||"");if(ze["no-store"])return;ze["max-age"]&&Pe.headers.set("Expires",new Date(Ee+1e3*ze["max-age"]).toUTCString());const je=Pe.headers.get("Expires");je&&(new Date(je).getTime()-Ee<42e4||function(ot,st){if(void 0===bi)try{new Response(new ReadableStream),bi=!0}catch{bi=!1}bi?st(ot.body):ot.blob().then(st)}(Oe,ot=>{const st=new F.Response(ot,Pe);vr(),Nn&&Nn.then(xt=>xt.put(ti(Te.url),st)).catch(xt=>di(xt.message))}))}(w,te,le),E=!0,m(null,ge,Q.headers.get("Cache-Control"),Q.headers.get("Expires")))}).catch(ge=>{L||m(new Error(ge.message))})};return k?function(Q,te){if(vr(),!Nn)return te(null);const le=ti(Q.url);Nn.then(ge=>{ge.match(le).then(Te=>{const Oe=function(Ee){if(!Ee)return!1;const Pe=new Date(Ee.headers.get("Expires")||0),ze=gr(Ee.headers.get("Cache-Control")||"");return Pe>Date.now()&&!ze["no-cache"]}(Te);ge.delete(le),Oe&&ge.put(le,Te.clone()),te(null,Te,Oe)}).catch(te)}).catch(te)}(w,H):H(null,null),{cancel:()=>{L=!0,E||v.abort()}}}(r,e);if($i()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,e,void 0,!0)}var o;return function(d,m){const v=new F.XMLHttpRequest;v.open(d.method||"GET",d.url,!0),"arrayBuffer"===d.type&&(v.responseType="arraybuffer");for(const w in d.headers)v.setRequestHeader(w,d.headers[w]);return"json"===d.type&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials="include"===d.credentials,v.onerror=()=>{m(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||0===v.status)&&null!==v.response){let w=v.response;if("json"===d.type)try{w=JSON.parse(v.response)}catch(E){return m(E)}m(null,w,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else m(new Qs(v.statusText,v.status,d.url))},v.send(d.body),{cancel:()=>v.abort()}}(r,e)},ki=function(r,e){return Fo(dt(r,{type:"arrayBuffer"}),e)};function Gr(r){const e=F.document.createElement("a");return e.href=r,e.protocol===F.document.location.protocol&&e.host===F.document.location.host}const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ue,fe;ue=[],fe=0;const Se=function(r,e){if(de.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),fe>=ae.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:r,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return ue.push(v),v}fe++;let o=!1;const d=()=>{if(!o)for(o=!0,fe--;ue.length&&fe<ae.MAX_PARALLEL_IMAGE_REQUESTS;){const v=ue.shift(),{requestParameters:w,callback:E,cancelled:L}=v;L||(v.cancel=Se(w,E).cancel)}},m=ki(r,(v,w,E,L)=>{d(),v?e(v):w&&(F.createImageBitmap?function(k,j){const H=new F.Blob([new Uint8Array(k)],{type:"image/png"});F.createImageBitmap(H).then(W=>{j(null,W)}).catch(W=>{j(new Error(`Could not load image because of ${W.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(w,(k,j)=>e(k,j,E,L)):function(k,j){const H=new F.Image,W=F.URL;H.onload=()=>{j(null,H),W.revokeObjectURL(H.src),H.onload=null,F.requestAnimationFrame(()=>{H.src=ke})},H.onerror=()=>j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Q=new F.Blob([new Uint8Array(k)],{type:"image/png"});H.src=k.byteLength?W.createObjectURL(Q):ke}(w,(k,j)=>e(k,j,E,L)))});return{cancel:()=>{m.cancel(),d()}}},Be="NO_ACCESS_TOKEN";function We(r){return 0===r.indexOf("mapbox:")}function et(r){return ae.API_URL_REGEX.test(r)}function Je(r){return ae.API_CDN_URL_REGEX.test(r)}function He(r){return ae.API_STYLE_REGEX.test(r)&&!at(r)}function at(r){return ae.API_SPRITE_REGEX.test(r)}const qt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function nn(r){const e=r.match(qt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Wt(r){const e=r.params.length?`?${r.params.join("&")}`:"";return`${r.protocol}://${r.authority}${r.path}${e}`}const oi="mapbox.eventData";function Un(r){if(!r)return null;const e=r.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(F.atob(e[1]).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ni{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const o=Un(ae.ACCESS_TOKEN);let d="";return d=o&&o.u?F.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,(m,v)=>String.fromCharCode(+("0x"+v)))):ae.ACCESS_TOKEN||"",e?`${oi}.${e}:${d}`:`${oi}:${d}`}fetchEventData(){const e=Js("localStorage"),o=this.getStorageKey(),d=this.getStorageKey("uuid");if(e)try{const m=F.localStorage.getItem(o);m&&(this.eventData=JSON.parse(m));const v=F.localStorage.getItem(d);v&&(this.anonId=v)}catch{di("Unable to read from LocalStorage")}}saveEventData(){const e=Js("localStorage"),o=this.getStorageKey(),d=this.getStorageKey("uuid");if(e)try{F.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&F.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{di("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,o,d,m){if(!ae.EVENTS_URL)return;const v=nn(ae.EVENTS_URL);v.params.push(`access_token=${m||ae.ACCESS_TOKEN||""}`);const w={event:this.type,created:new Date(e).toISOString()},E=o?dt(w,o):w,L={url:Wt(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([E])};var j;this.pendingRequest=(j=k=>{this.pendingRequest=null,d(k),this.saveEventData(),this.processRequests(m)},Fo(dt(L,{method:"POST"}),j))}queueRequest(e,o){this.queue.push(e),this.processRequests(o)}}const Ut=new class extends ni{constructor(r){super("appUserTurnstile"),this._customAccessToken=r}postTurnstileEvent(r,e){ae.EVENTS_URL&&ae.ACCESS_TOKEN&&Array.isArray(r)&&r.some(o=>We(o)||et(o))&&this.queueRequest(Date.now(),e)}processRequests(r){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=Un(ae.ACCESS_TOKEN),o=e?e.u:ae.ACCESS_TOKEN;let d=o!==this.eventData.tokenU;Et(this.anonId)||(this.anonId=St(),d=!0);const m=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),w=new Date(m),E=(m-this.eventData.lastSuccess)/864e5;d=d||E>=1||E<-1||v.getDate()!==w.getDate()}else d=!0;d?this.postEvent(m,{sdkIdentifier:"mapbox-gl-js",sdkVersion:J,skuId:_t,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=m,this.eventData.tokenU=o)},r):this.processRequests()}},gi=Ut.postTurnstileEvent.bind(Ut),_i=new class extends ni{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(r,e,o,d){this.skuToken=e,this.errorCb=d,ae.EVENTS_URL&&(o||ae.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(Be)))}processRequests(r){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:o}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),Et(this.anonId)||(this.anonId=St()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:J,skuId:_t,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):e&&(this.success[e]=!0)},r))}},Ri=_i.postMapLoadEvent.bind(_i),vi=new class extends ni{constructor(){super("gljs.performance")}postPerformanceEvent(r,e){ae.EVENTS_URL&&(r||ae.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},r)}processRequests(r){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:e,performanceData:o}=this.queue.shift(),d=function(m){const v=F.performance.getEntriesByType("resource"),w=F.performance.getEntriesByType("mark"),E=function(W){const Q={};if(W)for(const te in W)if("other"!==te)for(const le of W[te]){const ge=`${te}ResolveRangeMin`,Te=`${te}ResolveRangeMax`,Oe=`${te}RequestCount`,Ee=`${te}RequestCachedCount`;Q[ge]=Math.min(Q[ge]||1/0,le.startTime),Q[Te]=Math.max(Q[Te]||-1/0,le.responseEnd);const Pe=ze=>{void 0===Q[ze]&&(Q[ze]=0),++Q[ze]};void 0!==le.transferSize&&0===le.transferSize&&Pe(Ee),Pe(Oe)}return Q}(function(W,Q){const te={};if(W)for(const le of W){const ge=Q(le);void 0===te[ge]&&(te[ge]=[]),te[ge].push(le)}return te}(v,er)),L=F.devicePixelRatio,k=F.navigator.connection||F.navigator.mozConnection||F.navigator.webkitConnection,j={counters:[],metadata:[],attributes:[]},H=(W,Q,te)=>{null!=te&&W.push({name:Q,value:te.toString()})};for(const W in E)H(j.counters,W,E[W]);if(m.interactionRange[0]!==1/0&&m.interactionRange[1]!==-1/0&&(H(j.counters,"interactionRangeMin",m.interactionRange[0]),H(j.counters,"interactionRangeMax",m.interactionRange[1])),w)for(const W of Object.keys(Ss)){const Q=Ss[W],te=w.find(le=>le.name===Q);te&&H(j.counters,Q,te.startTime)}return H(j.counters,"visibilityHidden",m.visibilityHidden),H(j.attributes,"style",function(W){if(W)for(const Q of W){const te=Q.name.split("?")[0];if(He(te)){const le=te.split("/").slice(-2);if(2===le.length)return`mapbox://styles/${le[0]}/${le[1]}`}}}(v)),H(j.attributes,"terrainEnabled",m.terrainEnabled?"true":"false"),H(j.attributes,"fogEnabled",m.fogEnabled?"true":"false"),H(j.attributes,"projection",m.projection),H(j.attributes,"zoom",m.zoom),H(j.metadata,"devicePixelRatio",L),H(j.metadata,"connectionEffectiveType",k?k.effectiveType:void 0),H(j.metadata,"navigatorUserAgent",F.navigator.userAgent),H(j.metadata,"screenWidth",F.screen.width),H(j.metadata,"screenHeight",F.screen.height),H(j.metadata,"windowWidth",F.innerWidth),H(j.metadata,"windowHeight",F.innerHeight),H(j.metadata,"mapWidth",m.width/L),H(j.metadata,"mapHeight",m.height/L),H(j.metadata,"webglRenderer",m.renderer),H(j.metadata,"webglVendor",m.vendor),H(j.metadata,"sdkVersion",J),H(j.metadata,"sdkIdentifier","mapbox-gl-js"),j}(o);for(const m of d.metadata);for(const m of d.counters);for(const m of d.attributes);this.postEvent(e,d,()=>{},r)}},Zn=vi.postPerformanceEvent.bind(vi),as=new class extends ni{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(r,e,o,d){if(!ae.API_URL||!ae.SESSION_PATH)return;const m=nn(ae.API_URL+ae.SESSION_PATH);m.params.push(`sku=${e||""}`),m.params.push(`access_token=${d||ae.ACCESS_TOKEN||""}`);const v={url:Wt(m),headers:{"Content-Type":"text/plain"}};var E;this.pendingRequest=(E=w=>{this.pendingRequest=null,o(w),this.saveEventData(),this.processRequests(d)},Fo(dt(v,{method:"GET"}),E))}getSessionAPI(r,e,o,d){this.skuToken=e,this.errorCb=d,ae.SESSION_PATH&&ae.API_URL&&(o||ae.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(Be)))}processRequests(r){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:o}=this.queue.shift();e&&this.success[e]||this.getSession(o,this.skuToken,d=>{d?this.errorCb(d):e&&(this.success[e]=!0)},r)}},Lr=as.getSessionAPI.bind(as),Gi=new Set,Ss={create:"create",load:"load",fullLoad:"fullLoad"},wo={mark(r){F.performance.mark(r)},measure(r,e,o){F.performance.measure(r,e,o)}};function er(r){const e=r.name.split("?")[0];return Je(e)&&e.includes("mapbox-gl.js")?"javascript":Je(e)&&e.includes("mapbox-gl.css")?"css":ae.API_FONTS_REGEX.test(e)?"fontRange":at(e)?"sprite":He(e)?"style":ae.API_TILEJSON_REGEX.test(e)?"tilejson":"other"}const ai=F.performance;function ts(r){const e=r?r.url.toString():void 0;return ai.getEntriesByName(e)}let Ar,Fi,No,Cs;const Ni={now:()=>void 0!==No?No:F.performance.now(),setNow(r){No=r},restoreNow(){No=void 0},frame(r){const e=F.requestAnimationFrame(r);return{cancel:()=>F.cancelAnimationFrame(e)}},getImageData(r,e=0){const{width:o,height:d}=r;Cs||(Cs=F.document.createElement("canvas"));const m=Cs.getContext("2d",{willReadFrequently:!0});if(!m)throw new Error("failed to create canvas 2d context");return(o>Cs.width||d>Cs.height)&&(Cs.width=o,Cs.height=d),m.clearRect(-e,-e,o+2*e,d+2*e),m.drawImage(r,0,0,o,d),m.getImageData(-e,-e,o+2*e,d+2*e)},resolveURL:r=>(Ar||(Ar=F.document.createElement("a")),Ar.href=r,Ar.href),get devicePixelRatio(){return F.devicePixelRatio},get prefersReducedMotion(){return!!F.matchMedia&&(null==Fi&&(Fi=F.matchMedia("(prefers-reduced-motion: reduce)")),Fi.matches)}};function Ma(r,e,o){o[r]&&-1!==o[r].indexOf(e)||(o[r]=o[r]||[],o[r].push(e))}function eo(r,e,o){if(o&&o[r]){const d=o[r].indexOf(e);-1!==d&&o[r].splice(d,1)}}class Ls{constructor(e,o={}){dt(this,o),this.type=e}}class zs extends Ls{constructor(e,o={}){super("error",dt({error:e},o))}}class Da{on(e,o){return this._listeners=this._listeners||{},Ma(e,o,this._listeners),this}off(e,o){return eo(e,o,this._listeners),eo(e,o,this._oneTimeListeners),this}once(e,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},Ma(e,o,this._oneTimeListeners),this):new Promise(d=>this.once(e,d))}fire(e,o){"string"==typeof e&&(e=new Ls(e,o||{}));const d=e.type;if(this.listens(d)){e.target=this;const m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const E of m)E.call(this,e);const v=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const E of v)eo(d,E,this._oneTimeListeners),E.call(this,e);const w=this._eventedParent;w&&(dt(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),w.fire(e))}else e instanceof zs&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,o){return this._eventedParent=e,this._eventedParentData=o,this}}var vt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Mo(r,...e){for(const o of e)for(const d in o)r[d]=o[d];return r}function fr(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function Ir(r){if(Array.isArray(r))return r.map(Ir);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const e={};for(const o in r)e[o]=Ir(r[o]);return e}return fr(r)}class Yl extends Error{constructor(e,o){super(o),this.message=o,this.key=e}}var As=Yl;class Dc{constructor(e,o=[]){this.parent=e,this.bindings={};for(const[d,m]of o)this.bindings[d]=m}concat(e){return new Dc(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var Ea=Dc;const fl={kind:"null"},cn={kind:"number"},$n={kind:"string"},li={kind:"boolean"},Is={kind:"color"},uo={kind:"object"},Di={kind:"value"},Wr={kind:"collator"},Bo={kind:"formatted"},zo={kind:"resolvedImage"};function Ms(r,e){return{kind:"array",itemType:r,N:e}}function Yi(r){if("array"===r.kind){const e=Yi(r.itemType);return"number"==typeof r.N?`array<${e}, ${r.N}>`:"value"===r.itemType.kind?"array":`array<${e}>`}return r.kind}const to=[fl,cn,$n,li,Is,Bo,uo,Ms(Di),zo];function Ie(r,e){if("error"===e.kind)return null;if("array"===r.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Ie(r.itemType,e.itemType))&&("number"!=typeof r.N||r.N===e.N))return null}else{if(r.kind===e.kind)return null;if("value"===r.kind)for(const o of to)if(!Ie(o,e))return null}return`Expected ${Yi(r)} but found ${Yi(e)} instead.`}function pt(r,e){return e.some(o=>o.kind===r.kind)}function Ot(r,e){return e.some(o=>"null"===o?null===r:"array"===o?Array.isArray(r):"object"===o?r&&!Array.isArray(r)&&"object"==typeof r:o===typeof r)}var nt,Kt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function dn(r){return(r=Math.round(r))<0?0:r>255?255:r}function ri(r){return dn("%"===r[r.length-1]?parseFloat(r)/100*255:parseInt(r))}function dr(r){return(e="%"===r[r.length-1]?parseFloat(r)/100:parseFloat(r))<0?0:e>1?1:e;var e}function rr(r,e,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(e-r)*o*6:2*o<1?e:3*o<2?r+(e-r)*(2/3-o)*6:r}try{nt={}.parseCSSColor=function(r){var e,o=r.replace(/ /g,"").toLowerCase();if(o in Kt)return Kt[o].slice();if("#"===o[0])return 4===o.length?(e=parseInt(o.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===o.length&&(e=parseInt(o.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var d=o.indexOf("("),m=o.indexOf(")");if(-1!==d&&m+1===o.length){var v=o.substr(0,d),w=o.substr(d+1,m-(d+1)).split(","),E=1;switch(v){case"rgba":if(4!==w.length)return null;E=dr(w.pop());case"rgb":return 3!==w.length?null:[ri(w[0]),ri(w[1]),ri(w[2]),E];case"hsla":if(4!==w.length)return null;E=dr(w.pop());case"hsl":if(3!==w.length)return null;var L=(parseFloat(w[0])%360+360)%360/360,k=dr(w[1]),j=dr(w[2]),H=j<=.5?j*(k+1):j+k-j*k,W=2*j-H;return[dn(255*rr(W,H,L+1/3)),dn(255*rr(W,H,L)),dn(255*rr(W,H,L-1/3)),E];default:return null}}return null}}catch{}class Pn{constructor(e,o,d,m=1){this.r=e,this.g=o,this.b=d,this.a=m}static parse(e){if(!e)return;if(e instanceof Pn)return e;if("string"!=typeof e)return;const o=nt(e);return o?new Pn(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[e,o,d,m]=this.toArray();return`rgba(${Math.round(e)},${Math.round(o)},${Math.round(d)},${m})`}toArray(){const{r:e,g:o,b:d,a:m}=this;return 0===m?[0,0,0,0]:[255*e/m,255*o/m,255*d/m,m]}toArray01(){const{r:e,g:o,b:d,a:m}=this;return 0===m?[0,0,0,0]:[e/m,o/m,d/m,m]}toArray01PremultipliedAlpha(){const{r:e,g:o,b:d,a:m}=this;return[e,o,d,m]}}Pn.black=new Pn(0,0,0,1),Pn.white=new Pn(1,1,1,1),Pn.transparent=new Pn(0,0,0,0),Pn.red=new Pn(1,0,0,1),Pn.blue=new Pn(0,0,1,1);var kn=Pn;class tr{constructor(e,o,d){this.sensitivity=e?o?"variant":"case":o?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,o){return this.collator.compare(e,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class no{constructor(e,o,d,m,v){this.text=e.normalize?e.normalize():e,this.image=o,this.scale=d,this.fontStack=m,this.textColor=v}}class sr{constructor(e){this.sections=e}static fromString(e){return new sr([new no(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof sr?e:sr.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const o of this.sections){if(o.image){e.push(["image",o.image.name]);continue}e.push(o.text);const d={};o.fontStack&&(d["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(d["font-scale"]=o.scale),o.textColor&&(d["text-color"]=["rgba"].concat(o.textColor.toArray())),e.push(d)}return e}}class ks{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new ks({name:e,available:!1}):null}serialize(){return["image",this.name]}}function cd(r,e,o,d){return"number"==typeof r&&r>=0&&r<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof o&&o>=0&&o<=255?void 0===d||"number"==typeof d&&d>=0&&d<=1?null:`Invalid rgba value [${[r,e,o,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof d?[r,e,o,d]:[r,e,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ua(r){if(null===r||"string"==typeof r||"boolean"==typeof r||"number"==typeof r||r instanceof kn||r instanceof tr||r instanceof sr||r instanceof ks)return!0;if(Array.isArray(r)){for(const e of r)if(!Ua(e))return!1;return!0}if("object"==typeof r){for(const e in r)if(!Ua(r[e]))return!1;return!0}return!1}function Br(r){if(null===r)return fl;if("string"==typeof r)return $n;if("boolean"==typeof r)return li;if("number"==typeof r)return cn;if(r instanceof kn)return Is;if(r instanceof tr)return Wr;if(r instanceof sr)return Bo;if(r instanceof ks)return zo;if(Array.isArray(r)){const e=r.length;let o;for(const d of r){const m=Br(d);if(o){if(o===m)continue;o=Di;break}o=m}return Ms(o||Di,e)}return uo}function Ec(r){const e=typeof r;return null===r?"":"string"===e||"number"===e||"boolean"===e?String(r):r instanceof kn||r instanceof sr||r instanceof ks?r.toString():JSON.stringify(r)}class Dr{constructor(e,o){this.type=e,this.value=o}static parse(e,o){if(2!==e.length)return o.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Ua(e[1]))return o.error("invalid value");const d=e[1];let m=Br(d);const v=o.expectedType;return"array"!==m.kind||0!==m.N||!v||"array"!==v.kind||"number"==typeof v.N&&0!==v.N||(m=v),new Dr(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof kn?["rgba"].concat(this.value.toArray()):this.value instanceof sr?this.value.serialize():this.value}}var bn=Dr,zn=class{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}};const br={string:$n,number:cn,boolean:li,object:uo};class js{constructor(e,o){this.type=e,this.args=o}static parse(e,o){if(e.length<2)return o.error("Expected at least one argument.");let d,m=1;const v=e[0];if("array"===v){let E,L;if(e.length>2){const k=e[1];if("string"!=typeof k||!(k in br)||"object"===k)return o.error('The item type argument of "array" must be one of string, number, boolean',1);E=br[k],m++}else E=Di;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return o.error('The length argument to "array" must be a positive integer literal',2);L=e[2],m++}d=Ms(E,L)}else d=br[v];const w=[];for(;m<e.length;m++){const E=o.parse(e[m],m,Di);if(!E)return null;w.push(E)}return new js(d,w)}evaluate(e){for(let o=0;o<this.args.length;o++){const d=this.args[o].evaluate(e);if(!Ie(this.type,Br(d)))return d;if(o===this.args.length-1)throw new zn(`Expected value to be of type ${Yi(this.type)}, but found ${Yi(Br(d))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,o=[e.kind];if("array"===e.kind){const d=e.itemType;if("string"===d.kind||"number"===d.kind||"boolean"===d.kind){o.push(d.kind);const m=e.N;("number"==typeof m||this.args.length>1)&&o.push(m)}}return o.concat(this.args.map(d=>d.serialize()))}}var Ys=js;class kr{constructor(e){this.type=Bo,this.sections=e}static parse(e,o){if(e.length<2)return o.error("Expected at least one argument.");const d=e[1];if(!Array.isArray(d)&&"object"==typeof d)return o.error("First argument must be an image or text section.");const m=[];let v=!1;for(let w=1;w<=e.length-1;++w){const E=e[w];if(v&&"object"==typeof E&&!Array.isArray(E)){v=!1;let L=null;if(E["font-scale"]&&(L=o.parse(E["font-scale"],1,cn),!L))return null;let k=null;if(E["text-font"]&&(k=o.parse(E["text-font"],1,Ms($n)),!k))return null;let j=null;if(E["text-color"]&&(j=o.parse(E["text-color"],1,Is),!j))return null;const H=m[m.length-1];H.scale=L,H.font=k,H.textColor=j}else{const L=o.parse(e[w],1,Di);if(!L)return null;const k=L.type.kind;if("string"!==k&&"value"!==k&&"null"!==k&&"resolvedImage"!==k)return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,m.push({content:L,scale:null,font:null,textColor:null})}}return new kr(m)}evaluate(e){return new sr(this.sections.map(o=>{const d=o.content.evaluate(e);return Br(d)===zo?new no("",d,null,null,null):new no(Ec(d),null,o.scale?o.scale.evaluate(e):null,o.font?o.font.evaluate(e).join(","):null,o.textColor?o.textColor.evaluate(e):null)}))}eachChild(e){for(const o of this.sections)e(o.content),o.scale&&e(o.scale),o.font&&e(o.font),o.textColor&&e(o.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const o of this.sections){e.push(o.content.serialize());const d={};o.scale&&(d["font-scale"]=o.scale.serialize()),o.font&&(d["text-font"]=o.font.serialize()),o.textColor&&(d["text-color"]=o.textColor.serialize()),e.push(d)}return e}}class ea{constructor(e){this.type=zo,this.input=e}static parse(e,o){if(2!==e.length)return o.error("Expected two arguments.");const d=o.parse(e[1],1,$n);return d?new ea(d):o.error("No image name provided.")}evaluate(e){const o=this.input.evaluate(e),d=ks.fromString(o);return d&&e.availableImages&&(d.available=e.availableImages.indexOf(o)>-1),d}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Pr={"to-boolean":li,"to-color":Is,"to-number":cn,"to-string":$n};class Do{constructor(e,o){this.type=e,this.args=o}static parse(e,o){if(e.length<2)return o.error("Expected at least one argument.");const d=e[0];if(("to-boolean"===d||"to-string"===d)&&2!==e.length)return o.error("Expected one argument.");const m=Pr[d],v=[];for(let w=1;w<e.length;w++){const E=o.parse(e[w],w,Di);if(!E)return null;v.push(E)}return new Do(m,v)}evaluate(e){if("boolean"===this.type.kind)return!!this.args[0].evaluate(e);if("color"===this.type.kind){let o,d;for(const m of this.args){if(o=m.evaluate(e),d=null,o instanceof kn)return o;if("string"==typeof o){const v=e.parseColor(o);if(v)return v}else if(Array.isArray(o)&&(d=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:cd(o[0],o[1],o[2],o[3]),!d))return new kn(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new zn(d||`Could not parse color from value '${"string"==typeof o?o:String(JSON.stringify(o))}'`)}if("number"===this.type.kind){let o=null;for(const d of this.args){if(o=d.evaluate(e),null===o)return 0;const m=Number(o);if(!isNaN(m))return m}throw new zn(`Could not convert ${JSON.stringify(o)} to number.`)}return"formatted"===this.type.kind?sr.fromString(Ec(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?ks.fromString(Ec(this.args[0].evaluate(e))):Ec(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new kr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ea(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(o=>{e.push(o.serialize())}),e}}var Eo=Do;const Xn=["Unknown","Point","LineString","Polygon"];var pl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Xn[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const r=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:o,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*e-r[0])+this.featureDistanceData.bearing[1]*(d*e-r[1])}return 0}parseColor(r){let e=this._parseColorCache[r];return e||(e=this._parseColorCache[r]=kn.parse(r)),e}};class Va{constructor(e,o,d,m){this.name=e,this.type=o,this._evaluate=d,this.args=m}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,o){const d=e[0],m=Va.definitions[d];if(!m)return o.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(m)?m[0]:m.type,w=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,E=w.filter(([k])=>!Array.isArray(k)||k.length===e.length-1);let L=null;for(const[k,j]of E){L=new Co(o.registry,o.path,null,o.scope);const H=[];let W=!1;for(let Q=1;Q<e.length;Q++){const te=e[Q],le=Array.isArray(k)?k[Q-1]:k.type,ge=L.parse(te,1+H.length,le);if(!ge){W=!0;break}H.push(ge)}if(!W)if(Array.isArray(k)&&k.length!==H.length)L.error(`Expected ${k.length} arguments, but found ${H.length} instead.`);else{for(let Q=0;Q<H.length;Q++){const te=Array.isArray(k)?k[Q]:k.type,le=H[Q];L.concat(Q+1).checkSubtype(te,le.type)}if(0===L.errors.length)return new Va(d,v,j,H)}}if(1===E.length)o.errors.push(...L.errors);else{const k=(E.length?E:w).map(([H])=>{return W=H,Array.isArray(W)?`(${W.map(Yi).join(", ")})`:`(${Yi(W.type)}...)`;var W}).join(" | "),j=[];for(let H=1;H<e.length;H++){const W=o.parse(e[H],1+j.length);if(!W)return null;j.push(Yi(W.type))}o.error(`Expected arguments of type ${k}, but found (${j.join(", ")}) instead.`)}return null}static register(e,o){Va.definitions=o;for(const d in o)e[d]=Va}}var Us=Va;class Er{constructor(e,o,d){this.type=Wr,this.locale=d,this.caseSensitive=e,this.diacriticSensitive=o}static parse(e,o){if(2!==e.length)return o.error("Expected one argument.");const d=e[1];if("object"!=typeof d||Array.isArray(d))return o.error("Collator options argument must be an object.");const m=o.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,li);if(!m)return null;const v=o.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,li);if(!v)return null;let w=null;return d.locale&&(w=o.parse(d.locale,1,$n),!w)?null:new Er(m,v,w)}evaluate(e){return new tr(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Ui=8192;function To(r,e){r[0]=Math.min(r[0],e[0]),r[1]=Math.min(r[1],e[1]),r[2]=Math.max(r[2],e[0]),r[3]=Math.max(r[3],e[1])}function ls(r,e){return!(r[0]<=e[0]||r[2]>=e[2]||r[1]<=e[1]||r[3]>=e[3])}function Ta(r,e){const o=(180+r[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,m=Math.pow(2,e.z);return[Math.round(o*m*Ui),Math.round(d*m*Ui)]}function uu(r,e,o){const d=r[0]-e[0],m=r[1]-e[1],v=r[0]-o[0],w=r[1]-o[1];return d*w-v*m==0&&d*v<=0&&m*w<=0}function ta(r,e){let o=!1;for(let w=0,E=e.length;w<E;w++){const L=e[w];for(let k=0,j=L.length;k<j-1;k++){if(uu(r,L[k],L[k+1]))return!1;(m=L[k])[1]>(d=r)[1]!=(v=L[k+1])[1]>d[1]&&d[0]<(v[0]-m[0])*(d[1]-m[1])/(v[1]-m[1])+m[0]&&(o=!o)}}var d,m,v;return o}function So(r,e){for(let o=0;o<e.length;o++)if(ta(r,e[o]))return!0;return!1}function Ha(r,e,o,d){const m=d[0]-o[0],v=d[1]-o[1],w=(r[0]-o[0])*v-m*(r[1]-o[1]),E=(e[0]-o[0])*v-m*(e[1]-o[1]);return w>0&&E<0||w<0&&E>0}function ms(r,e,o){for(const k of o)for(let j=0;j<k.length-1;++j)if((E=[(w=k[j+1])[0]-(v=k[j])[0],w[1]-v[1]])[0]*(L=[(m=e)[0]-(d=r)[0],m[1]-d[1]])[1]-E[1]*L[0]!=0&&Ha(d,m,v,w)&&Ha(v,w,d,m))return!0;var d,m,v,w,E,L;return!1}function Dn(r,e){for(let o=0;o<r.length;++o)if(!ta(r[o],e))return!1;for(let o=0;o<r.length-1;++o)if(ms(r[o],r[o+1],e))return!1;return!0}function Ip(r,e){for(let o=0;o<e.length;o++)if(Dn(r,e[o]))return!0;return!1}function ho(r,e,o){const d=[];for(let m=0;m<r.length;m++){const v=[];for(let w=0;w<r[m].length;w++){const E=Ta(r[m][w],o);To(e,E),v.push(E)}d.push(v)}return d}function ud(r,e,o){const d=[];for(let m=0;m<r.length;m++){const v=ho(r[m],e,o);d.push(v)}return d}function Ds(r,e,o,d){if(r[0]<o[0]||r[0]>o[2]){const m=.5*d;let v=r[0]-o[0]>m?-d:o[0]-r[0]>m?d:0;0===v&&(v=r[0]-o[2]>m?-d:o[2]-r[0]>m?d:0),r[0]+=v}To(e,r)}function Tc(r,e,o,d){const m=Math.pow(2,d.z)*Ui,v=[d.x*Ui,d.y*Ui],w=[];if(!r)return w;for(const E of r)for(const L of E){const k=[L.x+v[0],L.y+v[1]];Ds(k,e,o,m),w.push(k)}return w}function ml(r,e,o,d){const m=Math.pow(2,d.z)*Ui,v=[d.x*Ui,d.y*Ui],w=[];if(!r)return w;for(const L of r){const k=[];for(const j of L){const H=[j.x+v[0],j.y+v[1]];To(e,H),k.push(H)}w.push(k)}if(e[2]-e[0]<=m/2){(E=e)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(const L of w)for(const k of L)Ds(k,e,o,m)}var E;return w}class na{constructor(e,o){this.type=li,this.geojson=e,this.geometries=o}static parse(e,o){if(2!==e.length)return o.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ua(e[1])){const d=e[1];if("FeatureCollection"===d.type)for(let m=0;m<d.features.length;++m){const v=d.features[m].geometry.type;if("Polygon"===v||"MultiPolygon"===v)return new na(d,d.features[m].geometry)}else if("Feature"===d.type){const m=d.geometry.type;if("Polygon"===m||"MultiPolygon"===m)return new na(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new na(d,d)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(o,d){const m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],w=o.canonicalID();if(!w)return!1;if("Polygon"===d.type){const E=ho(d.coordinates,v,w),L=Tc(o.geometry(),m,v,w);if(!ls(m,v))return!1;for(const k of L)if(!ta(k,E))return!1}if("MultiPolygon"===d.type){const E=ud(d.coordinates,v,w),L=Tc(o.geometry(),m,v,w);if(!ls(m,v))return!1;for(const k of L)if(!So(k,E))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(o,d){const m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],w=o.canonicalID();if(!w)return!1;if("Polygon"===d.type){const E=ho(d.coordinates,v,w),L=ml(o.geometry(),m,v,w);if(!ls(m,v))return!1;for(const k of L)if(!Dn(k,E))return!1}if("MultiPolygon"===d.type){const E=ud(d.coordinates,v,w),L=ml(o.geometry(),m,v,w);if(!ls(m,v))return!1;for(const k of L)if(!Ip(k,E))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var zr=na;function Ul(r){if(r instanceof Us&&("get"===r.name&&1===r.args.length||"feature-state"===r.name||"has"===r.name&&1===r.args.length||"properties"===r.name||"geometry-type"===r.name||"id"===r.name||/^filter-/.test(r.name))||r instanceof zr)return!1;let e=!0;return r.eachChild(o=>{e&&!Ul(o)&&(e=!1)}),e}function Zr(r){if(r instanceof Us&&"feature-state"===r.name)return!1;let e=!0;return r.eachChild(o=>{e&&!Zr(o)&&(e=!1)}),e}function qr(r,e){if(r instanceof Us&&e.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(d=>{o&&!qr(d,e)&&(o=!1)}),o}class Vl{constructor(e,o){this.type=o.type,this.name=e,this.boundExpression=o}static parse(e,o){if(2!==e.length||"string"!=typeof e[1])return o.error("'var' expression requires exactly one string literal argument.");const d=e[1];return o.scope.has(d)?new Vl(d,o.scope.get(d)):o.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Sa=Vl;class _l{constructor(e,o=[],d,m=new Ea,v=[]){this.registry=e,this.path=o,this.key=o.map(w=>`[${w}]`).join(""),this.scope=m,this.errors=v,this.expectedType=d}parse(e,o,d,m,v={}){return o?this.concat(o,d,m)._parse(e,v):this._parse(e,v)}_parse(e,o){function d(m,v,w){return"assert"===w?new Ys(v,[m]):"coerce"===w?new Eo(v,[m]):m}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=e[0];if("string"!=typeof m)return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[m];if(v){let w=v.parse(e,this);if(!w)return null;if(this.expectedType){const E=this.expectedType,L=w.type;if("string"!==E.kind&&"number"!==E.kind&&"boolean"!==E.kind&&"object"!==E.kind&&"array"!==E.kind||"value"!==L.kind)if("color"!==E.kind&&"formatted"!==E.kind&&"resolvedImage"!==E.kind||"value"!==L.kind&&"string"!==L.kind){if(this.checkSubtype(E,L))return null}else w=d(w,E,o.typeAnnotation||"coerce");else w=d(w,E,o.typeAnnotation||"assert")}if(!(w instanceof bn)&&"resolvedImage"!==w.type.kind&&Sc(w)){const E=new pl;try{w=new bn(w.type,w.evaluate(E))}catch(L){return this.error(L.message),null}}return w}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,o,d){const m="number"==typeof e?this.path.concat(e):this.path,v=d?this.scope.concat(d):this.scope;return new _l(this.registry,m,o||null,v,this.errors)}error(e,...o){const d=`${this.key}${o.map(m=>`[${m}]`).join("")}`;this.errors.push(new As(d,e))}checkSubtype(e,o){const d=Ie(e,o);return d&&this.error(d),d}}var Co=_l;function Sc(r){if(r instanceof Sa)return Sc(r.boundExpression);if(r instanceof Us&&"error"===r.name||r instanceof Er||r instanceof zr)return!1;const e=r instanceof Eo||r instanceof Ys;let o=!0;return r.eachChild(d=>{o=e?o&&Sc(d):o&&d instanceof bn}),!!o&&Ul(r)&&qr(r,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function du(r,e){const o=r.length-1;let d,m,v=0,w=o,E=0;for(;v<=w;)if(E=Math.floor((v+w)/2),d=r[E],m=r[E+1],d<=e){if(E===o||e<m)return E;v=E+1}else{if(!(d>e))throw new zn("Input is not a number.");w=E-1}return 0}class hu{constructor(e,o,d){this.type=e,this.input=o,this.labels=[],this.outputs=[];for(const[m,v]of d)this.labels.push(m),this.outputs.push(v)}static parse(e,o){if(e.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return o.error("Expected an even number of arguments.");const d=o.parse(e[1],1,cn);if(!d)return null;const m=[];let v=null;o.expectedType&&"value"!==o.expectedType.kind&&(v=o.expectedType);for(let w=1;w<e.length;w+=2){const E=1===w?-1/0:e[w],L=e[w+1],k=w,j=w+1;if("number"!=typeof E)return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(m.length&&m[m.length-1][0]>=E)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',k);const H=o.parse(L,j,v);if(!H)return null;v=v||H.type,m.push([E,H])}return new hu(v,d,m)}evaluate(e){const o=this.labels,d=this.outputs;if(1===o.length)return d[0].evaluate(e);const m=this.input.evaluate(e);if(m<=o[0])return d[0].evaluate(e);const v=o.length;return m>=o[v-1]?d[v-1].evaluate(e):d[du(o,m)].evaluate(e)}eachChild(e){e(this.input);for(const o of this.outputs)e(o)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&e.push(this.labels[o]),e.push(this.outputs[o].serialize());return e}}var th=hu;function Bi(r,e,o){return r*(1-o)+e*o}var ia=Object.freeze({__proto__:null,array:function(r,e,o){return r.map((d,m)=>Bi(d,e[m],o))},color:function(r,e,o){return new kn(Bi(r.r,e.r,o),Bi(r.g,e.g,o),Bi(r.b,e.b,o),Bi(r.a,e.a,o))},number:Bi});const kp=4/29,gl=6/29,jr=3*gl*gl,p_=gl*gl*gl,m_=Math.PI/180,__=180/Math.PI;function nh(r){return r>p_?Math.pow(r,1/3):r/jr+kp}function pf(r){return r>gl?r*r*r:jr*(r-kp)}function ih(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function xr(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function dd(r){const e=xr(r.r),o=xr(r.g),d=xr(r.b),m=nh((.4124564*e+.3575761*o+.1804375*d)/.95047),v=nh((.2126729*e+.7151522*o+.072175*d)/1);return{l:116*v-16,a:500*(m-v),b:200*(v-nh((.0193339*e+.119192*o+.9503041*d)/1.08883)),alpha:r.a}}function rh(r){let e=(r.l+16)/116,o=isNaN(r.a)?e:e+r.a/500,d=isNaN(r.b)?e:e-r.b/200;return e=1*pf(e),o=.95047*pf(o),d=1.08883*pf(d),new kn(ih(3.2404542*o-1.5371385*e-.4985314*d),ih(-.969266*o+1.8760108*e+.041556*d),ih(.0556434*o-.2040259*e+1.0572252*d),r.alpha)}function Pp(r,e,o){const d=e-r;return r+o*(d>180||d<-180?d-360*Math.round(d/360):d)}const hd={forward:dd,reverse:rh,interpolate:function(r,e,o){return{l:Bi(r.l,e.l,o),a:Bi(r.a,e.a,o),b:Bi(r.b,e.b,o),alpha:Bi(r.alpha,e.alpha,o)}}},Hl={forward:function(r){const{l:e,a:o,b:d}=dd(r),m=Math.atan2(d,o)*__;return{h:m<0?m+360:m,c:Math.sqrt(o*o+d*d),l:e,alpha:r.a}},reverse:function(r){const e=r.h*m_,o=r.c;return rh({l:r.l,a:Math.cos(e)*o,b:Math.sin(e)*o,alpha:r.alpha})},interpolate:function(r,e,o){return{h:Pp(r.h,e.h,o),c:Bi(r.c,e.c,o),l:Bi(r.l,e.l,o),alpha:Bi(r.alpha,e.alpha,o)}}};var Ca=Object.freeze({__proto__:null,hcl:Hl,lab:hd});class ra{constructor(e,o,d,m,v){this.type=e,this.operator=o,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(const[w,E]of v)this.labels.push(w),this.outputs.push(E)}static interpolationFactor(e,o,d,m){let v=0;if("exponential"===e.name)v=pu(o,e.base,d,m);else if("linear"===e.name)v=pu(o,1,d,m);else if("cubic-bezier"===e.name){const w=e.controlPoints;v=new Fn(w[0],w[1],w[2],w[3]).solve(pu(o,1,d,m))}return v}static parse(e,o){let[d,m,v,...w]=e;if(!Array.isArray(m)||0===m.length)return o.error("Expected an interpolation type expression.",1);if("linear"===m[0])m={name:"linear"};else if("exponential"===m[0]){const k=m[1];if("number"!=typeof k)return o.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:k}}else{if("cubic-bezier"!==m[0])return o.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const k=m.slice(1);if(4!==k.length||k.some(j=>"number"!=typeof j||j<0||j>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:k}}}if(e.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(v=o.parse(v,2,cn),!v)return null;const E=[];let L=null;"interpolate-hcl"===d||"interpolate-lab"===d?L=Is:o.expectedType&&"value"!==o.expectedType.kind&&(L=o.expectedType);for(let k=0;k<w.length;k+=2){const j=w[k],H=w[k+1],W=k+3,Q=k+4;if("number"!=typeof j)return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(E.length&&E[E.length-1][0]>=j)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const te=o.parse(H,Q,L);if(!te)return null;L=L||te.type,E.push([j,te])}return"number"===L.kind||"color"===L.kind||"array"===L.kind&&"number"===L.itemType.kind&&"number"==typeof L.N?new ra(L,d,m,v,E):o.error(`Type ${Yi(L)} is not interpolatable.`)}evaluate(e){const o=this.labels,d=this.outputs;if(1===o.length)return d[0].evaluate(e);const m=this.input.evaluate(e);if(m<=o[0])return d[0].evaluate(e);const v=o.length;if(m>=o[v-1])return d[v-1].evaluate(e);const w=du(o,m),E=ra.interpolationFactor(this.interpolation,m,o[w],o[w+1]),L=d[w].evaluate(e),k=d[w+1].evaluate(e);return"interpolate"===this.operator?ia[this.type.kind.toLowerCase()](L,k,E):"interpolate-hcl"===this.operator?Hl.reverse(Hl.interpolate(Hl.forward(L),Hl.forward(k),E)):hd.reverse(hd.interpolate(hd.forward(L),hd.forward(k),E))}eachChild(e){e(this.input);for(const o of this.outputs)e(o)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,e,this.input.serialize()];for(let d=0;d<this.labels.length;d++)o.push(this.labels[d],this.outputs[d].serialize());return o}}function pu(r,e,o,d){const m=d-o,v=r-o;return 0===m?0:1===e?v/m:(Math.pow(e,v)-1)/(Math.pow(e,m)-1)}var Ps=ra;class mu{constructor(e,o){this.type=e,this.args=o}static parse(e,o){if(e.length<2)return o.error("Expectected at least one argument.");let d=null;const m=o.expectedType;m&&"value"!==m.kind&&(d=m);const v=[];for(const E of e.slice(1)){const L=o.parse(E,1+v.length,d,void 0,{typeAnnotation:"omit"});if(!L)return null;d=d||L.type,v.push(L)}const w=m&&v.some(E=>Ie(m,E.type));return new mu(w?Di:d,v)}evaluate(e){let o,d=null,m=0;for(const v of this.args){if(m++,d=v.evaluate(e),d&&d instanceof ks&&!d.available&&(o||(o=d),d=null,m===this.args.length))return o;if(null!==d)break}return d}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(o=>{e.push(o.serialize())}),e}}var Cc=mu;class $a{constructor(e,o){this.type=o.type,this.bindings=[].concat(e),this.result=o}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const o of this.bindings)e(o[1]);e(this.result)}static parse(e,o){if(e.length<4)return o.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const d=[];for(let v=1;v<e.length-1;v+=2){const w=e[v];if("string"!=typeof w)return o.error(`Expected string, but found ${typeof w} instead.`,v);if(/[^a-zA-Z0-9_]/.test(w))return o.error("Variable names must contain only alphanumeric characters or '_'.",v);const E=o.parse(e[v+1],v+1);if(!E)return null;d.push([w,E])}const m=o.parse(e[e.length-1],e.length-1,o.expectedType,d);return m?new $a(d,m):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[o,d]of this.bindings)e.push(o,d.serialize());return e.push(this.result.serialize()),e}}var Lc=$a;class mf{constructor(e,o,d){this.type=e,this.index=o,this.input=d}static parse(e,o){if(3!==e.length)return o.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const d=o.parse(e[1],1,cn),m=o.parse(e[2],2,Ms(o.expectedType||Di));return d&&m?new mf(m.type.itemType,d,m):null}evaluate(e){const o=this.index.evaluate(e),d=this.input.evaluate(e);if(o<0)throw new zn(`Array index out of bounds: ${o} < 0.`);if(o>=d.length)throw new zn(`Array index out of bounds: ${o} > ${d.length-1}.`);if(o!==Math.floor(o))throw new zn(`Array index must be an integer, but found ${o} instead.`);return d[o]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var _f=mf;class Lo{constructor(e,o){this.type=li,this.needle=e,this.haystack=o}static parse(e,o){if(3!==e.length)return o.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const d=o.parse(e[1],1,Di),m=o.parse(e[2],2,Di);return d&&m?pt(d.type,[li,$n,cn,fl,Di])?new Lo(d,m):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yi(d.type)} instead`):null}evaluate(e){const o=this.needle.evaluate(e),d=this.haystack.evaluate(e);if(null==d)return!1;if(!Ot(o,["boolean","string","number","null"]))throw new zn(`Expected first argument to be of type boolean, string, number or null, but found ${Yi(Br(o))} instead.`);if(!Ot(d,["string","array"]))throw new zn(`Expected second argument to be of type array or string, but found ${Yi(Br(d))} instead.`);return d.indexOf(o)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var sa=Lo;class Yr{constructor(e,o,d){this.type=cn,this.needle=e,this.haystack=o,this.fromIndex=d}static parse(e,o){if(e.length<=2||e.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const d=o.parse(e[1],1,Di),m=o.parse(e[2],2,Di);if(!d||!m)return null;if(!pt(d.type,[li,$n,cn,fl,Di]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yi(d.type)} instead`);if(4===e.length){const v=o.parse(e[3],3,cn);return v?new Yr(d,m,v):null}return new Yr(d,m)}evaluate(e){const o=this.needle.evaluate(e),d=this.haystack.evaluate(e);if(!Ot(o,["boolean","string","number","null"]))throw new zn(`Expected first argument to be of type boolean, string, number or null, but found ${Yi(Br(o))} instead.`);if(!Ot(d,["string","array"]))throw new zn(`Expected second argument to be of type array or string, but found ${Yi(Br(d))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(e);return d.indexOf(o,m)}return d.indexOf(o)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var $l=Yr;class sh{constructor(e,o,d,m,v,w){this.inputType=e,this.type=o,this.input=d,this.cases=m,this.outputs=v,this.otherwise=w}static parse(e,o){if(e.length<5)return o.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return o.error("Expected an even number of arguments.");let d,m;o.expectedType&&"value"!==o.expectedType.kind&&(m=o.expectedType);const v={},w=[];for(let k=2;k<e.length-1;k+=2){let j=e[k];const H=e[k+1];Array.isArray(j)||(j=[j]);const W=o.concat(k);if(0===j.length)return W.error("Expected at least one branch label.");for(const te of j){if("number"!=typeof te&&"string"!=typeof te)return W.error("Branch labels must be numbers or strings.");if("number"==typeof te&&Math.abs(te)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof te&&Math.floor(te)!==te)return W.error("Numeric branch labels must be integer values.");if(d){if(W.checkSubtype(d,Br(te)))return null}else d=Br(te);if(void 0!==v[String(te)])return W.error("Branch labels must be unique.");v[String(te)]=w.length}const Q=o.parse(H,k,m);if(!Q)return null;m=m||Q.type,w.push(Q)}const E=o.parse(e[1],1,Di);if(!E)return null;const L=o.parse(e[e.length-1],e.length-1,m);return L?"value"!==E.type.kind&&o.concat(1).checkSubtype(d,E.type)?null:new sh(d,m,E,v,w,L):null}evaluate(e){const o=this.input.evaluate(e);return(Br(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),d=[],m={};for(const w of o){const E=m[this.cases[w]];void 0===E?(m[this.cases[w]]=d.length,d.push([this.cases[w],[w]])):d[E][1].push(w)}const v=w=>"number"===this.inputType.kind?Number(w):w;for(const[w,E]of d)e.push(1===E.length?v(E[0]):E.map(v)),e.push(this.outputs[w].serialize());return e.push(this.otherwise.serialize()),e}}var oh=sh;class _u{constructor(e,o,d){this.type=e,this.branches=o,this.otherwise=d}static parse(e,o){if(e.length<4)return o.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return o.error("Expected an odd number of arguments.");let d;o.expectedType&&"value"!==o.expectedType.kind&&(d=o.expectedType);const m=[];for(let w=1;w<e.length-1;w+=2){const E=o.parse(e[w],w,li);if(!E)return null;const L=o.parse(e[w+1],w+1,d);if(!L)return null;m.push([E,L]),d=d||L.type}const v=o.parse(e[e.length-1],e.length-1,d);return v?new _u(d,m,v):null}evaluate(e){for(const[o,d]of this.branches)if(o.evaluate(e))return d.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[o,d]of this.branches)e(o),e(d);e(this.otherwise)}outputDefined(){return this.branches.every(([e,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(o=>{e.push(o.serialize())}),e}}var gu=_u;class yu{constructor(e,o,d,m){this.type=e,this.input=o,this.beginIndex=d,this.endIndex=m}static parse(e,o){if(e.length<=2||e.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const d=o.parse(e[1],1,Di),m=o.parse(e[2],2,cn);if(!d||!m)return null;if(!pt(d.type,[Ms(Di),$n,Di]))return o.error(`Expected first argument to be of type array or string, but found ${Yi(d.type)} instead`);if(4===e.length){const v=o.parse(e[3],3,cn);return v?new yu(d.type,d,m,v):null}return new yu(d.type,d,m)}evaluate(e){const o=this.input.evaluate(e),d=this.beginIndex.evaluate(e);if(!Ot(o,["string","array"]))throw new zn(`Expected first argument to be of type array or string, but found ${Yi(Br(o))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(e);return o.slice(d,m)}return o.slice(d)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var gf=yu;function Ac(r,e){return"=="===r||"!="===r?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function fd(r,e,o,d){return 0===d.compare(e,o)}function Gl(r,e,o){const d="=="!==r&&"!="!==r;return class xS{constructor(v,w,E){this.type=li,this.lhs=v,this.rhs=w,this.collator=E,this.hasUntypedArgument="value"===v.type.kind||"value"===w.type.kind}static parse(v,w){if(3!==v.length&&4!==v.length)return w.error("Expected two or three arguments.");const E=v[0];let L=w.parse(v[1],1,Di);if(!L)return null;if(!Ac(E,L.type))return w.concat(1).error(`"${E}" comparisons are not supported for type '${Yi(L.type)}'.`);let k=w.parse(v[2],2,Di);if(!k)return null;if(!Ac(E,k.type))return w.concat(2).error(`"${E}" comparisons are not supported for type '${Yi(k.type)}'.`);if(L.type.kind!==k.type.kind&&"value"!==L.type.kind&&"value"!==k.type.kind)return w.error(`Cannot compare types '${Yi(L.type)}' and '${Yi(k.type)}'.`);d&&("value"===L.type.kind&&"value"!==k.type.kind?L=new Ys(k.type,[L]):"value"!==L.type.kind&&"value"===k.type.kind&&(k=new Ys(L.type,[k])));let j=null;if(4===v.length){if("string"!==L.type.kind&&"string"!==k.type.kind&&"value"!==L.type.kind&&"value"!==k.type.kind)return w.error("Cannot use collator to compare non-string types.");if(j=w.parse(v[3],3,Wr),!j)return null}return new xS(L,k,j)}evaluate(v){const w=this.lhs.evaluate(v),E=this.rhs.evaluate(v);if(d&&this.hasUntypedArgument){const L=Br(w),k=Br(E);if(L.kind!==k.kind||"string"!==L.kind&&"number"!==L.kind)throw new zn(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${L.kind}, ${k.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const L=Br(w),k=Br(E);if("string"!==L.kind||"string"!==k.kind)return e(v,w,E)}return this.collator?o(v,w,E,this.collator.evaluate(v)):e(v,w,E)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[r];return this.eachChild(w=>{v.push(w.serialize())}),v}}}const vu=Gl("==",function(r,e,o){return e===o},fd),yf=Gl("!=",function(r,e,o){return e!==o},function(r,e,o,d){return!fd(0,e,o,d)}),Op=Gl("<",function(r,e,o){return e<o},function(r,e,o,d){return d.compare(e,o)<0}),g_=Gl(">",function(r,e,o){return e>o},function(r,e,o,d){return d.compare(e,o)>0}),oa=Gl("<=",function(r,e,o){return e<=o},function(r,e,o,d){return d.compare(e,o)<=0}),Ga=Gl(">=",function(r,e,o){return e>=o},function(r,e,o,d){return d.compare(e,o)>=0});class bu{constructor(e,o,d,m,v,w){this.type=$n,this.number=e,this.locale=o,this.currency=d,this.unit=m,this.minFractionDigits=v,this.maxFractionDigits=w}static parse(e,o){if(3!==e.length)return o.error("Expected two arguments.");const d=o.parse(e[1],1,cn);if(!d)return null;const m=e[2];if("object"!=typeof m||Array.isArray(m))return o.error("NumberFormat options argument must be an object.");let v=null;if(m.locale&&(v=o.parse(m.locale,1,$n),!v))return null;let w=null;if(m.currency&&(w=o.parse(m.currency,1,$n),!w))return null;let E=null;if(m.unit&&(E=o.parse(m.unit,1,$n),!E))return null;let L=null;if(m["min-fraction-digits"]&&(L=o.parse(m["min-fraction-digits"],1,cn),!L))return null;let k=null;return m["max-fraction-digits"]&&(k=o.parse(m["max-fraction-digits"],1,cn),!k)?null:new bu(d,v,w,E,L,k)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Ic{constructor(e){this.type=cn,this.input=e}static parse(e,o){if(2!==e.length)return o.error(`Expected 1 argument, but found ${e.length-1} instead.`);const d=o.parse(e[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?o.error(`Expected argument of type string or array, but found ${Yi(d.type)} instead.`):new Ic(d):null}evaluate(e){const o=this.input.evaluate(e);if("string"==typeof o||Array.isArray(o))return o.length;throw new zn(`Expected value to be of type string or array, but found ${Yi(Br(o))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(o=>{e.push(o.serialize())}),e}}const xu={"==":vu,"!=":yf,">":g_,"<":Op,">=":Ga,"<=":oa,array:Ys,at:_f,boolean:Ys,case:gu,coalesce:Cc,collator:Er,format:kr,image:ea,in:sa,"index-of":$l,interpolate:Ps,"interpolate-hcl":Ps,"interpolate-lab":Ps,length:Ic,let:Lc,literal:bn,match:oh,number:Ys,"number-format":bu,object:Ys,slice:gf,step:th,string:Ys,"to-boolean":Eo,"to-color":Eo,"to-number":Eo,"to-string":Eo,var:Sa,within:zr};function pd(r,[e,o,d,m]){e=e.evaluate(r),o=o.evaluate(r),d=d.evaluate(r);const v=m?m.evaluate(r):1,w=cd(e,o,d,v);if(w)throw new zn(w);return new kn(e/255*v,o/255*v,d/255*v,v)}function Wa(r,e){return r in e}function yl(r,e){const o=e[r];return void 0===o?null:o}function fo(r){return{type:r}}Us.register(xu,{error:[{kind:"error"},[$n],(r,[e])=>{throw new zn(e.evaluate(r))}],typeof:[$n,[Di],(r,[e])=>Yi(Br(e.evaluate(r)))],"to-rgba":[Ms(cn,4),[Is],(r,[e])=>e.evaluate(r).toArray()],rgb:[Is,[cn,cn,cn],pd],rgba:[Is,[cn,cn,cn,cn],pd],has:{type:li,overloads:[[[$n],(r,[e])=>Wa(e.evaluate(r),r.properties())],[[$n,uo],(r,[e,o])=>Wa(e.evaluate(r),o.evaluate(r))]]},get:{type:Di,overloads:[[[$n],(r,[e])=>yl(e.evaluate(r),r.properties())],[[$n,uo],(r,[e,o])=>yl(e.evaluate(r),o.evaluate(r))]]},"feature-state":[Di,[$n],(r,[e])=>yl(e.evaluate(r),r.featureState||{})],properties:[uo,[],r=>r.properties()],"geometry-type":[$n,[],r=>r.geometryType()],id:[Di,[],r=>r.id()],zoom:[cn,[],r=>r.globals.zoom],pitch:[cn,[],r=>r.globals.pitch||0],"distance-from-center":[cn,[],r=>r.distanceFromCenter()],"heatmap-density":[cn,[],r=>r.globals.heatmapDensity||0],"line-progress":[cn,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[cn,[],r=>r.globals.skyRadialProgress||0],accumulated:[Di,[],r=>void 0===r.globals.accumulated?null:r.globals.accumulated],"+":[cn,fo(cn),(r,e)=>{let o=0;for(const d of e)o+=d.evaluate(r);return o}],"*":[cn,fo(cn),(r,e)=>{let o=1;for(const d of e)o*=d.evaluate(r);return o}],"-":{type:cn,overloads:[[[cn,cn],(r,[e,o])=>e.evaluate(r)-o.evaluate(r)],[[cn],(r,[e])=>-e.evaluate(r)]]},"/":[cn,[cn,cn],(r,[e,o])=>e.evaluate(r)/o.evaluate(r)],"%":[cn,[cn,cn],(r,[e,o])=>e.evaluate(r)%o.evaluate(r)],ln2:[cn,[],()=>Math.LN2],pi:[cn,[],()=>Math.PI],e:[cn,[],()=>Math.E],"^":[cn,[cn,cn],(r,[e,o])=>Math.pow(e.evaluate(r),o.evaluate(r))],sqrt:[cn,[cn],(r,[e])=>Math.sqrt(e.evaluate(r))],log10:[cn,[cn],(r,[e])=>Math.log(e.evaluate(r))/Math.LN10],ln:[cn,[cn],(r,[e])=>Math.log(e.evaluate(r))],log2:[cn,[cn],(r,[e])=>Math.log(e.evaluate(r))/Math.LN2],sin:[cn,[cn],(r,[e])=>Math.sin(e.evaluate(r))],cos:[cn,[cn],(r,[e])=>Math.cos(e.evaluate(r))],tan:[cn,[cn],(r,[e])=>Math.tan(e.evaluate(r))],asin:[cn,[cn],(r,[e])=>Math.asin(e.evaluate(r))],acos:[cn,[cn],(r,[e])=>Math.acos(e.evaluate(r))],atan:[cn,[cn],(r,[e])=>Math.atan(e.evaluate(r))],min:[cn,fo(cn),(r,e)=>Math.min(...e.map(o=>o.evaluate(r)))],max:[cn,fo(cn),(r,e)=>Math.max(...e.map(o=>o.evaluate(r)))],abs:[cn,[cn],(r,[e])=>Math.abs(e.evaluate(r))],round:[cn,[cn],(r,[e])=>{const o=e.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[cn,[cn],(r,[e])=>Math.floor(e.evaluate(r))],ceil:[cn,[cn],(r,[e])=>Math.ceil(e.evaluate(r))],"filter-==":[li,[$n,Di],(r,[e,o])=>r.properties()[e.value]===o.value],"filter-id-==":[li,[Di],(r,[e])=>r.id()===e.value],"filter-type-==":[li,[$n],(r,[e])=>r.geometryType()===e.value],"filter-<":[li,[$n,Di],(r,[e,o])=>{const d=r.properties()[e.value],m=o.value;return typeof d==typeof m&&d<m}],"filter-id-<":[li,[Di],(r,[e])=>{const o=r.id(),d=e.value;return typeof o==typeof d&&o<d}],"filter->":[li,[$n,Di],(r,[e,o])=>{const d=r.properties()[e.value],m=o.value;return typeof d==typeof m&&d>m}],"filter-id->":[li,[Di],(r,[e])=>{const o=r.id(),d=e.value;return typeof o==typeof d&&o>d}],"filter-<=":[li,[$n,Di],(r,[e,o])=>{const d=r.properties()[e.value],m=o.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[li,[Di],(r,[e])=>{const o=r.id(),d=e.value;return typeof o==typeof d&&o<=d}],"filter->=":[li,[$n,Di],(r,[e,o])=>{const d=r.properties()[e.value],m=o.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[li,[Di],(r,[e])=>{const o=r.id(),d=e.value;return typeof o==typeof d&&o>=d}],"filter-has":[li,[Di],(r,[e])=>e.value in r.properties()],"filter-has-id":[li,[],r=>null!==r.id()&&void 0!==r.id()],"filter-type-in":[li,[Ms($n)],(r,[e])=>e.value.indexOf(r.geometryType())>=0],"filter-id-in":[li,[Ms(Di)],(r,[e])=>e.value.indexOf(r.id())>=0],"filter-in-small":[li,[$n,Ms(Di)],(r,[e,o])=>o.value.indexOf(r.properties()[e.value])>=0],"filter-in-large":[li,[$n,Ms(Di)],(r,[e,o])=>function(d,m,v,w){for(;v<=w;){const E=v+w>>1;if(m[E]===d)return!0;m[E]>d?w=E-1:v=E+1}return!1}(r.properties()[e.value],o.value,0,o.value.length-1)],all:{type:li,overloads:[[[li,li],(r,[e,o])=>e.evaluate(r)&&o.evaluate(r)],[fo(li),(r,e)=>{for(const o of e)if(!o.evaluate(r))return!1;return!0}]]},any:{type:li,overloads:[[[li,li],(r,[e,o])=>e.evaluate(r)||o.evaluate(r)],[fo(li),(r,e)=>{for(const o of e)if(o.evaluate(r))return!0;return!1}]]},"!":[li,[li],(r,[e])=>!e.evaluate(r)],"is-supported-script":[li,[$n],(r,[e])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(e.evaluate(r))}],upcase:[$n,[$n],(r,[e])=>e.evaluate(r).toUpperCase()],downcase:[$n,[$n],(r,[e])=>e.evaluate(r).toLowerCase()],concat:[$n,fo(Di),(r,e)=>e.map(o=>Ec(o.evaluate(r))).join("")],"resolved-locale":[$n,[Wr],(r,[e])=>e.evaluate(r).resolvedLocale()]});var Wl=xu;function wu(r){return{result:"success",value:r}}function po(r){return{result:"error",value:r}}function Zl(r){return"data-driven"===r["property-type"]}function Os(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function kc(r){return!!r.expression&&r.expression.interpolated}function Pi(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":null===r?"null":typeof r}function nr(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}function ql(r){return r}function Za(r,e){const o="color"===e.type,d=r.stops&&"object"==typeof r.stops[0][0],m=d||!(d||void 0!==r.property),v=r.type||(kc(e)?"exponential":"interval");if(o&&((r=Mo({},r)).stops&&(r.stops=r.stops.map(k=>[k[0],kn.parse(k[1])])),r.default=kn.parse(r.default?r.default:e.default)),r.colorSpace&&"rgb"!==r.colorSpace&&!Ca[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let w,E,L;if("exponential"===v)w=Rs;else if("interval"===v)w=Kl;else if("categorical"===v){w=Mu,E=Object.create(null);for(const k of r.stops)E[k[0]]=k[1];L=typeof r.stops[0][0]}else{if("identity"!==v)throw new Error(`Unknown function type "${v}"`);w=cs}if(d){const k={},j=[];for(let Q=0;Q<r.stops.length;Q++){const te=r.stops[Q],le=te[0].zoom;void 0===k[le]&&(k[le]={zoom:le,type:r.type,property:r.property,default:r.default,stops:[]},j.push(le)),k[le].stops.push([te[0].value,te[1]])}const H=[];for(const Q of j)H.push([k[Q].zoom,Za(k[Q],e)]);const W={name:"linear"};return{kind:"composite",interpolationType:W,interpolationFactor:Ps.interpolationFactor.bind(void 0,W),zoomStops:H.map(Q=>Q[0]),evaluate:({zoom:Q},te)=>Rs({stops:H,base:r.base},e,Q).evaluate(Q,te)}}if(m){const k="exponential"===v?{name:"exponential",base:void 0!==r.base?r.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:Ps.interpolationFactor.bind(void 0,k),zoomStops:r.stops.map(j=>j[0]),evaluate:({zoom:j})=>w(r,e,j,E,L)}}return{kind:"source",evaluate(k,j){const H=j&&j.properties?j.properties[r.property]:void 0;return void 0===H?ns(r.default,e.default):w(r,e,H,E,L)}}}function ns(r,e,o){return void 0!==r?r:void 0!==e?e:void 0!==o?o:void 0}function Mu(r,e,o,d,m){return ns(typeof o===m?d[o]:void 0,r.default,e.default)}function Kl(r,e,o){if("number"!==Pi(o))return ns(r.default,e.default);const d=r.stops.length;if(1===d||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[d-1][0])return r.stops[d-1][1];const m=du(r.stops.map(v=>v[0]),o);return r.stops[m][1]}function Rs(r,e,o){const d=void 0!==r.base?r.base:1;if("number"!==Pi(o))return ns(r.default,e.default);const m=r.stops.length;if(1===m||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[m-1][0])return r.stops[m-1][1];const v=du(r.stops.map(j=>j[0]),o),w=function(j,H,W,Q){const te=Q-W,le=j-W;return 0===te?0:1===H?le/te:(Math.pow(H,le)-1)/(Math.pow(H,te)-1)}(o,d,r.stops[v][0],r.stops[v+1][0]),E=r.stops[v][1],L=r.stops[v+1][1];let k=ia[e.type]||ql;if(r.colorSpace&&"rgb"!==r.colorSpace){const j=Ca[r.colorSpace];k=(H,W)=>j.reverse(j.interpolate(j.forward(H),j.forward(W),w))}return"function"==typeof E.evaluate?{evaluate(...j){const H=E.evaluate.apply(void 0,j),W=L.evaluate.apply(void 0,j);if(void 0!==H&&void 0!==W)return k(H,W,w)}}:k(E,L,w)}function cs(r,e,o){return"color"===e.type?o=kn.parse(o):"formatted"===e.type?o=sr.fromString(o.toString()):"resolvedImage"===e.type?o=ks.fromString(o.toString()):Pi(o)===e.type||"enum"===e.type&&e.values[o]||(o=void 0),ns(o,r.default,e.default)}class Pc{constructor(e,o){var d;this.expression=e,this._warningHistory={},this._evaluator=new pl,this._defaultValue=o?"color"===(d=o).type&&(nr(d.default)||Array.isArray(d.default))?new kn(0,0,0,0):"color"===d.type?kn.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=o&&"enum"===o.type?o.values:null}evaluateWithoutErrorHandling(e,o,d,m,v,w,E,L){return this._evaluator.globals=e,this._evaluator.feature=o,this._evaluator.featureState=d,this._evaluator.canonical=m||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=w,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=L||null,this.expression.evaluate(this._evaluator)}evaluate(e,o,d,m,v,w,E,L){this._evaluator.globals=e,this._evaluator.feature=o||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=w||null,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=L||null;try{const k=this.expression.evaluate(this._evaluator);if(null==k||"number"==typeof k&&k!=k)return this._defaultValue;if(this._enumValues&&!(k in this._enumValues))throw new zn(`Expected value to be one of ${Object.keys(this._enumValues).map(j=>JSON.stringify(j)).join(", ")}, but found ${JSON.stringify(k)} instead.`);return k}catch(k){return this._warningHistory[k.message]||(this._warningHistory[k.message]=!0,typeof console<"u"&&console.warn(k.message)),this._defaultValue}}}function Xl(r){return Array.isArray(r)&&r.length>0&&"string"==typeof r[0]&&r[0]in Wl}function Jl(r,e){const o=new Co(Wl,[],e?function(m){const v={color:Is,string:$n,number:cn,enum:$n,boolean:li,formatted:Bo,resolvedImage:zo};return"array"===m.type?Ms(v[m.value]||Di,m.length):v[m.type]}(e):void 0),d=o.parse(r,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return d?wu(new Pc(d,e)):po(o.errors)}class aa{constructor(e,o){this.kind=e,this._styleExpression=o,this.isStateDependent="constant"!==e&&!Zr(o.expression)}evaluateWithoutErrorHandling(e,o,d,m,v,w){return this._styleExpression.evaluateWithoutErrorHandling(e,o,d,m,v,w)}evaluate(e,o,d,m,v,w){return this._styleExpression.evaluate(e,o,d,m,v,w)}}class Ql{constructor(e,o,d,m){this.kind=e,this.zoomStops=d,this._styleExpression=o,this.isStateDependent="camera"!==e&&!Zr(o.expression),this.interpolationType=m}evaluateWithoutErrorHandling(e,o,d,m,v,w){return this._styleExpression.evaluateWithoutErrorHandling(e,o,d,m,v,w)}evaluate(e,o,d,m,v,w){return this._styleExpression.evaluate(e,o,d,m,v,w)}interpolationFactor(e,o,d){return this.interpolationType?Ps.interpolationFactor(this.interpolationType,e,o,d):0}}function Oc(r,e){if("error"===(r=Jl(r,e)).result)return r;const o=r.value.expression,d=Ul(o);if(!d&&!Zl(e))return po([new As("","data expressions not supported")]);const m=qr(o,["zoom","pitch","distance-from-center"]);if(!m&&!Os(e))return po([new As("","zoom expressions not supported")]);const v=ec(o);return v||m?v instanceof As?po([v]):v instanceof Ps&&!kc(e)?po([new As("",'"interpolate" expressions cannot be used with this property')]):wu(v?new Ql(d?"camera":"composite",r.value,v.labels,v instanceof Ps?v.interpolation:void 0):new aa(d?"constant":"source",r.value)):po([new As("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Rc{constructor(e,o){this._parameters=e,this._specification=o,Mo(this,Za(this._parameters,this._specification))}static deserialize(e){return new Rc(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function ec(r){let e=null;if(r instanceof Lc)e=ec(r.result);else if(r instanceof Cc){for(const o of r.args)if(e=ec(o),e)break}else(r instanceof th||r instanceof Ps)&&r.input instanceof Us&&"zoom"===r.input.name&&(e=r);return e instanceof As||r.eachChild(o=>{const d=ec(o);d instanceof As?e=d:!e&&d?e=new As("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&d&&e!==d&&(e=new As("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}class hn{constructor(e,o,d,m){this.message=(e?`${e}: `:"")+d,m&&(this.identifier=m),null!=o&&o.__line__&&(this.line=o.__line__)}}function io(r){const e=r.key,o=r.value,d=r.valueSpec||{},m=r.objectElementValidators||{},v=r.style,w=r.styleSpec;let E=[];const L=Pi(o);if("object"!==L)return[new hn(e,o,`object expected, ${L} found`)];for(const k in o){const j=k.split(".")[0];let H;m[j]?H=m[j]:d[j]?H=_s:m["*"]?H=m["*"]:d["*"]&&(H=_s),H?E=E.concat(H({key:(e&&`${e}.`)+k,value:o[k],valueSpec:d[j]||d["*"],style:v,styleSpec:w,object:o,objectKey:k},o)):E.push(new hn(e,o[k],`unknown property "${k}"`))}for(const k in d)m[k]||d[k].required&&void 0===d[k].default&&void 0===o[k]&&E.push(new hn(e,o,`missing required property "${k}"`));return E}function hi(r){const e=r.value,o=r.valueSpec,d=r.style,m=r.styleSpec,v=r.key,w=r.arrayElementValidator||_s;if("array"!==Pi(e))return[new hn(v,e,`array expected, ${Pi(e)} found`)];if(o.length&&e.length!==o.length)return[new hn(v,e,`array length ${o.length} expected, length ${e.length} found`)];if(o["min-length"]&&e.length<o["min-length"])return[new hn(v,e,`array length at least ${o["min-length"]} expected, length ${e.length} found`)];let E={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};m.$version<7&&(E.function=o.function),"object"===Pi(o.value)&&(E=o.value);let L=[];for(let k=0;k<e.length;k++)L=L.concat(w({array:e,arrayIndex:k,value:e[k],valueSpec:E,style:d,styleSpec:m,key:`${v}[${k}]`}));return L}function qa(r){const e=r.key,o=r.value,d=r.valueSpec;let m=Pi(o);if("number"===m&&o!=o&&(m="NaN"),"number"!==m)return[new hn(e,o,`number expected, ${m} found`)];if("minimum"in d){let v=d.minimum;if("array"===Pi(d.minimum)&&(v=d.minimum[r.arrayIndex]),o<v)return[new hn(e,o,`${o} is less than the minimum value ${v}`)]}if("maximum"in d){let v=d.maximum;if("array"===Pi(d.maximum)&&(v=d.maximum[r.arrayIndex]),o>v)return[new hn(e,o,`${o} is greater than the maximum value ${v}`)]}return[]}function la(r){const e=r.valueSpec,o=fr(r.value.type);let d,m,v,w={};const E="categorical"!==o&&void 0===r.value.property,L=!E,k="array"===Pi(r.value.stops)&&"array"===Pi(r.value.stops[0])&&"object"===Pi(r.value.stops[0][0]),j=io({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(Q){if("identity"===o)return[new hn(Q.key,Q.value,'identity function may not have a "stops" property')];let te=[];const le=Q.value;return te=te.concat(hi({key:Q.key,value:le,valueSpec:Q.valueSpec,style:Q.style,styleSpec:Q.styleSpec,arrayElementValidator:H})),"array"===Pi(le)&&0===le.length&&te.push(new hn(Q.key,le,"array must have at least one stop")),te},default:function(Q){return _s({key:Q.key,value:Q.value,valueSpec:e,style:Q.style,styleSpec:Q.styleSpec})}}});return"identity"===o&&E&&j.push(new hn(r.key,r.value,'missing required property "property"')),"identity"===o||r.value.stops||j.push(new hn(r.key,r.value,'missing required property "stops"')),"exponential"===o&&r.valueSpec.expression&&!kc(r.valueSpec)&&j.push(new hn(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(L&&!Zl(r.valueSpec)?j.push(new hn(r.key,r.value,"property functions not supported")):E&&!Os(r.valueSpec)&&j.push(new hn(r.key,r.value,"zoom functions not supported"))),"categorical"!==o&&!k||void 0!==r.value.property||j.push(new hn(r.key,r.value,'"property" property is required')),j;function H(Q){let te=[];const le=Q.value,ge=Q.key;if("array"!==Pi(le))return[new hn(ge,le,`array expected, ${Pi(le)} found`)];if(2!==le.length)return[new hn(ge,le,`array length 2 expected, length ${le.length} found`)];if(k){if("object"!==Pi(le[0]))return[new hn(ge,le,`object expected, ${Pi(le[0])} found`)];if(void 0===le[0].zoom)return[new hn(ge,le,"object stop key must have zoom")];if(void 0===le[0].value)return[new hn(ge,le,"object stop key must have value")];const Te=fr(le[0].zoom);if("number"!=typeof Te)return[new hn(ge,le[0].zoom,"stop zoom values must be numbers")];if(v&&v>Te)return[new hn(ge,le[0].zoom,"stop zoom values must appear in ascending order")];Te!==v&&(v=Te,m=void 0,w={}),te=te.concat(io({key:`${ge}[0]`,value:le[0],valueSpec:{zoom:{}},style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{zoom:qa,value:W}}))}else te=te.concat(W({key:`${ge}[0]`,value:le[0],valueSpec:{},style:Q.style,styleSpec:Q.styleSpec},le));return Xl(Ir(le[1]))?te.concat([new hn(`${ge}[1]`,le[1],"expressions are not allowed in function stops.")]):te.concat(_s({key:`${ge}[1]`,value:le[1],valueSpec:e,style:Q.style,styleSpec:Q.styleSpec}))}function W(Q,te){const le=Pi(Q.value),ge=fr(Q.value),Te=null!==Q.value?Q.value:te;if(d){if(le!==d)return[new hn(Q.key,Te,`${le} stop domain type must match previous stop domain type ${d}`)]}else d=le;if("number"!==le&&"string"!==le&&"boolean"!==le&&"number"!=typeof ge&&"string"!=typeof ge&&"boolean"!=typeof ge)return[new hn(Q.key,Te,"stop domain value must be a number, string, or boolean")];if("number"!==le&&"categorical"!==o){let Oe=`number expected, ${le} found`;return Zl(e)&&void 0===o&&(Oe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new hn(Q.key,Te,Oe)]}return"categorical"!==o||"number"!==le||"number"==typeof ge&&isFinite(ge)&&Math.floor(ge)===ge?"categorical"!==o&&"number"===le&&"number"==typeof ge&&"number"==typeof m&&void 0!==m&&ge<m?[new hn(Q.key,Te,"stop domain values must appear in ascending order")]:(m=ge,"categorical"===o&&ge in w?[new hn(Q.key,Te,"stop domain values must be unique")]:(w[ge]=!0,[])):[new hn(Q.key,Te,`integer expected, found ${String(ge)}`)]}}function Kr(r){const e=("property"===r.expressionContext?Oc:Jl)(Ir(r.value),r.valueSpec);if("error"===e.result)return e.value.map(d=>new hn(`${r.key}${d.key}`,r.value,d.message));const o=e.value.expression||e.value._styleExpression.expression;if("property"===r.expressionContext&&"text-font"===r.propertyKey&&!o.outputDefined())return[new hn(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===r.expressionContext&&"layout"===r.propertyType&&!Zr(o))return[new hn(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===r.expressionContext)return Ka(o,r);if(r.expressionContext&&0===r.expressionContext.indexOf("cluster")){if(!qr(o,["zoom","feature-state"]))return[new hn(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===r.expressionContext&&!Ul(o))return[new hn(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ka(r,e){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(e.valueSpec&&e.valueSpec.expression)for(const m of e.valueSpec.expression.parameters)o.delete(m);if(0===o.size)return[];const d=[];return r instanceof Us&&o.has(r.name)?[new hn(e.key,e.value,`["${r.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(r.eachChild(m=>{d.push(...Ka(m,e))}),d)}function ca(r){const e=r.key,o=r.value,d=r.valueSpec,m=[];return Array.isArray(d.values)?-1===d.values.indexOf(fr(o))&&m.push(new hn(e,o,`expected one of [${d.values.join(", ")}], ${JSON.stringify(o)} found`)):-1===Object.keys(d.values).indexOf(fr(o))&&m.push(new hn(e,o,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(o)} found`)),m}function Fc(r){if(!0===r||!1===r)return!0;if(!Array.isArray(r)||0===r.length)return!1;switch(r[0]){case"has":return r.length>=2&&"$id"!==r[1]&&"$type"!==r[1];case"in":return r.length>=3&&("string"!=typeof r[1]||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==r.length||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const e of r.slice(1))if(!Fc(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function jo(r,e="fill"){if(null==r)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Fc(r)||(r=Ai(r));const o=r;let d=!0;try{d=function(k){if(!tc(k))return k;let j=Ir(k);return Du(j),j=ah(j),j}(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(o,null,2)}\n        `)}const m=vt[`filter_${e}`],v=Jl(d,m);let w=null;if("error"===v.result)throw new Error(v.value.map(k=>`${k.key}: ${k.message}`).join(", "));w=(k,j,H)=>v.value.evaluate(k,j,{},H);let E=null,L=null;if(d!==o){const k=Jl(o,m);if("error"===k.result)throw new Error(k.value.map(j=>`${j.key}: ${j.message}`).join(", "));E=(j,H,W,Q,te)=>k.value.evaluate(j,H,{},W,void 0,void 0,Q,te),L=!Ul(k.value.expression)}return{filter:w,dynamicFilter:E||void 0,needGeometry:Zt(d),needFeature:!!L}}function ah(r){if(!Array.isArray(r))return r;const e=function(o){if(lh.has(o[0]))for(let d=1;d<o.length;d++)if(tc(o[d]))return!0;return o}(r);return!0===e?e:e.map(o=>ah(o))}function Du(r){let e=!1;const o=[];if("case"===r[0]){for(let d=1;d<r.length-1;d+=2)e=e||tc(r[d]),o.push(r[d+1]);o.push(r[r.length-1])}else if("match"===r[0]){e=e||tc(r[1]);for(let d=2;d<r.length-1;d+=2)o.push(r[d+1]);o.push(r[r.length-1])}else if("step"===r[0]){e=e||tc(r[1]);for(let d=1;d<r.length-1;d+=2)o.push(r[d+1])}e&&(r.length=0,r.push("any",...o));for(let d=1;d<r.length;d++)Du(r[d])}function tc(r){if(!Array.isArray(r))return!1;if("pitch"===(e=r[0])||"distance-from-center"===e)return!0;var e;for(let o=1;o<r.length;o++)if(tc(r[o]))return!0;return!1}const lh=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Rp(r,e){return r<e?-1:r>e?1:0}function Zt(r){if(!Array.isArray(r))return!1;if("within"===r[0])return!0;for(let e=1;e<r.length;e++)if(Zt(r[e]))return!0;return!1}function Ai(r){if(!r)return!0;const e=r[0];return r.length<=1?"any"!==e:"=="===e?Eu(r[1],r[2],"=="):"!="===e?nc(Eu(r[1],r[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Eu(r[1],r[2],e):"any"===e?(o=r.slice(1),["any"].concat(o.map(Ai))):"all"===e?["all"].concat(r.slice(1).map(Ai)):"none"===e?["all"].concat(r.slice(1).map(Ai).map(nc)):"in"===e?Tu(r[1],r.slice(2)):"!in"===e?nc(Tu(r[1],r.slice(2))):"has"===e?us(r[1]):"!has"===e?nc(us(r[1])):"within"!==e||r;var o}function Eu(r,e,o){switch(r){case"$type":return[`filter-type-${o}`,e];case"$id":return[`filter-id-${o}`,e];default:return[`filter-${o}`,r,e]}}function Tu(r,e){if(0===e.length)return!1;switch(r){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(o=>typeof o!=typeof e[0])?["filter-in-large",r,["literal",e.sort(Rp)]]:["filter-in-small",r,["literal",e]]}}function us(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function nc(r){return["!",r]}function La(r){return Fc(Ir(r.value))?Kr(Mo({},r,{expressionContext:"filter",valueSpec:r.styleSpec[`filter_${r.layerType||"fill"}`]})):ro(r)}function ro(r){const e=r.value,o=r.key;if("array"!==Pi(e))return[new hn(o,e,`array expected, ${Pi(e)} found`)];const d=r.styleSpec;let m,v=[];if(e.length<1)return[new hn(o,e,"filter array must have at least 1 element")];switch(v=v.concat(ca({key:`${o}[0]`,value:e[0],valueSpec:d.filter_operator,style:r.style,styleSpec:r.styleSpec})),fr(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===fr(e[1])&&v.push(new hn(o,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&v.push(new hn(o,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(m=Pi(e[1]),"string"!==m&&v.push(new hn(`${o}[1]`,e[1],`string expected, ${m} found`)));for(let w=2;w<e.length;w++)m=Pi(e[w]),"$type"===fr(e[1])?v=v.concat(ca({key:`${o}[${w}]`,value:e[w],valueSpec:d.geometry_type,style:r.style,styleSpec:r.styleSpec})):"string"!==m&&"number"!==m&&"boolean"!==m&&v.push(new hn(`${o}[${w}]`,e[w],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let w=1;w<e.length;w++)v=v.concat(ro({key:`${o}[${w}]`,value:e[w],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":m=Pi(e[1]),2!==e.length?v.push(new hn(o,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==m&&v.push(new hn(`${o}[1]`,e[1],`string expected, ${m} found`));break;case"within":m=Pi(e[1]),2!==e.length?v.push(new hn(o,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==m&&v.push(new hn(`${o}[1]`,e[1],`object expected, ${m} found`))}return v}function ic(r,e){const o=r.key,d=r.style,m=r.styleSpec,v=r.value,w=r.objectKey,E=m[`${e}_${r.layerType}`];if(!E)return[];const L=w.match(/^(.*)-transition$/);if("paint"===e&&L&&E[L[1]]&&E[L[1]].transition)return _s({key:o,value:v,valueSpec:m.transition,style:d,styleSpec:m});const k=r.valueSpec||E[w];if(!k)return[new hn(o,v,`unknown property "${w}"`)];let j;if("string"===Pi(v)&&Zl(k)&&!k.tokens&&(j=/^{([^}]+)}$/.exec(v))){const W=`\`{ "type": "identity", "property": ${j?JSON.stringify(j[1]):'"_"'} }\``;return[new hn(o,v,`"${w}" does not support interpolation syntax\nUse an identity property function instead: ${W}.`)]}const H=[];return"symbol"===r.layerType&&("text-field"===w&&d&&!d.glyphs&&H.push(new hn(o,v,'use of "text-field" requires a style "glyphs" property')),"text-font"===w&&nr(Ir(v))&&"identity"===fr(v.type)&&H.push(new hn(o,v,'"text-font" does not support identity functions'))),H.concat(_s({key:r.key,value:v,valueSpec:k,style:d,styleSpec:m,expressionContext:"property",propertyType:e,propertyKey:w}))}function Nc(r){return ic(r,"paint")}function Su(r){return ic(r,"layout")}function Fp(r){let e=[];const o=r.value,d=r.key,m=r.style,v=r.styleSpec;o.type||o.ref||e.push(new hn(d,o,'either "type" or "ref" is required'));let w=fr(o.type);const E=fr(o.ref);if(o.id){const L=fr(o.id);for(let k=0;k<r.arrayIndex;k++){const j=m.layers[k];fr(j.id)===L&&e.push(new hn(d,o.id,`duplicate layer id "${o.id}", previously used at line ${j.id.__line__}`))}}if("ref"in o){let L;["type","source","source-layer","filter","layout"].forEach(k=>{k in o&&e.push(new hn(d,o[k],`"${k}" is prohibited for ref layers`))}),m.layers.forEach(k=>{fr(k.id)===E&&(L=k)}),L?L.ref?e.push(new hn(d,o.ref,"ref cannot reference another ref layer")):w=fr(L.type):"string"==typeof E&&e.push(new hn(d,o.ref,`ref layer "${E}" not found`))}else if("background"!==w&&"sky"!==w)if(o.source){const L=m.sources&&m.sources[o.source],k=L&&fr(L.type);L?"vector"===k&&"raster"===w?e.push(new hn(d,o.source,`layer "${o.id}" requires a raster source`)):"raster"===k&&"raster"!==w?e.push(new hn(d,o.source,`layer "${o.id}" requires a vector source`)):"vector"!==k||o["source-layer"]?"raster-dem"===k&&"hillshade"!==w?e.push(new hn(d,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==w||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||"geojson"===k&&L.lineMetrics||e.push(new hn(d,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new hn(d,o,`layer "${o.id}" must specify a "source-layer"`)):e.push(new hn(d,o.source,`source "${o.source}" not found`))}else e.push(new hn(d,o,'missing required property "source"'));return e=e.concat(io({key:d,value:o,valueSpec:v.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>_s({key:`${d}.type`,value:o.type,valueSpec:v.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:L=>La(Mo({layerType:w},L)),layout:L=>io({layer:o,key:L.key,value:L.value,valueSpec:{},style:L.style,styleSpec:L.styleSpec,objectElementValidators:{"*":k=>Su(Mo({layerType:w},k))}}),paint:L=>io({layer:o,key:L.key,value:L.value,valueSpec:{},style:L.style,styleSpec:L.styleSpec,objectElementValidators:{"*":k=>Nc(Mo({layerType:w},k))}})}})),e}function Aa(r){const e=r.value,o=r.key,d=Pi(e);return"string"!==d?[new hn(o,e,`string expected, ${d} found`)]:[]}const Vs={promoteId:function({key:r,value:e}){if("string"===Pi(e))return Aa({key:r,value:e});{const o=[];for(const d in e)o.push(...Aa({key:`${r}.${d}`,value:e[d]}));return o}}};function ua(r){const e=r.value,o=r.key,d=r.styleSpec,m=r.style;if(!e.type)return[new hn(o,e,'"type" is required')];const v=fr(e.type);let w;switch(v){case"vector":case"raster":case"raster-dem":return w=io({key:o,value:e,valueSpec:d[`source_${v.replace("-","_")}`],style:r.style,styleSpec:d,objectElementValidators:Vs}),w;case"geojson":if(w=io({key:o,value:e,valueSpec:d.source_geojson,style:m,styleSpec:d,objectElementValidators:Vs}),e.cluster)for(const E in e.clusterProperties){const[L,k]=e.clusterProperties[E],j="string"==typeof L?[L,["accumulated"],["get",E]]:L;w.push(...Kr({key:`${o}.${E}.map`,value:k,expressionContext:"cluster-map"})),w.push(...Kr({key:`${o}.${E}.reduce`,value:j,expressionContext:"cluster-reduce"}))}return w;case"video":return io({key:o,value:e,valueSpec:d.source_video,style:m,styleSpec:d});case"image":return io({key:o,value:e,valueSpec:d.source_image,style:m,styleSpec:d});case"canvas":return[new hn(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ca({key:`${o}.type`,value:e.type,valueSpec:{values:md(d)},style:m,styleSpec:d})}}function md(r){return r.source.reduce((e,o)=>{const d=r[o];return"enum"===d.type.type&&(e=e.concat(Object.keys(d.type.values))),e},[])}function Xa(r){const e=r.value,o=r.styleSpec,d=o.light,m=r.style;let v=[];const w=Pi(e);if(void 0===e)return v;if("object"!==w)return v=v.concat([new hn("light",e,`object expected, ${w} found`)]),v;for(const E in e){const L=E.match(/^(.*)-transition$/);v=v.concat(L&&d[L[1]]&&d[L[1]].transition?_s({key:E,value:e[E],valueSpec:o.transition,style:m,styleSpec:o}):d[E]?_s({key:E,value:e[E],valueSpec:d[E],style:m,styleSpec:o}):[new hn(E,e[E],`unknown property "${E}"`)])}return v}function is(r){const e=r.value,o=r.key,d=r.style,m=r.styleSpec,v=m.terrain;let w=[];const E=Pi(e);if(void 0===e)return w;if("object"!==E)return w=w.concat([new hn("terrain",e,`object expected, ${E} found`)]),w;for(const L in e){const k=L.match(/^(.*)-transition$/);w=w.concat(k&&v[k[1]]&&v[k[1]].transition?_s({key:L,value:e[L],valueSpec:m.transition,style:d,styleSpec:m}):v[L]?_s({key:L,value:e[L],valueSpec:v[L],style:d,styleSpec:m}):[new hn(L,e[L],`unknown property "${L}"`)])}if(e.source){const L=d.sources&&d.sources[e.source],k=L&&fr(L.type);L?"raster-dem"!==k&&w.push(new hn(o,e.source,`terrain cannot be used with a source of type ${String(k)}, it only be used with a "raster-dem" source type`)):w.push(new hn(o,e.source,`source "${e.source}" not found`))}else w.push(new hn(o,e,'terrain is missing required property "source"'));return w}function ch(r){const e=r.value,o=r.style,d=r.styleSpec,m=d.fog;let v=[];const w=Pi(e);if(void 0===e)return v;if("object"!==w)return v=v.concat([new hn("fog",e,`object expected, ${w} found`)]),v;for(const E in e){const L=E.match(/^(.*)-transition$/);v=v.concat(L&&m[L[1]]&&m[L[1]].transition?_s({key:E,value:e[E],valueSpec:d.transition,style:o,styleSpec:d}):m[E]?_s({key:E,value:e[E],valueSpec:m[E],style:o,styleSpec:d}):[new hn(E,e[E],`unknown property "${E}"`)])}return v}const _d={"*":()=>[],array:hi,boolean:function(r){const e=r.value,o=r.key,d=Pi(e);return"boolean"!==d?[new hn(o,e,`boolean expected, ${d} found`)]:[]},number:qa,color:function(r){const e=r.key,o=r.value,d=Pi(o);return"string"!==d?[new hn(e,o,`color expected, ${d} found`)]:null===nt(o)?[new hn(e,o,`color expected, "${o}" found`)]:[]},enum:ca,filter:La,function:la,layer:Fp,object:io,source:ua,light:Xa,terrain:is,fog:ch,string:Aa,formatted:function(r){return 0===Aa(r).length?[]:Kr(r)},resolvedImage:function(r){return 0===Aa(r).length?[]:Kr(r)},projection:function(r){const e=r.value,o=r.styleSpec,d=o.projection,m=r.style;let v=[];const w=Pi(e);if("object"===w)for(const E in e)v=v.concat(_s({key:E,value:e[E],valueSpec:d[E],style:m,styleSpec:o}));else"string"!==w&&(v=v.concat([new hn("projection",e,`object or string expected, ${w} found`)]));return v}};function _s(r){const e=r.value,o=r.valueSpec,d=r.styleSpec;return o.expression&&nr(fr(e))?la(r):o.expression&&Xl(Ir(e))?Kr(r):o.type&&_d[o.type]?_d[o.type](r):io(Mo({},r,{valueSpec:o.type?d[o.type]:o}))}function Cu(r){const e=r.value,o=r.key,d=Aa(r);return d.length||(-1===e.indexOf("{fontstack}")&&d.push(new hn(o,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&d.push(new hn(o,e,'"glyphs" url must include a "{range}" token'))),d}function rc(r,e=vt){return so(_s({key:"",value:r,valueSpec:e.$root,styleSpec:e,style:r,objectElementValidators:{glyphs:Cu,"*":()=>[]}}))}const uh=r=>so(Nc(r)),vf=r=>so(Su(r));function so(r){return r.slice().sort((e,o)=>e.line&&o.line?e.line-o.line:0)}function bf(r,e){let o=!1;if(e&&e.length)for(const d of e)r.fire(new zs(new Error(d.message))),o=!0;return o}var xf=Yo,Ao=3;function Yo(r,e,o){var d=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var m=new Int32Array(this.arrayBuffer);r=m[0],this.d=(e=m[1])+2*(o=m[2]);for(var v=0;v<this.d*this.d;v++){var w=m[Ao+v],E=m[Ao+v+1];d.push(w===E?null:m.subarray(w,E))}var L=m[Ao+d.length+1];this.keys=m.subarray(m[Ao+d.length],L),this.bboxes=m.subarray(L),this.insert=this._insertReadonly}else{this.d=e+2*o;for(var k=0;k<this.d*this.d;k++)d.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=r,this.padding=o,this.scale=e/r,this.uid=0;var j=o/e*r;this.min=-j,this.max=r+j}Yo.prototype.insert=function(r,e,o,d,m){this._forEachCell(e,o,d,m,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(e),this.bboxes.push(o),this.bboxes.push(d),this.bboxes.push(m)},Yo.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Yo.prototype._insertCell=function(r,e,o,d,m,v){this.cells[m].push(v)},Yo.prototype.query=function(r,e,o,d,m){var v=this.min,w=this.max;if(r<=v&&e<=v&&w<=o&&w<=d&&!m)return Array.prototype.slice.call(this.keys);var E=[];return this._forEachCell(r,e,o,d,this._queryCell,E,{},m),E},Yo.prototype._queryCell=function(r,e,o,d,m,v,w,E){var L=this.cells[m];if(null!==L)for(var k=this.keys,j=this.bboxes,H=0;H<L.length;H++){var W=L[H];if(void 0===w[W]){var Q=4*W;(E?E(j[Q+0],j[Q+1],j[Q+2],j[Q+3]):r<=j[Q+2]&&e<=j[Q+3]&&o>=j[Q+0]&&d>=j[Q+1])?(w[W]=!0,v.push(k[W])):w[W]=!1}}},Yo.prototype._forEachCell=function(r,e,o,d,m,v,w,E){for(var L=this._convertToCellCoord(r),k=this._convertToCellCoord(e),j=this._convertToCellCoord(o),H=this._convertToCellCoord(d),W=L;W<=j;W++)for(var Q=k;Q<=H;Q++){var te=this.d*Q+W;if((!E||E(this._convertFromCellCoord(W),this._convertFromCellCoord(Q),this._convertFromCellCoord(W+1),this._convertFromCellCoord(Q+1)))&&m.call(this,r,e,o,d,te,v,w,E))return}},Yo.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},Yo.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},Yo.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,e=Ao+this.cells.length+1+1,o=0,d=0;d<this.cells.length;d++)o+=this.cells[d].length;var m=new Int32Array(e+o+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;for(var v=e,w=0;w<r.length;w++){var E=r[w];m[Ao+w]=v,m.set(E,v),v+=E.length}return m[Ao+r.length]=v,m.set(this.keys,v),m[Ao+r.length+1]=v+=this.keys.length,m.set(this.bboxes,v),v+=this.bboxes.length,m.buffer};var vl=Pt(xf);const Lu={};function xn(r,e,o={}){Object.defineProperty(r,"_classRegistryKey",{value:e,writeable:!1}),Lu[e]={klass:r,omit:o.omit||[]}}xn(Object,"Object"),vl.serialize=function(r,e){const o=r.toArrayBuffer();return e&&e.push(o),{buffer:o}},vl.deserialize=function(r){return new vl(r.buffer)},Object.defineProperty(vl,"name",{value:"Grid"}),xn(vl,"Grid"),xn(kn,"Color"),xn(Error,"Error"),xn(Qs,"AJAXError"),xn(ks,"ResolvedImage"),xn(Rc,"StylePropertyFunction"),xn(Pc,"StyleExpression",{omit:["_evaluator"]}),xn(Ql,"ZoomDependentExpression"),xn(aa,"ZoomConstantExpression"),xn(Us,"CompoundExpression",{omit:["_evaluate"]});for(const r in Wl)Lu[Wl[r]._classRegistryKey]||xn(Wl[r],`Expression${r}`);function Au(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&"ArrayBuffer"===r.constructor.name)}function gd(r){return F.ImageBitmap&&r instanceof F.ImageBitmap}function bl(r,e){if(null==r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Au(r)||gd(r))return e&&e.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return e&&e.push(o.buffer),o}if(r instanceof F.ImageData)return e&&e.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const d of r)o.push(bl(d,e));return o}if("object"==typeof r){const o=r.constructor,d=o._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const m=o.serialize?o.serialize(r,e):{};if(!o.serialize){for(const v in r)r.hasOwnProperty(v)&&(Lu[d].omit.indexOf(v)>=0||(m[v]=bl(r[v],e)));r instanceof Error&&(m.message=r.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==d&&(m.$name=d),m}throw new Error("can't serialize object of type "+typeof r)}function pr(r){if(null==r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Au(r)||gd(r)||ArrayBuffer.isView(r)||r instanceof F.ImageData)return r;if(Array.isArray(r))return r.map(pr);if("object"==typeof r){const e=r.$name||"Object",{klass:o}=Lu[e];if(!o)throw new Error(`can't deserialize unregistered class ${e}`);if(o.deserialize)return o.deserialize(r);const d=Object.create(o.prototype);for(const m of Object.keys(r))"$name"!==m&&(d[m]=pr(r[m]));return d}throw new Error("can't deserialize object of type "+typeof r)}const an={"Latin-1 Supplement":r=>r>=128&&r<=255,Arabic:r=>r>=1536&&r<=1791,"Arabic Supplement":r=>r>=1872&&r<=1919,"Arabic Extended-A":r=>r>=2208&&r<=2303,"Hangul Jamo":r=>r>=4352&&r<=4607,"Unified Canadian Aboriginal Syllabics":r=>r>=5120&&r<=5759,Khmer:r=>r>=6016&&r<=6143,"Unified Canadian Aboriginal Syllabics Extended":r=>r>=6320&&r<=6399,"General Punctuation":r=>r>=8192&&r<=8303,"Letterlike Symbols":r=>r>=8448&&r<=8527,"Number Forms":r=>r>=8528&&r<=8591,"Miscellaneous Technical":r=>r>=8960&&r<=9215,"Control Pictures":r=>r>=9216&&r<=9279,"Optical Character Recognition":r=>r>=9280&&r<=9311,"Enclosed Alphanumerics":r=>r>=9312&&r<=9471,"Geometric Shapes":r=>r>=9632&&r<=9727,"Miscellaneous Symbols":r=>r>=9728&&r<=9983,"Miscellaneous Symbols and Arrows":r=>r>=11008&&r<=11263,"CJK Radicals Supplement":r=>r>=11904&&r<=12031,"Kangxi Radicals":r=>r>=12032&&r<=12255,"Ideographic Description Characters":r=>r>=12272&&r<=12287,"CJK Symbols and Punctuation":r=>r>=12288&&r<=12351,Hiragana:r=>r>=12352&&r<=12447,Katakana:r=>r>=12448&&r<=12543,Bopomofo:r=>r>=12544&&r<=12591,"Hangul Compatibility Jamo":r=>r>=12592&&r<=12687,Kanbun:r=>r>=12688&&r<=12703,"Bopomofo Extended":r=>r>=12704&&r<=12735,"CJK Strokes":r=>r>=12736&&r<=12783,"Katakana Phonetic Extensions":r=>r>=12784&&r<=12799,"Enclosed CJK Letters and Months":r=>r>=12800&&r<=13055,"CJK Compatibility":r=>r>=13056&&r<=13311,"CJK Unified Ideographs Extension A":r=>r>=13312&&r<=19903,"Yijing Hexagram Symbols":r=>r>=19904&&r<=19967,"CJK Unified Ideographs":r=>r>=19968&&r<=40959,"Yi Syllables":r=>r>=40960&&r<=42127,"Yi Radicals":r=>r>=42128&&r<=42191,"Hangul Jamo Extended-A":r=>r>=43360&&r<=43391,"Hangul Syllables":r=>r>=44032&&r<=55215,"Hangul Jamo Extended-B":r=>r>=55216&&r<=55295,"Private Use Area":r=>r>=57344&&r<=63743,"CJK Compatibility Ideographs":r=>r>=63744&&r<=64255,"Arabic Presentation Forms-A":r=>r>=64336&&r<=65023,"Vertical Forms":r=>r>=65040&&r<=65055,"CJK Compatibility Forms":r=>r>=65072&&r<=65103,"Small Form Variants":r=>r>=65104&&r<=65135,"Arabic Presentation Forms-B":r=>r>=65136&&r<=65279,"Halfwidth and Fullwidth Forms":r=>r>=65280&&r<=65519};function Or(r){for(const e of r)if(ln(e.charCodeAt(0)))return!0;return!1}function Np(r){for(const e of r)if(!wf(e.charCodeAt(0)))return!1;return!0}function wf(r){return!(an.Arabic(r)||an["Arabic Supplement"](r)||an["Arabic Extended-A"](r)||an["Arabic Presentation Forms-A"](r)||an["Arabic Presentation Forms-B"](r))}function ln(r){return!(746!==r&&747!==r&&(r<4352||!(an["Bopomofo Extended"](r)||an.Bopomofo(r)||an["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||an["CJK Compatibility Ideographs"](r)||an["CJK Compatibility"](r)||an["CJK Radicals Supplement"](r)||an["CJK Strokes"](r)||!(!an["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||12336===r)||an["CJK Unified Ideographs Extension A"](r)||an["CJK Unified Ideographs"](r)||an["Enclosed CJK Letters and Months"](r)||an["Hangul Compatibility Jamo"](r)||an["Hangul Jamo Extended-A"](r)||an["Hangul Jamo Extended-B"](r)||an["Hangul Jamo"](r)||an["Hangul Syllables"](r)||an.Hiragana(r)||an["Ideographic Description Characters"](r)||an.Kanbun(r)||an["Kangxi Radicals"](r)||an["Katakana Phonetic Extensions"](r)||an.Katakana(r)&&12540!==r||!(!an["Halfwidth and Fullwidth Forms"](r)||65288===r||65289===r||65293===r||r>=65306&&r<=65310||65339===r||65341===r||65343===r||r>=65371&&r<=65503||65507===r||r>=65512&&r<=65519)||!(!an["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||an["Unified Canadian Aboriginal Syllabics"](r)||an["Unified Canadian Aboriginal Syllabics Extended"](r)||an["Vertical Forms"](r)||an["Yijing Hexagram Symbols"](r)||an["Yi Syllables"](r)||an["Yi Radicals"](r))))}function Mf(r){return!(ln(r)||(e=r,an["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||an["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||an["Letterlike Symbols"](e)||an["Number Forms"](e)||an["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||an["Control Pictures"](e)&&9251!==e||an["Optical Character Recognition"](e)||an["Enclosed Alphanumerics"](e)||an["Geometric Shapes"](e)||an["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||an["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||an["CJK Symbols and Punctuation"](e)||an.Katakana(e)||an["Private Use Area"](e)||an["CJK Compatibility Forms"](e)||an["Small Form Variants"](e)||an["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e}function Hs(r){return r>=1424&&r<=2303||an["Arabic Presentation Forms-A"](r)||an["Arabic Presentation Forms-B"](r)}function oo(r,e){return!(!e&&Hs(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||an.Khmer(r))}function Vi(r){for(const e of r)if(Hs(e.charCodeAt(0)))return!0;return!1}const or="deferred",Gn="loading",gs="loaded";let Ia=null,g="unavailable",a=null;const p=function(r){r&&"string"==typeof r&&r.indexOf("NetworkError")>-1&&(g="error"),Ia&&Ia(r)};function b(){D.fire(new Ls("pluginStateChange",{pluginStatus:g,pluginURL:a}))}const D=new Da,S=function(){return g},O=function(){if(g!==or||!a)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");g=Gn,b(),a&&ki({url:a},r=>{r?p(r):(g=gs,b())})},N={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>g===gs||null!=N.applyArabicShaping,isLoading:()=>g===Gn,setState(r){g=r.pluginStatus,a=r.pluginURL},isParsed:()=>null!=N.applyArabicShaping&&null!=N.processBidirectionalText&&null!=N.processStyledBidirectionalText,getPluginURL:()=>a};class V{constructor(e,o){this.zoom=e,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(o,d){for(const m of o)if(!oo(m.charCodeAt(0),d))return!1;return!0}(e,N.isLoaded())}}class K{constructor(e,o){this.property=e,this.value=o,this.expression=function(d,m){if(nr(d))return new Rc(d,m);if(Xl(d)){const v=Oc(d,m);if("error"===v.result)throw new Error(v.value.map(w=>`${w.key}: ${w.message}`).join(", "));return v.value}{let v=d;return"string"==typeof d&&"color"===m.type&&(v=kn.parse(d)),{kind:"constant",evaluate:()=>v}}}(void 0===o?e.specification.default:o,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,o,d){return this.property.possiblyEvaluate(this,e,o,d)}}class q{constructor(e){this.property=e,this.value=new K(e,void 0)}transitioned(e,o){return new he(this.property,this.value,o,dt({},e.transition,this.transition),e.now)}untransitioned(){return new he(this.property,this.value,null,{},0)}}class re{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return Mi(this._values[e].value.value)}setValue(e,o){this._values.hasOwnProperty(e)||(this._values[e]=new q(this._values[e].property)),this._values[e].value=new K(this._values[e].property,null===o?void 0:Mi(o))}getTransition(e){return Mi(this._values[e].transition)}setTransition(e,o){this._values.hasOwnProperty(e)||(this._values[e]=new q(this._values[e].property)),this._values[e].transition=Mi(o)||void 0}serialize(){const e={};for(const o of Object.keys(this._values)){const d=this.getValue(o);void 0!==d&&(e[o]=d);const m=this.getTransition(o);void 0!==m&&(e[`${o}-transition`]=m)}return e}transitioned(e,o){const d=new ve(this._properties);for(const m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(e,o._values[m]);return d}untransitioned(){const e=new ve(this._properties);for(const o of Object.keys(this._values))e._values[o]=this._values[o].untransitioned();return e}}class he{constructor(e,o,d,m,v){const w=m.delay||0,E=m.duration||0;v=v||0,this.property=e,this.value=o,this.begin=v+w,this.end=this.begin+E,e.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(e,o,d){const m=e.now||0,v=this.value.possiblyEvaluate(e,o,d),w=this.prior;if(w){if(m>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(m<this.begin)return w.possiblyEvaluate(e,o,d);{const E=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(e,o,d),v,fi(E))}}return v}}class ve{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,o,d){const m=new De(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].possiblyEvaluate(e,o,d);return m}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class we{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return Mi(this._values[e].value)}setValue(e,o){this._values[e]=new K(this._values[e].property,null===o?void 0:Mi(o))}serialize(){const e={};for(const o of Object.keys(this._values)){const d=this.getValue(o);void 0!==d&&(e[o]=d)}return e}possiblyEvaluate(e,o,d){const m=new De(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].possiblyEvaluate(e,o,d);return m}}class be{constructor(e,o,d){this.property=e,this.value=o,this.parameters=d}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,o,d,m){return this.property.evaluate(this.value,this.parameters,e,o,d,m)}}class De{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class oe{constructor(e){this.specification=e}possiblyEvaluate(e,o){return e.expression.evaluate(o)}interpolate(e,o,d){const m=ia[this.specification.type];return m?m(e,o,d):e}}class ye{constructor(e,o){this.specification=e,this.overrides=o}possiblyEvaluate(e,o,d,m){return new be(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(o,null,{},d,m)}:e.expression,o)}interpolate(e,o,d){if("constant"!==e.value.kind||"constant"!==o.value.kind)return e;if(void 0===e.value.value||void 0===o.value.value)return new be(this,{kind:"constant",value:void 0},e.parameters);const m=ia[this.specification.type];return m?new be(this,{kind:"constant",value:m(e.value.value,o.value.value,d)},e.parameters):e}evaluate(e,o,d,m,v,w){return"constant"===e.kind?e.value:e.evaluate(o,d,m,v,w)}}class Ce{constructor(e){this.specification=e}possiblyEvaluate(e,o,d,m){return!!e.expression.evaluate(o,null,{},d,m)}interpolate(){return!1}}class Le{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new V(0,{});for(const d in e){const m=e[d];m.specification.overridable&&this.overridableProperties.push(d);const v=this.defaultPropertyValues[d]=new K(m,void 0),w=this.defaultTransitionablePropertyValues[d]=new q(m);this.defaultTransitioningPropertyValues[d]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=v.possiblyEvaluate(o)}}}function Ue(r,e){return 256*(r=ei(Math.floor(r),0,255))+ei(Math.floor(e),0,255)}xn(ye,"DataDrivenProperty"),xn(oe,"DataConstantProperty"),xn(Ce,"ColorRampProperty");const Ye={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ve{constructor(e,o){this._structArray=e,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Xe{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,o){return e._trim(),o&&(e.isTransferred=!0,o.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const o=Object.create(this.prototype);return o.arrayBuffer=e.arrayBuffer,o.length=e.length,o.capacity=e.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ze(r,e=1){let o=0,d=0;return{members:r.map(m=>{const v=Ye[m.type].BYTES_PER_ELEMENT,w=o=it(o,Math.max(e,v)),E=m.components||1;return d=Math.max(d,v),o+=v*E,{name:m.name,type:m.type,components:E,offset:w}}),size:it(o,Math.max(d,e)),alignment:e}}function it(r,e){return Math.ceil(r/e)*e}class Rt extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,o)}emplace(e,o,d){const m=2*e;return this.int16[m+0]=o,this.int16[m+1]=d,e}}Rt.prototype.bytesPerElement=4,xn(Rt,"StructArrayLayout2i4");class Qe extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,o,d){const m=this.length;return this.resize(m+1),this.emplace(m,e,o,d)}emplace(e,o,d,m){const v=3*e;return this.int16[v+0]=o,this.int16[v+1]=d,this.int16[v+2]=m,e}}Qe.prototype.bytesPerElement=6,xn(Qe,"StructArrayLayout3i6");class Mt extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,o,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,e,o,d,m)}emplace(e,o,d,m,v){const w=4*e;return this.int16[w+0]=o,this.int16[w+1]=d,this.int16[w+2]=m,this.int16[w+3]=v,e}}Mt.prototype.bytesPerElement=8,xn(Mt,"StructArrayLayout4i8");class ut extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w,E){const L=this.length;return this.resize(L+1),this.emplace(L,e,o,d,m,v,w,E)}emplace(e,o,d,m,v,w,E,L){const k=6*e,j=12*e,H=3*e;return this.int16[k+0]=o,this.int16[k+1]=d,this.uint8[j+4]=m,this.uint8[j+5]=v,this.uint8[j+6]=w,this.uint8[j+7]=E,this.float32[H+2]=L,e}}ut.prototype.bytesPerElement=12,xn(ut,"StructArrayLayout2i4ub1f12");class Lt extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,e,o,d,m)}emplace(e,o,d,m,v){const w=4*e;return this.float32[w+0]=o,this.float32[w+1]=d,this.float32[w+2]=m,this.float32[w+3]=v,e}}Lt.prototype.bytesPerElement=16,xn(Lt,"StructArrayLayout4f16");class tt extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v){const w=this.length;return this.resize(w+1),this.emplace(w,e,o,d,m,v)}emplace(e,o,d,m,v,w){const E=6*e,L=3*e;return this.uint16[E+0]=o,this.uint16[E+1]=d,this.uint16[E+2]=m,this.uint16[E+3]=v,this.float32[L+2]=w,e}}tt.prototype.bytesPerElement=12,xn(tt,"StructArrayLayout4ui1f12");class bt extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,o,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,e,o,d,m)}emplace(e,o,d,m,v){const w=4*e;return this.uint16[w+0]=o,this.uint16[w+1]=d,this.uint16[w+2]=m,this.uint16[w+3]=v,e}}bt.prototype.bytesPerElement=8,xn(bt,"StructArrayLayout4ui8");class $t extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w){const E=this.length;return this.resize(E+1),this.emplace(E,e,o,d,m,v,w)}emplace(e,o,d,m,v,w,E){const L=6*e;return this.int16[L+0]=o,this.int16[L+1]=d,this.int16[L+2]=m,this.int16[L+3]=v,this.int16[L+4]=w,this.int16[L+5]=E,e}}$t.prototype.bytesPerElement=12,xn($t,"StructArrayLayout6i12");class Dt extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w,E,L,k,j,H,W){const Q=this.length;return this.resize(Q+1),this.emplace(Q,e,o,d,m,v,w,E,L,k,j,H,W)}emplace(e,o,d,m,v,w,E,L,k,j,H,W,Q){const te=12*e;return this.int16[te+0]=o,this.int16[te+1]=d,this.int16[te+2]=m,this.int16[te+3]=v,this.uint16[te+4]=w,this.uint16[te+5]=E,this.uint16[te+6]=L,this.uint16[te+7]=k,this.int16[te+8]=j,this.int16[te+9]=H,this.int16[te+10]=W,this.int16[te+11]=Q,e}}Dt.prototype.bytesPerElement=24,xn(Dt,"StructArrayLayout4i4ui4i24");class Ct extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w){const E=this.length;return this.resize(E+1),this.emplace(E,e,o,d,m,v,w)}emplace(e,o,d,m,v,w,E){const L=10*e,k=5*e;return this.int16[L+0]=o,this.int16[L+1]=d,this.int16[L+2]=m,this.float32[k+2]=v,this.float32[k+3]=w,this.float32[k+4]=E,e}}Ct.prototype.bytesPerElement=20,xn(Ct,"StructArrayLayout3i3f20");class wn extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const o=this.length;return this.resize(o+1),this.emplace(o,e)}emplace(e,o){return this.uint32[1*e+0]=o,e}}wn.prototype.bytesPerElement=4,xn(wn,"StructArrayLayout1ul4");class Wn extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w,E,L,k,j,H,W,Q){const te=this.length;return this.resize(te+1),this.emplace(te,e,o,d,m,v,w,E,L,k,j,H,W,Q)}emplace(e,o,d,m,v,w,E,L,k,j,H,W,Q,te){const le=20*e,ge=10*e;return this.int16[le+0]=o,this.int16[le+1]=d,this.int16[le+2]=m,this.int16[le+3]=v,this.int16[le+4]=w,this.float32[ge+3]=E,this.float32[ge+4]=L,this.float32[ge+5]=k,this.float32[ge+6]=j,this.int16[le+14]=H,this.uint32[ge+8]=W,this.uint16[le+18]=Q,this.uint16[le+19]=te,e}}Wn.prototype.bytesPerElement=40,xn(Wn,"StructArrayLayout5i4f1i1ul2ui40");class _n extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w,E){const L=this.length;return this.resize(L+1),this.emplace(L,e,o,d,m,v,w,E)}emplace(e,o,d,m,v,w,E,L){const k=8*e;return this.int16[k+0]=o,this.int16[k+1]=d,this.int16[k+2]=m,this.int16[k+4]=v,this.int16[k+5]=w,this.int16[k+6]=E,this.int16[k+7]=L,e}}_n.prototype.bytesPerElement=16,xn(_n,"StructArrayLayout3i2i2i16");class In extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v){const w=this.length;return this.resize(w+1),this.emplace(w,e,o,d,m,v)}emplace(e,o,d,m,v,w){const E=4*e,L=8*e;return this.float32[E+0]=o,this.float32[E+1]=d,this.float32[E+2]=m,this.int16[L+6]=v,this.int16[L+7]=w,e}}In.prototype.bytesPerElement=16,xn(In,"StructArrayLayout2f1f2i16");class pi extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,e,o,d,m)}emplace(e,o,d,m,v){const w=12*e,E=3*e;return this.uint8[w+0]=o,this.uint8[w+1]=d,this.float32[E+1]=m,this.float32[E+2]=v,e}}pi.prototype.bytesPerElement=12,xn(pi,"StructArrayLayout2ub2f12");class jn extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d){const m=this.length;return this.resize(m+1),this.emplace(m,e,o,d)}emplace(e,o,d,m){const v=3*e;return this.float32[v+0]=o,this.float32[v+1]=d,this.float32[v+2]=m,e}}jn.prototype.bytesPerElement=12,xn(jn,"StructArrayLayout3f12");class mn extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,o,d){const m=this.length;return this.resize(m+1),this.emplace(m,e,o,d)}emplace(e,o,d,m){const v=3*e;return this.uint16[v+0]=o,this.uint16[v+1]=d,this.uint16[v+2]=m,e}}mn.prototype.bytesPerElement=6,xn(mn,"StructArrayLayout3ui6");class Ii extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge,Te,Oe,Ee,Pe,ze){const je=this.length;return this.resize(je+1),this.emplace(je,e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge,Te,Oe,Ee,Pe,ze)}emplace(e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge,Te,Oe,Ee,Pe,ze,je){const ot=30*e,st=15*e,xt=60*e;return this.int16[ot+0]=o,this.int16[ot+1]=d,this.int16[ot+2]=m,this.float32[st+2]=v,this.float32[st+3]=w,this.uint16[ot+8]=E,this.uint16[ot+9]=L,this.uint32[st+5]=k,this.uint32[st+6]=j,this.uint32[st+7]=H,this.uint16[ot+16]=W,this.uint16[ot+17]=Q,this.uint16[ot+18]=te,this.float32[st+10]=le,this.float32[st+11]=ge,this.uint8[xt+48]=Te,this.uint8[xt+49]=Oe,this.uint8[xt+50]=Ee,this.uint32[st+13]=Pe,this.int16[ot+28]=ze,this.uint8[xt+58]=je,e}}Ii.prototype.bytesPerElement=60,xn(Ii,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class mi extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge,Te,Oe,Ee,Pe,ze,je,ot,st,xt,Gt,ft,kt,It,jt){const Ht=this.length;return this.resize(Ht+1),this.emplace(Ht,e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge,Te,Oe,Ee,Pe,ze,je,ot,st,xt,Gt,ft,kt,It,jt)}emplace(e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge,Te,Oe,Ee,Pe,ze,je,ot,st,xt,Gt,ft,kt,It,jt,Ht){const yt=38*e,tn=19*e;return this.int16[yt+0]=o,this.int16[yt+1]=d,this.int16[yt+2]=m,this.float32[tn+2]=v,this.float32[tn+3]=w,this.int16[yt+8]=E,this.int16[yt+9]=L,this.int16[yt+10]=k,this.int16[yt+11]=j,this.int16[yt+12]=H,this.int16[yt+13]=W,this.uint16[yt+14]=Q,this.uint16[yt+15]=te,this.uint16[yt+16]=le,this.uint16[yt+17]=ge,this.uint16[yt+18]=Te,this.uint16[yt+19]=Oe,this.uint16[yt+20]=Ee,this.uint16[yt+21]=Pe,this.uint16[yt+22]=ze,this.uint16[yt+23]=je,this.uint16[yt+24]=ot,this.uint16[yt+25]=st,this.uint16[yt+26]=xt,this.uint16[yt+27]=Gt,this.uint16[yt+28]=ft,this.uint32[tn+15]=kt,this.float32[tn+16]=It,this.float32[tn+17]=jt,this.float32[tn+18]=Ht,e}}mi.prototype.bytesPerElement=76,xn(mi,"StructArrayLayout3i2f6i15ui1ul3f76");class On extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const o=this.length;return this.resize(o+1),this.emplace(o,e)}emplace(e,o){return this.float32[1*e+0]=o,e}}On.prototype.bytesPerElement=4,xn(On,"StructArrayLayout1f4");class C extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o,d,m,v){const w=this.length;return this.resize(w+1),this.emplace(w,e,o,d,m,v)}emplace(e,o,d,m,v,w){const E=5*e;return this.float32[E+0]=o,this.float32[E+1]=d,this.float32[E+2]=m,this.float32[E+3]=v,this.float32[E+4]=w,e}}C.prototype.bytesPerElement=20,xn(C,"StructArrayLayout5f20");class B extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,o,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,e,o,d,m)}emplace(e,o,d,m,v){const w=6*e;return this.uint32[3*e+0]=o,this.uint16[w+2]=d,this.uint16[w+3]=m,this.uint16[w+4]=v,e}}B.prototype.bytesPerElement=12,xn(B,"StructArrayLayout1ul3ui12");class X extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,o)}emplace(e,o,d){const m=2*e;return this.uint16[m+0]=o,this.uint16[m+1]=d,e}}X.prototype.bytesPerElement=4,xn(X,"StructArrayLayout2ui4");class ne extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const o=this.length;return this.resize(o+1),this.emplace(o,e)}emplace(e,o){return this.uint16[1*e+0]=o,e}}ne.prototype.bytesPerElement=2,xn(ne,"StructArrayLayout1ui2");class me extends Xe{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,o){const d=this.length;return this.resize(d+1),this.emplace(d,e,o)}emplace(e,o,d){const m=2*e;return this.float32[m+0]=o,this.float32[m+1]=d,e}}me.prototype.bytesPerElement=8,xn(me,"StructArrayLayout2f8");class Ne extends Ve{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ne.prototype.size=40;class lt extends Wn{get(e){return new Ne(this,e)}}xn(lt,"CollisionBoxArray");class on extends Ve{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}on.prototype.size=60;class Bn extends Ii{get(e){return new on(this,e)}}xn(Bn,"PlacedSymbolArray");class ii extends Ve{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ii.prototype.size=76;class yi extends mi{get(e){return new ii(this,e)}}xn(yi,"SymbolInstanceArray");class Vr extends On{getoffsetX(e){return this.float32[1*e+0]}}xn(Vr,"GlyphOffsetArray");class ys extends Rt{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}xn(ys,"SymbolLineVertexArray");class Iu extends Ve{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Iu.prototype.size=12;class yd extends B{get(e){return new Iu(this,e)}}xn(yd,"FeatureIndexArray");class xl extends X{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}xn(xl,"FillExtrusionCentroidArray");const Bc=Ze([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),zc=Ze([{name:"a_dash",components:4,type:"Uint16"}]);var Df={exports:{}},Xr=function(r,e){var o,d,m,v,w,E,L,k;for(d=r.length-(o=3&r.length),m=e,w=3432918353,E=461845907,k=0;k<d;)L=255&r.charCodeAt(k)|(255&r.charCodeAt(++k))<<8|(255&r.charCodeAt(++k))<<16|(255&r.charCodeAt(++k))<<24,++k,m=27492+(65535&(v=5*(65535&(m=(m^=L=(65535&(L=(L=(65535&L)*w+(((L>>>16)*w&65535)<<16)&4294967295)<<15|L>>>17))*E+(((L>>>16)*E&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(L=0,o){case 3:L^=(255&r.charCodeAt(k+2))<<16;case 2:L^=(255&r.charCodeAt(k+1))<<8;case 1:m^=L=(65535&(L=(L=(65535&(L^=255&r.charCodeAt(k)))*w+(((L>>>16)*w&65535)<<16)&4294967295)<<15|L>>>17))*E+(((L>>>16)*E&65535)<<16)&4294967295}return m^=r.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0},Tr=function(r,e){for(var o,d=r.length,m=e^d,v=0;d>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(o>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:m^=(255&r.charCodeAt(v+2))<<16;case 2:m^=(255&r.charCodeAt(v+1))<<8;case 1:m=1540483477*(65535&(m^=255&r.charCodeAt(v)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};Df.exports=Xr,Df.exports.murmur3=Xr,Df.exports.murmur2=Tr;var wl=Pt(Df.exports);class Bp{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,o,d,m){this.ids.push($s(e)),this.positions.push(o,d,m)}getPositions(e){const o=$s(e);let d=0,m=this.ids.length-1;for(;d<m;){const w=d+m>>1;this.ids[w]>=o?m=w:d=w+1}const v=[];for(;this.ids[d]===o;)v.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return v}static serialize(e,o){const d=new Float64Array(e.ids),m=new Uint32Array(e.positions);return ku(d,m,0,d.length-1),o&&o.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(e){const o=new Bp;return o.ids=e.ids,o.positions=e.positions,o.indexed=!0,o}}function $s(r){const e=+r;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:wl(String(r))}function ku(r,e,o,d){for(;o<d;){const m=r[o+d>>1];let v=o-1,w=d+1;for(;;){do{v++}while(r[v]<m);do{w--}while(r[w]>m);if(v>=w)break;jc(r,v,w),jc(e,3*v,3*w),jc(e,3*v+1,3*w+1),jc(e,3*v+2,3*w+2)}w-o<d-w?(ku(r,e,o,w),o=w+1):(ku(r,e,w+1,d),d=w)}}function jc(r,e,o){const d=r[e];r[e]=r[o],r[o]=d}xn(Bp,"FeaturePositionMap");class da{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,o),this.initialized=!0),!!this.location}}class Pu extends da{constructor(e){super(e),this.current=0}set(e,o,d){this.fetchUniformLocation(e,o)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class Tf extends da{constructor(e){super(e),this.current=[0,0,0,0]}set(e,o,d){this.fetchUniformLocation(e,o)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class Sf extends da{constructor(e){super(e),this.current=kn.transparent}set(e,o,d){this.fetchUniformLocation(e,o)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const Ug=new Float32Array(16),y_=new Float32Array(9),Pa=new Float32Array(4);function vd(r){return[Ue(255*r.r,255*r.g),Ue(255*r.b,255*r.a)]}class Oa{constructor(e,o,d){this.value=e,this.uniformNames=o.map(m=>`u_${m}`),this.type=d}setUniform(e,o,d,m,v){o.set(e,v,m.constantOr(this.value))}getBinding(e,o){return"color"===this.type?new Sf(e):new Pu(e)}}class hh{constructor(e,o){this.uniformNames=o.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,o,d,m,v){const w="u_pattern"===v||"u_dash"===v?this.pattern:"u_pixel_ratio"===v?this.pixelRatio:null;w&&o.set(e,v,w)}getBinding(e,o){return"u_pattern"===o||"u_dash"===o?new Tf(e):new Pu(e)}}class Ml{constructor(e,o,d,m){this.expression=e,this.type=d,this.maxValue=0,this.paintVertexAttributes=o.map(v=>({name:`a_${v}`,type:"Float32",components:"color"===d?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(e,o,d,m,v,w){const E=this.paintVertexArray.length,L=this.expression.evaluate(new V(0),o,{},v,m,w);this.paintVertexArray.resize(e),this._setPaintValue(E,e,L)}updatePaintArray(e,o,d,m,v){const w=this.expression.evaluate({zoom:0},d,m,void 0,v);this._setPaintValue(e,o,w)}_setPaintValue(e,o,d){if("color"===this.type){const m=vd(d);for(let v=e;v<o;v++)this.paintVertexArray.emplace(v,m[0],m[1])}else{for(let m=e;m<o;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Dl{constructor(e,o,d,m,v,w){this.expression=e,this.uniformNames=o.map(E=>`u_${E}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=o.map(E=>({name:`a_${E}`,type:"Float32",components:"color"===d?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(e,o,d,m,v,w){const E=this.expression.evaluate(new V(this.zoom),o,{},v,m,w),L=this.expression.evaluate(new V(this.zoom+1),o,{},v,m,w),k=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(k,e,E,L)}updatePaintArray(e,o,d,m,v){const w=this.expression.evaluate({zoom:this.zoom},d,m,void 0,v),E=this.expression.evaluate({zoom:this.zoom+1},d,m,void 0,v);this._setPaintValue(e,o,w,E)}_setPaintValue(e,o,d,m){if("color"===this.type){const v=vd(d),w=vd(m);for(let E=e;E<o;E++)this.paintVertexArray.emplace(E,v[0],v[1],w[0],w[1])}else{for(let v=e;v<o;v++)this.paintVertexArray.emplace(v,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,o,d,m,v){const w=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,E=ei(this.expression.interpolationFactor(w,this.zoom,this.zoom+1),0,1);o.set(e,v,E)}getBinding(e,o){return new Pu(e)}}class Ou{constructor(e,o,d,m,v){this.expression=e,this.layerId=v,this.paintVertexAttributes=("array"===d?zc:Bc).members;for(let w=0;w<o.length;++w);this.paintVertexArray=new m}populatePaintArray(e,o,d){const m=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(m,e,o.patterns&&o.patterns[this.layerId],d)}updatePaintArray(e,o,d,m,v,w){this._setPaintValues(e,o,d.patterns&&d.patterns[this.layerId],w)}_setPaintValues(e,o,d,m){if(!m||!d)return;const v=m[d];if(!v)return;const{tl:w,br:E,pixelRatio:L}=v;for(let k=e;k<o;k++)this.paintVertexArray.emplace(k,w[0],w[1],E[0],E[1],L)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ru{constructor(e,o,d=(()=>!0)){this.binders={},this._buffers=[];const m=[];for(const v in e.paint._values){if(!d(v))continue;const w=e.paint.get(v);if(!(w instanceof be&&Zl(w.property.specification)))continue;const E=Nv(v,e.type),L=w.value,k=w.property.specification.type,j=!!w.property.useIntegerZoom,H="line-dasharray"===v||v.endsWith("pattern"),W="line-dasharray"===v&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==L.kind||W)if("source"===L.kind||W||H){const Q=b_(v,k,"source");this.binders[v]=H?new Ou(L,E,k,Q,e.id):new Ml(L,E,k,Q),m.push(`/a_${v}`)}else{const Q=b_(v,k,"composite");this.binders[v]=new Dl(L,E,k,j,o,Q),m.push(`/z_${v}`)}else this.binders[v]=H?new hh(L.value,E):new Oa(L.value,E,k),m.push(`/u_${v}`)}this.cacheKey=m.sort().join("")}getMaxValue(e){const o=this.binders[e];return o instanceof Ml||o instanceof Dl?o.maxValue:0}populatePaintArrays(e,o,d,m,v,w){for(const E in this.binders){const L=this.binders[E];(L instanceof Ml||L instanceof Dl||L instanceof Ou)&&L.populatePaintArray(e,o,d,m,v,w)}}setConstantPatternPositions(e){for(const o in this.binders){const d=this.binders[o];d instanceof hh&&d.setConstantPatternPositions(e)}}updatePaintArrays(e,o,d,m,v,w){let E=!1;for(const L in e){const k=o.getPositions(L);for(const j of k){const H=d.feature(j.index);for(const W in this.binders){const Q=this.binders[W];if((Q instanceof Ml||Q instanceof Dl||Q instanceof Ou)&&!0===Q.expression.isStateDependent){const te=m.paint.get(W);Q.expression=te.value,Q.updatePaintArray(j.start,j.end,H,e[L],v,w),E=!0}}}}return E}defines(){const e=[];for(const o in this.binders){const d=this.binders[o];(d instanceof Oa||d instanceof hh)&&e.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return e}getBinderAttributes(){const e=[];for(const o in this.binders){const d=this.binders[o];if(d instanceof Ml||d instanceof Dl||d instanceof Ou)for(let m=0;m<d.paintVertexAttributes.length;m++)e.push(d.paintVertexAttributes[m].name)}return e}getBinderUniforms(){const e=[];for(const o in this.binders){const d=this.binders[o];if(d instanceof Oa||d instanceof hh||d instanceof Dl)for(const m of d.uniformNames)e.push(m)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const o=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof Oa||m instanceof hh||m instanceof Dl)for(const v of m.uniformNames)o.push({name:v,property:d,binding:m.getBinding(e,v)})}return o}setUniforms(e,o,d,m,v){for(const{name:w,property:E,binding:L}of d)this.binders[E].setUniform(e,L,v,m.get(E),w)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const o=this.binders[e];(o instanceof Ml||o instanceof Dl||o instanceof Ou)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(e){for(const o in this.binders){const d=this.binders[o];(d instanceof Ml||d instanceof Dl||d instanceof Ou)&&d.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const o=this.binders[e];(o instanceof Ml||o instanceof Dl||o instanceof Ou)&&o.destroy()}}}class Yc{constructor(e,o,d=(()=>!0)){this.programConfigurations={};for(const m of e)this.programConfigurations[m.id]=new Ru(m,o,d);this.needsUpload=!1,this._featureMap=new Bp,this._bufferOffset=0}populatePaintArrays(e,o,d,m,v,w,E){for(const L in this.programConfigurations)this.programConfigurations[L].populatePaintArrays(e,o,m,v,w,E);void 0!==o.id&&this._featureMap.add(o.id,d,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,o,d,m,v){for(const w of d)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(e,this._featureMap,o,w,m,v)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const Fv={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Nv(r,e){return Fv[r]||[r.replace(`${e}-`,"").replace(/-/g,"_")]}const v_={"line-pattern":{source:tt,composite:tt},"fill-pattern":{source:tt,composite:tt},"fill-extrusion-pattern":{source:tt,composite:tt},"line-dasharray":{source:bt,composite:bt}},zp={color:{source:me,composite:Lt},number:{source:On,composite:me}};function b_(r,e,o){const d=v_[r];return d&&d[o]||zp[e][o]}xn(Oa,"ConstantBinder"),xn(hh,"PatternConstantBinder"),xn(Ml,"SourceExpressionBinder"),xn(Ou,"PatternCompositeBinder"),xn(Dl,"CompositeExpressionBinder"),xn(Ru,"ProgramConfiguration",{omit:["_buffers"]}),xn(Yc,"ProgramConfigurationSet");const Cf="-transition";class El extends Da{constructor(e,o){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),o.layout&&(this._unevaluatedLayout=new we(o.layout)),o.paint)){this._transitionablePaint=new re(o.paint);for(const d in e.paint)this.setPaintProperty(d,e.paint[d],{validate:!1});for(const d in e.layout)this.setLayoutProperty(d,e.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new De(o.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,o,d={}){null!=o&&this._validate(vf,`layers.${this.id}.layout.${e}`,e,o,d)||("visibility"!==e?this._unevaluatedLayout.setValue(e,o):this.visibility=o)}getPaintProperty(e){return wt(e,Cf)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,o,d={}){if(null!=o&&this._validate(uh,`layers.${this.id}.paint.${e}`,e,o,d))return!1;if(wt(e,Cf))return this._transitionablePaint.setTransition(e.slice(0,-11),o||void 0),!1;{const m=this._transitionablePaint._values[e],v=m.value.isDataDriven(),w=m.value;this._transitionablePaint.setValue(e,o),this._handleSpecialPaintPropertyUpdate(e);const E=this._transitionablePaint._values[e].value,L=E.isDataDriven(),k=wt(e,"pattern")||"line-dasharray"===e;return L||v||k||this._handleOverridablePaintPropertyUpdate(e,w,E)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,o,d){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,o)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),Sn(e,(o,d)=>!(void 0===o||"layout"===d&&!Object.keys(o).length||"paint"===d&&!Object.keys(o).length))}_validate(e,o,d,m,v={}){return(!v||!1!==v.validate)&&bf(this,e.call(rc,{key:o,layerType:this.type,objectKey:d,value:m,styleSpec:vt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const o=this.paint.get(e);if(o instanceof be&&Zl(o.property.specification)&&("source"===o.value.kind||"composite"===o.value.kind)&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=jo(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Lf=Ze([{name:"a_pos",components:2,type:"Int16"}],4),Vg=Ze([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class rs{constructor(e=[]){this.segments=e}prepareSegment(e,o,d,m){let v=this.segments[this.segments.length-1];return e>rs.MAX_VERTEX_ARRAY_LENGTH&&di(`Max vertices per segment is ${rs.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!v||v.vertexLength+e>rs.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==m)&&(v={vertexOffset:o.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==m&&(v.sortKey=m),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const e of this.segments)for(const o in e.vaos)e.vaos[o].destroy()}static simpleSegment(e,o,d,m){return new rs([{vertexOffset:e,primitiveOffset:o,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}rs.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,xn(rs,"SegmentVector");var Cn=8192;class Tl{constructor(e,o){e&&(o?this.setSouthWest(e).setNorthEast(o):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof mr?new mr(e.lng,e.lat):mr.convert(e),this}setSouthWest(e){return this._sw=e instanceof mr?new mr(e.lng,e.lat):mr.convert(e),this}extend(e){const o=this._sw,d=this._ne;let m,v;if(e instanceof mr)m=e,v=e;else{if(!(e instanceof Tl))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Tl.convert(e)):this.extend(mr.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(mr.convert(e)):this;if(m=e._sw,v=e._ne,!m||!v)return this}return o||d?(o.lng=Math.min(m.lng,o.lng),o.lat=Math.min(m.lat,o.lat),d.lng=Math.max(v.lng,d.lng),d.lat=Math.max(v.lat,d.lat)):(this._sw=new mr(m.lng,m.lat),this._ne=new mr(v.lng,v.lat)),this}getCenter(){return new mr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new mr(this.getWest(),this.getNorth())}getSouthEast(){return new mr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:o,lat:d}=mr.convert(e);let m=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&m}static convert(e){return!e||e instanceof Tl?e:new Tl(e)}}var fh=1e-6,Uo=typeof Float32Array<"u"?Float32Array:Array;function Af(){var r=new Uo(9);return Uo!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Sl(r,e,o){var d=e[0],m=e[1],v=e[2],w=e[3],E=e[4],L=e[5],k=e[6],j=e[7],H=e[8],W=o[0],Q=o[1],te=o[2],le=o[3],ge=o[4],Te=o[5],Oe=o[6],Ee=o[7],Pe=o[8];return r[0]=W*d+Q*w+te*k,r[1]=W*m+Q*E+te*j,r[2]=W*v+Q*L+te*H,r[3]=le*d+ge*w+Te*k,r[4]=le*m+ge*E+Te*j,r[5]=le*v+ge*L+Te*H,r[6]=Oe*d+Ee*w+Pe*k,r[7]=Oe*m+Ee*E+Pe*j,r[8]=Oe*v+Ee*L+Pe*H,r}function mo(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function jp(r,e){var o=e[0],d=e[1],m=e[2],v=e[3],w=e[4],E=e[5],L=e[6],k=e[7],j=e[8],H=e[9],W=e[10],Q=e[11],te=e[12],le=e[13],ge=e[14],Te=e[15],Oe=o*E-d*w,Ee=o*L-m*w,Pe=o*k-v*w,ze=d*L-m*E,je=d*k-v*E,ot=m*k-v*L,st=j*le-H*te,xt=j*ge-W*te,Gt=j*Te-Q*te,ft=H*ge-W*le,kt=H*Te-Q*le,It=W*Te-Q*ge,jt=Oe*It-Ee*kt+Pe*ft+ze*Gt-je*xt+ot*st;return jt?(r[0]=(E*It-L*kt+k*ft)*(jt=1/jt),r[1]=(m*kt-d*It-v*ft)*jt,r[2]=(le*ot-ge*je+Te*ze)*jt,r[3]=(W*je-H*ot-Q*ze)*jt,r[4]=(L*Gt-w*It-k*xt)*jt,r[5]=(o*It-m*Gt+v*xt)*jt,r[6]=(ge*Pe-te*ot-Te*Ee)*jt,r[7]=(j*ot-W*Pe+Q*Ee)*jt,r[8]=(w*kt-E*Gt+k*st)*jt,r[9]=(d*Gt-o*kt-v*st)*jt,r[10]=(te*je-le*Pe+Te*Oe)*jt,r[11]=(H*Pe-j*je-Q*Oe)*jt,r[12]=(E*xt-w*ft-L*st)*jt,r[13]=(o*ft-d*xt+m*st)*jt,r[14]=(le*Ee-te*ze-ge*Oe)*jt,r[15]=(j*ze-H*Ee+W*Oe)*jt,r):null}function bd(r,e,o){var d=e[0],m=e[1],v=e[2],w=e[3],E=e[4],L=e[5],k=e[6],j=e[7],H=e[8],W=e[9],Q=e[10],te=e[11],le=e[12],ge=e[13],Te=e[14],Oe=e[15],Ee=o[0],Pe=o[1],ze=o[2],je=o[3];return r[0]=Ee*d+Pe*E+ze*H+je*le,r[1]=Ee*m+Pe*L+ze*W+je*ge,r[2]=Ee*v+Pe*k+ze*Q+je*Te,r[3]=Ee*w+Pe*j+ze*te+je*Oe,r[4]=(Ee=o[4])*d+(Pe=o[5])*E+(ze=o[6])*H+(je=o[7])*le,r[5]=Ee*m+Pe*L+ze*W+je*ge,r[6]=Ee*v+Pe*k+ze*Q+je*Te,r[7]=Ee*w+Pe*j+ze*te+je*Oe,r[8]=(Ee=o[8])*d+(Pe=o[9])*E+(ze=o[10])*H+(je=o[11])*le,r[9]=Ee*m+Pe*L+ze*W+je*ge,r[10]=Ee*v+Pe*k+ze*Q+je*Te,r[11]=Ee*w+Pe*j+ze*te+je*Oe,r[12]=(Ee=o[12])*d+(Pe=o[13])*E+(ze=o[14])*H+(je=o[15])*le,r[13]=Ee*m+Pe*L+ze*W+je*ge,r[14]=Ee*v+Pe*k+ze*Q+je*Te,r[15]=Ee*w+Pe*j+ze*te+je*Oe,r}function ph(r,e,o){var d,m,v,w,E,L,k,j,H,W,Q,te,le=o[0],ge=o[1],Te=o[2];return e===r?(r[12]=e[0]*le+e[4]*ge+e[8]*Te+e[12],r[13]=e[1]*le+e[5]*ge+e[9]*Te+e[13],r[14]=e[2]*le+e[6]*ge+e[10]*Te+e[14],r[15]=e[3]*le+e[7]*ge+e[11]*Te+e[15]):(m=e[1],v=e[2],w=e[3],E=e[4],L=e[5],k=e[6],j=e[7],H=e[8],W=e[9],Q=e[10],te=e[11],r[0]=d=e[0],r[1]=m,r[2]=v,r[3]=w,r[4]=E,r[5]=L,r[6]=k,r[7]=j,r[8]=H,r[9]=W,r[10]=Q,r[11]=te,r[12]=d*le+E*ge+H*Te+e[12],r[13]=m*le+L*ge+W*Te+e[13],r[14]=v*le+k*ge+Q*Te+e[14],r[15]=w*le+j*ge+te*Te+e[15]),r}function sc(r,e,o){var d=o[0],m=o[1],v=o[2];return r[0]=e[0]*d,r[1]=e[1]*d,r[2]=e[2]*d,r[3]=e[3]*d,r[4]=e[4]*m,r[5]=e[5]*m,r[6]=e[6]*m,r[7]=e[7]*m,r[8]=e[8]*v,r[9]=e[9]*v,r[10]=e[10]*v,r[11]=e[11]*v,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function Hg(r,e,o){var d=Math.sin(o),m=Math.cos(o),v=e[4],w=e[5],E=e[6],L=e[7],k=e[8],j=e[9],H=e[10],W=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=v*m+k*d,r[5]=w*m+j*d,r[6]=E*m+H*d,r[7]=L*m+W*d,r[8]=k*m-v*d,r[9]=j*m-w*d,r[10]=H*m-E*d,r[11]=W*m-L*d,r}function Yp(r,e,o){var d=Math.sin(o),m=Math.cos(o),v=e[0],w=e[1],E=e[2],L=e[3],k=e[8],j=e[9],H=e[10],W=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=v*m-k*d,r[1]=w*m-j*d,r[2]=E*m-H*d,r[3]=L*m-W*d,r[8]=v*d+k*m,r[9]=w*d+j*m,r[10]=E*d+H*m,r[11]=L*d+W*m,r}function $g(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function x_(r,e,o){var d,m,v,w=o[0],E=o[1],L=o[2],k=Math.hypot(w,E,L);return k<fh?null:(w*=k=1/k,E*=k,L*=k,d=Math.sin(e),m=Math.cos(e),r[0]=w*w*(v=1-m)+m,r[1]=E*w*v+L*d,r[2]=L*w*v-E*d,r[3]=0,r[4]=w*E*v-L*d,r[5]=E*E*v+m,r[6]=L*E*v+w*d,r[7]=0,r[8]=w*L*v+E*d,r[9]=E*L*v-w*d,r[10]=L*L*v+m,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});var Fu=bd;function Up(){var r=new Uo(3);return Uo!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Vp(r){var e=new Uo(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function mh(r){return Math.hypot(r[0],r[1],r[2])}function _h(r,e,o){var d=new Uo(3);return d[0]=r,d[1]=e,d[2]=o,d}function Cl(r,e,o){return r[0]=e[0]+o[0],r[1]=e[1]+o[1],r[2]=e[2]+o[2],r}function gh(r,e,o){return r[0]=e[0]-o[0],r[1]=e[1]-o[1],r[2]=e[2]-o[2],r}function Ll(r,e,o){return r[0]=e[0]*o[0],r[1]=e[1]*o[1],r[2]=e[2]*o[2],r}function Nu(r,e,o){return r[0]=Math.min(e[0],o[0]),r[1]=Math.min(e[1],o[1]),r[2]=Math.min(e[2],o[2]),r}function ha(r,e,o){return r[0]=Math.max(e[0],o[0]),r[1]=Math.max(e[1],o[1]),r[2]=Math.max(e[2],o[2]),r}function Io(r,e,o){return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r}function Uc(r,e,o,d){return r[0]=e[0]+o[0]*d,r[1]=e[1]+o[1]*d,r[2]=e[2]+o[2]*d,r}function Es(r,e){var o=e[0],d=e[1],m=e[2],v=o*o+d*d+m*m;return v>0&&(v=1/Math.sqrt(v)),r[0]=e[0]*v,r[1]=e[1]*v,r[2]=e[2]*v,r}function Ja(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function Gg(r,e,o){var d=e[0],m=e[1],v=e[2],w=o[0],E=o[1],L=o[2];return r[0]=m*L-v*E,r[1]=v*w-d*L,r[2]=d*E-m*w,r}function ds(r,e,o){var d=e[0],m=e[1],v=e[2],w=o[3]*d+o[7]*m+o[11]*v+o[15];return r[0]=(o[0]*d+o[4]*m+o[8]*v+o[12])/(w=w||1),r[1]=(o[1]*d+o[5]*m+o[9]*v+o[13])/w,r[2]=(o[2]*d+o[6]*m+o[10]*v+o[14])/w,r}function Bv(r,e,o){var d=o[0],m=o[1],v=o[2],w=e[0],E=e[1],L=e[2],k=m*L-v*E,j=v*w-d*L,H=d*E-m*w,W=m*H-v*j,Q=v*k-d*H,te=d*j-m*k,le=2*o[3];return j*=le,H*=le,Q*=2,te*=2,r[0]=w+(k*=le)+(W*=2),r[1]=E+j+Q,r[2]=L+H+te,r}var Hp,Al=gh,$p=Ll,Gp=mh;function w_(r,e,o){return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r[3]=e[3]*o,r}function M_(r,e){var o=e[0],d=e[1],m=e[2],v=e[3],w=o*o+d*d+m*m+v*v;return w>0&&(w=1/Math.sqrt(w)),r[0]=o*w,r[1]=d*w,r[2]=m*w,r[3]=v*w,r}function Bu(r,e,o){var d=e[0],m=e[1],v=e[2],w=e[3];return r[0]=o[0]*d+o[4]*m+o[8]*v+o[12]*w,r[1]=o[1]*d+o[5]*m+o[9]*v+o[13]*w,r[2]=o[2]*d+o[6]*m+o[10]*v+o[14]*w,r[3]=o[3]*d+o[7]*m+o[11]*v+o[15]*w,r}function zu(){var r=new Uo(4);return Uo!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function If(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function kf(r,e,o){o*=.5;var d=e[0],m=e[1],v=e[2],w=e[3],E=Math.sin(o),L=Math.cos(o);return r[0]=d*L+w*E,r[1]=m*L+v*E,r[2]=v*L-m*E,r[3]=w*L-d*E,r}function Wp(r,e,o){o*=.5;var d=e[0],m=e[1],v=e[2],w=e[3],E=Math.sin(o),L=Math.cos(o);return r[0]=d*L-v*E,r[1]=m*L+w*E,r[2]=v*L+d*E,r[3]=w*L-m*E,r}Up(),Hp=new Uo(4),Uo!=Float32Array&&(Hp[0]=0,Hp[1]=0,Hp[2]=0,Hp[3]=0);var Zp=M_;Up(),_h(1,0,0),_h(0,1,0),zu(),zu(),Af();const ju=Ze([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:D_}=ju,qp=Ze([{name:"a_pos_3",components:3,type:"Int16"}]);var xd=Ze([{name:"a_pos",type:"Int16",components:2}]);class Qa{constructor(e,o){this.pos=e,this.dir=o}intersectsPlane(e,o,d){const m=Ja(o,this.dir);if(Math.abs(m)<1e-6)return!1;const v=((e[0]-this.pos[0])*o[0]+(e[1]-this.pos[1])*o[1]+(e[2]-this.pos[2])*o[2])/m;return d[0]=this.pos[0]+this.dir[0]*v,d[1]=this.pos[1]+this.dir[1]*v,d[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(e,o,d){if(le=(Q=this.pos)[0],ge=Q[1],Te=Q[2],Oe=(te=e)[0],Ee=te[1],Pe=te[2],Math.abs(le-Oe)<=fh*Math.max(1,Math.abs(le),Math.abs(Oe))&&Math.abs(ge-Ee)<=fh*Math.max(1,Math.abs(ge),Math.abs(Ee))&&Math.abs(Te-Pe)<=fh*Math.max(1,Math.abs(Te),Math.abs(Pe))||0===o)return d[0]=d[1]=d[2]=0,!1;var Q,te,le,ge,Te,Oe,Ee,Pe;const[m,v,w]=this.dir,E=this.pos[0]-e[0],L=this.pos[1]-e[1],k=this.pos[2]-e[2],j=m*m+v*v+w*w,H=2*(E*m+L*v+k*w),W=H*H-4*j*(E*E+L*L+k*k-o*o);if(W<0){const Q=Math.max(-H/2,0),te=E+m*Q,le=L+v*Q,ge=k+w*Q,Te=Math.hypot(te,le,ge);return d[0]=te*o/Te,d[1]=le*o/Te,d[2]=ge*o/Te,!1}{const Q=(-H-Math.sqrt(W))/(2*j);if(Q<0){const te=Math.hypot(E,L,k);return d[0]=E*o/te,d[1]=L*o/te,d[2]=k*o/te,!1}return d[0]=E+m*Q,d[1]=L+v*Q,d[2]=k+w*Q,!0}}}class oc{constructor(e,o,d,m,v){this.TL=e,this.TR=o,this.BR=d,this.BL=m,this.horizon=v}static fromInvProjectionMatrix(e,o,d){const m=[-1,1,1],v=[1,1,1],w=[1,-1,1],E=[-1,-1,1],L=ds(m,m,e),k=ds(v,v,e),j=ds(w,w,e),H=ds(E,E,e);return new oc(L,k,j,H,o/d)}}class Kp{constructor(e,o){this.points=e,this.planes=o}static fromInvProjectionMatrix(e,o,d,m){const v=Math.pow(2,d),w=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(L=>{const k=Bu([],L,e),j=1/k[3]/o*v;return(H=k)[0]=(W=k)[0]*(Q=[j,j,m?1/k[3]:j,j])[0],H[1]=W[1]*Q[1],H[2]=W[2]*Q[2],H[3]=W[3]*Q[3],H;var H,W,Q}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(L=>{const k=Es([],Gg([],Al([],w[L[0]],w[L[1]]),Al([],w[L[2]],w[L[1]]))),j=-Ja(k,w[L[1]]);return k.concat(j)});return new Kp(w,E)}}class _o{static fromPoints(e){const o=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const m of e)Nu(o,o,m),ha(d,d,m);return new _o(o,d)}static applyTransform(e,o){const d=e.getCorners();for(let m=0;m<d.length;++m)ds(d[m],d[m],o);return _o.fromPoints(d)}constructor(e,o){this.min=e,this.max=o,this.center=Io([],Cl([],this.min,this.max),.5)}quadrant(e){const o=[e%2==0,e<2],d=Vp(this.min),m=Vp(this.max);for(let v=0;v<o.length;v++)d[v]=o[v]?this.min[v]:this.center[v],m[v]=o[v]?this.center[v]:this.max[v];return m[2]=this.max[2],new _o(d,m)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,o=this.max;return[[e[0],e[1],e[2]],[o[0],e[1],e[2]],[o[0],o[1],e[2]],[e[0],o[1],e[2]],[e[0],e[1],o[2]],[o[0],e[1],o[2]],[o[0],o[1],o[2]],[e[0],o[1],o[2]]]}intersects(e){const o=this.getCorners();let d=!0;for(let m=0;m<e.planes.length;m++){const v=e.planes[m];let w=0;for(let E=0;E<o.length;E++)w+=Ja(v,o[E])+v[3]>=0;if(0===w)return 0;w!==o.length&&(d=!1)}if(d)return 2;for(let m=0;m<3;m++){let v=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(let E=0;E<e.points.length;E++){const L=e.points[E][m]-this.min[m];v=Math.min(v,L),w=Math.max(w,L)}if(w<0||v>this.max[m]-this.min[m])return 0}return 1}}const E_=5,Vc=6,Il=Cn/Math.PI/2,zv=16383,Yu=[64,32,16],Vo=-Il,Ho=Il,ao=[new _o([Vo,Vo,Vo],[Ho,Ho,Ho]),new _o([Vo,Vo,Vo],[0,0,Ho]),new _o([0,Vo,Vo],[Ho,0,Ho]),new _o([Vo,0,Vo],[0,Ho,Ho]),new _o([0,0,Vo],[Ho,Ho,Ho])];function ac(r){return r*Il/$o}function Pf(r,e,o,d=!0){const m=Io([],r._camera.position,r.worldSize),v=[e,o,1,1];Bu(v,v,r.pixelMatrixInverse),w_(v,v,1/v[3]);const w=Es([],Al([],v,m)),E=r.globeMatrix,L=[E[12],E[13],E[14]],k=Al([],L,m),j=mh(k),H=Es([],k),W=r.worldSize/(2*Math.PI),Q=Ja(H,w),te=Math.asin(W/j);if(te<Math.acos(Q)){if(!d)return null;const Gt=[],ft=[];Io(Gt,w,j/Q),Es(ft,Al(ft,Gt,k)),Es(w,Cl(w,k,Io(w,ft,Math.tan(te)*j)))}const le=[];new Qa(m,w).closestPointOnSphere(L,W,le);const ge=Es([],Ki(E,0)),Te=Es([],Ki(E,1)),Oe=Es([],Ki(E,2)),Ee=Ja(ge,le),Pe=Ja(Te,le),ze=Ja(Oe,le),je=rn(Math.asin(-Pe/W));let ot=rn(Math.atan2(Ee,ze));ot=r.center.lng+function(Gt,ft){const kt=(ft-Gt+180)%360-180;return kt<-180?kt+360:kt}(r.center.lng,ot);const st=lc(ot),xt=ei(nl(je),0,1);return new Td(st,xt)}class Wg{constructor(e,o,d){this.a=Al([],e,d),this.b=Al([],o,d),this.center=d;const m=Es([],this.a),v=Es([],this.b);this.angle=Math.acos(Ja(m,v))}}function yh(r,e){if(0===r.angle)return null;let o;return o=0===r.a[e]?1/r.angle*.5*Math.PI:1/r.angle*Math.atan(r.b[e]/r.a[e]/Math.sin(r.angle)-1/Math.tan(r.angle)),o<0||o>1?null:function(d,m,v,w){const E=Math.sin(v);return d*(Math.sin((1-w)*v)/E)+m*(Math.sin(w*v)/E)}(r.a[e],r.b[e],r.angle,ei(o,0,1))+r.center[e]}function el(r){if(r.z<=1)return ao[r.z+2*r.y+r.x];const e=Xp(vh(r));return _o.fromPoints(e)}function wd(r,e,o){return Io(r,r,1-o),Uc(r,r,e,o)}function Md(r,e){const o=xh(e.zoom);if(0===o)return el(r);const d=vh(r),m=Xp(d),v=lc(d.getWest())*e.worldSize,w=lc(d.getEast())*e.worldSize,E=nl(d.getNorth())*e.worldSize,L=nl(d.getSouth())*e.worldSize,k=[v,E,0],j=[w,E,0],H=[v,L,0],W=[w,L,0],Q=jp([],e.globeMatrix);return ds(k,k,Q),ds(j,j,Q),ds(H,H,Q),ds(W,W,Q),m[0]=wd(m[0],H,o),m[1]=wd(m[1],W,o),m[2]=wd(m[2],j,o),m[3]=wd(m[3],k,o),_o.fromPoints(m)}function Zg(r,e,o){for(const d of r)ds(d,d,e),Io(d,d,o)}function vh({x:r,y:e,z:o}){const d=1/(1<<o),m=new mr(Go(r*d),Fs((e+1)*d)),v=new mr(Go((r+1)*d),Fs(e*d));return new Tl(m,v)}function Xp(r){const e=Nt(r.getNorth()),o=Nt(r.getSouth()),d=Math.cos(e),m=Math.cos(o),v=Math.sin(e),w=Math.sin(o),E=r.getWest(),L=r.getEast();return[Hc(m,w,E),Hc(m,w,L),Hc(d,v,L),Hc(d,v,E)]}function Hc(r,e,o,d=Il){return o=Nt(o),[r*Math.sin(o)*d,-e*d,r*Math.cos(o)*d]}function Uu(r,e,o){return Hc(Math.cos(Nt(r)),Math.sin(Nt(r)),e,o)}function bh(r,e,o,d){const m=1<<o.z,v=(r/Cn+o.x)/m;return Uu(Fs((e/Cn+o.y)/m),Go(v),d)}function $c({min:r,max:e}){return zv/Math.max(e[0]-r[0],e[1]-r[1],e[2]-r[2])}const Kg=new Float64Array(16);function Jp(r){const e=$c(r),o=$g(Kg,[e,e,e]);return ph(o,o,((d=[])[0]=-(m=r.min)[0],d[1]=-m[1],d[2]=-m[2],d));var d,m}function T_(r){const e=(d=r.min,(o=Kg)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=d[0],o[13]=d[1],o[14]=d[2],o[15]=1,o);var o,d;const m=1/$c(r);return sc(e,e,[m,m,m])}function Xg(r,e,o,d,m){const v=function(L){const k=Cn/(2*Math.PI);return L/(2*Math.PI)/k}(o),w=[r,e,-o/(2*Math.PI)],E=mo(new Float64Array(16));return ph(E,E,w),sc(E,E,[v,v,v]),Hg(E,E,Nt(-m)),Yp(E,E,Nt(-d)),E}function xh(r){return co(E_,Vc,r)}function Dd(r,e){const o=Uu(e.lat,e.lng);return w=(m=gh([],function(te){const le=Uu(te._center.lat,te._center.lng);let ge=Gg([],_h(0,1,0),le);const Te=x_([],-te.angle,le);ge=ds(ge,ge,Te),x_(Te,-te._pitch,ge);const Oe=Es([],le);return Io(Oe,Oe,ac(te.cameraToCenterDistance/te.pixelsPerMeter)),ds(Oe,Oe,Te),Cl([],le,Oe)}(r),o))[0],E=m[1],L=m[2],k=(v=o)[0],j=v[1],H=v[2],Q=(W=Math.sqrt(w*w+E*E+L*L)*Math.sqrt(k*k+j*j+H*H))&&Ja(m,v)/W,Math.acos(Math.min(Math.max(Q,-1),1));var m,v,w,E,L,k,j,H,W,Q}function Of(r,e){return Dd(r,e)>Math.PI/2*1.01}const S_=Nt(85),C_=Math.cos(S_),wh=Math.sin(S_),$o=6371008.8,Jg=2*Math.PI*$o;class tl{constructor(e,o){if(isNaN(e)||isNaN(o))throw new Error(`Invalid LngLat object: (${e}, ${o})`);if(this.lng=+e,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new tl(zi(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const o=Math.PI/180,d=this.lat*o,m=e.lat*o,v=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((e.lng-this.lng)*o);return $o*Math.acos(Math.min(v,1))}toBounds(e=0){const o=360*e/40075017,d=o/Math.cos(Math.PI/180*this.lat);return new Tl(new tl(this.lng-d,this.lat-o),new tl(this.lng+d,this.lat+o))}toEcef(e){const o=ac(e);return Uu(this.lat,this.lng,Il+o)}static convert(e){if(e instanceof tl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new tl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new tl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var mr=tl;function L_(r){return Jg*Math.cos(r*Math.PI/180)}function lc(r){return(180+r)/360}function nl(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function go(r,e){return r/L_(e)}function Go(r){return 360*r-180}function Fs(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Ed(r,e){return r*L_(Fs(e))}const vs=85.051129;function Qp(r){return 1/Math.cos(r*Math.PI/180)}class Td{constructor(e,o,d=0){this.x=+e,this.y=+o,this.z=+d}static fromLngLat(e,o=0){const d=mr.convert(e);return new Td(lc(d.lng),nl(d.lat),go(o,d.lat))}toLngLat(){return new mr(Go(this.x),Fs(this.y))}toAltitude(){return Ed(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Jg*Qp(Fs(this.y))}}function Ra(r,e,o,d,m,v,w,E,L){const k=(e+d)/2,j=(o+m)/2,H=new qe(k,j);E(H),function(W,Q,te,le,ge,Te){const Oe=te-ge,Ee=le-Te;return Math.abs((le-Q)*Oe-(te-W)*Ee)/Math.hypot(Oe,Ee)}(H.x,H.y,v.x,v.y,w.x,w.y)>=L?(Ra(r,e,o,k,j,v,H,E,L),Ra(r,k,j,d,m,H,w,E,L)):r.push(w)}function Sd(r,e,o){let d=r[0],m=d.x,v=d.y;e(d);const w=[d];for(let E=1;E<r.length;E++){const L=r[E],{x:k,y:j}=L;e(L),Ra(w,m,v,k,j,d,L,e,o),m=k,v=j,d=L}return w}function em(r,e,o,d){if(d(e,o)){const m=e.add(o)._mult(.5);em(r,e,m,d),em(r,m,o,d)}else r.push(o)}function jv(r,e){let o=r[0];const d=[o];for(let m=1;m<r.length;m++){const v=r[m];em(d,o,v,e),o=v}return d}const Qg=Math.pow(2,14)-1,Rf=-Qg-1;function Yv(r,e){const o=Math.round(r.x*e),d=Math.round(r.y*e);return r.x=ei(o,Rf,Qg),r.y=ei(d,Rf,Qg),(o<r.x||o>r.x+1||d<r.y||d>r.y+1)&&di("Geometry exceeds allowed extent, reduce your vector tile buffer size"),r}function cc(r,e,o){const d=r.loadGeometry(),m=r.extent,v=Cn/m;if(e&&o&&o.projection.isReprojectedInTileSpace){const w=1<<e.z,{scale:E,x:L,y:k,projection:j}=o,H=W=>{const Q=Go((e.x+W.x/m)/w),te=Fs((e.y+W.y/m)/w),le=j.project(Q,te);W.x=(le.x*E-L)*m,W.y=(le.y*E-k)*m};for(let W=0;W<d.length;W++)if(1!==r.type)d[W]=Sd(d[W],H,1);else{const Q=[];for(const te of d[W])te.x<0||te.x>=m||te.y<0||te.y>=m||(H(te),Q.push(te));d[W]=Q}}for(const w of d)for(const E of w)Yv(E,v);return d}function Cd(r,e){return{type:r.type,id:r.id,properties:r.properties,geometry:e?cc(r):[]}}function Ff(r,e,o,d,m){r.emplaceBack(2*e+(d+1)/2,2*o+(m+1)/2)}function Ld(r,e,o){r.emplaceBack(e.x,e.y,e.z,16384*o[0],16384*o[1],16384*o[2])}class Ad{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(o=>o.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Rt,this.indexArray=new mn,this.segments=new rs,this.programConfigurations=new Yc(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(e,o,d,m){const v=this.layers[0],w=[];let E=null;"circle"===v.type&&(E=v.layout.get("circle-sort-key"));for(const{feature:k,id:j,index:H,sourceLayerIndex:W}of e){const Q=this.layers[0]._featureFilter.needGeometry,te=Cd(k,Q);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),te,d))continue;const le=E?E.evaluate(te,{},d):void 0,ge={id:j,properties:k.properties,type:k.type,sourceLayerIndex:W,index:H,geometry:Q?te.geometry:cc(k,d,m),patterns:{},sortKey:le};w.push(ge)}E&&w.sort((k,j)=>k.sortKey-j.sortKey);let L=null;"globe"===m.projection.name&&(this.globeExtVertexArray=new $t,L=m.projection);for(const k of w){const{geometry:j,index:H,sourceLayerIndex:W}=k,Q=e[H].feature;this.addFeature(k,j,H,o.availableImages,d,L),o.featureIndex.insert(Q,j,H,W,this.index)}}update(e,o,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,o,this.stateDependentLayers,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Lf.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Vg.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,o,d,m,v,w){for(const E of o)for(const L of E){const k=L.x,j=L.y;if(k<0||k>=Cn||j<0||j>=Cn)continue;if(w){const Q=w.projectTilePoint(k,j,v),te=w.upVector(v,k,j),le=this.globeExtVertexArray;Ld(le,Q,te),Ld(le,Q,te),Ld(le,Q,te),Ld(le,Q,te)}const H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),W=H.vertexLength;Ff(this.layoutVertexArray,k,j,-1,-1),Ff(this.layoutVertexArray,k,j,1,-1),Ff(this.layoutVertexArray,k,j,1,1),Ff(this.layoutVertexArray,k,j,-1,1),this.indexArray.emplaceBack(W,W+1,W+2),this.indexArray.emplaceBack(W,W+2,W+3),H.vertexLength+=4,H.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,{},m,v)}}function uc(r,e){for(let o=0;o<r.length;o++)if(Vu(e,r[o]))return!0;for(let o=0;o<e.length;o++)if(Vu(r,e[o]))return!0;return!!Mh(r,e)}function Nf(r,e,o){return!!Vu(r,e)||!!Bf(e,r,o)}function A_(r,e){if(1===r.length)return ty(e,r[0]);for(let o=0;o<e.length;o++){const d=e[o];for(let m=0;m<d.length;m++)if(Vu(r,d[m]))return!0}for(let o=0;o<r.length;o++)if(ty(e,r[o]))return!0;for(let o=0;o<e.length;o++)if(Mh(r,e[o]))return!0;return!1}function I_(r,e,o){if(r.length>1){if(Mh(r,e))return!0;for(let d=0;d<e.length;d++)if(Bf(e[d],r,o))return!0}for(let d=0;d<r.length;d++)if(Bf(r[d],e,o))return!0;return!1}function Mh(r,e){if(0===r.length||0===e.length)return!1;for(let o=0;o<r.length-1;o++){const d=r[o],m=r[o+1];for(let v=0;v<e.length-1;v++)if(ey(d,m,e[v],e[v+1]))return!0}return!1}function ey(r,e,o,d){return Ji(r,o,d)!==Ji(e,o,d)&&Ji(r,e,o)!==Ji(r,e,d)}function Bf(r,e,o){const d=o*o;if(1===e.length)return r.distSqr(e[0])<d;for(let m=1;m<e.length;m++)if(Dh(r,e[m-1],e[m])<d)return!0;return!1}function Dh(r,e,o){const d=e.distSqr(o);if(0===d)return r.distSqr(e);const m=((r.x-e.x)*(o.x-e.x)+(r.y-e.y)*(o.y-e.y))/d;return r.distSqr(m<0?e:m>1?o:o.sub(e)._mult(m)._add(e))}function ty(r,e){let o,d,m,v=!1;for(let w=0;w<r.length;w++){o=r[w];for(let E=0,L=o.length-1;E<o.length;L=E++)d=o[E],m=o[L],d.y>e.y!=m.y>e.y&&e.x<(m.x-d.x)*(e.y-d.y)/(m.y-d.y)+d.x&&(v=!v)}return v}function Vu(r,e){let o=!1;for(let d=0,m=r.length-1;d<r.length;m=d++){const v=r[d],w=r[m];v.y>e.y!=w.y>e.y&&e.x<(w.x-v.x)*(e.y-v.y)/(w.y-v.y)+v.x&&(o=!o)}return o}function k_(r,e,o,d,m){for(const w of r)if(e<=w.x&&o<=w.y&&d>=w.x&&m>=w.y)return!0;const v=[new qe(e,o),new qe(e,m),new qe(d,m),new qe(d,o)];if(r.length>2)for(const w of v)if(Vu(r,w))return!0;for(let w=0;w<r.length-1;w++)if(Uv(r[w],r[w+1],v))return!0;return!1}function Uv(r,e,o){const d=o[0],m=o[2];if(r.x<d.x&&e.x<d.x||r.x>m.x&&e.x>m.x||r.y<d.y&&e.y<d.y||r.y>m.y&&e.y>m.y)return!1;const v=Ji(r,e,o[0]);return v!==Ji(r,e,o[1])||v!==Ji(r,e,o[2])||v!==Ji(r,e,o[3])}function Gc(r,e,o){const d=e.paint.get(r).value;return"constant"===d.kind?d.value:o.programConfigurations.get(e.id).getMaxValue(r)}function Eh(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Hu(r,e,o,d,m){if(!e[0]&&!e[1])return r;const v=qe.convert(e)._mult(m);"viewport"===o&&v._rotate(-d);const w=[];for(let E=0;E<r.length;E++)w.push(r[E].sub(v));return w}function Th(r,e,o,d){const m=qe.convert(r)._mult(d);return"viewport"===e&&m._rotate(-o),m}xn(Ad,"CircleBucket",{omit:["layers"]});const P_=new Le({"circle-sort-key":new ye(vt.layout_circle["circle-sort-key"])});var Sh={paint:new Le({"circle-radius":new ye(vt.paint_circle["circle-radius"]),"circle-color":new ye(vt.paint_circle["circle-color"]),"circle-blur":new ye(vt.paint_circle["circle-blur"]),"circle-opacity":new ye(vt.paint_circle["circle-opacity"]),"circle-translate":new oe(vt.paint_circle["circle-translate"]),"circle-translate-anchor":new oe(vt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new oe(vt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new oe(vt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ye(vt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ye(vt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ye(vt.paint_circle["circle-stroke-opacity"])}),layout:P_};function ny(r,e,o,d,m,v,w,E,L){if(v&&r.queryGeometry.isAboveHorizon)return!1;v&&(L*=r.pixelToTileUnitsFactor);const k=r.tileID.canonical,j=o.projection.upVectorScale(k,o.center.lat,o.worldSize).metersToTile;for(const H of e)for(const W of H){const Q=W.add(E),te=m&&o.elevation?o.elevation.exaggeration()*m.getElevationAt(Q.x,Q.y,!0):0,le=o.projection.projectTilePoint(Q.x,Q.y,k);if(te>0){const Ee=o.projection.upVector(k,Q.x,Q.y);le.x+=Ee[0]*j*te,le.y+=Ee[1]*j*te,le.z+=Ee[2]*j*te}const ge=v?Q:O_(le.x,le.y,le.z,d),Te=v?r.tilespaceRays.map(Ee=>tm(Ee,te)):r.queryGeometry.screenGeometry,Oe=Bu([],[le.x,le.y,le.z,1],d);if(!w&&v?L*=Oe[3]/o.cameraToCenterDistance:w&&!v&&(L*=o.cameraToCenterDistance/Oe[3]),v){const Ee=Fs((W.y/Cn+k.y)/(1<<k.z));L/=o.projection.pixelsPerMeter(Ee,1)/go(1,Ee)}if(Nf(Te,ge,L))return!0}return!1}function O_(r,e,o,d){const m=Bu([],[r,e,o,1],d);return new qe(m[0]/m[3],m[1]/m[3])}const Vv=_h(0,0,0),R_=_h(0,0,1);function tm(r,e){const o=Up();return Vv[2]=e,r.intersectsPlane(Vv,R_,o),new qe(o[0],o[1])}class iy extends Ad{}function Id(r,{width:e,height:o},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==e*o*d)throw new RangeError("mismatched image size")}else m=new Uint8Array(e*o*d);return r.width=e,r.height=o,r.data=m,r}function zf(r,e,o){const{width:d,height:m}=e;d===r.width&&m===r.height||(jf(r,e,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,d),height:Math.min(r.height,m)},o),r.width=d,r.height=m,r.data=e.data)}function jf(r,e,o,d,m,v){if(0===m.width||0===m.height)return e;if(m.width>r.width||m.height>r.height||o.x>r.width-m.width||o.y>r.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>e.width||m.height>e.height||d.x>e.width-m.width||d.y>e.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const w=r.data,E=e.data;for(let L=0;L<m.height;L++){const k=((o.y+L)*r.width+o.x)*v,j=((d.y+L)*e.width+d.x)*v;for(let H=0;H<m.width*v;H++)E[j+H]=w[k+H]}return e}xn(iy,"HeatmapBucket",{omit:["layers"]});class Fa{constructor(e,o){Id(this,e,1,o)}resize(e){zf(this,new Fa(e),1)}clone(){return new Fa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,o,d,m,v){jf(e,o,d,m,v,1)}}class Wo{constructor(e,o){Id(this,e,4,o)}resize(e){zf(this,new Wo(e),4)}replace(e,o){o?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Wo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,o,d,m,v){jf(e,o,d,m,v,4)}}xn(Fa,"AlphaImage"),xn(Wo,"RGBAImage");var ry={paint:new Le({"heatmap-radius":new ye(vt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ye(vt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new oe(vt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ce(vt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new oe(vt.paint_heatmap["heatmap-opacity"])})};function nm(r){const e={},o=r.resolution||256,d=r.clips?r.clips.length:1,m=r.image||new Wo({width:o,height:d}),v=(w,E,L)=>{e[r.evaluationKey]=L;const k=r.expression.evaluate(e);m.data[w+E+0]=Math.floor(255*k.r/k.a),m.data[w+E+1]=Math.floor(255*k.g/k.a),m.data[w+E+2]=Math.floor(255*k.b/k.a),m.data[w+E+3]=Math.floor(255*k.a)};if(r.clips)for(let w=0,E=0;w<d;++w,E+=4*o)for(let L=0,k=0;L<o;L++,k+=4){const j=L/(o-1),{start:H,end:W}=r.clips[w];v(E,k,H*(1-j)+W*j)}else for(let w=0,E=0;w<o;w++,E+=4)v(0,E,w/(o-1));return m}var Hv={paint:new Le({"hillshade-illumination-direction":new oe(vt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new oe(vt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new oe(vt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new oe(vt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new oe(vt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new oe(vt.paint_hillshade["hillshade-accent-color"])})};const $v=Ze([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gv}=$v;var im={exports:{}};function F_(r,e,o){o=o||2;var d,m,v,w,E,L,k,j=e&&e.length,H=j?e[0]*o:r.length,W=dc(r,0,H,o,!0),Q=[];if(!W||W.next===W.prev)return Q;if(j&&(W=function(le,ge,Te,Oe){var Ee,Pe,ze,je=[];for(Ee=0,Pe=ge.length;Ee<Pe;Ee++)(ze=dc(le,ge[Ee]*Oe,Ee<Pe-1?ge[Ee+1]*Oe:le.length,Oe,!1))===ze.next&&(ze.steiner=!0),je.push(z_(ze));for(je.sort(Nb),Ee=0;Ee<je.length;Ee++)Te=N_(je[Ee],Te);return Te}(r,e,W,o)),r.length>80*o){d=v=r[0],m=w=r[1];for(var te=o;te<H;te+=o)(E=r[te])<d&&(d=E),(L=r[te+1])<m&&(m=L),E>v&&(v=E),L>w&&(w=L);k=0!==(k=Math.max(v-d,w-m))?32767/k:0}return Yf(W,Q,o,d,m,k,0),Q}function dc(r,e,o,d,m){var v,w;if(m===Lh(r,e,o,d)>0)for(v=e;v<o;v+=d)w=am(v,r[v],r[v+1],w);else for(v=o-d;v>=e;v-=d)w=am(v,r[v],r[v+1],w);return w&&Wc(w,w.next)&&(kd(w),w=w.next),w}function il(r,e){if(!r)return r;e||(e=r);var o,d=r;do{if(o=!1,d.steiner||!Wc(d,d.next)&&0!==ir(d.prev,d,d.next))d=d.next;else{if(kd(d),(d=e=d.prev)===d.next)break;o=!0}}while(o||d!==e);return e}function Yf(r,e,o,d,m,v,w){if(r){!w&&v&&function(j,H,W,Q){var te=j;do{0===te.z&&(te.z=$u(te.x,te.y,H,W,Q)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next}while(te!==j);te.prevZ.nextZ=null,te.prevZ=null,function(le){var ge,Te,Oe,Ee,Pe,ze,je,ot,st=1;do{for(Te=le,le=null,Pe=null,ze=0;Te;){for(ze++,Oe=Te,je=0,ge=0;ge<st&&(je++,Oe=Oe.nextZ);ge++);for(ot=st;je>0||ot>0&&Oe;)0!==je&&(0===ot||!Oe||Te.z<=Oe.z)?(Ee=Te,Te=Te.nextZ,je--):(Ee=Oe,Oe=Oe.nextZ,ot--),Pe?Pe.nextZ=Ee:le=Ee,Ee.prevZ=Pe,Pe=Ee;Te=Oe}Pe.nextZ=null,st*=2}while(ze>1)}(te)}(r,d,m,v);for(var E,L,k=r;r.prev!==r.next;)if(E=r.prev,L=r.next,v?Ob(r,d,m,v):Pb(r))e.push(E.i/o|0),e.push(r.i/o|0),e.push(L.i/o|0),kd(r),r=L.next,k=L.next;else if((r=L)===k){w?1===w?Yf(r=Rb(il(r),e,o),e,o,d,m,v,2):2===w&&Fb(r,e,o,d,m,v):Yf(il(r),e,o,d,m,v,1);break}}}function Pb(r){var e=r.prev,o=r,d=r.next;if(ir(e,o,d)>=0)return!1;for(var m=e.x,v=o.x,w=d.x,E=e.y,L=o.y,k=d.y,j=m<v?m<w?m:w:v<w?v:w,H=E<L?E<k?E:k:L<k?L:k,W=m>v?m>w?m:w:v>w?v:w,Q=E>L?E>k?E:k:L>k?L:k,te=d.next;te!==e;){if(te.x>=j&&te.x<=W&&te.y>=H&&te.y<=Q&&Ch(m,E,v,L,w,k,te.x,te.y)&&ir(te.prev,te,te.next)>=0)return!1;te=te.next}return!0}function Ob(r,e,o,d){var m=r.prev,v=r,w=r.next;if(ir(m,v,w)>=0)return!1;for(var E=m.x,L=v.x,k=w.x,j=m.y,H=v.y,W=w.y,Q=E<L?E<k?E:k:L<k?L:k,te=j<H?j<W?j:W:H<W?H:W,le=E>L?E>k?E:k:L>k?L:k,ge=j>H?j>W?j:W:H>W?H:W,Te=$u(Q,te,e,o,d),Oe=$u(le,ge,e,o,d),Ee=r.prevZ,Pe=r.nextZ;Ee&&Ee.z>=Te&&Pe&&Pe.z<=Oe;){if(Ee.x>=Q&&Ee.x<=le&&Ee.y>=te&&Ee.y<=ge&&Ee!==m&&Ee!==w&&Ch(E,j,L,H,k,W,Ee.x,Ee.y)&&ir(Ee.prev,Ee,Ee.next)>=0||(Ee=Ee.prevZ,Pe.x>=Q&&Pe.x<=le&&Pe.y>=te&&Pe.y<=ge&&Pe!==m&&Pe!==w&&Ch(E,j,L,H,k,W,Pe.x,Pe.y)&&ir(Pe.prev,Pe,Pe.next)>=0))return!1;Pe=Pe.nextZ}for(;Ee&&Ee.z>=Te;){if(Ee.x>=Q&&Ee.x<=le&&Ee.y>=te&&Ee.y<=ge&&Ee!==m&&Ee!==w&&Ch(E,j,L,H,k,W,Ee.x,Ee.y)&&ir(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.prevZ}for(;Pe&&Pe.z<=Oe;){if(Pe.x>=Q&&Pe.x<=le&&Pe.y>=te&&Pe.y<=ge&&Pe!==m&&Pe!==w&&Ch(E,j,L,H,k,W,Pe.x,Pe.y)&&ir(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.nextZ}return!0}function Rb(r,e,o){var d=r;do{var m=d.prev,v=d.next.next;!Wc(m,v)&&sm(m,d,d.next,v)&&om(m,v)&&om(v,m)&&(e.push(m.i/o|0),e.push(d.i/o|0),e.push(v.i/o|0),kd(d),kd(d.next),d=r=v),d=d.next}while(d!==r);return il(d)}function Fb(r,e,o,d,m,v){var w=r;do{for(var E=w.next.next;E!==w.prev;){if(w.i!==E.i&&rm(w,E)){var L=Wv(w,E);return w=il(w,w.next),L=il(L,L.next),Yf(w,e,o,d,m,v,0),void Yf(L,e,o,d,m,v,0)}E=E.next}w=w.next}while(w!==r)}function Nb(r,e){return r.x-e.x}function N_(r,e){var o=function(m,v){var w,E=v,L=m.x,k=m.y,j=-1/0;do{if(k<=E.y&&k>=E.next.y&&E.next.y!==E.y){var H=E.x+(k-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(H<=L&&H>j&&(j=H,w=E.x<E.next.x?E:E.next,H===L))return w}E=E.next}while(E!==v);if(!w)return null;var W,Q=w,te=w.x,le=w.y,ge=1/0;E=w;do{L>=E.x&&E.x>=te&&L!==E.x&&Ch(k<le?L:j,k,te,le,k<le?j:L,k,E.x,E.y)&&(W=Math.abs(k-E.y)/(L-E.x),om(E,m)&&(W<ge||W===ge&&(E.x>w.x||E.x===w.x&&B_(w,E)))&&(w=E,ge=W)),E=E.next}while(E!==Q);return w}(r,e);if(!o)return e;var d=Wv(o,r);return il(d,d.next),il(o,o.next)}function B_(r,e){return ir(r.prev,r,e.prev)<0&&ir(e.next,r,r.next)<0}function $u(r,e,o,d,m){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-d)*m|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function z_(r){var e=r,o=r;do{(e.x<o.x||e.x===o.x&&e.y<o.y)&&(o=e),e=e.next}while(e!==r);return o}function Ch(r,e,o,d,m,v,w,E){return(m-w)*(e-E)>=(r-w)*(v-E)&&(r-w)*(d-E)>=(o-w)*(e-E)&&(o-w)*(v-E)>=(m-w)*(d-E)}function rm(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!function(o,d){var m=o;do{if(m.i!==o.i&&m.next.i!==o.i&&m.i!==d.i&&m.next.i!==d.i&&sm(m,m.next,o,d))return!0;m=m.next}while(m!==o);return!1}(r,e)&&(om(r,e)&&om(e,r)&&function(o,d){var m=o,v=!1,w=(o.x+d.x)/2,E=(o.y+d.y)/2;do{m.y>E!=m.next.y>E&&m.next.y!==m.y&&w<(m.next.x-m.x)*(E-m.y)/(m.next.y-m.y)+m.x&&(v=!v),m=m.next}while(m!==o);return v}(r,e)&&(ir(r.prev,r,e.prev)||ir(r,e.prev,e))||Wc(r,e)&&ir(r.prev,r,r.next)>0&&ir(e.prev,e,e.next)>0)}function ir(r,e,o){return(e.y-r.y)*(o.x-e.x)-(e.x-r.x)*(o.y-e.y)}function Wc(r,e){return r.x===e.x&&r.y===e.y}function sm(r,e,o,d){var m=Vf(ir(r,e,o)),v=Vf(ir(r,e,d)),w=Vf(ir(o,d,r)),E=Vf(ir(o,d,e));return m!==v&&w!==E||!(0!==m||!Uf(r,o,e))||!(0!==v||!Uf(r,d,e))||!(0!==w||!Uf(o,r,d))||!(0!==E||!Uf(o,e,d))}function Uf(r,e,o){return e.x<=Math.max(r.x,o.x)&&e.x>=Math.min(r.x,o.x)&&e.y<=Math.max(r.y,o.y)&&e.y>=Math.min(r.y,o.y)}function Vf(r){return r>0?1:r<0?-1:0}function om(r,e){return ir(r.prev,r,r.next)<0?ir(r,e,r.next)>=0&&ir(r,r.prev,e)>=0:ir(r,e,r.prev)<0||ir(r,r.next,e)<0}function Wv(r,e){var o=new Hf(r.i,r.x,r.y),d=new Hf(e.i,e.x,e.y),m=r.next,v=e.prev;return r.next=e,e.prev=r,o.next=m,m.prev=o,d.next=o,o.prev=d,v.next=d,d.prev=v,d}function am(r,e,o,d){var m=new Hf(r,e,o);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function kd(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Hf(r,e,o){this.i=r,this.x=e,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lh(r,e,o,d){for(var m=0,v=e,w=o-d;v<o;v+=d)m+=(r[w]-r[v])*(r[v+1]+r[w+1]),w=v;return m}im.exports=F_,im.exports.default=F_,F_.deviation=function(r,e,o,d){var m=e&&e.length,v=Math.abs(Lh(r,0,m?e[0]*o:r.length,o));if(m)for(var w=0,E=e.length;w<E;w++)v-=Math.abs(Lh(r,e[w]*o,w<E-1?e[w+1]*o:r.length,o));var L=0;for(w=0;w<d.length;w+=3){var k=d[w]*o,j=d[w+1]*o,H=d[w+2]*o;L+=Math.abs((r[k]-r[H])*(r[j+1]-r[k+1])-(r[k]-r[j])*(r[H+1]-r[k+1]))}return 0===v&&0===L?0:Math.abs((L-v)/v)},F_.flatten=function(r){for(var e=r[0][0].length,o={vertices:[],holes:[],dimensions:e},d=0,m=0;m<r.length;m++){for(var v=0;v<r[m].length;v++)for(var w=0;w<e;w++)o.vertices.push(r[m][v][w]);m>0&&o.holes.push(d+=r[m-1].length)}return o};var j_=Pt(im.exports);function sy(r,e,o,d,m){oy(r,e,o||0,d||r.length-1,m||Zv)}function oy(r,e,o,d,m){for(;d>o;){if(d-o>600){var v=d-o+1,w=e-o+1,E=Math.log(v),L=.5*Math.exp(2*E/3),k=.5*Math.sqrt(E*L*(v-L)/v)*(w-v/2<0?-1:1);oy(r,e,Math.max(o,Math.floor(e-w*L/v+k)),Math.min(d,Math.floor(e+(v-w)*L/v+k)),m)}var j=r[e],H=o,W=d;for($f(r,o,e),m(r[d],j)>0&&$f(r,o,d);H<W;){for($f(r,H,W),H++,W--;m(r[H],j)<0;)H++;for(;m(r[W],j)>0;)W--}0===m(r[o],j)?$f(r,o,W):$f(r,++W,d),W<=e&&(o=W+1),e<=W&&(d=W-1)}}function $f(r,e,o){var d=r[e];r[e]=r[o],r[o]=d}function Zv(r,e){return r<e?-1:r>e?1:0}function Gs(r,e){const o=r.length;if(o<=1)return[r];const d=[];let m,v;for(let w=0;w<o;w++){const E=ps(r[w]);0!==E&&(r[w].area=Math.abs(E),void 0===v&&(v=E<0),v===E<0?(m&&d.push(m),m=[r[w]]):m.push(r[w]))}if(m&&d.push(m),e>1)for(let w=0;w<d.length;w++)d[w].length<=e||(sy(d[w],e,1,d[w].length-1,ay),d[w]=d[w].slice(0,e));return d}function ay(r,e){return e.area-r.area}function Pd(r,e,o){const d=o.patternDependencies;let m=!1;for(const v of e){const w=v.paint.get(`${r}-pattern`);w.isConstant()||(m=!0);const E=w.constantOr(null);E&&(m=!0,d[E]=!0)}return m}function Ah(r,e,o,d,m){const v=m.patternDependencies;for(const w of e){const E=w.paint.get(`${r}-pattern`).value;if("constant"!==E.kind){let L=E.evaluate({zoom:d},o,{},m.availableImages);L=L&&L.name?L.name:L,v[L]=!0,o.patterns[w.id]=L}}return o}class Ih{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(o=>o.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Rt,this.indexArray=new mn,this.indexArray2=new X,this.programConfigurations=new Yc(e.layers,e.zoom),this.segments=new rs,this.segments2=new rs,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=e.projection}populate(e,o,d,m){this.hasPattern=Pd("fill",this.layers,o);const v=this.layers[0].layout.get("fill-sort-key"),w=[];for(const{feature:E,id:L,index:k,sourceLayerIndex:j}of e){const H=this.layers[0]._featureFilter.needGeometry,W=Cd(E,H);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),W,d))continue;const Q=v?v.evaluate(W,{},d,o.availableImages):void 0,te={id:L,properties:E.properties,type:E.type,sourceLayerIndex:j,index:k,geometry:H?W.geometry:cc(E,d,m),patterns:{},sortKey:Q};w.push(te)}v&&w.sort((E,L)=>E.sortKey-L.sortKey);for(const E of w){const{geometry:L,index:k,sourceLayerIndex:j}=E;if(this.hasPattern){const H=Ah("fill",this.layers,E,this.zoom,o);this.patternFeatures.push(H)}else this.addFeature(E,L,k,d,{},o.availableImages);o.featureIndex.insert(e[k].feature,L,k,j,this.index)}}update(e,o,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,o,this.stateDependentLayers,d,m)}addFeatures(e,o,d,m,v){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,o,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Gv),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,o,d,m,v,w=[]){for(const E of Gs(o,500)){let L=0;for(const te of E)L+=te.length;const k=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray),j=k.vertexLength,H=[],W=[];for(const te of E){if(0===te.length)continue;te!==E[0]&&W.push(H.length/2);const le=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),ge=le.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(ge+te.length-1,ge),H.push(te[0].x),H.push(te[0].y);for(let Te=1;Te<te.length;Te++)this.layoutVertexArray.emplaceBack(te[Te].x,te[Te].y),this.indexArray2.emplaceBack(ge+Te-1,ge+Te),H.push(te[Te].x),H.push(te[Te].y);le.vertexLength+=te.length,le.primitiveLength+=te.length}const Q=j_(H,W);for(let te=0;te<Q.length;te+=3)this.indexArray.emplaceBack(j+Q[te],j+Q[te+1],j+Q[te+2]);k.vertexLength+=L,k.primitiveLength+=Q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,v,w,m)}}xn(Ih,"FillBucket",{omit:["layers","patternFeatures"]});const qv=new Le({"fill-sort-key":new ye(vt.layout_fill["fill-sort-key"])});var Od={paint:new Le({"fill-antialias":new oe(vt.paint_fill["fill-antialias"]),"fill-opacity":new ye(vt.paint_fill["fill-opacity"]),"fill-color":new ye(vt.paint_fill["fill-color"]),"fill-outline-color":new ye(vt.paint_fill["fill-outline-color"]),"fill-translate":new oe(vt.paint_fill["fill-translate"]),"fill-translate-anchor":new oe(vt.paint_fill["fill-translate-anchor"]),"fill-pattern":new ye(vt.paint_fill["fill-pattern"])}),layout:qv};const Bb=Ze([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),zb=Ze([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Y_=Ze([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:lm}=Bb;var Gf={},jb=Mn,U_=fa;function fa(r,e,o,d,m){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=d,this._values=m,r.readFields(ly,this,e)}function ly(r,e,o){1==r?e.id=o.readVarint():2==r?function(d,m){for(var v=d.readVarint()+d.pos;d.pos<v;){var w=m._keys[d.readVarint()],E=m._values[d.readVarint()];m.properties[w]=E}}(o,e):3==r?e.type=o.readVarint():4==r&&(e._geometry=o.pos)}function u1(r){for(var e,o,d=0,m=0,v=r.length,w=v-1;m<v;w=m++)d+=((o=r[w]).x-(e=r[m]).x)*(e.y+o.y);return d}fa.types=["Unknown","Point","LineString","Polygon"],fa.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var e,o=r.readVarint()+r.pos,d=1,m=0,v=0,w=0,E=[];r.pos<o;){if(m<=0){var L=r.readVarint();d=7&L,m=L>>3}if(m--,1===d||2===d)v+=r.readSVarint(),w+=r.readSVarint(),1===d&&(e&&E.push(e),e=[]),e.push(new jb(v,w));else{if(7!==d)throw new Error("unknown command "+d);e&&e.push(e[0].clone())}}return e&&E.push(e),E},fa.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var e=r.readVarint()+r.pos,o=1,d=0,m=0,v=0,w=1/0,E=-1/0,L=1/0,k=-1/0;r.pos<e;){if(d<=0){var j=r.readVarint();o=7&j,d=j>>3}if(d--,1===o||2===o)(m+=r.readSVarint())<w&&(w=m),m>E&&(E=m),(v+=r.readSVarint())<L&&(L=v),v>k&&(k=v);else if(7!==o)throw new Error("unknown command "+o)}return[w,L,E,k]},fa.prototype.toGeoJSON=function(r,e,o){var d,m,v=this.extent*Math.pow(2,o),w=this.extent*r,E=this.extent*e,L=this.loadGeometry(),k=fa.types[this.type];function j(Q){for(var te=0;te<Q.length;te++){var le=Q[te];Q[te]=[360*(le.x+w)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(le.y+E)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var H=[];for(d=0;d<L.length;d++)H[d]=L[d][0];j(L=H);break;case 2:for(d=0;d<L.length;d++)j(L[d]);break;case 3:for(L=function(Q){var te=Q.length;if(te<=1)return[Q];for(var le,ge,Te=[],Oe=0;Oe<te;Oe++){var Ee=u1(Q[Oe]);0!==Ee&&(void 0===ge&&(ge=Ee<0),ge===Ee<0?(le&&Te.push(le),le=[Q[Oe]]):le.push(Q[Oe]))}return le&&Te.push(le),Te}(L),d=0;d<L.length;d++)for(m=0;m<L[d].length;m++)j(L[d][m])}1===L.length?L=L[0]:k="Multi"+k;var W={type:"Feature",geometry:{type:k,coordinates:L},properties:this.properties};return"id"in this&&(W.id=this.id),W};var d1=U_,Wf=ar;function ar(r,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(kh,this,e),this.length=this._features.length}function kh(r,e,o){15===r?e.version=o.readVarint():1===r?e.name=o.readString():5===r?e.extent=o.readVarint():2===r?e._features.push(o.pos):3===r?e._keys.push(o.readString()):4===r&&e._values.push(function(d){for(var m=null,v=d.readVarint()+d.pos;d.pos<v;){var w=d.readVarint()>>3;m=1===w?d.readString():2===w?d.readFloat():3===w?d.readDouble():4===w?d.readVarint64():5===w?d.readVarint():6===w?d.readSVarint():7===w?d.readBoolean():null}return m}(o))}ar.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var e=this._pbf.readVarint()+this._pbf.pos;return new d1(this._pbf,e,this.extent,this._keys,this._values)};var cm=Wf;function cy(r,e,o){if(3===r){var d=new cm(o,o.readVarint()+o.pos);d.length&&(e[d.name]=d)}}var Zf=Gf.VectorTile=function(r,e){this.layers=r.readFields(cy,{},e)},qf=Gf.VectorTileFeature=U_;function Kf(r,e,o,d){const m=[],v=0===d?(w,E,L,k,j,H)=>{w.push(new qe(H,L+(H-E)/(k-E)*(j-L)))}:(w,E,L,k,j,H)=>{w.push(new qe(E+(H-L)/(j-L)*(k-E),H))};for(const w of r){const E=[];for(const L of w){if(L.length<=2)continue;const k=[];for(let W=0;W<L.length-1;W++){const Q=L[W].x,te=L[W].y,le=L[W+1].x,ge=L[W+1].y,Te=0===d?Q:te,Oe=0===d?le:ge;Te<e?Oe>e&&v(k,Q,te,le,ge,e):Te>o?Oe<o&&v(k,Q,te,le,ge,o):k.push(L[W]),Oe<e&&Te>=e&&v(k,Q,te,le,ge,e),Oe>o&&Te<=o&&v(k,Q,te,le,ge,o)}let j=L[L.length-1];const H=0===d?j.x:j.y;H>=e&&H<=o&&k.push(j),k.length&&(j=k[k.length-1],k[0].x===j.x&&k[0].y===j.y||k.push(k[0]),E.push(k))}E.length&&m.push(E)}return m}Gf.VectorTileLayer=Wf;const uy=qf.types,Kv=Math.pow(2,13);function Rd(r,e,o,d,m,v,w,E){r.emplaceBack((e<<1)+w,(o<<1)+v,(Math.floor(d*Kv)<<1)+m,Math.round(E))}function V_(r,e,o){r.emplaceBack(e.x,e.y,e.z,16384*o[0],16384*o[1],16384*o[2])}class um{constructor(){this.acc=new qe(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new qe(e.x,e.y),this.max=new qe(e.x,e.y))}append(e,o){this.currentPolyCount.edges++,this.acc._add(e);const d=this.min,m=this.max;e.x<d.x?d.x=e.x:e.x>m.x&&(m.x=e.x),e.y<d.y?d.y=e.y:e.y>m.y&&(m.y=e.y),((0===e.x||e.x===Cn)&&e.x===o.x)!=((0===e.y||e.y===Cn)&&e.y===o.y)&&this.processBorderOverlap(e,o),o.x<0!=e.x<0&&this.addBorderIntersection(0,Bi(o.y,e.y,(0-o.x)/(e.x-o.x))),o.x>Cn!=e.x>Cn&&this.addBorderIntersection(1,Bi(o.y,e.y,(Cn-o.x)/(e.x-o.x))),o.y<0!=e.y<0&&this.addBorderIntersection(2,Bi(o.x,e.x,(0-o.y)/(e.y-o.y))),o.y>Cn!=e.y>Cn&&this.addBorderIntersection(3,Bi(o.x,e.x,(Cn-o.y)/(e.y-o.y)))}addBorderIntersection(e,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[e];o<d[0]&&(d[0]=o),o>d[1]&&(d[1]=o)}processBorderOverlap(e,o){if(e.x===o.x){if(e.y===o.y)return;const d=0===e.x?0:1;this.addBorderIntersection(d,o.y),this.addBorderIntersection(d,e.y)}else{const d=0===e.y?2:3;this.addBorderIntersection(d,o.x),this.addBorderIntersection(d,e.x)}}centroid(){const e=this.polyCount.reduce((o,d)=>o+d.edges,0);return 0!==e?this.acc.div(e)._round():new qe(0,0)}span(){return new qe(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,o)=>e+ +(o[0]!==Number.MAX_VALUE),0)}}class dm{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(o=>o.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Mt,this.centroidVertexArray=new xl,this.indexArray=new mn,this.programConfigurations=new Yc(e.layers,e.zoom),this.segments=new rs,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.enableTerrain=e.enableTerrain}populate(e,o,d,m){this.features=[],this.hasPattern=Pd("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(v){const w=Math.exp(Math.PI*(1-v.y/(1<<v.z)*2));return 80150034*w/(w*w+1)/Cn/(1<<v.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:v,id:w,index:E,sourceLayerIndex:L}of e){const k=this.layers[0]._featureFilter.needGeometry,j=Cd(v,k);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),j,d))continue;const H={id:w,sourceLayerIndex:L,index:E,geometry:k?j.geometry:cc(v,d,m),properties:v.properties,type:v.type,patterns:{}},W=this.layoutVertexArray.length;this.hasPattern?this.features.push(Ah("fill-extrusion",this.layers,H,this.zoom,o)):this.addFeature(H,H.geometry,E,d,{},o.availableImages,m),o.featureIndex.insert(v,H.geometry,E,L,this.index,W)}this.sortBorders()}addFeatures(e,o,d,m,v){for(const w of this.features){const{geometry:E}=w;this.addFeature(w,E,w.index,o,d,m,v)}this.sortBorders()}update(e,o,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,o,this.stateDependentLayers,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,lm),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Y_.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,zb.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,o,d,m,v,w,E){const L=[new qe(0,0),new qe(Cn,Cn)],k=E.projection,j="globe"===k.name,H=this.enableTerrain&&!j?new um:null,W="Polygon"===uy[e.type];j&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new $t);const Q=Gs(o,500);for(let Te=Q.length-1;Te>=0;Te--){const Oe=Q[Te];(0===Oe.length||(te=Oe[0]).every(Ee=>Ee.x<=0)||te.every(Ee=>Ee.x>=Cn)||te.every(Ee=>Ee.y<=0)||te.every(Ee=>Ee.y>=Cn))&&Q.splice(Te,1)}var te;let le;if(j)le=fy(Q,L,m);else{le=[];for(const Te of Q)le.push({polygon:Te,bounds:L})}const ge=W?this.edgeRadius:0;for(const{polygon:Te,bounds:Oe}of le){let Ee=0,Pe=0;for(const je of Te)W&&!je[0].equals(je[je.length-1])&&je.push(je[0]),Pe+=W?je.length-1:je.length;const ze=this.segments.prepareSegment((W?5:4)*Pe,this.layoutVertexArray,this.indexArray);if(W){const je=[],ot=[];Ee=ze.vertexLength;for(const xt of Te){let Gt,ft;xt.length&&xt!==Te[0]&&ot.push(je.length/2),Gt=xt[1].sub(xt[0])._perp()._unit();for(let kt=1;kt<xt.length;kt++){const It=xt[kt],jt=xt[kt===xt.length-1?1:kt+1];let{x:Ht,y:yt}=It;if(ge){ft=jt.sub(It)._perp()._unit();const tn=Gt.add(ft)._unit(),gn=ge*Math.min(4,1/(Gt.x*tn.x+Gt.y*tn.y));Ht+=gn*tn.x,yt+=gn*tn.y,Gt=ft}Rd(this.layoutVertexArray,Ht,yt,0,0,1,1,0),ze.vertexLength++,je.push(It.x,It.y),j&&V_(this.layoutVertexExtArray,k.projectTilePoint(Ht,yt,m),k.upVector(m,Ht,yt))}}const st=j_(je,ot);for(let xt=0;xt<st.length;xt+=3)this.indexArray.emplaceBack(Ee+st[xt],Ee+st[xt+2],Ee+st[xt+1]),ze.primitiveLength++}for(const je of Te){H&&je.length&&H.startRing(je[0]);let ot,st,xt,Gt=je.length>4&&hy(je[je.length-2],je[0],je[1]),ft=ge?dy(je[je.length-2],je[0],je[1],ge):0;st=je[1].sub(je[0])._perp()._unit();let kt=!0;for(let It=1,jt=0;It<je.length;It++){let Ht=je[It-1],yt=je[It];const tn=je[It===je.length-1?1:It+1];if(H&&W&&H.currentPolyCount.top++,hc(yt,Ht,Oe)){ge&&(st=tn.sub(yt)._perp()._unit(),kt=!kt);continue}H&&H.append(yt,Ht);const gn=yt.sub(Ht)._perp(),un=gn.x/(Math.abs(gn.x)+Math.abs(gn.y)),Vn=gn.y>0?1:0,Qt=Ht.dist(yt);if(jt+Qt>32768&&(jt=0),ge){xt=tn.sub(yt)._perp()._unit();let si=H_(Ht,yt,tn,Xf(st,xt),ge);isNaN(si)&&(si=0);const Rn=yt.sub(Ht)._unit();Ht=Ht.add(Rn.mult(ft))._round(),yt=yt.add(Rn.mult(-si))._round(),ft=si,st=xt}const Ln=ze.vertexLength,ci=je.length>4&&hy(Ht,yt,tn);let Ci=hm(jt,Gt,kt);if(Rd(this.layoutVertexArray,Ht.x,Ht.y,un,Vn,0,0,Ci),Rd(this.layoutVertexArray,Ht.x,Ht.y,un,Vn,0,1,Ci),jt+=Qt,Ci=hm(jt,ci,!kt),Gt=ci,Rd(this.layoutVertexArray,yt.x,yt.y,un,Vn,0,0,Ci),Rd(this.layoutVertexArray,yt.x,yt.y,un,Vn,0,1,Ci),ze.vertexLength+=4,this.indexArray.emplaceBack(Ln+0,Ln+1,Ln+2),this.indexArray.emplaceBack(Ln+1,Ln+3,Ln+2),ze.primitiveLength+=2,ge){const si=Ee+(1===It?je.length-2:It-2),Rn=1===It?Ee:si+1;if(this.indexArray.emplaceBack(Ln+1,si,Ln+3),this.indexArray.emplaceBack(si,Rn,Ln+3),ze.primitiveLength+=2,void 0===ot&&(ot=Ln),!hc(tn,je[It],Oe)){const qi=It===je.length-1?ot:ze.vertexLength;this.indexArray.emplaceBack(Ln+2,Ln+3,qi),this.indexArray.emplaceBack(Ln+3,qi+1,qi),this.indexArray.emplaceBack(Ln+3,Rn,qi+1),ze.primitiveLength+=3}kt=!kt}if(j){const si=this.layoutVertexExtArray,Rn=k.projectTilePoint(Ht.x,Ht.y,m),qi=k.projectTilePoint(yt.x,yt.y,m),Hn=k.upVector(m,Ht.x,Ht.y),ui=k.upVector(m,yt.x,yt.y);V_(si,Rn,Hn),V_(si,Rn,Hn),V_(si,qi,ui),V_(si,qi,ui)}}W&&(Ee+=je.length-1)}}if(H&&H.polyCount.length>0){if(H.borders){H.vertexArrayOffset=this.centroidVertexArray.length;const Te=H.borders,Oe=this.featuresOnBorder.push(H)-1;for(let Ee=0;Ee<4;Ee++)Te[Ee][0]!==Number.MAX_VALUE&&this.borders[Ee].push(Oe)}this.encodeCentroid(H.borders?void 0:H.centroid(),H)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,v,w,m)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((o,d)=>this.featuresOnBorder[o].borders[e][0]-this.featuresOnBorder[d].borders[e][0])}encodeCentroid(e,o,d=!0){let m,v;if(e)if(0!==e.y){const E=o.span()._mult(this.tileToMeter);m=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(E.x/10)),v=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(E.y/10))}else m=Math.ceil(7*(e.x+450)),v=0;else m=0,v=+d;let w=d?this.centroidVertexArray.length:o.vertexArrayOffset;for(const E of o.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*E.edges+E.top);for(let L=0;L<E.top;L++)this.centroidVertexArray.emplace(w++,m,v);for(let L=0;L<2*E.edges;L++)this.centroidVertexArray.emplace(w++,0,v),this.centroidVertexArray.emplace(w++,m,v)}}}function Xf(r,e){const o=r.add(e)._unit();return r.x*o.x+r.y*o.y}function dy(r,e,o,d){const m=e.sub(r)._perp()._unit(),v=o.sub(e)._perp()._unit();return H_(r,e,o,Xf(m,v),d)}function H_(r,e,o,d,m){const v=Math.sqrt(1-d*d);return Math.min(r.dist(e)/3,e.dist(o)/3,m*v/d)}function hc(r,e,o){return r.x<o[0].x&&e.x<o[0].x||r.x>o[1].x&&e.x>o[1].x||r.y<o[0].y&&e.y<o[0].y||r.y>o[1].y&&e.y>o[1].y}function hy(r,e,o){if(r.x<0||r.x>=Cn||e.x<0||e.x>=Cn||o.x<0||o.x>=Cn)return!1;const d=o.sub(e),m=d.perp(),v=r.sub(e);return(d.x*v.x+d.y*v.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(v.x*v.x+v.y*v.y))>-.866&&m.x*v.x+m.y*v.y<0}function hm(r,e,o){const d=e?2|r:-3&r;return o?1|d:-2&d}function Jf(){const r=Math.PI/32,e=Math.tan(r),o=$o;return o*Math.sqrt(1+2*e*e)-o}function fy(r,e,o){const d=1<<o.z,m=Go(o.x/d),v=Go((o.x+1)/d),w=Fs(o.y/d),E=Fs((o.y+1)/d);return function(L,k,j,H,W=0,Q){const te=[];if(!L.length||!j||!H)return te;const le=(je,ot)=>{for(const st of je)te.push({polygon:st,bounds:ot})},ge=Math.ceil(Math.log2(j)),Te=Math.ceil(Math.log2(H)),Oe=ge-Te,Ee=[];for(let je=0;je<Math.abs(Oe);je++)Ee.push(Oe>0?0:1);for(let je=0;je<Math.min(ge,Te);je++)Ee.push(0),Ee.push(1);let Pe=L;if(Pe=Kf(Pe,k[0].y-W,k[1].y+W,1),Pe=Kf(Pe,k[0].x-W,k[1].x+W,0),!Pe.length)return te;const ze=[];for(Ee.length?ze.push({polygons:Pe,bounds:k,depth:0}):le(Pe,k);ze.length;){const je=ze.pop(),ot=je.depth,st=Ee[ot],xt=je.bounds[0],Gt=je.bounds[1],ft=0===st?xt.x:xt.y,kt=0===st?Gt.x:Gt.y,It=Q?Q(st,ft,kt):.5*(ft+kt),jt=Kf(je.polygons,ft-W,It+W,st),Ht=Kf(je.polygons,It-W,kt+W,st);if(jt.length){const yt=[xt,new qe(0===st?It:Gt.x,1===st?It:Gt.y)];Ee.length>ot+1?ze.push({polygons:jt,bounds:yt,depth:ot+1}):le(jt,yt)}if(Ht.length){const yt=[new qe(0===st?It:xt.x,1===st?It:xt.y),Gt];Ee.length>ot+1?ze.push({polygons:Ht,bounds:yt,depth:ot+1}):le(Ht,yt)}}return te}(r,e,Math.ceil((v-m)/11.25),Math.ceil((w-E)/11.25),1,(L,k,j)=>{if(0===L)return.5*(k+j);{const H=Fs((o.y+k/Cn)/d);return(nl(.5*(Fs((o.y+j/Cn)/d)+H))*d-o.y)*Cn}})}xn(dm,"FillExtrusionBucket",{omit:["layers","features"]}),xn(um,"PartMetadata");const $_=new Le({"fill-extrusion-edge-radius":new oe(vt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Qf={paint:new Le({"fill-extrusion-opacity":new oe(vt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ye(vt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new oe(vt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new oe(vt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ye(vt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ye(vt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ye(vt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new oe(vt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new oe(vt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new oe(vt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new oe(vt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:$_};function kl(r,e,o){var d=2*Math.PI*6378137/256/Math.pow(2,o);return[r*d-2*Math.PI*6378137/2,e*d-2*Math.PI*6378137/2]}class Ph{constructor(e,o,d){this.z=e,this.x=o,this.y=d,this.key=fm(0,e,e,o,d)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,o){const d=(w=this.y,E=this.z,L=kl(256*(v=this.x),256*(w=Math.pow(2,E)-w-1),E),k=kl(256*(v+1),256*(w+1),E),L[0]+","+L[1]+","+k[0]+","+k[1]),m=function(v,w,E){let L,k="";for(let j=v;j>0;j--)L=1<<j-1,k+=(w&L?1:0)+(E&L?2:0);return k}(this.z,this.x,this.y);var v,w,E,L,k;return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===o?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",m).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class G_{constructor(e,o){this.wrap=e,this.canonical=o,this.key=fm(e,o.z,o.z,o.x,o.y)}}class Zo{constructor(e,o,d,m,v){this.overscaledZ=e,this.wrap=o,this.canonical=new Ph(d,+m,+v),this.key=0===o&&e===d?this.canonical.key:fm(o,e,d,m,v)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const o=this.canonical.z-e;return e>this.canonical.z?new Zo(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Zo(e,this.wrap,e,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(e,o=!0){if(this.overscaledZ===e&&o)return this.key;if(e>this.canonical.z)return fm(this.wrap*+o,e,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-e;return fm(this.wrap*+o,e,e,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const o=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>o&&e.canonical.y===this.canonical.y>>o}children(e){if(this.overscaledZ>=e)return[new Zo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new Zo(o,this.wrap,o,d,m),new Zo(o,this.wrap,o,d+1,m),new Zo(o,this.wrap,o,d,m+1),new Zo(o,this.wrap,o,d+1,m+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Zo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Zo(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new G_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function fm(r,e,o,d,m){const v=1<<Math.min(o,22);let w=v*(m%v)+d%v;return r&&o<22&&(w+=v*v*((r<0?-2*r-1:2*r)%(1<<2*(22-o)))),16*(32*w+o)+(e-o)}xn(Ph,"CanonicalTileID"),xn(Zo,"OverscaledTileID",{omit:["projMatrix"]});class Oh extends qe{constructor(e,o,d){super(e,o),this.z=d}}function Zc(r,e){return r.x*e.x+r.y*e.y}function yn(r,e){if(1===r.length){let o=0;const d=e[o++];let m;for(;!m||d.equals(m);)if(m=e[o++],!m)return 1/0;for(;o<e.length;o++){const v=e[o],w=r[0],E=m.sub(d),L=v.sub(d),k=w.sub(d),j=Zc(E,E),H=Zc(E,L),W=Zc(L,L),Q=Zc(k,E),te=Zc(k,L),le=j*W-H*H,ge=(W*Q-H*te)/le,Te=(j*te-H*Q)/le,Oe=d.z*(1-ge-Te)+m.z*ge+v.z*Te;if(isFinite(Oe))return Oe}return 1/0}{let o=1/0;for(const d of e)o=Math.min(o,d.z);return o}}function pm(r,e,o,d,m,v,w,E){const L=w*m.getElevationAt(r,e,!0,!0),k=0!==v[0],j=k?0===v[1]?w*(v[0]/7-450):w*function(H,W,Q){const te=Math.floor(W[0]/8),le=Math.floor(W[1]/8),ge=10*(W[0]-8*te),Te=10*(W[1]-8*le),Oe=H.getElevationAt(te,le,!0,!0),Ee=H.getMeterToDEM(Q),Pe=Math.floor(.5*(ge*Ee-1)),ze=Math.floor(.5*(Te*Ee-1)),je=H.tileCoordToPixel(te,le),ot=2*Pe+1,st=2*ze+1,xt=(gn=ot,un=st,[(Ht=H).getElevationAtPixel(yt=je.x-Pe,tn=je.y-ze,!0),Ht.getElevationAtPixel(yt+un,tn,!0),Ht.getElevationAtPixel(yt,tn+un,!0),Ht.getElevationAtPixel(yt+gn,tn+un,!0)]),Gt=Math.abs(xt[0]-xt[1]),ft=Math.abs(xt[2]-xt[3]),kt=Math.abs(xt[0]-xt[2])+Math.abs(xt[1]-xt[3]),It=Math.min(.25,.5*Ee*(Gt+ft)/ot),jt=Math.min(.25,.5*Ee*kt/st);var Ht,yt,tn,gn,un;return Oe+Math.max(It*ge,jt*Te)}(m,v,E):L;return{base:L+(0===o)?-1:o,top:k?Math.max(j+d,L+o+2):L+d}}const py=Ze([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:W_}=py,my=Ze([{name:"a_packed",components:4,type:"Float32"}]),{members:Yb}=my,ep=qf.types,mm=Math.cos(Math.PI/180*37.5);class Rh{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(o=>o.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new ut,this.layoutVertexArray2=new Lt,this.indexArray=new mn,this.programConfigurations=new Yc(e.layers,e.zoom),this.segments=new rs,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(e,o,d,m){this.hasPattern=Pd("line",this.layers,o);const v=this.layers[0].layout.get("line-sort-key"),w=[];for(const{feature:j,id:H,index:W,sourceLayerIndex:Q}of e){const te=this.layers[0]._featureFilter.needGeometry,le=Cd(j,te);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),le,d))continue;const ge=v?v.evaluate(le,{},d):void 0,Te={id:H,properties:j.properties,type:j.type,sourceLayerIndex:Q,index:W,geometry:te?le.geometry:cc(j,d,m),patterns:{},sortKey:ge};w.push(Te)}v&&w.sort((j,H)=>j.sortKey-H.sortKey);const{lineAtlas:E,featureIndex:L}=o,k=this.addConstantDashes(E);for(const j of w){const{geometry:H,index:W,sourceLayerIndex:Q}=j;if(k&&this.addFeatureDashes(j,E),this.hasPattern){const te=Ah("line",this.layers,j,this.zoom,o);this.patternFeatures.push(te)}else this.addFeature(j,H,W,d,E.positions,o.availableImages);L.insert(e[W].feature,H,W,Q,this.index)}}addConstantDashes(e){let o=!1;for(const d of this.layers){const m=d.paint.get("line-dasharray").value,v=d.layout.get("line-cap").value;if("constant"!==m.kind||"constant"!==v.kind)o=!0;else{const w=v.value,E=m.value;if(!E)continue;e.addDash(E,w)}}return o}addFeatureDashes(e,o){const d=this.zoom;for(const m of this.layers){const v=m.paint.get("line-dasharray").value,w=m.layout.get("line-cap").value;if("constant"===v.kind&&"constant"===w.kind)continue;let E,L;if("constant"===v.kind){if(E=v.value,!E)continue}else E=v.evaluate({zoom:d},e);L="constant"===w.kind?w.value:w.evaluate({zoom:d},e),o.addDash(E,L),e.patterns[m.id]=o.getKey(E,L)}}update(e,o,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,o,this.stateDependentLayers,d,m)}addFeatures(e,o,d,m,v){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,o,d,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Yb)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,W_),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,o,d,m,v,w){const E=this.layers[0].layout,L=E.get("line-join").evaluate(e,{}),k=E.get("line-cap").evaluate(e,{}),j=E.get("line-miter-limit"),H=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const W of o)this.addLine(W,e,L,k,j,H);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,v,w,m)}addLine(e,o,d,m,v,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Te=0;Te<e.length-1;Te++)this.totalDistance+=e[Te].dist(e[Te+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const E="Polygon"===ep[o.type];let L=e.length;for(;L>=2&&e[L-1].equals(e[L-2]);)L--;let k=0;for(;k<L-1&&e[k].equals(e[k+1]);)k++;if(L<(E?3:2))return;"bevel"===d&&(v=1.05);const j=this.overscaling<=16?15*Cn/(512*this.overscaling):0,H=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray);let W,Q,te,le,ge;this.e1=this.e2=-1,E&&(W=e[L-2],ge=e[k].sub(W)._unit()._perp());for(let Te=k;Te<L;Te++){if(te=Te===L-1?E?e[k+1]:void 0:e[Te+1],te&&e[Te].equals(te))continue;ge&&(le=ge),W&&(Q=W),W=e[Te],ge=te?te.sub(W)._unit()._perp():le,le=le||ge;let Oe=le.add(ge);0===Oe.x&&0===Oe.y||Oe._unit();const Ee=le.x*ge.x+le.y*ge.y,Pe=Oe.x*ge.x+Oe.y*ge.y,ze=0!==Pe?1/Pe:1/0,je=2*Math.sqrt(2-2*Pe),ot=Pe<mm&&Q&&te,st=le.x*ge.y-le.y*ge.x>0;if(ot&&Te>k){const ft=W.dist(Q);if(ft>2*j){const kt=W.sub(W.sub(Q)._mult(j/ft)._round());this.updateDistance(Q,kt),this.addCurrentVertex(kt,le,0,0,H),Q=kt}}const xt=Q&&te;let Gt=xt?d:E?"butt":m;if(xt&&"round"===Gt&&(ze<w?Gt="miter":ze<=2&&(Gt="fakeround")),"miter"===Gt&&ze>v&&(Gt="bevel"),"bevel"===Gt&&(ze>2&&(Gt="flipbevel"),ze<v&&(Gt="miter")),Q&&this.updateDistance(Q,W),"miter"===Gt)Oe._mult(ze),this.addCurrentVertex(W,Oe,0,0,H);else if("flipbevel"===Gt){if(ze>100)Oe=ge.mult(-1);else{const ft=ze*le.add(ge).mag()/le.sub(ge).mag();Oe._perp()._mult(ft*(st?-1:1))}this.addCurrentVertex(W,Oe,0,0,H),this.addCurrentVertex(W,Oe.mult(-1),0,0,H)}else if("bevel"===Gt||"fakeround"===Gt){const ft=-Math.sqrt(ze*ze-1),kt=st?ft:0,It=st?0:ft;if(Q&&this.addCurrentVertex(W,le,kt,It,H),"fakeround"===Gt){const jt=Math.round(180*je/Math.PI/20);for(let Ht=1;Ht<jt;Ht++){let yt=Ht/jt;if(.5!==yt){const gn=yt-.5;yt+=yt*gn*(yt-1)*((1.0904+Ee*(Ee*(3.55645-1.43519*Ee)-3.2452))*gn*gn+(.848013+Ee*(.215638*Ee-1.06021)))}const tn=ge.sub(le)._mult(yt)._add(le)._unit()._mult(st?-1:1);this.addHalfVertex(W,tn.x,tn.y,!1,st,0,H)}}te&&this.addCurrentVertex(W,ge,-kt,-It,H)}else if("butt"===Gt)this.addCurrentVertex(W,Oe,0,0,H);else if("square"===Gt){const ft=Q?1:-1;Q||this.addCurrentVertex(W,Oe,ft,ft,H),this.addCurrentVertex(W,Oe,0,0,H),Q&&this.addCurrentVertex(W,Oe,ft,ft,H)}else"round"===Gt&&(Q&&(this.addCurrentVertex(W,le,0,0,H),this.addCurrentVertex(W,le,1,1,H,!0)),te&&(this.addCurrentVertex(W,ge,-1,-1,H,!0),this.addCurrentVertex(W,ge,0,0,H)));if(ot&&Te<L-1){const ft=W.dist(te);if(ft>2*j){const kt=W.add(te.sub(W)._mult(j/ft)._round());this.updateDistance(W,kt),this.addCurrentVertex(kt,ge,0,0,H),W=kt}}}}addCurrentVertex(e,o,d,m,v,w=!1){const E=o.y*m-o.x,L=-o.y-o.x*m;this.addHalfVertex(e,o.x+o.y*d,o.y-o.x*d,w,!1,d,v),this.addHalfVertex(e,E,L,w,!0,-m,v)}addHalfVertex({x:e,y:o},d,m,v,w,E,L){this.layoutVertexArray.emplaceBack((e<<1)+(v?1:0),(o<<1)+(w?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(0===E?0:E<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const k=L.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,k),L.primitiveLength++),w?this.e2=k:this.e1=k}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,o){this.distance+=e.dist(o),this.updateScaledDistance()}}xn(Rh,"LineBucket",{omit:["layers","patternFeatures"]});const _m=new Le({"line-cap":new ye(vt.layout_line["line-cap"]),"line-join":new ye(vt.layout_line["line-join"]),"line-miter-limit":new oe(vt.layout_line["line-miter-limit"]),"line-round-limit":new oe(vt.layout_line["line-round-limit"]),"line-sort-key":new ye(vt.layout_line["line-sort-key"])});var Na={paint:new Le({"line-opacity":new ye(vt.paint_line["line-opacity"]),"line-color":new ye(vt.paint_line["line-color"]),"line-translate":new oe(vt.paint_line["line-translate"]),"line-translate-anchor":new oe(vt.paint_line["line-translate-anchor"]),"line-width":new ye(vt.paint_line["line-width"]),"line-gap-width":new ye(vt.paint_line["line-gap-width"]),"line-offset":new ye(vt.paint_line["line-offset"]),"line-blur":new ye(vt.paint_line["line-blur"]),"line-dasharray":new ye(vt.paint_line["line-dasharray"]),"line-pattern":new ye(vt.paint_line["line-pattern"]),"line-gradient":new Ce(vt.paint_line["line-gradient"]),"line-trim-offset":new oe(vt.paint_line["line-trim-offset"])}),layout:_m};const Xv=new class extends ye{possiblyEvaluate(r,e){return e=new V(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(r,e)}evaluate(r,e,o,d){return e=dt({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(r,e,o,d)}}(Na.paint.properties["line-width"].specification);function Jv(r,e){return e>0?e+2*r:r}Xv.useIntegerZoom=!0;const Ub=Ze([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),gm=Ze([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Qv=Ze([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ze([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const ym=Ze([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Fh=Ze([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ze([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const pa=Ze([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_y=Ze([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ze([{name:"triangle",components:3,type:"Uint16"}]),Ze([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ze([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ze([{type:"Float32",name:"offsetX"}]),Ze([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Ts=24;const qo=128;function Fd(r,e){const{expression:o}=e;if("constant"===o.kind)return{kind:"constant",layoutSize:o.evaluate(new V(r+1))};if("source"===o.kind)return{kind:"source"};{const{zoomStops:d,interpolationType:m}=o;let v=0;for(;v<d.length&&d[v]<=r;)v++;v=Math.max(0,v-1);let w=v;for(;w<d.length&&d[w]<r+1;)w++;w=Math.min(d.length-1,w);const E=d[v],L=d[w];return"composite"===o.kind?{kind:"composite",minZoom:E,maxZoom:L,interpolationType:m}:{kind:"camera",minZoom:E,maxZoom:L,minSize:o.evaluate(new V(E)),maxSize:o.evaluate(new V(L)),interpolationType:m}}}function fc(r,{uSize:e,uSizeT:o},{lowerSize:d,upperSize:m}){return"source"===r.kind?d/qo:"composite"===r.kind?Bi(d/qo,m/qo,o):e}function qc(r,e){let o=0,d=0;if("constant"===r.kind)d=r.layoutSize;else if("source"!==r.kind){const{interpolationType:m,minZoom:v,maxZoom:w}=r,E=m?ei(Ps.interpolationFactor(m,e,v,w),0,1):0;"camera"===r.kind?d=Bi(r.minSize,r.maxSize,E):o=E}return{uSizeT:o,uSize:d}}var Z_=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:qo,evaluateSizeForFeature:fc,evaluateSizeForZoom:qc,getSizeData:Fd});function Gu(r,e,o){return r.sections.forEach(d=>{d.text=function(m,v,w){const E=v.layout.get("text-transform").evaluate(w,{});return"uppercase"===E?m=m.toLocaleUpperCase():"lowercase"===E&&(m=m.toLocaleLowerCase()),N.applyArabicShaping&&(m=N.applyArabicShaping(m)),m}(d.text,e,o)}),r}const Kc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42","\u2190":"\u2191","\u2192":"\u2193"};function tp(r){return"\ufe36"===r||"\ufe48"===r||"\ufe38"===r||"\ufe44"===r||"\ufe42"===r||"\ufe3e"===r||"\ufe3c"===r||"\ufe3a"===r||"\ufe18"===r||"\ufe40"===r||"\ufe10"===r||"\ufe13"===r||"\ufe14"===r||"\uff40"===r||"\uffe3"===r||"\ufe11"===r||"\ufe12"===r}function Nd(r){return"\ufe35"===r||"\ufe47"===r||"\ufe37"===r||"\ufe43"===r||"\ufe41"===r||"\ufe3d"===r||"\ufe3b"===r||"\ufe39"===r||"\ufe17"===r||"\ufe3f"===r}var Bd=Xi,vm=function(r,e,o,d,m){var v,w,E=8*m-d-1,L=(1<<E)-1,k=L>>1,j=-7,H=o?m-1:0,W=o?-1:1,Q=r[e+H];for(H+=W,v=Q&(1<<-j)-1,Q>>=-j,j+=E;j>0;v=256*v+r[e+H],H+=W,j-=8);for(w=v&(1<<-j)-1,v>>=-j,j+=d;j>0;w=256*w+r[e+H],H+=W,j-=8);if(0===v)v=1-k;else{if(v===L)return w?NaN:1/0*(Q?-1:1);w+=Math.pow(2,d),v-=k}return(Q?-1:1)*w*Math.pow(2,v-d)},bm=function(r,e,o,d,m,v){var w,E,L,k=8*v-m-1,j=(1<<k)-1,H=j>>1,W=23===m?Math.pow(2,-24)-Math.pow(2,-77):0,Q=d?0:v-1,te=d?1:-1,le=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(E=isNaN(e)?1:0,w=j):(w=Math.floor(Math.log(e)/Math.LN2),e*(L=Math.pow(2,-w))<1&&(w--,L*=2),(e+=w+H>=1?W/L:W*Math.pow(2,1-H))*L>=2&&(w++,L/=2),w+H>=j?(E=0,w=j):w+H>=1?(E=(e*L-1)*Math.pow(2,m),w+=H):(E=e*Math.pow(2,H-1)*Math.pow(2,m),w=0));m>=8;r[o+Q]=255&E,Q+=te,E/=256,m-=8);for(w=w<<m|E,k+=m;k>0;r[o+Q]=255&w,Q+=te,w/=256,k-=8);r[o+Q-te]|=128*le};function Xi(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}Xi.Varint=0,Xi.Fixed64=1,Xi.Bytes=2,Xi.Fixed32=5;var xm=4294967296,q_=1/xm,e0=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function pc(r){return r.type===Xi.Bytes?r.readVarint()+r.pos:r.pos+1}function K_(r,e,o){var d=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));o.realloc(d);for(var m=o.pos-1;m>=r;m--)o.buf[m+d]=o.buf[m]}function X_(r,e){for(var o=0;o<r.length;o++)e.writeVarint(r[o])}function Mm(r,e){for(var o=0;o<r.length;o++)e.writeSVarint(r[o])}function t0(r,e){for(var o=0;o<r.length;o++)e.writeFloat(r[o])}function gy(r,e){for(var o=0;o<r.length;o++)e.writeDouble(r[o])}function Dm(r,e){for(var o=0;o<r.length;o++)e.writeBoolean(r[o])}function Wu(r,e){for(var o=0;o<r.length;o++)e.writeFixed32(r[o])}function yy(r,e){for(var o=0;o<r.length;o++)e.writeSFixed32(r[o])}function vy(r,e){for(var o=0;o<r.length;o++)e.writeFixed64(r[o])}function by(r,e){for(var o=0;o<r.length;o++)e.writeSFixed64(r[o])}function Em(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16)+16777216*r[e+3]}function Tm(r,e,o){r[o]=e,r[o+1]=e>>>8,r[o+2]=e>>>16,r[o+3]=e>>>24}function n0(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16)+(r[e+3]<<24)}Xi.prototype={destroy:function(){this.buf=null},readFields:function(r,e,o){for(o=o||this.length;this.pos<o;){var d=this.readVarint(),m=d>>3,v=this.pos;this.type=7&d,r(m,e,this),this.pos===v&&this.skip(d)}return e},readMessage:function(r,e){return this.readFields(r,e,this.readVarint()+this.pos)},readFixed32:function(){var r=Em(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=n0(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=Em(this.buf,this.pos)+Em(this.buf,this.pos+4)*xm;return this.pos+=8,r},readSFixed64:function(){var r=Em(this.buf,this.pos)+n0(this.buf,this.pos+4)*xm;return this.pos+=8,r},readFloat:function(){var r=vm(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=vm(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var e,o,d=this.buf;return e=127&(o=d[this.pos++]),o<128?e:(e|=(127&(o=d[this.pos++]))<<7,o<128?e:(e|=(127&(o=d[this.pos++]))<<14,o<128?e:(e|=(127&(o=d[this.pos++]))<<21,o<128?e:function(m,v,w){var E,L,k=w.buf;if(E=(112&(L=k[w.pos++]))>>4,L<128||(E|=(127&(L=k[w.pos++]))<<3,L<128)||(E|=(127&(L=k[w.pos++]))<<10,L<128)||(E|=(127&(L=k[w.pos++]))<<17,L<128)||(E|=(127&(L=k[w.pos++]))<<24,L<128)||(E|=(1&(L=k[w.pos++]))<<31,L<128))return function wm(r,e,o){return o?4294967296*e+(r>>>0):4294967296*(e>>>0)+(r>>>0)}(m,E,v);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(o=d[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var r=this.readVarint()+this.pos,e=this.pos;return this.pos=r,r-e>=12&&e0?e0.decode(this.buf.subarray(e,r)):function(o,d,m){for(var v="",w=d;w<m;){var E,L,k,j=o[w],H=null,W=j>239?4:j>223?3:j>191?2:1;if(w+W>m)break;1===W?j<128&&(H=j):2===W?128==(192&(E=o[w+1]))&&(H=(31&j)<<6|63&E)<=127&&(H=null):3===W?(L=o[w+2],128==(192&(E=o[w+1]))&&128==(192&L)&&((H=(15&j)<<12|(63&E)<<6|63&L)<=2047||H>=55296&&H<=57343)&&(H=null)):4===W&&(L=o[w+2],k=o[w+3],128==(192&(E=o[w+1]))&&128==(192&L)&&128==(192&k)&&((H=(15&j)<<18|(63&E)<<12|(63&L)<<6|63&k)<=65535||H>=1114112)&&(H=null)),null===H?(H=65533,W=1):H>65535&&(H-=65536,v+=String.fromCharCode(H>>>10&1023|55296),H=56320|1023&H),v+=String.fromCharCode(H),w+=W}return v}(this.buf,e,r)},readBytes:function(){var r=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,r);return this.pos=r,e},readPackedVarint:function(r,e){if(this.type!==Xi.Bytes)return r.push(this.readVarint(e));var o=pc(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(e));return r},readPackedSVarint:function(r){if(this.type!==Xi.Bytes)return r.push(this.readSVarint());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==Xi.Bytes)return r.push(this.readBoolean());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==Xi.Bytes)return r.push(this.readFloat());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==Xi.Bytes)return r.push(this.readDouble());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==Xi.Bytes)return r.push(this.readFixed32());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==Xi.Bytes)return r.push(this.readSFixed32());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==Xi.Bytes)return r.push(this.readFixed64());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==Xi.Bytes)return r.push(this.readSFixed64());var e=pc(this);for(r=r||[];this.pos<e;)r.push(this.readSFixed64());return r},skip:function(r){var e=7&r;if(e===Xi.Varint)for(;this.buf[this.pos++]>127;);else if(e===Xi.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Xi.Fixed32)this.pos+=4;else{if(e!==Xi.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(r,e){this.writeVarint(r<<3|e)},realloc:function(r){for(var e=this.length||16;e<this.pos+r;)e*=2;if(e!==this.length){var o=new Uint8Array(e);o.set(this.buf),this.buf=o,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),Tm(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),Tm(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),Tm(this.buf,-1&r,this.pos),Tm(this.buf,Math.floor(r*q_),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),Tm(this.buf,-1&r,this.pos),Tm(this.buf,Math.floor(r*q_),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(e,o){var d,m,v,E;if(e>=0?(d=e%4294967296|0,m=e/4294967296|0):(m=~(-e/4294967296),4294967295^(d=~(-e%4294967296))?d=d+1|0:(d=0,m=m+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),v=d,(E=o).buf[E.pos++]=127&v|128,v>>>=7,E.buf[E.pos++]=127&v|128,v>>>=7,E.buf[E.pos++]=127&v|128,v>>>=7,E.buf[E.pos++]=127&v|128,E.buf[E.pos]=127&(v>>>=7),function(v,w){var E=(7&v)<<4;w.buf[w.pos++]|=E|((v>>>=3)?128:0),v&&(w.buf[w.pos++]=127&v|((v>>>=7)?128:0),v&&(w.buf[w.pos++]=127&v|((v>>>=7)?128:0),v&&(w.buf[w.pos++]=127&v|((v>>>=7)?128:0),v&&(w.buf[w.pos++]=127&v|((v>>>=7)?128:0),v&&(w.buf[w.pos++]=127&v)))))}(m,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(!!r)},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var e=this.pos;this.pos=function(d,m,v){for(var w,E,L=0;L<m.length;L++){if((w=m.charCodeAt(L))>55295&&w<57344){if(!E){w>56319||L+1===m.length?(d[v++]=239,d[v++]=191,d[v++]=189):E=w;continue}if(w<56320){d[v++]=239,d[v++]=191,d[v++]=189,E=w;continue}w=E-55296<<10|w-56320|65536,E=null}else E&&(d[v++]=239,d[v++]=191,d[v++]=189,E=null);w<128?d[v++]=w:(w<2048?d[v++]=w>>6|192:(w<65536?d[v++]=w>>12|224:(d[v++]=w>>18|240,d[v++]=w>>12&63|128),d[v++]=w>>6&63|128),d[v++]=63&w|128)}return v}(this.buf,r,this.pos);var o=this.pos-e;o>=128&&K_(e,o,this),this.pos=e-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),bm(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),bm(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var e=r.length;this.writeVarint(e),this.realloc(e);for(var o=0;o<e;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,e){this.pos++;var o=this.pos;r(e,this);var d=this.pos-o;d>=128&&K_(o,d,this),this.pos=o-1,this.writeVarint(d),this.pos+=d},writeMessage:function(r,e,o){this.writeTag(r,Xi.Bytes),this.writeRawMessage(e,o)},writePackedVarint:function(r,e){e.length&&this.writeMessage(r,X_,e)},writePackedSVarint:function(r,e){e.length&&this.writeMessage(r,Mm,e)},writePackedBoolean:function(r,e){e.length&&this.writeMessage(r,Dm,e)},writePackedFloat:function(r,e){e.length&&this.writeMessage(r,t0,e)},writePackedDouble:function(r,e){e.length&&this.writeMessage(r,gy,e)},writePackedFixed32:function(r,e){e.length&&this.writeMessage(r,Wu,e)},writePackedSFixed32:function(r,e){e.length&&this.writeMessage(r,yy,e)},writePackedFixed64:function(r,e){e.length&&this.writeMessage(r,vy,e)},writePackedSFixed64:function(r,e){e.length&&this.writeMessage(r,by,e)},writeBytesField:function(r,e){this.writeTag(r,Xi.Bytes),this.writeBytes(e)},writeFixed32Field:function(r,e){this.writeTag(r,Xi.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(r,e){this.writeTag(r,Xi.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(r,e){this.writeTag(r,Xi.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(r,e){this.writeTag(r,Xi.Fixed64),this.writeSFixed64(e)},writeVarintField:function(r,e){this.writeTag(r,Xi.Varint),this.writeVarint(e)},writeSVarintField:function(r,e){this.writeTag(r,Xi.Varint),this.writeSVarint(e)},writeStringField:function(r,e){this.writeTag(r,Xi.Bytes),this.writeString(e)},writeFloatField:function(r,e){this.writeTag(r,Xi.Fixed32),this.writeFloat(e)},writeDoubleField:function(r,e){this.writeTag(r,Xi.Fixed64),this.writeDouble(e)},writeBooleanField:function(r,e){this.writeVarintField(r,!!e)}};var zd=Pt(Bd);const xy=3;function np(r,e,o){e.glyphs=[],1===r&&o.readMessage(ip,e)}function ip(r,e,o){if(3===r){const{id:d,bitmap:m,width:v,height:w,left:E,top:L,advance:k}=o.readMessage(r0,{});e.glyphs.push({id:d,bitmap:new Fa({width:v+2*xy,height:w+2*xy},m),metrics:{width:v,height:w,left:E,top:L,advance:k}})}else 4===r?e.ascender=o.readSVarint():5===r&&(e.descender=o.readSVarint())}function r0(r,e,o){1===r?e.id=o.readVarint():2===r?e.bitmap=o.readBytes():3===r?e.width=o.readVarint():4===r?e.height=o.readVarint():5===r?e.left=o.readSVarint():6===r?e.top=o.readSVarint():7===r&&(e.advance=o.readVarint())}const Sm=xy;function J_(r){let e=0,o=0;for(const w of r)e+=w.w*w.h,o=Math.max(o,w.w);r.sort((w,E)=>E.h-w.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),o),h:1/0}];let m=0,v=0;for(const w of r)for(let E=d.length-1;E>=0;E--){const L=d[E];if(!(w.w>L.w||w.h>L.h)){if(w.x=L.x,w.y=L.y,v=Math.max(v,w.y+w.h),m=Math.max(m,w.x+w.w),w.w===L.w&&w.h===L.h){const k=d.pop();E<d.length&&(d[E]=k)}else w.h===L.h?(L.x+=w.w,L.w-=w.w):w.w===L.w?(L.y+=w.h,L.h-=w.h):(d.push({x:L.x+w.w,y:L.y,w:L.w-w.w,h:w.h}),L.y+=w.h,L.h-=w.h);break}}return{w:m,h:v,fill:e/(m*v)||0}}const ma=1;class Q_{constructor(e,{pixelRatio:o,version:d,stretchX:m,stretchY:v,content:w}){this.paddedRect=e,this.pixelRatio=o,this.stretchX=m,this.stretchY=v,this.content=w,this.version=d}get tl(){return[this.paddedRect.x+ma,this.paddedRect.y+ma]}get br(){return[this.paddedRect.x+this.paddedRect.w-ma,this.paddedRect.y+this.paddedRect.h-ma]}get displaySize(){return[(this.paddedRect.w-2*ma)/this.pixelRatio,(this.paddedRect.h-2*ma)/this.pixelRatio]}}class eg{constructor(e,o){const d={},m={};this.haveRenderCallbacks=[];const v=[];this.addImages(e,d,v),this.addImages(o,m,v);const{w,h:E}=J_(v),L=new Wo({width:w||1,height:E||1});for(const k in e){const j=e[k],H=d[k].paddedRect;Wo.copy(j.data,L,{x:0,y:0},{x:H.x+ma,y:H.y+ma},j.data)}for(const k in o){const j=o[k],H=m[k].paddedRect,W=H.x+ma,Q=H.y+ma,te=j.data.width,le=j.data.height;Wo.copy(j.data,L,{x:0,y:0},{x:W,y:Q},j.data),Wo.copy(j.data,L,{x:0,y:le-1},{x:W,y:Q-1},{width:te,height:1}),Wo.copy(j.data,L,{x:0,y:0},{x:W,y:Q+le},{width:te,height:1}),Wo.copy(j.data,L,{x:te-1,y:0},{x:W-1,y:Q},{width:1,height:le}),Wo.copy(j.data,L,{x:0,y:0},{x:W+te,y:Q},{width:1,height:le})}this.image=L,this.iconPositions=d,this.patternPositions=m}addImages(e,o,d){for(const m in e){const v=e[m],w={x:0,y:0,w:v.data.width+2*ma,h:v.data.height+2*ma};d.push(w),o[m]=new Q_(w,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(e,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>e.hasImage(d)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in e.updatedImages)this.patchUpdatedImage(this.iconPositions[d],e.getImage(d),o),this.patchUpdatedImage(this.patternPositions[d],e.getImage(d),o)}patchUpdatedImage(e,o,d){if(!e||!o||e.version===o.version)return;e.version=o.version;const[m,v]=e.tl;d.update(o.data,void 0,{x:m,y:v})}}xn(Q_,"ImagePosition"),xn(eg,"ImageAtlas");const _a={horizontal:1,vertical:2,horizontalOnly:3},Nh=-17;class Cm{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,o){const d=new Cm;return d.scale=e||1,d.fontStack=o,d}static forImage(e){const o=new Cm;return o.imageName=e,o}}class mc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,o){const d=new mc;for(let m=0;m<e.sections.length;m++){const v=e.sections[m];v.image?d.addImageSection(v):d.addTextSection(v,o)}return d}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(o,d){let m="";for(let v=0;v<o.length;v++){const w=o.charCodeAt(v+1)||null,E=o.charCodeAt(v-1)||null;m+=!d&&(w&&Mf(w)&&!Kc[o[v+1]]||E&&Mf(E)&&!Kc[o[v-1]])||!Kc[o[v]]?o[v]:Kc[o[v]]}return m}(this.text,e)}trim(){let e=0;for(let d=0;d<this.text.length&&rp[this.text.charCodeAt(d)];d++)e++;let o=this.text.length;for(let d=this.text.length-1;d>=0&&d>=e&&rp[this.text.charCodeAt(d)];d--)o--;this.text=this.text.substring(e,o),this.sectionIndex=this.sectionIndex.slice(e,o)}substring(e,o){const d=new mc;return d.text=this.text.substring(e,o),d.sectionIndex=this.sectionIndex.slice(e,o),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,o)=>Math.max(e,this.sections[o].scale),0)}addTextSection(e,o){this.text+=e.text,this.sections.push(Cm.forText(e.scale,e.fontStack||o));const d=this.sections.length-1;for(let m=0;m<e.text.length;++m)this.sectionIndex.push(d)}addImageSection(e){const o=e.image?e.image.name:"";if(0===o.length)return void di("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Cm.forImage(o)),this.sectionIndex.push(this.sections.length-1)):di("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Lm(r,e,o,d,m,v,w,E,L,k,j,H,W,Q,te){const le=mc.fromFeature(r,m);H===_a.vertical&&le.verticalizePunctuation(W);let ge=[];const Te=function(je,ot,st,xt,Gt,ft){if(!je)return[];const kt=[],It=function(tn,gn,un,Vn,Qt,Ln){let ci=0;for(let Ci=0;Ci<tn.length();Ci++){const si=tn.getSection(Ci);ci+=tg(tn.getCharCode(Ci),si,Vn,Qt,gn,Ln)}return ci/Math.max(1,Math.ceil(ci/un))}(je,ot,st,xt,Gt,ft),jt=je.text.indexOf("\u200b")>=0;let Ht=0;for(let tn=0;tn<je.length();tn++){const gn=je.getSection(tn),un=je.getCharCode(tn);if(rp[un]||(Ht+=tg(un,gn,xt,Gt,ot,ft)),tn<je.length()-1){const Vn=!((yt=un)<11904||!(an["Bopomofo Extended"](yt)||an.Bopomofo(yt)||an["CJK Compatibility Forms"](yt)||an["CJK Compatibility Ideographs"](yt)||an["CJK Compatibility"](yt)||an["CJK Radicals Supplement"](yt)||an["CJK Strokes"](yt)||an["CJK Symbols and Punctuation"](yt)||an["CJK Unified Ideographs Extension A"](yt)||an["CJK Unified Ideographs"](yt)||an["Enclosed CJK Letters and Months"](yt)||an["Halfwidth and Fullwidth Forms"](yt)||an.Hiragana(yt)||an["Ideographic Description Characters"](yt)||an["Kangxi Radicals"](yt)||an["Katakana Phonetic Extensions"](yt)||an.Katakana(yt)||an["Vertical Forms"](yt)||an["Yi Radicals"](yt)||an["Yi Syllables"](yt)));(wy[un]||Vn||gn.imageName)&&kt.push(Xc(tn+1,Ht,It,kt,s0(un,je.getCharCode(tn+1),Vn&&jt),!1))}}var yt;return Zu(Xc(je.length(),Ht,It,kt,0,!0))}(le,k,v,e,d,Q),{processBidirectionalText:Oe,processStyledBidirectionalText:Ee}=N;if(Oe&&1===le.sections.length){const je=Oe(le.toString(),Te);for(const ot of je){const st=new mc;st.text=ot,st.sections=le.sections;for(let xt=0;xt<ot.length;xt++)st.sectionIndex.push(0);ge.push(st)}}else if(Ee){const je=Ee(le.text,le.sectionIndex,Te);for(const ot of je){const st=new mc;st.text=ot[0],st.sectionIndex=ot[1],st.sections=le.sections,ge.push(st)}}else ge=function(je,ot){const st=[],xt=je.text;let Gt=0;for(const ft of ot)st.push(je.substring(Gt,ft)),Gt=ft;return Gt<xt.length&&st.push(je.substring(Gt,xt.length)),st}(le,Te);const Pe=[],ze={positionedLines:Pe,text:le.toString(),top:j[1],bottom:j[1],left:j[0],right:j[0],writingMode:H,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(je,ot,st,xt,Gt,ft,kt,It,jt,Ht,yt,tn){let gn=0,un=0,Vn=0;const Qt="right"===It?1:"left"===It?0:.5;let Ln=!1;for(const Hn of Gt){const ui=Hn.getSections();for(const Hi of ui){if(Hi.imageName)continue;const hr=ot[Hi.fontStack];if(hr&&(Ln=void 0!==hr.ascender&&void 0!==hr.descender,!Ln))break}if(!Ln)break}let ci=0;for(const Hn of Gt){Hn.trim();const ui=Hn.getMaxScale(),Hi=(ui-1)*Ts,hr={positionedGlyphs:[],lineOffset:0};je.positionedLines[ci]=hr;const lr=hr.positionedGlyphs;let cr=0;if(!Hn.length()){un+=ft,++ci;continue}let Rr=0,Fr=0;for(let ur=0;ur<Hn.length();ur++){const ss=Hn.getSection(ur),os=Hn.getSectionIndex(ur),Sr=Hn.getCharCode(ur);let Wi=ss.scale,fs=null,wr=null,yo=null,xs=Ts,vo=0;const Ws=!(jt===_a.horizontal||!yt&&!ln(Sr)||yt&&(rp[Sr]||(Ci=Sr,an.Arabic(Ci)||an["Arabic Supplement"](Ci)||an["Arabic Extended-A"](Ci)||an["Arabic Presentation Forms-A"](Ci)||an["Arabic Presentation Forms-B"](Ci))));if(ss.imageName){const Oo=xt[ss.imageName];if(!Oo)continue;yo=ss.imageName,je.iconsInText=je.iconsInText||!0,wr=Oo.paddedRect;const Bs=Oo.displaySize;Wi=Wi*Ts/tn,fs={width:Bs[0],height:Bs[1],left:ma,top:-Sm,advance:Ws?Bs[1]:Bs[0],localGlyph:!1},vo=Ln?-fs.height*Wi:Nh+ui*Ts-Bs[1]*Wi,xs=fs.advance;const bc=(Ws?Bs[0]:Bs[1])*Wi-Ts*ui;bc>0&&bc>cr&&(cr=bc)}else{const Oo=st[ss.fontStack];if(!Oo)continue;Oo[Sr]&&(wr=Oo[Sr]);const Bs=ot[ss.fontStack];if(!Bs)continue;const bc=Bs.glyphs[Sr];if(!bc)continue;if(fs=bc.metrics,xs=8203!==Sr?Ts:0,Ln){const mp=void 0!==Bs.ascender?Math.abs(Bs.ascender):0,Xh=void 0!==Bs.descender?Math.abs(Bs.descender):0,nd=(mp+Xh)*Wi;Rr<nd&&(Rr=nd,Fr=(mp-Xh)/2*Wi),vo=-mp*Wi}else vo=Nh+(ui-Wi)*Ts}Ws?(je.verticalizable=!0,lr.push({glyph:Sr,imageName:yo,x:gn,y:un+vo,vertical:Ws,scale:Wi,localGlyph:fs.localGlyph,fontStack:ss.fontStack,sectionIndex:os,metrics:fs,rect:wr}),gn+=xs*Wi+Ht):(lr.push({glyph:Sr,imageName:yo,x:gn,y:un+vo,vertical:Ws,scale:Wi,localGlyph:fs.localGlyph,fontStack:ss.fontStack,sectionIndex:os,metrics:fs,rect:wr}),gn+=fs.advance*Wi+Ht)}0!==lr.length&&(Vn=Math.max(gn-Ht,Vn),Ln?Ey(lr,Qt,cr,Fr,ft*ui/2):Ey(lr,Qt,cr,0,ft/2)),gn=0;const Jr=ft*ui+cr;hr.lineOffset=Math.max(cr,Hi),un+=Jr,++ci}var Ci;const si=un,{horizontalAlign:Rn,verticalAlign:qi}=Dy(kt);(function(Hn,ui,Hi,hr,lr,cr){const Rr=(ui-Hi)*lr,Fr=-cr*hr;for(const Jr of Hn)for(const ur of Jr.positionedGlyphs)ur.x+=Rr,ur.y+=Fr})(je.positionedLines,Qt,Rn,qi,Vn,si),je.top+=-qi*si,je.bottom=je.top+si,je.left+=-Rn*Vn,je.right=je.left+Vn,je.hasBaseline=Ln}(ze,e,o,d,ge,w,E,L,H,k,W,te),!function(je){for(const ot of je)if(0!==ot.positionedGlyphs.length)return!1;return!0}(Pe)&&ze}const rp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},wy={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function tg(r,e,o,d,m,v){if(e.imageName){const w=d[e.imageName];return w?w.displaySize[0]*e.scale*Ts/v+m:0}{const w=o[e.fontStack],E=w&&w.glyphs[r];return E?E.metrics.advance*e.scale+m:0}}function My(r,e,o,d){const m=Math.pow(r-e,2);return d?r<e?m/2:2*m:m+Math.abs(o)*o}function s0(r,e,o){let d=0;return 10===r&&(d-=1e4),o&&(d+=150),40!==r&&65288!==r||(d+=50),41!==e&&65289!==e||(d+=50),d}function Xc(r,e,o,d,m,v){let w=null,E=My(e,o,m,v);for(const L of d){const k=My(e-L.x,o,m,v)+L.badness;k<=E&&(w=L,E=k)}return{index:r,x:e,priorBreak:w,badness:E}}function Zu(r){return r?Zu(r.priorBreak).concat(r.index):[]}function Dy(r){let e=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:e,verticalAlign:o}}function Ey(r,e,o,d,m){if(!(e||o||d||m))return;const v=r.length-1,w=r[v],E=(w.x+w.metrics.advance*w.scale)*e;for(let L=0;L<=v;L++)r[L].x-=E,r[L].y+=o+d+m}function ng(r,e,o){const{horizontalAlign:d,verticalAlign:m}=Dy(o),v=e[0]-r.displaySize[0]*d,w=e[1]-r.displaySize[1]*m;return{image:r,top:w,bottom:w+r.displaySize[1],left:v,right:v+r.displaySize[0]}}function rl(r,e,o,d,m,v){const w=r.image;let E;if(w.content){const ge=w.content,Te=w.pixelRatio||1;E=[ge[0]/Te,ge[1]/Te,w.displaySize[0]-ge[2]/Te,w.displaySize[1]-ge[3]/Te]}const L=e.left*v,k=e.right*v;let j,H,W,Q;"width"===o||"both"===o?(Q=m[0]+L-d[3],H=m[0]+k+d[1]):(Q=m[0]+(L+k-w.displaySize[0])/2,H=Q+w.displaySize[0]);const te=e.top*v,le=e.bottom*v;return"height"===o||"both"===o?(j=m[1]+te-d[0],W=m[1]+le+d[2]):(j=m[1]+(te+le-w.displaySize[1])/2,W=j+w.displaySize[1]),{image:w,top:j,right:H,bottom:W,left:Q,collisionPadding:E}}class sl extends qe{constructor(e,o,d,m,v){super(e,o),this.angle=m,this.z=d,void 0!==v&&(this.segment=v)}clone(){return new sl(this.x,this.y,this.z,this.angle,this.segment)}}function o0(r,e,o,d,m){if(void 0===e.segment)return!0;let v=e,w=e.segment+1,E=0;for(;E>-o/2;){if(w--,w<0)return!1;E-=r[w].dist(v),v=r[w]}E+=r[w].dist(r[w+1]),w++;const L=[];let k=0;for(;E<o/2;){const j=r[w],H=r[w+1];if(!H)return!1;let W=r[w-1].angleTo(j)-j.angleTo(H);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),L.push({distance:E,angleDelta:W}),k+=W;E-L[0].distance>d;)k-=L.shift().angleDelta;if(k>m)return!1;w++,E+=j.dist(H)}return!0}function a0(r){let e=0;for(let o=0;o<r.length-1;o++)e+=r[o].dist(r[o+1]);return e}function l0(r,e,o){return r?.6*e*o:0}function ig(r,e){return Math.max(r?r.right-r.left:0,e?e.right-e.left:0)}function Jc(r,e,o,d,m,v){const w=l0(o,m,v),E=ig(o,d)*v;let L=0;const k=a0(r)/2;for(let j=0;j<r.length-1;j++){const H=r[j],W=r[j+1],Q=H.dist(W);if(L+Q>k){const te=(k-L)/Q,le=Bi(H.x,W.x,te),ge=Bi(H.y,W.y,te),Te=new sl(le,ge,0,W.angleTo(H),j);return!w||o0(r,Te,E,w,e)?Te:void 0}L+=Q}}function rg(r,e,o,d,m,v,w,E,L){const k=l0(d,v,w),j=ig(d,m),H=j*w,W=0===r[0].x||r[0].x===L||0===r[0].y||r[0].y===L;return e-H<e/4&&(e=H+e/4),c0(r,W?e/2*E%e:(j/2+2*v)*w*E%e,e,k,o,H,W,!1,L)}function c0(r,e,o,d,m,v,w,E,L){const k=v/2,j=a0(r);let H=0,W=e-o,Q=[];for(let te=0;te<r.length-1;te++){const le=r[te],ge=r[te+1],Te=le.dist(ge),Oe=ge.angleTo(le);for(;W+o<H+Te;){W+=o;const Ee=(W-H)/Te,Pe=Bi(le.x,ge.x,Ee),ze=Bi(le.y,ge.y,Ee);if(Pe>=0&&Pe<L&&ze>=0&&ze<L&&W-k>=0&&W+k<=j){const je=new sl(Pe,ze,0,Oe,te);je._round(),d&&!o0(r,je,v,d,m)||Q.push(je)}}H+=Te}return E||Q.length||w||(Q=c0(r,H/2,o,d,m,v,w,!0,L)),Q}function Am(r,e,o,d,m){const v=[];for(let w=0;w<r.length;w++){const E=r[w];let L;for(let k=0;k<E.length-1;k++){let j=E[k],H=E[k+1];j.x<e&&H.x<e||(j.x<e?j=new qe(e,j.y+(e-j.x)/(H.x-j.x)*(H.y-j.y))._round():H.x<e&&(H=new qe(e,j.y+(e-j.x)/(H.x-j.x)*(H.y-j.y))._round()),j.y<o&&H.y<o||(j.y<o?j=new qe(j.x+(o-j.y)/(H.y-j.y)*(H.x-j.x),o)._round():H.y<o&&(H=new qe(j.x+(o-j.y)/(H.y-j.y)*(H.x-j.x),o)._round()),j.x>=d&&H.x>=d||(j.x>=d?j=new qe(d,j.y+(d-j.x)/(H.x-j.x)*(H.y-j.y))._round():H.x>=d&&(H=new qe(d,j.y+(d-j.x)/(H.x-j.x)*(H.y-j.y))._round()),j.y>=m&&H.y>=m||(j.y>=m?j=new qe(j.x+(m-j.y)/(H.y-j.y)*(H.x-j.x),m)._round():H.y>=m&&(H=new qe(j.x+(m-j.y)/(H.y-j.y)*(H.x-j.x),m)._round()),L&&j.equals(L[L.length-1])||(L=[j],v.push(L)),L.push(H)))))}}return v}xn(sl,"Anchor");const bs=1e20;function Ty(r,e,o,d,m,v,w,E,L){for(let k=e;k<e+d;k++)Im(r,o*v+k,v,m,w,E,L);for(let k=o;k<o+m;k++)Im(r,k*v+e,1,d,w,E,L)}function Im(r,e,o,d,m,v,w){v[0]=0,w[0]=-bs,w[1]=bs,m[0]=r[e];for(let E=1,L=0,k=0;E<d;E++){m[E]=r[e+E*o];const j=E*E;do{const H=v[L];k=(m[E]-m[H]+j-H*H)/(E-H)/2}while(k<=w[L]&&--L>-1);L++,v[L]=E,w[L]=k,w[L+1]=bs}for(let E=0,L=0;E<d;E++){for(;w[L+1]<E;)L++;const k=v[L],j=E-k;r[e+E*o]=m[k]+j*j}}const Pl=2,sg={none:0,ideographs:1,all:2};class jd{constructor(e,o,d){this.requestManager=e,this.localGlyphMode=o,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,o){const d=[];for(const m in e)for(const v of e[m])d.push({stack:m,id:v});Mr(d,({stack:m,id:v},w)=>{let E=this.entries[m];E||(E=this.entries[m]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let L=E.glyphs[v];if(void 0!==L)return void w(null,{stack:m,id:v,glyph:L});if(L=this._tinySDF(E,m,v),L)return E.glyphs[v]=L,void w(null,{stack:m,id:v,glyph:L});const k=Math.floor(v/256);if(256*k>65535)return void w(new Error("glyphs > 65535 not supported"));if(E.ranges[k])return void w(null,{stack:m,id:v,glyph:L});let j=E.requests[k];j||(j=E.requests[k]=[],jd.loadGlyphRange(m,k,this.url,this.requestManager,(H,W)=>{if(W){E.ascender=W.ascender,E.descender=W.descender;for(const Q in W.glyphs)this._doesCharSupportLocalGlyph(+Q)||(E.glyphs[+Q]=W.glyphs[+Q]);E.ranges[k]=!0}for(const Q of j)Q(H,W);delete E.requests[k]})),j.push((H,W)=>{H?w(H):W&&w(null,{stack:m,id:v,glyph:W.glyphs[v]||null})})},(m,v)=>{if(m)o(m);else if(v){const w={};for(const{stack:E,id:L,glyph:k}of v)void 0===w[E]&&(w[E]={}),void 0===w[E].glyphs&&(w[E].glyphs={}),w[E].glyphs[L]=k&&{id:k.id,bitmap:k.bitmap.clone(),metrics:k.metrics},w[E].ascender=this.entries[E].ascender,w[E].descender=this.entries[E].descender;o(null,w)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==sg.none&&(this.localGlyphMode===sg.all?!!this.localFontFamily:!!this.localFontFamily&&(an["CJK Unified Ideographs"](e)||an["Hangul Syllables"](e)||an.Hiragana(e)||an.Katakana(e)||an["CJK Symbols and Punctuation"](e)))}_tinySDF(e,o,d){const m=this.localFontFamily;if(!m||!this._doesCharSupportLocalGlyph(d))return;let v=e.tinySDF;if(!v){let le="400";/bold/i.test(o)?le="900":/medium/i.test(o)?le="500":/light/i.test(o)&&(le="200"),v=e.tinySDF=new jd.TinySDF({fontFamily:m,fontWeight:le,fontSize:24*Pl,buffer:3*Pl,radius:8*Pl}),v.fontWeight=le}if(this.localGlyphs[v.fontWeight][d])return this.localGlyphs[v.fontWeight][d];const w=String.fromCharCode(d),{data:E,width:L,height:k,glyphWidth:j,glyphHeight:H,glyphLeft:W,glyphTop:Q,glyphAdvance:te}=v.draw(w);return this.localGlyphs[v.fontWeight][d]={id:d,bitmap:new Fa({width:L,height:k},E),metrics:{width:j/Pl,height:H/Pl,left:W/Pl,top:Q/Pl-27,advance:te/Pl,localGlyph:!0}}}}jd.loadGlyphRange=function(r,e,o,d,m){const v=256*e,w=v+255,E=d.transformRequest(d.normalizeGlyphsURL(o).replace("{fontstack}",r).replace("{range}",`${v}-${w}`),$r.Glyphs);ki(E,(L,k)=>{if(L)m(L);else if(k){const j={},H=new zd(k).readFields(np,{});for(const W of H.glyphs)j[W.id]=W;m(null,{glyphs:j,ascender:H.ascender,descender:H.descender})}})},jd.TinySDF=class{constructor({fontSize:r=24,buffer:e=3,radius:o=8,cutoff:d=.25,fontFamily:m="sans-serif",fontWeight:v="normal",fontStyle:w="normal"}={}){this.buffer=e,this.cutoff=d,this.radius=o;const E=this.size=r+4*e,L=this._createCanvas(E),k=this.ctx=L.getContext("2d",{willReadFrequently:!0});k.font=`${w} ${v} ${r}px ${m}`,k.textBaseline="alphabetic",k.textAlign="left",k.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(r){const e=document.createElement("canvas");return e.width=e.height=r,e}draw(r){const{width:e,actualBoundingBoxAscent:o,actualBoundingBoxDescent:d,actualBoundingBoxLeft:m,actualBoundingBoxRight:v}=this.ctx.measureText(r),w=Math.ceil(o),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(v-m))),L=Math.min(this.size-this.buffer,w+Math.ceil(d)),k=E+2*this.buffer,j=L+2*this.buffer,H=Math.max(k*j,0),W=new Uint8ClampedArray(H),Q={data:W,width:k,height:j,glyphWidth:E,glyphHeight:L,glyphTop:w,glyphLeft:0,glyphAdvance:e};if(0===E||0===L)return Q;const{ctx:te,buffer:le,gridInner:ge,gridOuter:Te}=this;te.clearRect(le,le,E,L),te.fillText(r,le,le+w);const Oe=te.getImageData(le,le,E,L);Te.fill(bs,0,H),ge.fill(0,0,H);for(let Ee=0;Ee<L;Ee++)for(let Pe=0;Pe<E;Pe++){const ze=Oe.data[4*(Ee*E+Pe)+3]/255;if(0===ze)continue;const je=(Ee+le)*k+Pe+le;if(1===ze)Te[je]=0,ge[je]=bs;else{const ot=.5-ze;Te[je]=ot>0?ot*ot:0,ge[je]=ot<0?ot*ot:0}}Ty(Te,0,0,k,j,k,this.f,this.v,this.z),Ty(ge,le,le,E,L,k,this.f,this.v,this.z);for(let Ee=0;Ee<H;Ee++){const Pe=Math.sqrt(Te[Ee])-Math.sqrt(ge[Ee]);W[Ee]=Math.round(255-255*(Pe/this.radius+this.cutoff))}return Q}};const qu=ma;function og(r,e,o,d){const m=[],v=r.image,w=v.pixelRatio,E=v.paddedRect.w-2*qu,L=v.paddedRect.h-2*qu,k=r.right-r.left,j=r.bottom-r.top,H=v.stretchX||[[0,E]],W=v.stretchY||[[0,L]],Q=(ft,kt)=>ft+kt[1]-kt[0],te=H.reduce(Q,0),le=W.reduce(Q,0),ge=E-te,Te=L-le;let Oe=0,Ee=te,Pe=0,ze=le,je=0,ot=ge,st=0,xt=Te;if(v.content&&d){const ft=v.content;Oe=km(H,0,ft[0]),Pe=km(W,0,ft[1]),Ee=km(H,ft[0],ft[2]),ze=km(W,ft[1],ft[3]),je=ft[0]-Oe,st=ft[1]-Pe,ot=ft[2]-ft[0]-Ee,xt=ft[3]-ft[1]-ze}const Gt=(ft,kt,It,jt)=>{const Ht=sp(ft.stretch-Oe,Ee,k,r.left),yt=Bh(ft.fixed-je,ot,ft.stretch,te),tn=sp(kt.stretch-Pe,ze,j,r.top),gn=Bh(kt.fixed-st,xt,kt.stretch,le),un=sp(It.stretch-Oe,Ee,k,r.left),Vn=Bh(It.fixed-je,ot,It.stretch,te),Qt=sp(jt.stretch-Pe,ze,j,r.top),Ln=Bh(jt.fixed-st,xt,jt.stretch,le),ci=new qe(Ht,tn),Ci=new qe(un,tn),si=new qe(un,Qt),Rn=new qe(Ht,Qt),qi=new qe(yt/w,gn/w),Hn=new qe(Vn/w,Ln/w),ui=e*Math.PI/180;if(ui){const lr=Math.sin(ui),cr=Math.cos(ui),Rr=[cr,-lr,lr,cr];ci._matMult(Rr),Ci._matMult(Rr),Rn._matMult(Rr),si._matMult(Rr)}const Hi=ft.stretch+ft.fixed,hr=kt.stretch+kt.fixed;return{tl:ci,tr:Ci,bl:Rn,br:si,tex:{x:v.paddedRect.x+qu+Hi,y:v.paddedRect.y+qu+hr,w:It.stretch+It.fixed-Hi,h:jt.stretch+jt.fixed-hr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qi,pixelOffsetBR:Hn,minFontScaleX:ot/w/k,minFontScaleY:xt/w/j,isSDF:o}};if(d&&(v.stretchX||v.stretchY)){const ft=ag(H,ge,te),kt=ag(W,Te,le);for(let It=0;It<ft.length-1;It++){const jt=ft[It],Ht=ft[It+1];for(let yt=0;yt<kt.length-1;yt++)m.push(Gt(jt,kt[yt],Ht,kt[yt+1]))}}else m.push(Gt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:E+1},{fixed:0,stretch:L+1}));return m}function km(r,e,o){let d=0;for(const m of r)d+=Math.max(e,Math.min(o,m[1]))-Math.max(e,Math.min(o,m[0]));return d}function ag(r,e,o){const d=[{fixed:-qu,stretch:0}];for(const[m,v]of r){const w=d[d.length-1];d.push({fixed:m-w.stretch,stretch:w.stretch}),d.push({fixed:m-w.stretch,stretch:w.stretch+(v-m)})}return d.push({fixed:e+qu,stretch:o}),d}function sp(r,e,o,d){return r/e*o+d}function Bh(r,e,o,d){return r-e*o/d}function Sy(r,e,o,d){const m=e+r.positionedLines[d].lineOffset;return 0===d?o+m/2:o+(m+(e+r.positionedLines[d-1].lineOffset))/2}class lg{constructor(e=[],o=zh){if(this.data=e,this.length=this.data.length,this.compare=o,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:o,compare:d}=this,m=o[e];for(;e>0;){const v=e-1>>1,w=o[v];if(d(m,w)>=0)break;o[e]=w,e=v}o[e]=m}_down(e){const{data:o,compare:d}=this,m=this.length>>1,v=o[e];for(;e<m;){let w=1+(e<<1),E=o[w];const L=w+1;if(L<this.length&&d(o[L],E)<0&&(w=L,E=o[L]),d(E,v)>=0)break;o[e]=E,e=w}o[e]=v}}function zh(r,e){return r<e?-1:r>e?1:0}function _c(r,e=1,o=!1){let d=1/0,m=1/0,v=-1/0,w=-1/0;const E=r[0];for(let Q=0;Q<E.length;Q++){const te=E[Q];(!Q||te.x<d)&&(d=te.x),(!Q||te.y<m)&&(m=te.y),(!Q||te.x>v)&&(v=te.x),(!Q||te.y>w)&&(w=te.y)}const L=Math.min(v-d,w-m);let k=L/2;const j=new lg([],ol);if(0===L)return new qe(d,m);for(let Q=d;Q<v;Q+=L)for(let te=m;te<w;te+=L)j.push(new Ko(Q+k,te+k,k,r));let H=function(Q){let te=0,le=0,ge=0;const Te=Q[0];for(let Oe=0,Ee=Te.length,Pe=Ee-1;Oe<Ee;Pe=Oe++){const ze=Te[Oe],je=Te[Pe],ot=ze.x*je.y-je.x*ze.y;le+=(ze.x+je.x)*ot,ge+=(ze.y+je.y)*ot,te+=3*ot}return new Ko(le/te,ge/te,0,Q)}(r),W=j.length;for(;j.length;){const Q=j.pop();(Q.d>H.d||!H.d)&&(H=Q,o&&console.log("found best %d after %d probes",Math.round(1e4*Q.d)/1e4,W)),Q.max-H.d<=e||(k=Q.h/2,j.push(new Ko(Q.p.x-k,Q.p.y-k,k,r)),j.push(new Ko(Q.p.x+k,Q.p.y-k,k,r)),j.push(new Ko(Q.p.x-k,Q.p.y+k,k,r)),j.push(new Ko(Q.p.x+k,Q.p.y+k,k,r)),W+=4)}return o&&(console.log(`num probes: ${W}`),console.log(`best distance: ${H.d}`)),H.p}function ol(r,e){return e.max-r.max}class Ko{constructor(e,o,d,m){this.p=new qe(e,o),this.h=d,this.d=function(v,w){let E=!1,L=1/0;for(let k=0;k<w.length;k++){const j=w[k];for(let H=0,W=j.length,Q=W-1;H<W;Q=H++){const te=j[H],le=j[Q];te.y>v.y!=le.y>v.y&&v.x<(le.x-te.x)*(v.y-te.y)/(le.y-te.y)+te.x&&(E=!E),L=Math.min(L,Dh(v,te,le))}}return(E?1:-1)*Math.sqrt(L)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}}const jh=7,op=Number.POSITIVE_INFINITY,cg=Math.sqrt(2);function Yh(r,[e,o]){let d=0,m=0;if(o===op){e<0&&(e=0);const v=e/cg;switch(r){case"top-right":case"top-left":m=v-jh;break;case"bottom-right":case"bottom-left":m=-v+jh;break;case"bottom":m=-e+jh;break;case"top":m=e-jh}switch(r){case"top-right":case"bottom-right":d=-v;break;case"top-left":case"bottom-left":d=v;break;case"left":d=e;break;case"right":d=-e}}else{switch(e=Math.abs(e),o=Math.abs(o),r){case"top-right":case"top-left":case"top":m=o-jh;break;case"bottom-right":case"bottom-left":case"bottom":m=-o+jh}switch(r){case"top-right":case"bottom-right":case"right":d=-e;break;case"top-left":case"bottom-left":case"left":d=e}}return[d,m]}function Cy(r,e,o,d,m,v,w,E,L,k){r.createArrays(),r.tilePixelRatio=Cn/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;const j=r.layers[0].layout,H=r.layers[0]._unevaluatedLayout._values,W={};if("composite"===r.textSizeData.kind){const{minZoom:le,maxZoom:ge}=r.textSizeData;W.compositeTextSizes=[H["text-size"].possiblyEvaluate(new V(le),E),H["text-size"].possiblyEvaluate(new V(ge),E)]}if("composite"===r.iconSizeData.kind){const{minZoom:le,maxZoom:ge}=r.iconSizeData;W.compositeIconSizes=[H["icon-size"].possiblyEvaluate(new V(le),E),H["icon-size"].possiblyEvaluate(new V(ge),E)]}W.layoutTextSize=H["text-size"].possiblyEvaluate(new V(L+1),E),W.layoutIconSize=H["icon-size"].possiblyEvaluate(new V(L+1),E),W.textMaxSize=H["text-size"].possiblyEvaluate(new V(18),E);const Q="map"===j.get("text-rotation-alignment")&&"point"!==j.get("symbol-placement"),te=j.get("text-size");for(const le of r.features){const ge=j.get("text-font").evaluate(le,{},E).join(","),Te=te.evaluate(le,{},E),Oe=W.layoutTextSize.evaluate(le,{},E),Ee=(W.layoutIconSize.evaluate(le,{},E),{horizontal:{},vertical:void 0}),Pe=le.text;let ze,je=[0,0];if(Pe){const xt=Pe.toString(),Gt=j.get("text-letter-spacing").evaluate(le,{},E)*Ts,ft=j.get("text-line-height").evaluate(le,{},E)*Ts,kt=Np(xt)?Gt:0,It=j.get("text-anchor").evaluate(le,{},E),jt=j.get("text-variable-anchor");if(!jt){const un=j.get("text-radial-offset").evaluate(le,{},E);je=un?Yh(It,[un*Ts,op]):j.get("text-offset").evaluate(le,{},E).map(Vn=>Vn*Ts)}let Ht=Q?"center":j.get("text-justify").evaluate(le,{},E);const yt="point"===j.get("symbol-placement"),tn=yt?j.get("text-max-width").evaluate(le,{},E)*Ts:1/0,gn=un=>{r.allowVerticalPlacement&&Or(xt)&&(Ee.vertical=Lm(Pe,e,o,m,ge,tn,ft,It,un,kt,je,_a.vertical,!0,Oe,Te))};if(!Q&&jt){const un="auto"===Ht?jt.map(Qt=>Yd(Qt)):[Ht];let Vn=!1;for(let Qt=0;Qt<un.length;Qt++){const Ln=un[Qt];if(!Ee.horizontal[Ln])if(Vn)Ee.horizontal[Ln]=Ee.horizontal[0];else{const ci=Lm(Pe,e,o,m,ge,tn,ft,"center",Ln,kt,je,_a.horizontal,!1,Oe,Te);ci&&(Ee.horizontal[Ln]=ci,Vn=1===ci.positionedLines.length)}}gn("left")}else{if("auto"===Ht&&(Ht=Yd(It)),yt||j.get("text-writing-mode").indexOf("horizontal")>=0||!Or(xt)){const un=Lm(Pe,e,o,m,ge,tn,ft,It,Ht,kt,je,_a.horizontal,!1,Oe,Te);un&&(Ee.horizontal[Ht]=un)}gn(yt?"left":Ht)}}let ot=!1;if(le.icon&&le.icon.name){const xt=d[le.icon.name];xt&&(ze=ng(m[le.icon.name],j.get("icon-offset").evaluate(le,{},E),j.get("icon-anchor").evaluate(le,{},E)),ot=xt.sdf,void 0===r.sdfIcons?r.sdfIcons=xt.sdf:r.sdfIcons!==xt.sdf&&di("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xt.pixelRatio!==r.pixelRatio||0!==j.get("icon-rotate").constantOr(1))&&(r.iconsNeedLinear=!0))}const st=ug(Ee.horizontal)||Ee.vertical;r.iconsInText||(r.iconsInText=!!st&&st.iconsInText),(st||ze)&&gc(r,le,Ee,ze,d,W,Oe,0,je,ot,w,E,k)}v&&r.generateCollisionDebugBuffers(L,r.collisionBoxArray)}function Yd(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gc(r,e,o,d,m,v,w,E,L,k,j,H,W){let Q=v.textMaxSize.evaluate(e,{},H);void 0===Q&&(Q=w);const te=r.layers[0].layout,le=te.get("icon-offset").evaluate(e,{},H),ge=ug(o.horizontal)||o.vertical,Te="globe"===W.name,Oe=Ts,Ee=w/Oe,Pe=r.tilePixelRatio*Q/Oe,ze=(It=r.overscaling,r.zoom>18&&It>2&&(It>>=1),Math.max(Cn/(512*It),1)*te.get("symbol-spacing")),je=te.get("text-padding")*r.tilePixelRatio,ot=te.get("icon-padding")*r.tilePixelRatio,st=Nt(te.get("text-max-angle")),xt="map"===te.get("text-rotation-alignment")&&"point"!==te.get("symbol-placement"),Gt="map"===te.get("icon-rotation-alignment")&&"point"!==te.get("symbol-placement"),ft=te.get("symbol-placement"),kt=ze/2;var It;const jt=te.get("icon-text-fit");let Ht;d&&"none"!==jt&&(r.allowVerticalPlacement&&o.vertical&&(Ht=rl(d,o.vertical,jt,te.get("icon-text-fit-padding"),le,Ee)),ge&&(d=rl(d,ge,jt,te.get("icon-text-fit-padding"),le,Ee)));const yt=(tn,gn,un)=>{if(gn.x<0||gn.x>=Cn||gn.y<0||gn.y>=Cn)return;let Vn=null;if(Te){const{x:Qt,y:Ln,z:ci}=W.projectTilePoint(gn.x,gn.y,un);Vn={anchor:new sl(Qt,Ln,ci,0,void 0),up:W.upVector(un,gn.x,gn.y)}}!function(Qt,Ln,ci,Ci,si,Rn,qi,Hn,ui,Hi,hr,lr,cr,Rr,Fr,Jr,ur,ss,os,Sr,Wi,fs,wr,yo,xs){const vo=Qt.addToLineVertexArray(Ln,Ci);let Ws,Oo,Bs,bc,mp,Xh,nd,vg=0,$m=0,Gy=0,Kd=0,_p=-1,bg=-1;const va={};let Wy=wl("");const id=ci?ci.anchor:Ln;let Gm=0,Wm=0;if(void 0===ui._unevaluatedLayout.getValue("text-radial-offset")?[Gm,Wm]=ui.layout.get("text-offset").evaluate(Wi,{},xs).map(cl=>cl*Ts):(Gm=ui.layout.get("text-radial-offset").evaluate(Wi,{},xs)*Ts,Wm=op),Qt.allowVerticalPlacement&&si.vertical){const cl=si.vertical;if(Fr)Xh=Pm(cl),Hn&&(nd=Pm(Hn));else{const Zs=ui.layout.get("text-rotate").evaluate(Wi,{},xs)+90;Bs=ga(Hi,id,Ln,hr,lr,cr,cl,Rr,Zs,Jr),Hn&&(bc=ga(Hi,id,Ln,hr,lr,cr,Hn,ss,Zs))}}if(Rn){const cl=ui.layout.get("icon-rotate").evaluate(Wi,{},xs),Zs="none"!==ui.layout.get("icon-text-fit"),qm=og(Rn,cl,wr,Zs),Qh=Hn?og(Hn,cl,wr,Zs):void 0;Oo=ga(Hi,id,Ln,hr,lr,cr,Rn,ss,cl),vg=4*qm.length;const b0=Qt.iconSizeData;let rd=null;"source"===b0.kind?(rd=[qo*ui.layout.get("icon-size").evaluate(Wi,{},xs)],rd[0]>Hr&&di(`${Qt.layerIds[0]}: Value for "icon-size" is >= ${Ol}. Reduce your "icon-size".`)):"composite"===b0.kind&&(rd=[qo*fs.compositeIconSizes[0].evaluate(Wi,{},xs),qo*fs.compositeIconSizes[1].evaluate(Wi,{},xs)],(rd[0]>Hr||rd[1]>Hr)&&di(`${Qt.layerIds[0]}: Value for "icon-size" is >= ${Ol}. Reduce your "icon-size".`)),Qt.addSymbols(Qt.icon,qm,rd,Sr,os,Wi,!1,ci,Ln,vo.lineStartIndex,vo.lineLength,-1,yo,xs),_p=Qt.icon.placedSymbolArray.length-1,Qh&&($m=4*Qh.length,Qt.addSymbols(Qt.icon,Qh,rd,Sr,os,Wi,_a.vertical,ci,Ln,vo.lineStartIndex,vo.lineLength,-1,yo,xs),bg=Qt.icon.placedSymbolArray.length-1)}for(const cl in si.horizontal){const Zs=si.horizontal[cl];Ws||(Wy=wl(Zs.text),Fr?mp=Pm(Zs):Ws=ga(Hi,id,Ln,hr,lr,cr,Zs,Rr,ui.layout.get("text-rotate").evaluate(Wi,{},xs),Jr));const qm=1===Zs.positionedLines.length;if(Gy+=yc(Qt,ci,Ln,Zs,qi,ui,Fr,Wi,Jr,vo,si.vertical?_a.horizontal:_a.horizontalOnly,qm?Object.keys(si.horizontal):[cl],va,_p,fs,yo,xs),qm)break}si.vertical&&(Kd+=yc(Qt,ci,Ln,si.vertical,qi,ui,Fr,Wi,Jr,vo,_a.vertical,["vertical"],va,bg,fs,yo,xs));let xc=-1;const Jh=(cl,Zs)=>cl?Math.max(cl,Zs):Zs;xc=Jh(mp,xc),xc=Jh(Xh,xc),xc=Jh(nd,xc);const Zm=xc>-1?1:0;Qt.glyphOffsetArray.length>=Rl.MAX_GLYPHS&&di("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Wi.sortKey&&Qt.addToSortKeyRanges(Qt.symbolInstances.length,Wi.sortKey),Qt.symbolInstances.emplaceBack(id.x,id.y,id.z,Ln.x,Ln.y,va.right>=0?va.right:-1,va.center>=0?va.center:-1,va.left>=0?va.left:-1,va.vertical>=0?va.vertical:-1,_p,bg,Wy,void 0!==Ws?Ws:Qt.collisionBoxArray.length,void 0!==Ws?Ws+1:Qt.collisionBoxArray.length,void 0!==Bs?Bs:Qt.collisionBoxArray.length,void 0!==Bs?Bs+1:Qt.collisionBoxArray.length,void 0!==Oo?Oo:Qt.collisionBoxArray.length,void 0!==Oo?Oo+1:Qt.collisionBoxArray.length,bc||Qt.collisionBoxArray.length,bc?bc+1:Qt.collisionBoxArray.length,hr,Gy,Kd,vg,$m,Zm,0,Gm,Wm,xc)}(r,gn,Vn,tn,o,d,m,Ht,r.layers[0],r.collisionBoxArray,e.index,e.sourceLayerIndex,r.index,je,xt,L,0,ot,Gt,le,e,v,k,j,H)};if("line"===ft)for(const tn of Am(e.geometry,0,0,Cn,Cn)){const gn=rg(tn,ze,st,o.vertical||ge,d,Oe,Pe,r.overscaling,Cn);for(const un of gn)ge&&Ly(r,ge.text,kt,un)||yt(tn,un,H)}else if("line-center"===ft){for(const tn of e.geometry)if(tn.length>1){const gn=Jc(tn,st,o.vertical||ge,d,Oe,Pe);gn&&yt(tn,gn,H)}}else if("Polygon"===e.type)for(const tn of Gs(e.geometry,0)){const gn=_c(tn,16);yt(tn[0],new sl(gn.x,gn.y,0,0,void 0),H)}else if("LineString"===e.type)for(const tn of e.geometry)yt(tn,new sl(tn[0].x,tn[0].y,0,0,void 0),H);else if("Point"===e.type)for(const tn of e.geometry)for(const gn of tn)yt([gn],new sl(gn.x,gn.y,0,0,void 0),H)}const Ol=255,Hr=Ol*qo;function yc(r,e,o,d,m,v,w,E,L,k,j,H,W,Q,te,le,ge){const Te=function(Pe,ze,je,ot,st,xt,Gt,ft){const kt=[];if(0===ze.positionedLines.length)return kt;const It=ot.layout.get("text-rotate").evaluate(xt,{})*Math.PI/180,jt=function(un){const Vn=un[0],Qt=un[1],Ln=Vn*Qt;return Ln>0?[Vn,-Qt]:Ln<0?[-Vn,Qt]:0===Vn?[Qt,Vn]:[Qt,-Vn]}(je);let Ht=Math.abs(ze.top-ze.bottom);for(const un of ze.positionedLines)Ht-=un.lineOffset;const yt=ze.positionedLines.length,tn=Ht/yt;let gn=ze.top-je[1];for(let un=0;un<yt;++un){const Vn=ze.positionedLines[un];gn=Sy(ze,tn,gn,un);for(const Qt of Vn.positionedGlyphs){if(!Qt.rect)continue;const Ln=Qt.rect||{};let ci=Sm+1,Ci=!0,si=1,Rn=0;if(Qt.imageName){const wr=Gt[Qt.imageName];if(!wr)continue;if(wr.sdf){di("SDF images are not supported in formatted text and will be ignored.");continue}Ci=!1,si=wr.pixelRatio,ci=ma/si}const qi=(st||ft)&&Qt.vertical,Hn=Qt.metrics.advance*Qt.scale/2,ui=Qt.metrics,Hi=Qt.rect;if(null===Hi)continue;ft&&ze.verticalizable&&(Rn=Qt.imageName?Hn-Qt.metrics.width*Qt.scale/2:0);const hr=st?[Qt.x+Hn,Qt.y]:[0,0];let lr=[0,0],cr=[0,0],Rr=!1;st||(qi?(cr=[Qt.x+Hn+jt[0],Qt.y+jt[1]-Rn],Rr=!0):lr=[Qt.x+Hn+je[0],Qt.y+je[1]-Rn]);const Fr=Hi.w*Qt.scale/(si*(Qt.localGlyph?Pl:1)),Jr=Hi.h*Qt.scale/(si*(Qt.localGlyph?Pl:1));let ur,ss,os,Sr;if(qi){const wr=Qt.y-gn,yo=new qe(-Hn,Hn-wr),xs=-Math.PI/2,vo=new qe(...cr);ur=new qe(-Hn+lr[0],lr[1]),ur._rotateAround(xs,yo)._add(vo),ur.x+=-wr+Hn,ur.y-=(ui.left-ci)*Qt.scale;const Ws=Qt.imageName?ui.advance*Qt.scale:Ts*Qt.scale,Oo=String.fromCharCode(Qt.glyph);tp(Oo)?ur.x+=(1-ci)*Qt.scale:Nd(Oo)?ur.x+=Ws-ui.height*Qt.scale+(-ci-1)*Qt.scale:ur.x+=Qt.imageName||ui.width+2*ci===Hi.w&&ui.height+2*ci===Hi.h?(Ws-Jr)/2:(Ws-(ui.height+2*ci)*Qt.scale)/2,ss=new qe(ur.x,ur.y-Fr),os=new qe(ur.x+Jr,ur.y),Sr=new qe(ur.x+Jr,ur.y-Fr)}else{const wr=(ui.left-ci)*Qt.scale-Hn+lr[0],yo=(-ui.top-ci)*Qt.scale+lr[1],xs=wr+Fr,vo=yo+Jr;ur=new qe(wr,yo),ss=new qe(xs,yo),os=new qe(wr,vo),Sr=new qe(xs,vo)}if(It){let wr;wr=st?new qe(0,0):Rr?new qe(jt[0],jt[1]):new qe(je[0],je[1]),ur._rotateAround(It,wr),ss._rotateAround(It,wr),os._rotateAround(It,wr),Sr._rotateAround(It,wr)}const Wi=new qe(0,0),fs=new qe(0,0);kt.push({tl:ur,tr:ss,bl:os,br:Sr,tex:Ln,writingMode:ze.writingMode,glyphOffset:hr,sectionIndex:Qt.sectionIndex,isSDF:Ci,pixelOffsetTL:Wi,pixelOffsetBR:fs,minFontScaleX:0,minFontScaleY:0})}}return kt}(0,d,L,v,w,E,m,r.allowVerticalPlacement),Oe=r.textSizeData;let Ee=null;"source"===Oe.kind?(Ee=[qo*v.layout.get("text-size").evaluate(E,{},ge)],Ee[0]>Hr&&di(`${r.layerIds[0]}: Value for "text-size" is >= ${Ol}. Reduce your "text-size".`)):"composite"===Oe.kind&&(Ee=[qo*te.compositeTextSizes[0].evaluate(E,{},ge),qo*te.compositeTextSizes[1].evaluate(E,{},ge)],(Ee[0]>Hr||Ee[1]>Hr)&&di(`${r.layerIds[0]}: Value for "text-size" is >= ${Ol}. Reduce your "text-size".`)),r.addSymbols(r.text,Te,Ee,L,w,E,j,e,o,k.lineStartIndex,k.lineLength,Q,le,ge);for(const Pe of H)W[Pe]=r.text.placedSymbolArray.length-1;return 4*Te.length}function ug(r){for(const e in r)return r[e];return null}function ga(r,e,o,d,m,v,w,E,L,k){let j=w.top,H=w.bottom,W=w.left,Q=w.right;const te=w.collisionPadding;if(te&&(W-=te[0],j-=te[1],Q+=te[2],H+=te[3]),L){const le=new qe(W,j),ge=new qe(Q,j),Te=new qe(W,H),Oe=new qe(Q,H),Ee=Nt(L);let Pe=new qe(0,0);k&&(Pe=new qe(k[0],k[1])),le._rotateAround(Ee,Pe),ge._rotateAround(Ee,Pe),Te._rotateAround(Ee,Pe),Oe._rotateAround(Ee,Pe),W=Math.min(le.x,ge.x,Te.x,Oe.x),Q=Math.max(le.x,ge.x,Te.x,Oe.x),j=Math.min(le.y,ge.y,Te.y,Oe.y),H=Math.max(le.y,ge.y,Te.y,Oe.y)}return r.emplaceBack(e.x,e.y,e.z,o.x,o.y,W,j,Q,H,E,d,m,v),r.length-1}function Pm(r){r.collisionPadding&&(r.top-=r.collisionPadding[1],r.bottom+=r.collisionPadding[3]);const e=r.bottom-r.top;return e>0?Math.max(10,e):null}function Ly(r,e,o,d){const m=r.compareText;if(e in m){const v=m[e];for(let w=v.length-1;w>=0;w--)if(d.dist(v[w])<o)return!0}else m[e]=[];return m[e].push(d),!1}function dg(r,e){const o=r.fovAboveCenter,d=r.elevation?r.elevation.getMinElevationBelowMSL()*e:0,m=(r._camera.position[2]*r.worldSize-d)/Math.cos(r._pitch),v=Math.sin(o)*m/Math.sin(Math.max(Math.PI/2-r._pitch-o,.01)),w=Math.sin(r._pitch)*v+m;return Math.min(1.01*w,m*(1/r._horizonShift))}function Qc(r,e){if(!e.isReprojectedInTileSpace)return{scale:1<<r.z,x:r.x,y:r.y,x2:r.x+1,y2:r.y+1,projection:e};const o=Math.pow(2,-r.z),d=r.x*o,m=(r.x+1)*o,v=r.y*o,w=(r.y+1)*o,E=Go(d),L=Go(m),k=Fs(v),j=Fs(w),H=e.project(E,k),W=e.project(L,k),Q=e.project(L,j),te=e.project(E,j);let le=Math.min(H.x,W.x,Q.x,te.x),ge=Math.min(H.y,W.y,Q.y,te.y),Te=Math.max(H.x,W.x,Q.x,te.x),Oe=Math.max(H.y,W.y,Q.y,te.y);const Ee=o/16;function Pe(je,ot,st,xt,Gt,ft){const kt=(st+Gt)/2,It=(xt+ft)/2,jt=e.project(Go(kt),Fs(It)),Ht=Math.max(0,le-jt.x,ge-jt.y,jt.x-Te,jt.y-Oe);le=Math.min(le,jt.x),Te=Math.max(Te,jt.x),ge=Math.min(ge,jt.y),Oe=Math.max(Oe,jt.y),Ht>Ee&&(Pe(je,jt,st,xt,kt,It),Pe(jt,ot,kt,It,Gt,ft))}Pe(H,W,d,v,m,v),Pe(W,Q,m,v,m,w),Pe(Q,te,m,w,d,w),Pe(te,H,d,w,d,v),le-=Ee,ge-=Ee,Te+=Ee,Oe+=Ee;const ze=1/Math.max(Te-le,Oe-ge);return{scale:ze,x:le*ze,y:ge*ze,x2:Te*ze,y2:Oe*ze,projection:e}}const u0=mo(new Float32Array(16));class eu{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,o){return{x:0,y:0,z:0}}unproject(e,o){return new mr(0,0)}projectTilePoint(e,o,d){return{x:e,y:o,z:0}}locationPoint(e,o,d=!0){return e._coordinatePoint(e.locationCoordinate(o),d)}pixelsPerMeter(e,o){return go(1,e)*o}pixelSpaceConversion(e,o,d){return 1}farthestPixelDistance(e){return dg(e,e.pixelsPerMeter)}pointCoordinate(e,o,d,m){const v=e.horizonLineFromTop(!1),w=new qe(o,Math.max(v,d));return e.rayIntersectionCoordinate(e.pointRayIntersection(w,m))}pointCoordinate3D(e,o,d){const m=new qe(o,d);if(e.elevation)return e.elevation.pointCoordinate(m);{const v=this.pointCoordinate(e,m.x,m.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(e,o){if(e.elevation)return!this.pointCoordinate3D(e,o.x,o.y);const d=e.horizonLineFromTop();return o.y<d}createInversionMatrix(e,o){return u0}createTileMatrix(e,o,d){let m,v,w;const E=d.canonical,L=mo(new Float64Array(16));if(this.isReprojectedInTileSpace){const k=Qc(E,this);m=1,v=k.x+d.wrap*k.scale,w=k.y,sc(L,L,[m/k.scale,m/k.scale,e.pixelsPerMeter/o])}else m=o/e.zoomScale(E.z),v=(E.x+Math.pow(2,E.z)*d.wrap)*m,w=E.y*m;return ph(L,L,[v,w,0]),sc(L,L,[m/Cn,m/Cn,1]),L}upVector(e,o,d){return[0,0,1]}upVectorScale(e,o,d){return{metersToTile:1}}}class d0 extends eu{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[o,d]=this.parallels=e.parallels||[29.5,45.5],m=Math.sin(Nt(o));this.n=(m+Math.sin(Nt(d)))/2,this.c=1+m*(2*this.n-m),this.r0=Math.sqrt(this.c)/this.n}project(e,o){const{n:d,c:m,r0:v}=this,w=Nt(e-this.center[0]),E=Nt(o),L=Math.sqrt(m-2*d*Math.sin(E))/d;return{x:L*Math.sin(w*d),y:L*Math.cos(w*d)-v,z:0}}unproject(e,o){const{n:d,c:m,r0:v}=this,w=v+o;let E=Math.atan2(e,Math.abs(w))*Math.sign(w);w*d<0&&(E-=Math.PI*Math.sign(e)*Math.sign(w));const L=Nt(this.center[0])*d;E=zi(E,-Math.PI-L,Math.PI-L);const k=ei(rn(E/d)+this.center[0],-180,180),j=Math.asin(ei((m-(e*e+w*w)*d*d)/(2*d),-1,1)),H=ei(rn(j),-vs,vs);return new mr(k,H)}}const ap=1.340264,tu=-.081106,Ud=893e-6,lp=.003796,Uh=Math.sqrt(3)/2;class cp extends eu{project(e,o){o=o/180*Math.PI,e=e/180*Math.PI;const d=Math.asin(Uh*Math.sin(o)),m=d*d,v=m*m*m;return{x:.5*(e*Math.cos(d)/(Uh*(ap+3*tu*m+v*(7*Ud+9*lp*m)))/Math.PI+.5),y:1-.5*(d*(ap+tu*m+v*(Ud+lp*m))/Math.PI+1),z:0}}unproject(e,o){e=(2*e-.5)*Math.PI;let d=o=(2*(1-o)-1)*Math.PI,m=d*d,v=m*m*m;for(let j,H,W,Q=0;Q<12&&(H=d*(ap+tu*m+v*(Ud+lp*m))-o,W=ap+3*tu*m+v*(7*Ud+9*lp*m),j=H/W,d=ei(d-j,-Math.PI/3,Math.PI/3),m=d*d,v=m*m*m,!(Math.abs(j)<1e-12));++Q);const w=Uh*e*(ap+3*tu*m+v*(7*Ud+9*lp*m))/Math.cos(d),E=Math.asin(Math.sin(d)/Uh),L=ei(180*w/Math.PI,-180,180),k=ei(180*E/Math.PI,-vs,vs);return new mr(L,k)}}class Ay extends eu{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,o){return{x:.5+e/360,y:.5-o/360,z:0}}unproject(e,o){const d=360*(e-.5),m=ei(360*(.5-o),-vs,vs);return new mr(d,m)}}const Ku=Math.PI/2;function Vh(r){return Math.tan((Ku+r)/2)}class Ei extends eu{constructor(e){super(e),this.center=e.center||[0,30];const[o,d]=this.parallels=e.parallels||[30,30];let m=Nt(o),v=Nt(d);this.southernCenter=m+v<0,this.southernCenter&&(m=-m,v=-v);const w=Math.cos(m),E=Vh(m);this.n=m===v?Math.sin(m):Math.log(w/Math.cos(v))/Math.log(Vh(v)/E),this.f=w*Math.pow(Vh(m),this.n)/this.n}project(e,o){o=Nt(o),this.southernCenter&&(o=-o),e=Nt(e-this.center[0]);const d=1e-6,{n:m,f:v}=this;v>0?o<-Ku+d&&(o=-Ku+d):o>Ku-d&&(o=Ku-d);const w=v/Math.pow(Vh(o),m);let E=w*Math.sin(m*e),L=v-w*Math.cos(m*e);return E=.5*(E/Math.PI+.5),L=.5*(L/Math.PI+.5),{x:E,y:this.southernCenter?L:1-L,z:0}}unproject(e,o){e=(2*e-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:d,f:m}=this,v=m-o,w=Math.sign(v),E=Math.sign(d)*Math.sqrt(e*e+v*v);let L=Math.atan2(e,Math.abs(v))*w;v*d<0&&(L-=Math.PI*Math.sign(e)*w);const k=ei(rn(L/d)+this.center[0],-180,180),j=ei(rn(2*Math.atan(Math.pow(m/E,1/d))-Ku),-vs,vs);return new mr(k,this.southernCenter?-j:j)}}class Om extends eu{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,o){return{x:lc(e),y:nl(o),z:0}}unproject(e,o){const d=Go(e),m=Fs(o);return new mr(d,m)}}const up=Nt(vs);class Vd extends eu{project(e,o){const d=(o=Nt(o))*o,m=d*d;return{x:.5*((e=Nt(e))*(.8707-.131979*d+m*(m*(.003971*d-.001529*m)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+d*(.015085+m*(.028874*d-.044475-.005916*m)))/Math.PI+1),z:0}}unproject(e,o){e=(2*e-.5)*Math.PI;let d=o=(2*(1-o)-1)*Math.PI,m=25,v=0,w=d*d;do{w=d*d;const k=w*w;v=(d*(1.007226+w*(.015085+k*(.028874*w-.044475-.005916*k)))-o)/(1.007226+w*(.045255+k*(.259866*w-.311325-.005916*11*k))),d=ei(d-v,-up,up)}while(Math.abs(v)>1e-6&&--m>0);w=d*d;const E=ei(rn(e/(.8707+w*(w*(w*w*w*(.003971-.001529*w)-.013791)-.131979))),-180,180),L=rn(d);return new mr(E,L)}}const Rm=Nt(vs);class Iy extends eu{project(e,o){o=Nt(o),e=Nt(e);const d=Math.cos(o),m=2/Math.PI,v=Math.acos(d*Math.cos(e/2)),w=Math.sin(v)/v,E=.5*(e*m+2*d*Math.sin(e/2)/w)||0,L=.5*(o+Math.sin(o)/w)||0;return{x:.5*(E/Math.PI+.5),y:1-.5*(L/Math.PI+1),z:0}}unproject(e,o){let d=e=(2*e-.5)*Math.PI,m=o=(2*(1-o)-1)*Math.PI,v=25;const w=1e-6;let E=0,L=0;do{const k=Math.cos(m),j=Math.sin(m),H=2*j*k,W=j*j,Q=k*k,te=Math.cos(d/2),le=Math.sin(d/2),ge=2*te*le,Te=le*le,Oe=1-Q*te*te,Ee=Oe?1/Oe:0,Pe=Oe?Math.acos(k*te)*Math.sqrt(1/Oe):0,ze=.5*(2*Pe*k*le+2*d/Math.PI)-e,je=.5*(Pe*j+m)-o,ot=.5*Ee*(Q*Te+Pe*k*te*W)+1/Math.PI,st=Ee*(ge*H/4-Pe*j*le),xt=.125*Ee*(H*le-Pe*j*Q*ge),Gt=.5*Ee*(W*te+Pe*Te*k)+.5,ft=st*xt-Gt*ot;E=(je*st-ze*Gt)/ft,L=(ze*xt-je*ot)/ft,d=ei(d-E,-Math.PI,Math.PI),m=ei(m-L,-Rm,Rm)}while((Math.abs(E)>w||Math.abs(L)>w)&&--v>0);return new mr(rn(d),rn(m))}}class Hd extends eu{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Nt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,o){const{scale:d,cosPhi:m}=this;return{x:Nt(e)*m*d+.5,y:-Math.sin(Nt(o))/m*d+.5,z:0}}unproject(e,o){const{scale:d,cosPhi:m}=this,v=-(o-.5)/d,w=ei(rn((e-.5)/d)/m,-180,180),E=Math.asin(ei(v*m,-1,1)),L=ei(rn(E),-vs,vs);return new mr(w,L)}}class nu extends Om{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,o,d){const m=bh(e,o,d);return ds(m,m,Jp(el(d))),{x:m[0],y:m[1],z:m[2]}}locationPoint(e,o){const d=Uu(o.lat,o.lng),m=Es([],d),v=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(o),e._centerAltitude):e._centerAltitude;Uc(d,d,m,go(1,0)*Cn*v);const w=mo(new Float64Array(16));return bd(w,e.pixelMatrix,e.globeMatrix),ds(d,d,w),new qe(d[0],d[1])}pixelsPerMeter(e,o){return go(1,0)*o}pixelSpaceConversion(e,o,d){const m=go(1,e)*o,v=Bi(go(1,45)*o,m,d);return this.pixelsPerMeter(e,o)/v}createTileMatrix(e,o,d){const m=T_(el(d.canonical));return bd(new Float64Array(16),e.globeMatrix,m)}createInversionMatrix(e,o){const{center:d}=e,m=Jp(el(o));return Yp(m,m,Nt(d.lng)),Hg(m,m,Nt(d.lat)),sc(m,m,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(m)}pointCoordinate(e,o,d,m){return Pf(e,o,d,!0)||new Td(0,0)}pointCoordinate3D(e,o,d){const m=this.pointCoordinate(e,o,d,0);return[m.x,m.y,m.z]}isPointAboveHorizon(e,o){return!Pf(e,o.x,o.y,!1)}farthestPixelDistance(e){const o=function(m,v){const w=m.cameraToCenterDistance,E=m._centerAltitude*v,L=m._camera,k=m._camera.forward(),j=Cl([],Io([],k,-w),[0,0,E]),H=m.worldSize/(2*Math.PI),W=[0,0,-H],Q=m.width/m.height,te=Math.tan(m.fovAboveCenter),le=Io([],L.up(),te),ge=Io([],L.right(),te*Q),Te=Es([],Cl([],Cl([],k,le),ge)),Oe=[];let Ee;if(new Qa(j,Te).closestPointOnSphere(W,H,Oe)){const Pe=Cl([],Oe,W),ze=Al([],Pe,j);Ee=Math.cos(m.fovAboveCenter)*mh(ze)}else{const Pe=Al([],j,W),ze=Al([],W,j);Es(ze,ze);const je=mh(Pe)-H;Ee=Math.sqrt(je*(je+2*H));const ot=Math.acos(Ee/(H+je))-Math.acos(Ja(k,ze));Ee*=Math.cos(ot)}return 1.01*Ee}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),d=xh(e.zoom);if(d>0){const m=dg(e,go(1,e.center.lat)*e.worldSize),v=e.worldSize/(2*Math.PI),w=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Bi(o,m+v*(1-Math.cos(w)),Math.pow(d,10))}return o}upVector(e,o,d){return bh(o,d,e,1)}upVectorScale(e){return{metersToTile:ac($c(el(e)))}}}function dp(r){const e=r.parallels,o=!!e&&Math.abs(e[0]+e[1])<.01;switch(r.name){case"mercator":return new Om(r);case"equirectangular":return new Ay(r);case"naturalEarth":return new Vd(r);case"equalEarth":return new cp(r);case"winkelTripel":return new Iy(r);case"albers":return o?new Hd(r):new d0(r);case"lambertConformalConic":return o?new Hd(r):new Ei(r);case"globe":return new nu(r)}throw new Error(`Invalid projection name: ${r.name}`)}const Hh=qf.types,hg=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ns(r,e,o,d,m,v,w,E,L,k,j,H,W){const Q=E?Math.min(Hr,Math.round(E[0])):0,te=E?Math.min(Hr,Math.round(E[1])):0;r.emplaceBack(e,o,Math.round(32*d),Math.round(32*m),v,w,(Q<<1)+(L?1:0),te,16*k,16*j,256*H,256*W)}function Ba(r,e,o,d,m,v,w){r.emplaceBack(e,o,d,m,v,w)}function $d(r,e,o,d,m){r.emplaceBack(e,o,d,m),r.emplaceBack(e,o,d,m),r.emplaceBack(e,o,d,m),r.emplaceBack(e,o,d,m)}function h0(r){for(const e of r.sections)if(Vi(e.text))return!0;return!1}class Fm{constructor(e){this.layoutVertexArray=new Dt,this.indexArray=new mn,this.programConfigurations=e,this.segments=new rs,this.dynamicLayoutVertexArray=new Lt,this.opacityVertexArray=new wn,this.placedSymbolArray=new Bn,this.globeExtVertexArray=new Ct}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,o,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ub.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Qv.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,hg,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,gm.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}xn(Fm,"SymbolBuffers");class $h{constructor(e,o,d){this.layoutVertexArray=new e,this.layoutAttributes=o,this.indexArray=new d,this.segments=new rs,this.collisionVertexArray=new pi,this.collisionVertexArrayExt=new jn}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,ym.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,Fh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}xn($h,"CollisionBuffers");class Rl{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(w=>w.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=mo([]),this.placementViewportMatrix=mo([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Fd(this.zoom,o["text-size"]),this.iconSizeData=Fd(this.zoom,o["icon-size"]);const d=this.layers[0].layout,m=d.get("symbol-sort-key"),v=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==v&&void 0!==m.constantOr(1),this.sortFeaturesByY=("viewport-y"===v||"auto"===v&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(w=>_a[w]),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Fm(new Yc(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Fm(new Yc(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Vr,this.lineVertexArray=new ys,this.symbolInstances=new yi}calculateGlyphDependencies(e,o,d,m,v){for(let w=0;w<e.length;w++)if(o[e.charCodeAt(w)]=!0,m&&v){const E=Kc[e.charAt(w)];E&&(o[E.charCodeAt(0)]=!0)}}populate(e,o,d,m){const v=this.layers[0],w=v.layout,E="globe"===this.projection.name,L=w.get("text-font"),k=w.get("text-field"),j=w.get("icon-image"),H=("constant"!==k.value.kind||k.value.value instanceof sr&&!k.value.value.isEmpty()||k.value.value.toString().length>0)&&("constant"!==L.value.kind||L.value.value.length>0),W="constant"!==j.value.kind||!!j.value.value||Object.keys(j.parameters).length>0,Q=w.get("symbol-sort-key");if(this.features=[],!H&&!W)return;const te=o.iconDependencies,le=o.glyphDependencies,ge=o.availableImages,Te=new V(this.zoom);for(const{feature:Oe,id:Ee,index:Pe,sourceLayerIndex:ze}of e){const je=v._featureFilter.needGeometry,ot=Cd(Oe,je);if(!v._featureFilter.filter(Te,ot,d))continue;if(je||(ot.geometry=cc(Oe,d,m)),E&&1!==Oe.type&&d.z<=5){const ft=ot.geometry,kt=.98078528056,It=(jt,Ht)=>Ja(bh(jt.x,jt.y,d,1),bh(Ht.x,Ht.y,d,1))<kt;for(let jt=0;jt<ft.length;jt++)ft[jt]=jv(ft[jt],It)}let st,xt;if(H){const ft=v.getValueAndResolveTokens("text-field",ot,d,ge),kt=sr.factory(ft);h0(kt)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===S()||this.hasRTLText&&N.isParsed())&&(st=Gu(kt,v,ot))}if(W){const ft=v.getValueAndResolveTokens("icon-image",ot,d,ge);xt=ft instanceof ks?ft:ks.fromString(ft)}if(!st&&!xt)continue;const Gt=this.sortFeaturesByKey?Q.evaluate(ot,{},d):void 0;if(this.features.push({id:Ee,text:st,icon:xt,index:Pe,sourceLayerIndex:ze,geometry:ot.geometry,properties:Oe.properties,type:Hh[Oe.type],sortKey:Gt}),xt&&(te[xt.name]=!0),st){const ft=L.evaluate(ot,{},d).join(","),kt="map"===w.get("text-rotation-alignment")&&"point"!==w.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_a.vertical)>=0;for(const It of st.sections)if(It.image)te[It.image.name]=!0;else{const jt=Or(st.toString()),Ht=It.fontStack||ft,yt=le[Ht]=le[Ht]||{};this.calculateGlyphDependencies(It.text,yt,kt,this.allowVerticalPlacement,jt)}}}"line"===w.get("symbol-placement")&&(this.features=function(Oe){const Ee={},Pe={},ze=[];let je=0;function ot(ft){ze.push(Oe[ft]),je++}function st(ft,kt,It){const jt=Pe[ft];return delete Pe[ft],Pe[kt]=jt,ze[jt].geometry[0].pop(),ze[jt].geometry[0]=ze[jt].geometry[0].concat(It[0]),jt}function xt(ft,kt,It){const jt=Ee[kt];return delete Ee[kt],Ee[ft]=jt,ze[jt].geometry[0].shift(),ze[jt].geometry[0]=It[0].concat(ze[jt].geometry[0]),jt}function Gt(ft,kt,It){const jt=It?kt[0][kt[0].length-1]:kt[0][0];return`${ft}:${jt.x}:${jt.y}`}for(let ft=0;ft<Oe.length;ft++){const kt=Oe[ft],It=kt.geometry,jt=kt.text?kt.text.toString():null;if(!jt){ot(ft);continue}const Ht=Gt(jt,It),yt=Gt(jt,It,!0);if(Ht in Pe&&yt in Ee&&Pe[Ht]!==Ee[yt]){const tn=xt(Ht,yt,It),gn=st(Ht,yt,ze[tn].geometry);delete Ee[Ht],delete Pe[yt],Pe[Gt(jt,ze[gn].geometry,!0)]=gn,ze[tn].geometry=null}else Ht in Pe?st(Ht,yt,It):yt in Ee?xt(Ht,yt,It):(ot(ft),Ee[Ht]=je-1,Pe[yt]=je-1)}return ze.filter(ft=>ft.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Oe,Ee)=>Oe.sortKey-Ee.sortKey)}update(e,o,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,o,this.layers,d,m),this.icon.programConfigurations.updatePaintArrays(e,o,this.layers,d,m))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=dp(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,o){const d=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:m,y:v}of o)this.lineVertexArray.emplaceBack(m,v);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(e,o,d,m,v,w,E,L,k,j,H,W,Q,te){const le=e.indexArray,ge=e.layoutVertexArray,Te=e.globeExtVertexArray,Oe=e.segments.prepareSegment(4*o.length,ge,le,this.canOverlap?w.sortKey:void 0),Ee=this.glyphOffsetArray.length,Pe=Oe.vertexLength,ze=this.allowVerticalPlacement&&E===_a.vertical?Math.PI/2:0,je=w.text&&w.text.sections;for(let st=0;st<o.length;st++){const{tl:xt,tr:Gt,bl:ft,br:kt,tex:It,pixelOffsetTL:jt,pixelOffsetBR:Ht,minFontScaleX:yt,minFontScaleY:tn,glyphOffset:gn,isSDF:un,sectionIndex:Vn}=o[st],Qt=Oe.vertexLength,Ln=gn[1];if(Ns(ge,k.x,k.y,xt.x,Ln+xt.y,It.x,It.y,d,un,jt.x,jt.y,yt,tn),Ns(ge,k.x,k.y,Gt.x,Ln+Gt.y,It.x+It.w,It.y,d,un,Ht.x,jt.y,yt,tn),Ns(ge,k.x,k.y,ft.x,Ln+ft.y,It.x,It.y+It.h,d,un,jt.x,Ht.y,yt,tn),Ns(ge,k.x,k.y,kt.x,Ln+kt.y,It.x+It.w,It.y+It.h,d,un,Ht.x,Ht.y,yt,tn),L){const{x:ci,y:Ci,z:si}=L.anchor,[Rn,qi,Hn]=L.up;Ba(Te,ci,Ci,si,Rn,qi,Hn),Ba(Te,ci,Ci,si,Rn,qi,Hn),Ba(Te,ci,Ci,si,Rn,qi,Hn),Ba(Te,ci,Ci,si,Rn,qi,Hn),$d(e.dynamicLayoutVertexArray,ci,Ci,si,ze)}else $d(e.dynamicLayoutVertexArray,k.x,k.y,k.z,ze);le.emplaceBack(Qt,Qt+1,Qt+2),le.emplaceBack(Qt+1,Qt+2,Qt+3),Oe.vertexLength+=4,Oe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(gn[0]),st!==o.length-1&&Vn===o[st+1].sectionIndex||e.programConfigurations.populatePaintArrays(ge.length,w,w.index,{},Q,te,je&&je[Vn])}const ot=L?L.anchor:k;e.placedSymbolArray.emplaceBack(ot.x,ot.y,ot.z,k.x,k.y,Ee,this.glyphOffsetArray.length-Ee,Pe,j,H,k.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],E,0,!1,0,W,0)}_commitLayoutVertex(e,o,d,m,v,w,E){e.emplaceBack(o,d,m,v,w,Math.round(E.x),Math.round(E.y))}_addCollisionDebugVertices(e,o,d,m,v,w,E){const L=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),k=L.vertexLength,j=E.tileAnchorX,H=E.tileAnchorY;for(let Q=0;Q<4;Q++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(o,-e.padding,-e.padding),d.collisionVertexArrayExt.emplaceBack(o,e.padding,-e.padding),d.collisionVertexArrayExt.emplaceBack(o,e.padding,e.padding),d.collisionVertexArrayExt.emplaceBack(o,-e.padding,e.padding),this._commitLayoutVertex(d.layoutVertexArray,m,v,w,j,H,new qe(e.x1,e.y1)),this._commitLayoutVertex(d.layoutVertexArray,m,v,w,j,H,new qe(e.x2,e.y1)),this._commitLayoutVertex(d.layoutVertexArray,m,v,w,j,H,new qe(e.x2,e.y2)),this._commitLayoutVertex(d.layoutVertexArray,m,v,w,j,H,new qe(e.x1,e.y2)),L.vertexLength+=4;const W=d.indexArray;W.emplaceBack(k,k+1),W.emplaceBack(k+1,k+2),W.emplaceBack(k+2,k+3),W.emplaceBack(k+3,k),L.primitiveLength+=4}_addTextDebugCollisionBoxes(e,o,d,m,v,w){for(let E=m;E<v;E++){const L=d.get(E),k=this.getSymbolInstanceTextSize(e,w,o,E);this._addCollisionDebugVertices(L,k,this.textCollisionBox,L.projectedAnchorX,L.projectedAnchorY,L.projectedAnchorZ,w)}}_addIconDebugCollisionBoxes(e,o,d,m,v,w){for(let E=m;E<v;E++){const L=d.get(E),k=this.getSymbolInstanceIconSize(e,o,w.placedIconSymbolIndex);this._addCollisionDebugVertices(L,k,this.iconCollisionBox,L.projectedAnchorX,L.projectedAnchorY,L.projectedAnchorZ,w)}}generateCollisionDebugBuffers(e,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new $h(_n,pa.members,X),this.iconCollisionBox=new $h(_n,pa.members,X);const d=qc(this.iconSizeData,e),m=qc(this.textSizeData,e);for(let v=0;v<this.symbolInstances.length;v++){const w=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(m,e,o,w.textBoxStartIndex,w.textBoxEndIndex,w),this._addTextDebugCollisionBoxes(m,e,o,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._addIconDebugCollisionBoxes(d,e,o,w.iconBoxStartIndex,w.iconBoxEndIndex,w),this._addIconDebugCollisionBoxes(d,e,o,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w)}}getSymbolInstanceTextSize(e,o,d,m){const v=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:m),w=fc(this.textSizeData,e,v)/Ts;return this.tilePixelRatio*w}getSymbolInstanceIconSize(e,o,d){const m=this.icon.placedSymbolArray.get(d),v=fc(this.iconSizeData,e,m);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(e,o,d){e.emplaceBack(o,-d,-d),e.emplaceBack(o,d,-d),e.emplaceBack(o,d,d),e.emplaceBack(o,-d,d)}_updateTextDebugCollisionBoxes(e,o,d,m,v,w){for(let E=m;E<v;E++){const L=d.get(E),k=this.getSymbolInstanceTextSize(e,w,o,E);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,k,L.padding)}}_updateIconDebugCollisionBoxes(e,o,d,m,v,w){for(let E=m;E<v;E++){const L=d.get(E),k=this.getSymbolInstanceIconSize(e,o,w);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,k,L.padding)}}updateCollisionDebugBuffers(e,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=qc(this.iconSizeData,e),m=qc(this.textSizeData,e);for(let v=0;v<this.symbolInstances.length;v++){const w=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(m,e,o,w.textBoxStartIndex,w.textBoxEndIndex,w),this._updateTextDebugCollisionBoxes(m,e,o,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._updateIconDebugCollisionBoxes(d,e,o,w.iconBoxStartIndex,w.iconBoxEndIndex,w.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,e,o,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,o,d,m,v,w,E,L,k){const j={};if(o<d){const{x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe,featureIndex:ze}=e.get(o);j.textBox={x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe},j.textFeatureIndex=ze}if(m<v){const{x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe,featureIndex:ze}=e.get(m);j.verticalTextBox={x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe},j.verticalTextFeatureIndex=ze}if(w<E){const{x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe,featureIndex:ze}=e.get(w);j.iconBox={x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe},j.iconFeatureIndex=ze}if(L<k){const{x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe,featureIndex:ze}=e.get(L);j.verticalIconBox={x1:H,y1:W,x2:Q,y2:te,padding:le,projectedAnchorX:ge,projectedAnchorY:Te,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Pe},j.verticalIconFeatureIndex=ze}return j}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const d=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,o){const d=e.placedSymbolArray.get(o),m=d.vertexStartIndex+4*d.numGlyphs;for(let v=d.vertexStartIndex;v<m;v+=4)e.indexArray.emplaceBack(v,v+1,v+2),e.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const o=Math.sin(e),d=Math.cos(e),m=[],v=[],w=[];for(let E=0;E<this.symbolInstances.length;++E){w.push(E);const L=this.symbolInstances.get(E);m.push(0|Math.round(o*L.tileAnchorX+d*L.tileAnchorY)),v.push(L.featureIndex)}return w.sort((E,L)=>m[E]-m[L]||v[L]-v[E]),w}addToSortKeyRanges(e,o){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===o?d.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const d=this.symbolInstances.get(o);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:m,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:w,verticalPlacedTextSymbolIndex:E,placedIconSymbolIndex:L,verticalPlacedIconSymbolIndex:k}=d;m>=0&&this.addIndicesForPlacedSymbol(this.text,m),v>=0&&v!==m&&this.addIndicesForPlacedSymbol(this.text,v),w>=0&&w!==v&&w!==m&&this.addIndicesForPlacedSymbol(this.text,w),E>=0&&this.addIndicesForPlacedSymbol(this.text,E),L>=0&&this.addIndicesForPlacedSymbol(this.icon,L),k>=0&&this.addIndicesForPlacedSymbol(this.icon,k)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}xn(Rl,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Rl.MAX_GLYPHS=65535,Rl.addDynamicAttributes=$d;const fg=new Le({"symbol-placement":new oe(vt.layout_symbol["symbol-placement"]),"symbol-spacing":new oe(vt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new oe(vt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ye(vt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new oe(vt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new oe(vt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new oe(vt.layout_symbol["icon-ignore-placement"]),"icon-optional":new oe(vt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new oe(vt.layout_symbol["icon-rotation-alignment"]),"icon-size":new ye(vt.layout_symbol["icon-size"]),"icon-text-fit":new oe(vt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new oe(vt.layout_symbol["icon-text-fit-padding"]),"icon-image":new ye(vt.layout_symbol["icon-image"]),"icon-rotate":new ye(vt.layout_symbol["icon-rotate"]),"icon-padding":new oe(vt.layout_symbol["icon-padding"]),"icon-keep-upright":new oe(vt.layout_symbol["icon-keep-upright"]),"icon-offset":new ye(vt.layout_symbol["icon-offset"]),"icon-anchor":new ye(vt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new oe(vt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new oe(vt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new oe(vt.layout_symbol["text-rotation-alignment"]),"text-field":new ye(vt.layout_symbol["text-field"]),"text-font":new ye(vt.layout_symbol["text-font"]),"text-size":new ye(vt.layout_symbol["text-size"]),"text-max-width":new ye(vt.layout_symbol["text-max-width"]),"text-line-height":new ye(vt.layout_symbol["text-line-height"]),"text-letter-spacing":new ye(vt.layout_symbol["text-letter-spacing"]),"text-justify":new ye(vt.layout_symbol["text-justify"]),"text-radial-offset":new ye(vt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new oe(vt.layout_symbol["text-variable-anchor"]),"text-anchor":new ye(vt.layout_symbol["text-anchor"]),"text-max-angle":new oe(vt.layout_symbol["text-max-angle"]),"text-writing-mode":new oe(vt.layout_symbol["text-writing-mode"]),"text-rotate":new ye(vt.layout_symbol["text-rotate"]),"text-padding":new oe(vt.layout_symbol["text-padding"]),"text-keep-upright":new oe(vt.layout_symbol["text-keep-upright"]),"text-transform":new ye(vt.layout_symbol["text-transform"]),"text-offset":new ye(vt.layout_symbol["text-offset"]),"text-allow-overlap":new oe(vt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new oe(vt.layout_symbol["text-ignore-placement"]),"text-optional":new oe(vt.layout_symbol["text-optional"])});var Gd={paint:new Le({"icon-opacity":new ye(vt.paint_symbol["icon-opacity"]),"icon-color":new ye(vt.paint_symbol["icon-color"]),"icon-halo-color":new ye(vt.paint_symbol["icon-halo-color"]),"icon-halo-width":new ye(vt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ye(vt.paint_symbol["icon-halo-blur"]),"icon-translate":new oe(vt.paint_symbol["icon-translate"]),"icon-translate-anchor":new oe(vt.paint_symbol["icon-translate-anchor"]),"text-opacity":new ye(vt.paint_symbol["text-opacity"]),"text-color":new ye(vt.paint_symbol["text-color"],{runtimeType:Is,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new ye(vt.paint_symbol["text-halo-color"]),"text-halo-width":new ye(vt.paint_symbol["text-halo-width"]),"text-halo-blur":new ye(vt.paint_symbol["text-halo-blur"]),"text-translate":new oe(vt.paint_symbol["text-translate"]),"text-translate-anchor":new oe(vt.paint_symbol["text-translate-anchor"])}),layout:fg};class ky{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:fl,this.defaultValue=e}evaluate(e){if(e.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(e.formattedSection))return o.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}xn(ky,"FormatSectionOverride",{omit:["defaultValue"]});class Gh extends El{constructor(e){super(e,Gd)}recalculate(e,o){super.recalculate(e,o),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const m=[];for(const v of d)m.indexOf(v)<0&&m.push(v);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,o,d,m){const v=this.layout.get(e).evaluate(o,{},d,m),w=this._unevaluatedLayout._values[e];return w.isDataDriven()||Xl(w.value)||!v?v:(E=o.properties,v.replace(/{([^{}]+)}/g,(k,j)=>j in E?String(E[j]):""));var E}createBucket(e){return new Rl(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Gd.paint.overridableProperties){if(!Gh.hasPaintOverride(this.layout,e))continue;const o=this.paint.get(e),d=new ky(o),m=new Pc(d,o.property.specification);let v=null;v="constant"===o.value.kind||"source"===o.value.kind?new aa("source",m):new Ql("composite",m,o.value.zoomStops,o.value._interpolationType),this.paint._values[e]=new be(o.property,v,o.parameters)}}_handleOverridablePaintPropertyUpdate(e,o,d){return!(!this.layout||o.isDataDriven()||d.isDataDriven())&&Gh.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,o){const d=e.get("text-field"),m=Gd.paint.properties[o];let v=!1;const w=E=>{for(const L of E)if(m.overrides&&m.overrides.hasOverride(L))return void(v=!0)};if("constant"===d.value.kind&&d.value.value instanceof sr)w(d.value.value.sections);else if("source"===d.value.kind){const E=k=>{v||(k instanceof bn&&Br(k.value)===Bo?w(k.value.sections):k instanceof kr?w(k.sections):k.eachChild(E))},L=d.value;L._styleExpression&&E(L._styleExpression.expression)}return v}getProgramConfiguration(e){return new Ru(this,e)}}var f0={paint:new Le({"background-color":new oe(vt.paint_background["background-color"]),"background-pattern":new oe(vt.paint_background["background-pattern"]),"background-opacity":new oe(vt.paint_background["background-opacity"])})},Vb={paint:new Le({"raster-opacity":new oe(vt.paint_raster["raster-opacity"]),"raster-hue-rotate":new oe(vt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new oe(vt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new oe(vt.paint_raster["raster-brightness-max"]),"raster-saturation":new oe(vt.paint_raster["raster-saturation"]),"raster-contrast":new oe(vt.paint_raster["raster-contrast"]),"raster-resampling":new oe(vt.paint_raster["raster-resampling"]),"raster-fade-duration":new oe(vt.paint_raster["raster-fade-duration"])})};class p0 extends El{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(){return void 0!==this.implementation.renderToTile}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var m0={paint:new Le({"sky-type":new oe(vt.paint_sky["sky-type"]),"sky-atmosphere-sun":new oe(vt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new oe(vt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new oe(vt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new oe(vt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ce(vt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new oe(vt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new oe(vt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new oe(vt.paint_sky["sky-opacity"])})};function Py(r,e,o){const d=[0,0,1],m=If([]);return Wp(m,m,o?-Nt(r)+Math.PI:Nt(r)),kf(m,m,-Nt(e)),Bv(d,d,m),Es(d,d)}const Hb={circle:class extends El{constructor(r){super(r,Sh)}createBucket(r){return new Ad(r)}queryRadius(r){const e=r;return Gc("circle-radius",this,e)+Gc("circle-stroke-width",this,e)+Eh(this.paint.get("circle-translate"))}queryIntersectsFeature(r,e,o,d,m,v,w,E){const L=Th(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),k=this.paint.get("circle-radius").evaluate(e,o)+this.paint.get("circle-stroke-width").evaluate(e,o);return ny(r,d,v,w,E,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),L,k)}getProgramIds(){return["circle"]}getProgramConfiguration(r){return new Ru(this,r)}},heatmap:class extends El{createBucket(r){return new iy(r)}constructor(r){super(r,ry),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){"heatmap-color"===r&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=nm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(r){return Gc("heatmap-radius",this,r)}queryIntersectsFeature(r,e,o,d,m,v,w,E){const L=this.paint.get("heatmap-radius").evaluate(e,o);return ny(r,d,v,w,E,!0,!0,new qe(0,0),L)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(r){return new Ru(this,r)}},hillshade:class extends El{constructor(r){super(r,Hv)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends El{constructor(r){super(r,Od)}getProgramIds(){const r=this.paint.get("fill-pattern"),e=r&&r.constantOr(1),o=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(r){return new Ru(this,r)}recalculate(r,e){super.recalculate(r,e);const o=this.paint._values["fill-outline-color"];"constant"===o.value.kind&&void 0===o.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new Ih(r)}queryRadius(){return Eh(this.paint.get("fill-translate"))}queryIntersectsFeature(r,e,o,d,m,v){return!r.queryGeometry.isAboveHorizon&&A_(Hu(r.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends El{constructor(r){super(r,Qf)}createBucket(r){return new dm(r)}queryRadius(){return Eh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(r){return new Ru(this,r)}queryIntersectsFeature(r,e,o,d,m,v,w,E,L){const k=Th(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),j=this.paint.get("fill-extrusion-height").evaluate(e,o),H=this.paint.get("fill-extrusion-base").evaluate(e,o),W=[0,0],Q=E&&v.elevation,te=v.elevation?v.elevation.exaggeration():1,le=r.tile.getBucket(this);if(Q&&le instanceof dm){const Pe=le.centroidVertexArray,ze=L+1;ze<Pe.length&&(W[0]=Pe.geta_centroid_pos0(ze),W[1]=Pe.geta_centroid_pos1(ze))}if(0===W[0]&&1===W[1])return!1;"globe"===v.projection.name&&(d=fy([d],[new qe(0,0),new qe(Cn,Cn)],r.tileID.canonical).map(Pe=>Pe.polygon).flat());const ge=Q?E:null,[Te,Oe]=(ze=d,je=H,ot=j,st=k,xt=w,Gt=ge,ft=W,kt=te,It=v.center.lat,"globe"===(Pe=v).projection.name?function(Ht,yt,tn,gn,un,Vn,Qt,Ln,ci,Ci,si){const Rn=[],qi=[],Hn=Ht.projection.upVectorScale(si,Ht.center.lat,Ht.worldSize).metersToTile,ui=[0,0,0,1],Hi=[0,0,0,1],hr=(cr,Rr,Fr,Jr)=>{cr[0]=Rr,cr[1]=Fr,cr[2]=Jr,cr[3]=1},lr=Jf();tn>0&&(tn+=lr),gn+=lr;for(const cr of yt){const Rr=[],Fr=[];for(const Jr of cr){const ur=Jr.x+un.x,ss=Jr.y+un.y,os=Ht.projection.projectTilePoint(ur,ss,si),Sr=Ht.projection.upVector(si,Jr.x,Jr.y);let Wi=tn,fs=gn;if(Qt){const wr=pm(ur,ss,tn,gn,Qt,Ln,ci,Ci);Wi+=wr.base,fs+=wr.top}0!==tn?hr(ui,os.x+Sr[0]*Hn*Wi,os.y+Sr[1]*Hn*Wi,os.z+Sr[2]*Hn*Wi):hr(ui,os.x,os.y,os.z),hr(Hi,os.x+Sr[0]*Hn*fs,os.y+Sr[1]*Hn*fs,os.z+Sr[2]*Hn*fs),ds(ui,ui,Vn),ds(Hi,Hi,Vn),Rr.push(new Oh(ui[0],ui[1],ui[2])),Fr.push(new Oh(Hi[0],Hi[1],Hi[2]))}Rn.push(Rr),qi.push(Fr)}return[Rn,qi]}(Pe,ze,je,ot,st,xt,Gt,ft,kt,It,r.tileID.canonical):Gt?function(Ht,yt,tn,gn,un,Vn,Qt,Ln,ci){const Ci=[],si=[],Rn=[0,0,0,1];for(const qi of Ht){const Hn=[],ui=[];for(const Hi of qi){const hr=Hi.x+gn.x,lr=Hi.y+gn.y,cr=pm(hr,lr,yt,tn,Vn,Qt,Ln,ci);Rn[0]=hr,Rn[1]=lr,Rn[2]=cr.base,Rn[3]=1,Bu(Rn,Rn,un),Rn[3]=Math.max(Rn[3],1e-5);const Rr=new Oh(Rn[0]/Rn[3],Rn[1]/Rn[3],Rn[2]/Rn[3]);Rn[0]=hr,Rn[1]=lr,Rn[2]=cr.top,Rn[3]=1,Bu(Rn,Rn,un),Rn[3]=Math.max(Rn[3],1e-5);const Fr=new Oh(Rn[0]/Rn[3],Rn[1]/Rn[3],Rn[2]/Rn[3]);Hn.push(Rr),ui.push(Fr)}Ci.push(Hn),si.push(ui)}return[Ci,si]}(ze,je,ot,st,xt,Gt,ft,kt,It):function(Ht,yt,tn,gn,un){const Vn=[],Qt=[],Ln=un[8]*yt,ci=un[9]*yt,Ci=un[10]*yt,si=un[11]*yt,Rn=un[8]*tn,qi=un[9]*tn,Hn=un[10]*tn,ui=un[11]*tn;for(const Hi of Ht){const hr=[],lr=[];for(const cr of Hi){const Rr=cr.x+gn.x,Fr=cr.y+gn.y,Jr=un[0]*Rr+un[4]*Fr+un[12],ur=un[1]*Rr+un[5]*Fr+un[13],ss=un[2]*Rr+un[6]*Fr+un[14],os=un[3]*Rr+un[7]*Fr+un[15],Sr=Jr+Ln,Wi=ur+ci,fs=ss+Ci,wr=Math.max(os+si,1e-5),yo=Jr+Rn,xs=ur+qi,vo=ss+Hn,Ws=Math.max(os+ui,1e-5);hr.push(new Oh(Sr/wr,Wi/wr,fs/wr)),lr.push(new Oh(yo/Ws,xs/Ws,vo/Ws))}Vn.push(hr),Qt.push(lr)}return[Vn,Qt]}(ze,je,ot,st,xt)),Ee=r.queryGeometry;var Pe,ze,je,ot,st,xt,Gt,ft,kt,It;return function(Pe,ze,je){let ot=1/0;A_(je,ze)&&(ot=yn(je,ze[0]));for(let st=0;st<ze.length;st++){const xt=ze[st],Gt=Pe[st];for(let ft=0;ft<xt.length-1;ft++){const kt=xt[ft],It=[kt,xt[ft+1],Gt[ft+1],Gt[ft],kt];uc(je,It)&&(ot=Math.min(ot,yn(je,It)))}}return ot!==1/0&&ot}(Te,Oe,Ee.isPointQuery()?Ee.screenBounds:Ee.screenGeometry)}},line:class extends El{constructor(r){super(r,Na),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){if("line-gradient"===r){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof th,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(r,e){super.recalculate(r,e),this.paint._values["line-floorwidth"]=Xv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new Rh(r)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(r){return new Ru(this,r)}queryRadius(r){const e=r,o=Jv(Gc("line-width",this,e),Gc("line-gap-width",this,e)),d=Gc("line-offset",this,e);return o/2+Math.abs(d)+Eh(this.paint.get("line-translate"))}queryIntersectsFeature(r,e,o,d,m,v){if(r.queryGeometry.isAboveHorizon)return!1;const w=Hu(r.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),E=r.pixelToTileUnitsFactor/2*Jv(this.paint.get("line-width").evaluate(e,o),this.paint.get("line-gap-width").evaluate(e,o)),L=this.paint.get("line-offset").evaluate(e,o);return L&&(d=function(k,j){const H=[],W=new qe(0,0);for(let Q=0;Q<k.length;Q++){const te=k[Q],le=[];for(let ge=0;ge<te.length;ge++){const Te=te[ge],Oe=te[ge+1],Ee=0===ge?W:Te.sub(te[ge-1])._unit()._perp(),Pe=ge===te.length-1?W:Oe.sub(Te)._unit()._perp(),ze=Ee._add(Pe)._unit();ze._mult(1/(ze.x*Pe.x+ze.y*Pe.y)),le.push(ze._mult(j)._add(Te))}H.push(le)}return H}(d,L*r.pixelToTileUnitsFactor)),function(k,j,H){for(let W=0;W<j.length;W++){const Q=j[W];if(k.length>=3)for(let te=0;te<Q.length;te++)if(Vu(k,Q[te]))return!0;if(I_(k,Q,H))return!0}return!1}(w,d,E)}isTileClipped(){return!0}},symbol:Gh,background:class extends El{constructor(r){super(r,f0)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends El{constructor(r){super(r,Vb)}getProgramIds(){return["raster"]}},sky:class extends El{constructor(r){super(r,m0),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){"sky-gradient"===r?this._updateColorRamp():"sky-atmosphere-sun"!==r&&"sky-atmosphere-halo-color"!==r&&"sky-atmosphere-color"!==r&&"sky-atmosphere-sun-intensity"!==r||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=nm({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(r){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=r.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return!1}getCenter(r,e){if("atmosphere"===this.paint.get("sky-type")){const d=this.paint.get("sky-atmosphere-sun"),m=!d,v=r.style.light,w=v.properties.get("position");return m&&"viewport"===v.properties.get("anchor")&&di("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),m?Py(w.azimuthal,90-w.polar,e):Py(d[0],90-d[1],e)}const o=this.paint.get("sky-gradient-center");return Py(o[0],90-o[1],e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(r){this._skyboxInvalidated=!1,this._lightPosition=r.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const r=this.paint.get("sky-type");return"atmosphere"===r?["skyboxCapture","skybox"]:"gradient"===r?["skyboxGradient"]:null}}};class ko{constructor(e,o,d,m){this.context=e,this.format=d,this.texture=e.gl.createTexture(),this.update(o,m)}update(e,o,d){const{width:m,height:v}=e,{context:w}=this,{gl:E}=w,{HTMLImageElement:L,HTMLCanvasElement:k,HTMLVideoElement:j,ImageData:H,ImageBitmap:W}=F;if(E.bindTexture(E.TEXTURE_2D,this.texture),w.pixelStoreUnpackFlipY.set(!1),w.pixelStoreUnpack.set(1),w.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!o||!1!==o.premultiply)),d||this.size&&this.size[0]===m&&this.size[1]===v){const{x:Q,y:te}=d||{x:0,y:0};e instanceof L||e instanceof k||e instanceof j||e instanceof H||W&&e instanceof W?E.texSubImage2D(E.TEXTURE_2D,0,Q,te,E.RGBA,E.UNSIGNED_BYTE,e):E.texSubImage2D(E.TEXTURE_2D,0,Q,te,m,v,E.RGBA,E.UNSIGNED_BYTE,e.data)}else this.size=[m,v],e instanceof L||e instanceof k||e instanceof j||e instanceof H||W&&e instanceof W?E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,E.UNSIGNED_BYTE,e):E.texImage2D(E.TEXTURE_2D,0,this.format,m,v,0,this.format,E.UNSIGNED_BYTE,e.data);this.useMipmap=!!(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&E.generateMipmap(E.TEXTURE_2D)}bind(e,o){const{context:d}=this,{gl:m}=d;m.bindTexture(m.TEXTURE_2D,this.texture),e!==this.filter&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,e),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,this.useMipmap?e===m.NEAREST?m.NEAREST_MIPMAP_NEAREST:m.LINEAR_MIPMAP_NEAREST:e),this.filter=e),o!==this.wrap&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,o),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class $b{constructor(e){this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class _0{constructor(){this.tasks={},this.taskQueue=[],Tt(["process"],this),this.invoker=new $b(this.process),this.nextId=0}add(e,o){const d=this.nextId++,m=function({type:v,isSymbolTile:w,zoom:E}){return E=E||0,"message"===v?0:"maybePrepare"!==v||w?"parseTile"!==v||w?"parseTile"===v&&w?300-E:"maybePrepare"===v&&w?400-E:500:200-E:100-E}(o);if(0===m){$i();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:e,metadata:o,priority:m,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){$i();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const o=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let e=null,o=1/0;for(let m=0;m<this.taskQueue.length;m++){const v=this.tasks[this.taskQueue[m]];v.priority<o&&(o=v.priority,e=m)}if(null===e)return null;const d=this.taskQueue[e];return this.taskQueue.splice(e,1),d}remove(){this.invoker.remove()}}class Oy{constructor(e){this._stringToNumber={},this._numberToString=[];for(let o=0;o<e.length;o++){const d=e[o];this._stringToNumber[d]=o,this._numberToString[o]=d}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const Ry=["tile","layer","source","sourceLayer","state"];class Fy{constructor(e,o,d,m,v){this.type="Feature",this._vectorTileFeature=e,this._z=o,this._x=d,this._y=m,this.properties=e.properties,this.id=v}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const o of Ry)void 0!==this[o]&&(e[o]=this[o]);return e}}const Nl=new Uint16Array(8184);for(let r=0;r<2046;r++){let e=r+2,o=0,d=0,m=0,v=0,w=0,E=0;for(1&e?m=v=w=32:o=d=E=32;(e>>=1)>1;){const k=o+m>>1,j=d+v>>1;1&e?(m=o,v=d,o=w,d=E):(o=m,d=v,m=w,v=E),w=k,E=j}const L=4*r;Nl[L+0]=o,Nl[L+1]=d,Nl[L+2]=m,Nl[L+3]=v}const Po=new Uint16Array(2178),al=new Uint8Array(1089),Wh=new Uint16Array(1089);function Nm(r){return 0===r?-.03125:32===r?.03125:0}var Bm=Ze([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Ny={type:2,extent:Cn,loadGeometry:()=>[[new qe(0,0),new qe(Cn+1,0),new qe(Cn+1,Cn+1),new qe(0,Cn+1),new qe(0,0)]]};class Zh{constructor(e,o,d,m,v){this.tileID=e,this.uid=At(),this.uses=0,this.tileSize=o,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,this.expiredRequestCount=0,this.state="loading",m&&m.transform&&(this.projection=m.transform.projection)}registerFadeDuration(e){const o=e+this.timeAdded;o<Ni.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Qc(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,o,d){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(m,v){const w={};if(!v)return w;for(const E of m){const L=E.layerIds.map(k=>v.getLayer(k)).filter(Boolean);if(0!==L.length){E.layers=L,E.stateDependentLayerIds&&(E.stateDependentLayers=E.stateDependentLayerIds.map(k=>L.filter(j=>j.id===k)[0]));for(const k of L)w[k.id]=E}}return w}(e.buckets,o.style),this.hasSymbolBuckets=!1;for(const m in this.buckets){const v=this.buckets[m];if(v instanceof Rl){if(this.hasSymbolBuckets=!0,!d)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const m in this.buckets){const v=this.buckets[m];if(v instanceof Rl&&v.hasRTLText){this.hasRTLText=!0,N.isLoading()||N.isLoaded()||"deferred"!==S()||O();break}}this.queryPadding=0;for(const m in this.buckets){const v=this.buckets[m];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(m).queryRadius(v))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new lt}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const d in this.buckets){const m=this.buckets[d];m.uploadPending()&&m.upload(e)}const o=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ko(e,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ko(e,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new ko(e,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,o,d,m,v,w,E,L){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:m,pixelPosMatrix:E,transform:w,params:v,tileTransform:this.tileTransform},e,o,d):{}}querySourceFeatures(e,o){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const m=d.loadVTLayers(),v=o?o.sourceLayer:"",w=m._geojsonTileLayer||m[v];if(!w)return;const E=jo(o&&o.filter),{z:L,x:k,y:j}=this.tileID.canonical,H={z:L,x:k,y:j};for(let W=0;W<w.length;W++){const Q=w.feature(W);if(E.needGeometry){const ge=Cd(Q,!0);if(!E.filter(new V(this.tileID.overscaledZ),ge,this.tileID.canonical))continue}else if(!E.filter(new V(this.tileID.overscaledZ),Q))continue;const te=d.getId(Q,v),le=new Fy(Q,L,k,j,te);le.tile=H,e.push(le)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const o=this.expirationTime;if(e.cacheControl){const d=gr(e.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const d=Date.now();let m=!1;if(this.expirationTime>d)m=!1;else if(o)if(this.expirationTime<o)m=!0;else{const v=this.expirationTime-o;v?this.expirationTime=d+Math.max(v,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!o)return;const d=this.latestFeatureIndex.loadVTLayers(),m=o.style.listImages();for(const v in this.buckets){if(!o.style.hasLayer(v))continue;const w=this.buckets[v],E=w.layers[0].sourceLayer||"_geojsonTileLayer",L=d[E],k=e[E];if(!L||!k||0===Object.keys(k).length)continue;if(w.update(k,L,m,this.imageAtlas&&this.imageAtlas.patternPositions||{}),w instanceof Rh||w instanceof Ih){const H=o.style._getSourceCache(w.layers[0].source);o._terrain&&o._terrain.enabled&&H&&w.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(H.id,this.tileID)}const j=o&&o.style&&o.style.getLayer(v);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(w)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ni.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=Ni.now()+e}setTexture(e,o){const d=o.context,m=d.gl;this.texture=this.texture||o.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new ko(d,e,m.RGBA,{useMipmap:!0}),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE))}setDependencies(e,o){const d={};for(const m of o)d[m]=!0;this.dependencies[e]=d}hasDependency(e,o){for(const d of e){const m=this.dependencies[d];if(m)for(const v of o)if(m[v])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,o){if(!o||"mercator"===o.name||this._tileDebugBuffer)return;const d=cc(Ny,this.tileID.canonical,this.tileTransform)[0],m=new Rt,v=new ne;for(let w=0;w<d.length;w++){const{x:E,y:L}=d[w];m.emplaceBack(E,L),v.emplaceBack(w)}v.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(v),this._tileDebugBuffer=e.createVertexBuffer(m,xd.members),this._tileDebugSegments=rs.simpleSegment(0,0,m.length,v.length)}_makeTileBoundsBuffers(e,o){if(this._tileBoundsBuffer||!o||"mercator"===o.name)return;const d=cc(Ny,this.tileID.canonical,this.tileTransform)[0];let m,v;if(this.isRaster){const w=function(E,L){const k=Qc(E,L),j=Math.pow(2,E.z);for(let ge=0;ge<33;ge++)for(let Te=0;Te<33;Te++){const Oe=Go((E.x+(Te+Nm(Te))/32)/j),Ee=Fs((E.y+(ge+Nm(ge))/32)/j),Pe=L.project(Oe,Ee),ze=33*ge+Te;Po[2*ze+0]=Math.round((Pe.x*k.scale-k.x)*Cn),Po[2*ze+1]=Math.round((Pe.y*k.scale-k.y)*Cn)}al.fill(0),Wh.fill(0);for(let ge=2045;ge>=0;ge--){const Te=4*ge,Oe=Nl[Te+0],Ee=Nl[Te+1],Pe=Nl[Te+2],ze=Nl[Te+3],je=Oe+Pe>>1,ot=Ee+ze>>1,st=je+ot-Ee,xt=ot+Oe-je,Gt=33*Ee+Oe,ft=33*ze+Pe,kt=33*ot+je,It=Math.hypot((Po[2*Gt+0]+Po[2*ft+0])/2-Po[2*kt+0],(Po[2*Gt+1]+Po[2*ft+1])/2-Po[2*kt+1])>=16;al[kt]=al[kt]||(It?1:0),ge<1022&&(al[kt]=al[kt]||al[33*(Ee+xt>>1)+(Oe+st>>1)]||al[33*(ze+xt>>1)+(Pe+st>>1)])}const H=new Mt,W=new mn;let Q=0;function te(ge,Te){const Oe=33*Te+ge;return 0===Wh[Oe]&&(H.emplaceBack(Po[2*Oe+0],Po[2*Oe+1],ge*Cn/32,Te*Cn/32),Wh[Oe]=++Q),Wh[Oe]-1}function le(ge,Te,Oe,Ee,Pe,ze){const je=ge+Oe>>1,ot=Te+Ee>>1;if(Math.abs(ge-Pe)+Math.abs(Te-ze)>1&&al[33*ot+je])le(Pe,ze,ge,Te,je,ot),le(Oe,Ee,Pe,ze,je,ot);else{const st=te(ge,Te),xt=te(Oe,Ee),Gt=te(Pe,ze);W.emplaceBack(st,xt,Gt)}}return le(0,0,32,32,32,0),le(32,32,0,0,0,32),{vertices:H,indices:W}}(this.tileID.canonical,o);m=w.vertices,v=w.indices}else{m=new Mt,v=new mn;for(const{x:E,y:L}of d)m.emplaceBack(E,L,0,0);const w=j_(m.int16,void 0,4);for(let E=0;E<w.length;E+=3)v.emplaceBack(w[E],w[E+1],w[E+2])}this._tileBoundsBuffer=e.createVertexBuffer(m,Bm.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(v),this._tileBoundsSegments=rs.simpleSegment(0,0,m.length,v.length)}_makeGlobeTileDebugBuffers(e,o){const d=o.projection;if(!d||"globe"!==d.name||o.freezeTileCoverage)return;const m=this.tileID.canonical,v=Jp(Md(m,o)),w=xh(o.zoom);let E;w>0&&(E=jp(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,m,o,v,E,w),this._makeGlobeTileDebugTextBuffer(e,m,o,v,E,w)}_globePoint(e,o,d,m,v,w,E){let L=bh(e,o,d);if(w){const k=1<<d.z,j=lc(m.center.lng),H=nl(m.center.lat),W=(d.x+.5)/k-j;let Q=0;W>.5?Q=-1:W<-.5&&(Q=1);let te=(e/Cn+d.x)/k+Q,le=(o/Cn+d.y)/k;te=(te-j)*m._pixelsPerMercatorPixel+j,le=(le-H)*m._pixelsPerMercatorPixel+H;const ge=[te*m.worldSize,le*m.worldSize,0];ds(ge,ge,w),L=wd(L,ge,E)}return ds(L,L,v)}_makeGlobeTileDebugBorderBuffer(e,o,d,m,v,w){const E=new Rt,L=new ne,k=new Qe,j=(W,Q,te,le,ge)=>{const Te=(te-W)/(ge-1),Oe=(le-Q)/(ge-1),Ee=E.length;for(let Pe=0;Pe<ge;Pe++){const ze=W+Pe*Te,je=Q+Pe*Oe;E.emplaceBack(ze,je);const ot=this._globePoint(ze,je,o,d,m,v,w);k.emplaceBack(ot[0],ot[1],ot[2]),L.emplaceBack(Ee+Pe)}},H=Cn;j(0,0,H,0,16),j(H,0,H,H,16),j(H,H,0,H,16),j(0,H,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(L),this._tileDebugBuffer=e.createVertexBuffer(E,xd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(k,qp.members),this._tileDebugSegments=rs.simpleSegment(0,0,E.length,L.length)}_makeGlobeTileDebugTextBuffer(e,o,d,m,v,w){const E=Cn/4,L=new Rt,k=new mn,j=new Qe,H=25;k.reserve(32),L.reserve(H),j.reserve(H);const W=(Q,te)=>H*Q+te;for(let Q=0;Q<H;Q++){const te=Q*E;for(let le=0;le<H;le++){const ge=le*E;L.emplaceBack(ge,te);const Te=this._globePoint(ge,te,o,d,m,v,w);j.emplaceBack(Te[0],Te[1],Te[2])}}for(let Q=0;Q<4;Q++)for(let te=0;te<4;te++){const le=W(Q,te),ge=W(Q,te+1),Te=W(Q+1,te),Oe=W(Q+1,te+1);k.emplaceBack(le,ge,Te),k.emplaceBack(Te,ge,Oe)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(k),this._tileDebugTextBuffer=e.createVertexBuffer(L,xd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(j,qp.members),this._tileDebugTextSegments=rs.simpleSegment(0,0,H,32)}}class By{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,o,d){const m=String(o);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][m]=this.stateChanges[e][m]||{},dt(this.stateChanges[e][m],d),null===this.deletedStates[e]){this.deletedStates[e]={};for(const v in this.state[e])v!==m&&(this.deletedStates[e][v]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][m]){this.deletedStates[e][m]={};for(const v in this.state[e][m])d[v]||(this.deletedStates[e][m][v]=null)}else for(const v in d)this.deletedStates[e]&&this.deletedStates[e][m]&&null===this.deletedStates[e][m][v]&&delete this.deletedStates[e][m][v]}removeFeatureState(e,o,d){if(null===this.deletedStates[e])return;const m=String(o);if(this.deletedStates[e]=this.deletedStates[e]||{},d&&void 0!==o)null!==this.deletedStates[e][m]&&(this.deletedStates[e][m]=this.deletedStates[e][m]||{},this.deletedStates[e][m][d]=null);else if(void 0!==o)if(this.stateChanges[e]&&this.stateChanges[e][m])for(d in this.deletedStates[e][m]={},this.stateChanges[e][m])this.deletedStates[e][m][d]=null;else this.deletedStates[e][m]=null;else this.deletedStates[e]=null}getState(e,o){const d=String(o),m=dt({},(this.state[e]||{})[d],(this.stateChanges[e]||{})[d]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const v=this.deletedStates[e][o];if(null===v)return{};for(const w in v)delete m[w]}return m}initializeTileState(e,o){e.setFeatureState(this.state,o)}coalesceChanges(e,o){const d={};for(const m in this.stateChanges){this.state[m]=this.state[m]||{};const v={};for(const w in this.stateChanges[m])this.state[m][w]||(this.state[m][w]={}),dt(this.state[m][w],this.stateChanges[m][w]),v[w]=this.state[m][w];d[m]=v}for(const m in this.deletedStates){this.state[m]=this.state[m]||{};const v={};if(null===this.deletedStates[m])for(const w in this.state[m])v[w]={},this.state[m][w]={};else for(const w in this.deletedStates[m]){if(null===this.deletedStates[m][w])this.state[m][w]={};else if(this.state[m][w])for(const E of Object.keys(this.deletedStates[m][w]))delete this.state[m][w][E];v[w]=this.state[m][w]}d[m]=d[m]||{},dt(d[m],v)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(d).length)for(const m in e)e[m].setFeatureState(d,o)}}class pg{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,o){const d=this.toIdx(e,o);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(e,o){return this.leaves[this.toIdx(e,o)]}toIdx(e,o){return o*this.size+e}}function ll(r,e,o,d){let m=0,v=Number.MAX_VALUE;for(let w=0;w<3;w++)if(Math.abs(d[w])<1e-15){if(o[w]<r[w]||o[w]>e[w])return null}else{const E=1/d[w];let L=(r[w]-o[w])*E,k=(e[w]-o[w])*E;if(L>k){const j=L;L=k,k=j}if(L>m&&(m=L),k<v&&(v=k),m>v)return null}return m}function iu(r,e,o,d,m,v,w,E,L,k,j){const H=d-r,W=m-e,Q=v-o,te=w-r,le=E-e,ge=L-o,Te=j[1]*ge-j[2]*le,Oe=j[2]*te-j[0]*ge,Ee=j[0]*le-j[1]*te,Pe=H*Te+W*Oe+Q*Ee;if(Math.abs(Pe)<1e-15)return null;const ze=1/Pe,je=k[0]-r,ot=k[1]-e,st=k[2]-o,xt=(je*Te+ot*Oe+st*Ee)*ze;if(xt<0||xt>1)return null;const Gt=ot*Q-st*W,ft=st*H-je*Q,kt=je*W-ot*H,It=(j[0]*Gt+j[1]*ft+j[2]*kt)*ze;return It<0||xt+It>1?null:(te*Gt+le*ft+ge*kt)*ze}function g0(r,e,o){return(r-e)/(o-e)}function zy(r,e,o,d,m,v,w,E,L){const k=1<<o,j=v-d,H=w-m,W=(r+1)/k*j+d,Q=(e+0)/k*H+m,te=(e+1)/k*H+m;E[0]=(r+0)/k*j+d,E[1]=Q,L[0]=W,L[1]=te}class jy{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(v){const w=Math.ceil(Math.log2(v.dim/8)),E=[];let L=Math.ceil(Math.pow(2,w));const k=1/L,j=(Q,te,le,ge,Te)=>{const Oe=ge?1:0,Ee=(Q+1)*le-Oe,Pe=te*le,ze=(te+1)*le-Oe;Te[0]=Q*le,Te[1]=Pe,Te[2]=Ee,Te[3]=ze};let H=new pg(L);const W=[];for(let Q=0;Q<L*L;Q++){j(Q%L,Math.floor(Q/L),k,!1,W);const te=Xo(W[0],W[1],v),le=Xo(W[2],W[1],v),ge=Xo(W[2],W[3],v),Te=Xo(W[0],W[3],v);H.minimums.push(Math.min(te,le,ge,Te)),H.maximums.push(Math.max(te,le,ge,Te)),H.leaves.push(1)}for(E.push(H),L/=2;L>=1;L/=2){const Q=E[E.length-1];H=new pg(L);for(let te=0;te<L*L;te++){j(te%L,Math.floor(te/L),2,!0,W);const le=Q.getElevation(W[0],W[1]),ge=Q.getElevation(W[2],W[1]),Te=Q.getElevation(W[2],W[3]),Oe=Q.getElevation(W[0],W[3]),Ee=Q.isLeaf(W[0],W[1]),Pe=Q.isLeaf(W[2],W[1]),ze=Q.isLeaf(W[2],W[3]),je=Q.isLeaf(W[0],W[3]),ot=Math.min(le.min,ge.min,Te.min,Oe.min),st=Math.max(le.max,ge.max,Te.max,Oe.max),xt=Ee&&Pe&&ze&&je;H.maximums.push(st),H.minimums.push(ot),H.leaves.push(st-ot<=5&&xt?1:0)}E.push(H)}return E}(this.dem),d=o.length-1,m=o[d];this._addNode(m.minimums[0],m.maximums[0],m.leaves[0]),this._construct(o,0,0,d,0)}raycastRoot(e,o,d,m,v,w,E=1){return ll([e,o,-100],[d,m,this.maximums[0]*E],v,w)}raycast(e,o,d,m,v,w,E=1){if(!this.nodeCount)return null;const L=this.raycastRoot(e,o,d,m,v,w,E);if(null==L)return null;const k=[],j=[],H=[],W=[],Q=[{idx:0,t:L,nodex:0,nodey:0,depth:0}];for(;Q.length>0;){const{idx:te,t:le,nodex:ge,nodey:Te,depth:Oe}=Q.pop();if(this.leaves[te]){zy(ge,Te,Oe,e,o,d,m,H,W);const Pe=1<<Oe,ze=(ge+0)/Pe,je=(ge+1)/Pe,ot=(Te+0)/Pe,st=(Te+1)/Pe,xt=Xo(ze,ot,this.dem)*E,Gt=Xo(je,ot,this.dem)*E,ft=Xo(je,st,this.dem)*E,kt=Xo(ze,st,this.dem)*E,It=iu(H[0],H[1],xt,W[0],H[1],Gt,W[0],W[1],ft,v,w),jt=iu(W[0],W[1],ft,H[0],W[1],kt,H[0],H[1],xt,v,w),Ht=Math.min(null!==It?It:Number.MAX_VALUE,null!==jt?jt:Number.MAX_VALUE);if(Ht!==Number.MAX_VALUE)return Ht;{const yt=Uc([],v,w,le);if(Yy(xt,Gt,kt,ft,g0(yt[0],H[0],W[0]),g0(yt[1],H[1],W[1]))>=yt[2])return le}continue}let Ee=0;for(let Pe=0;Pe<this._siblingOffset.length;Pe++){zy((ge<<1)+this._siblingOffset[Pe][0],(Te<<1)+this._siblingOffset[Pe][1],Oe+1,e,o,d,m,H,W),H[2]=-100,W[2]=this.maximums[this.childOffsets[te]+Pe]*E;const ze=ll(H,W,v,w);if(null!=ze){const je=ze;k[Pe]=je;let ot=!1;for(let st=0;st<Ee&&!ot;st++)je>=k[j[st]]&&(j.splice(st,0,Pe),ot=!0);ot||(j[Ee]=Pe),Ee++}}for(let Pe=0;Pe<Ee;Pe++){const ze=j[Pe];Q.push({idx:this.childOffsets[te]+ze,t:k[ze],nodex:(ge<<1)+this._siblingOffset[ze][0],nodey:(Te<<1)+this._siblingOffset[ze][1],depth:Oe+1})}}return null}_addNode(e,o,d){return this.minimums.push(e),this.maximums.push(o),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(e,o,d,m,v){if(1===e[m].isLeaf(o,d))return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const w=m-1,E=e[w];let L=0,k=0;for(let j=0;j<this._siblingOffset.length;j++){const H=2*o+this._siblingOffset[j][0],W=2*d+this._siblingOffset[j][1],Q=E.getElevation(H,W),te=E.isLeaf(H,W),le=this._addNode(Q.min,Q.max,te);te&&(L|=1<<j),k||(k=le)}for(let j=0;j<this._siblingOffset.length;j++)L&1<<j||this._construct(e,2*o+this._siblingOffset[j][0],2*d+this._siblingOffset[j][1],w,k+j)}}function Yy(r,e,o,d,m,v){return Bi(Bi(r,o,v),Bi(e,d,v),m)}function Xo(r,e,o){const d=o.dim,m=ei(r*d-.5,0,d-1),v=ei(e*d-.5,0,d-1),w=Math.floor(m),E=Math.floor(v),L=Math.min(w+1,d-1),k=Math.min(E+1,d-1);return Yy(o.get(w,E),o.get(L,E),o.get(w,k),o.get(L,k),m-w,v-E)}const ru={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function qh(r,e,o){return(256*r*256+256*e+o)/10-1e4}function zm(r,e,o){return 256*r+e+o/256-32768}class Xu{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,o,d,m=!1,v=!1){if(this.uid=e,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(d&&"mapbox"!==d&&"terrarium"!==d)return di(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const w=this.dim=o.height-2,E=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=d||"mapbox",this.borderReady=m,!m){for(let L=0;L<w;L++)E[this._idx(-1,L)]=E[this._idx(0,L)],E[this._idx(w,L)]=E[this._idx(w-1,L)],E[this._idx(L,-1)]=E[this._idx(L,0)],E[this._idx(L,w)]=E[this._idx(L,w-1)];E[this._idx(-1,-1)]=E[this._idx(0,0)],E[this._idx(w,-1)]=E[this._idx(w-1,0)],E[this._idx(-1,w)]=E[this._idx(0,w-1)],E[this._idx(w,w)]=E[this._idx(w-1,w-1)],v&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new jy(this)}get(e,o,d=!1){d&&(e=ei(e,-1,this.dim),o=ei(o,-1,this.dim));const m=4*this._idx(e,o);return("terrarium"===this.encoding?zm:qh)(this.pixels[m],this.pixels[m+1],this.pixels[m+2])}static getUnpackVector(e){return ru[e]}get unpackVector(){return ru[this.encoding]}_idx(e,o){if(e<-1||e>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(e+1)}static pack(e,o){const d=[0,0,0,0],m=Xu.getUnpackVector(o);let v=Math.floor((e+m[3])/m[2]);return d[2]=v%256,v=Math.floor(v/256),d[1]=v%256,v=Math.floor(v/256),d[0]=v,d}getPixels(){return new Wo({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,o,d){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let m=o*this.dim,v=o*this.dim+this.dim,w=d*this.dim,E=d*this.dim+this.dim;switch(o){case-1:m=v-1;break;case 1:v=m+1}switch(d){case-1:w=E-1;break;case 1:E=w+1}const L=-o*this.dim,k=-d*this.dim;for(let j=w;j<E;j++)for(let H=m;H<v;H++){const W=4*this._idx(H,j),Q=4*this._idx(H+L,j+k);this.pixels[W+0]=e.pixels[Q+0],this.pixels[W+1]=e.pixels[Q+1],this.pixels[W+2]=e.pixels[Q+2],this.pixels[W+3]=e.pixels[Q+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}xn(Xu,"DEMData"),xn(jy,"DemMinMaxQuadTree",{omit:["dem"]});class hp{constructor(e,o){this.max=e,this.onRemove=o,this.reset()}reset(){for(const e in this.data)for(const o of this.data[e])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(e,o,d){const m=e.wrapped().key;void 0===this.data[m]&&(this.data[m]=[]);const v={value:o,timeout:void 0};if(void 0!==d&&(v.timeout=setTimeout(()=>{this.remove(e,v)},d)),this.data[m].push(v),this.order.push(m),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const o=this.data[e].shift();return o.timeout&&clearTimeout(o.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),o.value}getByKey(e){const o=this.data[e];return o?o[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,o){if(!this.has(e))return this;const d=e.wrapped().key,m=void 0===o?0:this.data[d].indexOf(o),v=this.data[d][m];return this.data[d].splice(m,1),v.timeout&&clearTimeout(v.timeout),0===this.data[d].length&&delete this.data[d],this.onRemove(v.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(e){const o=[];for(const d in this.data)for(const m of this.data[d])e(m.value)||o.push(m);for(const d of o)this.remove(d.value.tileID,d)}}class Wd{constructor(e,o,d){this.func=e,this.mask=o,this.range=d}}Wd.ReadOnly=!1,Wd.ReadWrite=!0,Wd.disabled=new Wd(519,Wd.ReadOnly,[0,1]);class Ju{constructor(e,o,d,m,v,w){this.test=e,this.ref=o,this.mask=d,this.fail=m,this.depthFail=v,this.pass=w}}Ju.disabled=new Ju({func:519,mask:0},0,0,7680,7680,7680);class lo{constructor(e,o,d){this.blendFunction=e,this.blendColor=o,this.mask=d}}lo.Replace=[1,0],lo.disabled=new lo(lo.Replace,kn.transparent,[!1,!1,!1,!1]),lo.unblended=new lo(lo.Replace,kn.transparent,[!0,!0,!0,!0]),lo.alphaBlended=new lo([1,771],kn.transparent,[!0,!0,!0,!0]);class za{constructor(e,o,d){this.enable=e,this.mode=o,this.frontFace=d}}za.disabled=new za(!1,1029,2305),za.backCCW=new za(!0,1029,2305),za.backCW=new za(!0,1029,2304),za.frontCW=new za(!0,1028,2304),za.frontCCW=new za(!0,1028,2305);class Qu extends Da{constructor(e,o,d){super(),this.id=e,this._onlySymbols=d,o.on("data",m=>{"source"===m.dataType&&"metadata"===m.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===m.dataType&&"content"===m.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),o.on("error",()=>{this._sourceErrored=!0}),this._source=o,this._tiles={},this._cache=new hp(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new By,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const e in this._tiles){const o=this._tiles[e];if("loaded"!==o.state&&"errored"!==o.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,o){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,o)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const d=this._tiles[o];d.upload(e),d.prepare(this.map.style.imageManager)}}getIds(){return es(this._tiles).map(e=>e.tileID).sort(_g).map(e=>e.key)}getRenderableIds(e){const o=[];for(const d in this._tiles)this._isIdRenderable(+d,e)&&o.push(this._tiles[d]);return e?o.sort((d,m)=>{const v=d.tileID,w=m.tileID,E=new qe(v.canonical.x,v.canonical.y)._rotate(this.transform.angle),L=new qe(w.canonical.x,w.canonical.y)._rotate(this.transform.angle);return v.overscaledZ-w.overscaledZ||L.y-E.y||L.x-E.x}).map(d=>d.tileID.key):o.map(d=>d.tileID).sort(_g).map(d=>d.key)}hasRenderableParent(e){const o=this.findLoadedParent(e,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(e,o){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(o||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,o){const d=this._tiles[e];d&&("loading"!==d.state&&(d.state=o),this._loadTile(d,this._tileLoaded.bind(this,d,e,o)))}_tileLoaded(e,o,d,m){if(m)if(e.state="errored",404!==m.status)this._source.fire(new zs(m,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=Ni.now(),"expired"===d&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(o,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Ls("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const o=this.getRenderableIds();for(let m=0;m<o.length;m++){const v=o[m];if(e.neighboringTiles&&e.neighboringTiles[v]){const w=this.getTileByID(v);d(e,w),d(w,e)}}function d(m,v){if(!m.dem||m.dem.borderReady)return;m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0;let w=v.tileID.canonical.x-m.tileID.canonical.x;const E=v.tileID.canonical.y-m.tileID.canonical.y,L=Math.pow(2,m.tileID.canonical.z),k=v.tileID.key;0===w&&0===E||Math.abs(E)>1||(Math.abs(w)>1&&(1===Math.abs(w+L)?w+=L:1===Math.abs(w-L)&&(w-=L)),v.dem&&m.dem&&(m.dem.backfillBorder(v.dem,w,E),m.neighboringTiles&&m.neighboringTiles[k]&&(m.neighboringTiles[k].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,o,d,m){for(const v in this._tiles){let w=this._tiles[v];if(m[v]||!w.hasData()||w.tileID.overscaledZ<=o||w.tileID.overscaledZ>d)continue;let E=w.tileID;for(;w&&w.tileID.overscaledZ>o+1;){const k=w.tileID.scaledTo(w.tileID.overscaledZ-1);w=this._tiles[k.key],w&&w.hasData()&&(E=k)}let L=E;for(;L.overscaledZ>o;)if(L=L.scaledTo(L.overscaledZ-1),e[L.key]){m[E.key]=E;break}}}findLoadedParent(e,o){if(e.key in this._loadedParentTiles){const d=this._loadedParentTiles[e.key];return d&&d.tileID.overscaledZ>=o?d:null}for(let d=e.overscaledZ-1;d>=o;d--){const m=e.scaledTo(d),v=this._getLoadedTile(m);if(v)return v}}_getLoadedTile(e){const o=this._tiles[e.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,o){o=o||this._source.tileSize;const d=Math.ceil(e.width/o)+1,m=Math.ceil(e.height/o)+1,v=Math.floor(d*m*5),w="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,v):v,E="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(E)}handleWrapJump(e){const o=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,o){const d={};for(const m in this._tiles){const v=this._tiles[m];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+o),d[v.tileID.key]=v}this._tiles=d;for(const m in this._timers)clearTimeout(this._timers[m]),delete this._timers[m];for(const m in this._tiles)this._setTileReloadTimer(+m,this._tiles[m])}}update(e,o,d){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let m;this.updateCacheSize(e,o),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(E=>new Zo(E.canonical.z,E.wrap,E.canonical.z,E.canonical.x,E.canonical.y)):(m=e.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(m=m.filter(E=>this._source.hasTile(E)))):m=[];const v=this._updateRetainedTiles(m);if(y0(this._source.type)&&0!==m.length){const E={},L={},k=Object.keys(v);for(const H of k){const W=v[H],Q=this._tiles[H];if(!Q||Q.fadeEndTime&&Q.fadeEndTime<=Ni.now())continue;const te=this.findLoadedParent(W,Math.max(W.overscaledZ-Qu.maxOverzooming,this._source.minzoom));te&&(this._addTile(te.tileID),E[te.tileID.key]=te.tileID),L[H]=W}const j=m[m.length-1].overscaledZ;for(const H in this._tiles){const W=this._tiles[H];if(v[H]||!W.hasData())continue;let Q=W.tileID;for(;Q.overscaledZ>j;){Q=Q.scaledTo(Q.overscaledZ-1);const te=this._tiles[Q.key];if(te&&te.hasData()&&L[Q.key]){v[H]=W.tileID;break}}}for(const H in E)v[H]||(this._coveredTiles[H]=!0,v[H]=E[H])}for(const E in v)this._tiles[E].clearFadeHold();const w=function(E,L){const k=[];for(const j in E)j in L||k.push(j);return k}(this._tiles,v);for(const E of w){const L=this._tiles[E];L.hasSymbolBuckets&&!L.holdingForFade()?L.setHoldDuration(this.map._fadeDuration):L.hasSymbolBuckets&&!L.symbolFadeFinished()||this._removeTile(+E)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const o={};if(0===e.length)return o;const d={},m=e.reduce((k,j)=>Math.min(k,j.overscaledZ),1/0),v=e[0].overscaledZ,w=Math.max(v-Qu.maxOverzooming,this._source.minzoom),E=Math.max(v+Qu.maxUnderzooming,this._source.minzoom),L={};for(const k of e){const j=this._addTile(k);o[k.key]=k,j.hasData()||m<this._source.maxzoom&&(L[k.key]=k)}this._retainLoadedChildren(L,m,E,o);for(const k of e){let j=this._tiles[k.key];if(j.hasData())continue;if(k.canonical.z>=this._source.maxzoom){const W=k.children(this._source.maxzoom)[0],Q=this.getTile(W);if(Q&&Q.hasData()){o[W.key]=W;continue}}else{const W=k.children(this._source.maxzoom);if(o[W[0].key]&&o[W[1].key]&&o[W[2].key]&&o[W[3].key])continue}let H=j.wasRequested();for(let W=k.overscaledZ-1;W>=w;--W){const Q=k.scaledTo(W);if(d[Q.key]||(d[Q.key]=!0,j=this.getTile(Q),!j&&H&&(j=this._addTile(Q)),j&&(o[Q.key]=Q,H=j.wasRequested(),j.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const o=[];let d,m=this._tiles[e].tileID;for(;m.overscaledZ>0;){if(m.key in this._loadedParentTiles){d=this._loadedParentTiles[m.key];break}o.push(m.key);const v=m.scaledTo(m.overscaledZ-1);if(d=this._getLoadedTile(v),d)break;m=v}for(const v of o)this._loadedParentTiles[v]=d}}_addTile(e){let o=this._tiles[e.key];if(o)return o;o=this._cache.getAndRemove(e),o&&(this._setTileReloadTimer(e.key,o),o.tileID=e,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,o)));const d=!!o;if(!d){const m=this.map?this.map.painter:null;o=new Zh(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,m,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,e.key,o.state))}return o?(o.uses++,this._tiles[e.key]=o,d||this._source.fire(new Ls("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(e,o){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const d=o.getExpiryTimeout();d&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},d))}_removeTile(e){const o=this._tiles[e];o&&(o.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),o.uses>0||(o.hasData()&&"reloading"!==o.state?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,o,d){const m=[],v=this.transform;if(!v)return m;const w="globe"===v.projection.name,E=lc(v.center.lng);for(const L in this._tiles){const k=this._tiles[L];if(d&&k.clearQueryDebugViz(),k.holdingForFade())continue;let j;if(w){const H=k.tileID.canonical;if(0===H.z){const W=[Math.abs(ei(E,...ed(H,-1))-E),Math.abs(ei(E,...ed(H,1))-E)];j=[0,2*W.indexOf(Math.min(...W))-1]}else{const W=[Math.abs(ei(E,...ed(H,-1))-E),Math.abs(ei(E,...ed(H,0))-E),Math.abs(ei(E,...ed(H,1))-E)];j=[W.indexOf(Math.min(...W))-1]}}else j=[0];for(const H of j){const W=e.containsTile(k,v,o,H);W&&m.push(W)}}return m}getVisibleCoordinates(e){const o=this.getRenderableIds(e).map(d=>this._tiles[d].tileID);for(const d of o)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(y0(this._source.type))for(const e in this._tiles){const o=this._tiles[e];if(void 0!==o.fadeEndTime&&o.fadeEndTime>=Ni.now())return!0}return!1}setFeatureState(e,o,d){this._state.updateState(e=e||"_geojsonTileLayer",o,d)}removeFeatureState(e,o,d){this._state.removeFeatureState(e=e||"_geojsonTileLayer",o,d)}getFeatureState(e,o){return this._state.getState(e=e||"_geojsonTileLayer",o)}setDependencies(e,o,d){const m=this._tiles[e];m&&m.setDependencies(o,d)}reloadTilesForDependencies(e,o){for(const d in this._tiles)this._tiles[d].hasDependency(e,o)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(e,o))}_preloadTiles(e,o){if(!this._sourceLoaded){const E=()=>{this._sourceLoaded&&(this._source.off("data",E),this._preloadTiles(e,o))};return void this._source.on("data",E)}const d=new Map,m=Array.isArray(e)?e:[e],v=this.map.painter.terrain,w=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const E of m){const L=E.coveringTiles({tileSize:w,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const k of L)d.set(k.key,k);this.usedForTerrain&&E.updateElevation(!1)}Mr(Array.from(d.values()),(E,L)=>{const k=new Zh(E,this._source.tileSize*E.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(k,j=>{"raster-dem"===this._source.type&&k.dem&&this._backfillDEM(k),L(j,k)})},o)}}function _g(r,e){const o=Math.abs(2*r.wrap)-+(r.wrap<0),d=Math.abs(2*e.wrap)-+(e.wrap<0);return r.overscaledZ-e.overscaledZ||d-o||e.canonical.y-r.canonical.y||e.canonical.x-r.canonical.x}function y0(r){return"raster"===r||"image"===r||"video"===r||"custom"===r}function ed(r,e){const o=1<<r.z;return[r.x/o+e,(r.x+1)/o+e]}Qu.maxOverzooming=10,Qu.maxUnderzooming=3;class vc{constructor(e,o,d){this._demTile=e,this._dem=this._demTile.dem,this._scale=o,this._offset=d}static create(e,o,d){const m=d||e.findDEMTileFor(o);if(!m||!m.dem)return;const v=m.dem,w=m.tileID,E=1<<o.canonical.z-w.canonical.z;return new vc(m,m.tileSize/Cn/E,[(o.canonical.x/E-w.canonical.x)*v.dim,(o.canonical.y/E-w.canonical.y)*v.dim])}tileCoordToPixel(e,o){const d=o*this._scale+this._offset[1],m=Math.floor(e*this._scale+this._offset[0]),v=Math.floor(d);return new qe(m,v)}getElevationAt(e,o,d,m){const v=e*this._scale+this._offset[0],w=o*this._scale+this._offset[1],E=Math.floor(v),L=Math.floor(w),k=this._dem;return m=!!m,d?Bi(Bi(k.get(E,L,m),k.get(E,L+1,m),w-L),Bi(k.get(E+1,L,m),k.get(E+1,L+1,m),w-L),v-E):k.get(E,L,m)}getElevationAtPixel(e,o,d){return this._dem.get(e,o,!!d)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*go(1,e)*this._dem.stride}}class Uy{constructor(e,o){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new vl(Cn,16,0),this.featureIndexArray=new yd,this.promoteId=o}insert(e,o,d,m,v,w=0){const E=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,v,w);const L=this.grid;for(let k=0;k<o.length;k++){const j=o[k],H=[1/0,1/0,-1/0,-1/0];for(let W=0;W<j.length;W++){const Q=j[W];H[0]=Math.min(H[0],Q.x),H[1]=Math.min(H[1],Q.y),H[2]=Math.max(H[2],Q.x),H[3]=Math.max(H[3],Q.y)}H[0]<Cn&&H[1]<Cn&&H[2]>=0&&H[3]>=0&&L.insert(E,H[0],H[1],H[2],H[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Zf(new zd(this.rawTileData)).layers,this.sourceLayerCoder=new Oy(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,o,d,m){this.loadVTLayers();const v=e.params||{},w=jo(v.filter),E=e.tileResult,L=e.transform,k=E.bufferedTilespaceBounds,j=this.grid.query(k.min.x,k.min.y,k.max.x,k.max.y,(te,le,ge,Te)=>k_(E.bufferedTilespaceGeometry,te,le,ge,Te));j.sort(Vy);let H=null;L.elevation&&j.length>0&&(H=vc.create(L.elevation,this.tileID));const W={};let Q;for(let te=0;te<j.length;te++){const le=j[te];if(le===Q)continue;Q=le;const ge=this.featureIndexArray.get(le);let Te=null;this.loadMatchingFeature(W,ge,w,v.layers,v.availableImages,o,d,m,(Oe,Ee,Pe,ze=0)=>(Te||(Te=cc(Oe,this.tileID.canonical,e.tileTransform)),Ee.queryIntersectsFeature(E,Oe,Pe,Te,this.z,e.transform,e.pixelPosMatrix,H,ze)))}return W}loadMatchingFeature(e,o,d,m,v,w,E,L,k){const{featureIndex:j,bucketIndex:H,sourceLayerIndex:W,layoutVertexArrayOffset:Q}=o,te=this.bucketLayerIDs[H];if(m&&!function(Oe,Ee){for(let Pe=0;Pe<Oe.length;Pe++)if(Ee.indexOf(Oe[Pe])>=0)return!0;return!1}(m,te))return;const le=this.sourceLayerCoder.decode(W),ge=this.vtLayers[le].feature(j);if(d.needGeometry){const Oe=Cd(ge,!0);if(!d.filter(new V(this.tileID.overscaledZ),Oe,this.tileID.canonical))return}else if(!d.filter(new V(this.tileID.overscaledZ),ge))return;const Te=this.getId(ge,le);for(let Oe=0;Oe<te.length;Oe++){const Ee=te[Oe];if(m&&m.indexOf(Ee)<0)continue;const Pe=w[Ee];if(!Pe)continue;let ze={};void 0!==Te&&L&&(ze=L.getState(Pe.sourceLayer||"_geojsonTileLayer",Te));const je=dt({},E[Ee]);je.paint=Ym(je.paint,Pe.paint,ge,ze,v),je.layout=Ym(je.layout,Pe.layout,ge,ze,v);const ot=!k||k(ge,Pe,ze,Q);if(!ot)continue;const st=new Fy(ge,this.z,this.x,this.y,Te);st.layer=je;let xt=e[Ee];void 0===xt&&(xt=e[Ee]=[]),xt.push({featureIndex:j,feature:st,intersectionZ:ot})}}lookupSymbolFeatures(e,o,d,m,v,w,E,L){const k={};this.loadVTLayers();const j=jo(v);for(const H of e)this.loadMatchingFeature(k,{bucketIndex:d,sourceLayerIndex:m,featureIndex:H,layoutVertexArrayOffset:0},j,w,E,L,o);return k}loadFeature(e){const{featureIndex:o,sourceLayerIndex:d}=e;this.loadVTLayers();const m=this.sourceLayerCoder.decode(d),v=this.vtFeatures[m];if(v[o])return v[o];const w=this.vtLayers[m].feature(o);return v[o]=w,w}hasLayer(e){for(const o of this.bucketLayerIDs)for(const d of o)if(e===d)return!0;return!1}getId(e,o){let d=e.id;if(this.promoteId){const m="string"==typeof this.promoteId?this.promoteId:this.promoteId[o];null!=m&&(d=e.properties[m]),"boolean"==typeof d&&(d=Number(d))}return d}}function Ym(r,e,o,d,m){return vn(r,(v,w)=>{const E=e instanceof De?e.get(w):null;return E&&E.evaluate?E.evaluate(o,d,m):E})}function Vy(r,e){return e-r}xn(Uy,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Hy{constructor(e,o){this.width=e,this.height=o,this.nextRow=0,this.image=new Fa({width:e,height:o}),this.positions={},this.uploaded=!1}getDash(e,o){const d=this.getKey(e,o);return this.positions[d]}trim(){const e=this.width,o=this.height=mt(this.nextRow);this.image.resize({width:e,height:o})}getKey(e,o){return e.join(",")+o}getDashRanges(e,o,d){const m=[];let v=e.length%2==1?-e[e.length-1]*d:0,w=e[0]*d,E=!0;m.push({left:v,right:w,isDash:E,zeroLength:0===e[0]});let L=e[0];for(let k=1;k<e.length;k++){E=!E;const j=e[k];v=L*d,L+=j,w=L*d,m.push({left:v,right:w,isDash:E,zeroLength:0===j})}return m}addRoundDash(e,o,d){const m=o/2;for(let v=-d;v<=d;v++){const w=this.width*(this.nextRow+d+v);let E=0,L=e[E];for(let k=0;k<this.width;k++){k/L.right>1&&(L=e[++E]);const j=Math.abs(k-L.left),H=Math.abs(k-L.right),W=Math.min(j,H);let Q;const te=v/d*(m+1);if(L.isDash){const le=m-Math.abs(te);Q=Math.sqrt(W*W+le*le)}else Q=m-Math.sqrt(W*W+te*te);this.image.data[w+k]=Math.max(0,Math.min(255,Q+128))}}}addRegularDash(e,o){for(let L=e.length-1;L>=0;--L){const k=e[L],j=e[L+1];k.zeroLength?e.splice(L,1):j&&j.isDash===k.isDash&&(j.left=k.left,e.splice(L,1))}const d=e[0],m=e[e.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const v=this.width*this.nextRow;let w=0,E=e[w];for(let L=0;L<this.width;L++){L/E.right>1&&(E=e[++w]);const k=Math.abs(L-E.left),j=Math.abs(L-E.right),H=Math.min(k,j);this.image.data[v+L]=Math.max(0,Math.min(255,(E.isDash?H:-H)+o+128))}}addDash(e,o){const d=this.getKey(e,o);if(this.positions[d])return this.positions[d];const m="round"===o,v=m?7:0,w=2*v+1;if(this.nextRow+w>this.height)return di("LineAtlas out of space"),null;0===e.length&&e.push(1);let E=0;for(let j=0;j<e.length;j++)e[j]<0&&(di("Negative value is found in line dasharray, replacing values with 0"),e[j]=0),E+=e[j];if(0!==E){const j=this.width/E,H=this.getDashRanges(e,this.width,j);m?this.addRoundDash(H,j,v):this.addRegularDash(H,"square"===o?.5*j:0)}const L=this.nextRow+v;this.nextRow+=w;const k={tl:[L,v],br:[E,0]};return this.positions[d]=k,k}}xn(Hy,"LineAtlas");const Um=1*Pl;class fp{constructor(e){const o={},d=[];for(const E in e){const L=e[E],k=o[E]={};for(const j in L.glyphs){const H=L.glyphs[+j];if(!H||0===H.bitmap.width||0===H.bitmap.height)continue;const W=H.metrics.localGlyph?Um:1,Q={x:0,y:0,w:H.bitmap.width+2*W,h:H.bitmap.height+2*W};d.push(Q),k[j]=Q}}const{w:m,h:v}=J_(d),w=new Fa({width:m||1,height:v||1});for(const E in e){const L=e[E];for(const k in L.glyphs){const j=L.glyphs[+k];if(!j||0===j.bitmap.width||0===j.bitmap.height)continue;const H=o[E][k],W=j.metrics.localGlyph?Um:1;Fa.copy(j.bitmap,w,{x:0,y:0},{x:H.x+W,y:H.y+W},j.bitmap)}}this.image=w,this.positions=o}}xn(fp,"GlyphAtlas");class v0{constructor(e){this.tileID=new Zo(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=Qc(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,o,d,m,v){this.status="parsing",this.data=e,this.collisionBoxArray=new lt;const w=new Oy(Object.keys(e.layers).sort()),E=new Uy(this.tileID,this.promoteId);E.bucketLayerIDs=[];const L={},k=new Hy(256,256),j={featureIndex:E,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:k,availableImages:d},H=o.familiesBySource[this.source];for(const ze in H){const je=e.layers[ze];if(!je)continue;let ot=!1,st=!1;for(const ft of H[ze])"symbol"===ft[0].type?ot=!0:st=!0;if(!0===this.isSymbolTile&&!ot||!1===this.isSymbolTile&&!st)continue;1===je.version&&di(`Vector tile source "${this.source}" layer "${ze}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const xt=w.encode(ze),Gt=[];for(let ft=0;ft<je.length;ft++){const kt=je.feature(ft),It=E.getId(kt,ze);Gt.push({feature:kt,id:It,index:ft,sourceLayerIndex:xt})}for(const ft of H[ze]){const kt=ft[0];void 0!==this.isSymbolTile&&"symbol"===kt.type!==this.isSymbolTile||kt.minzoom&&this.zoom<Math.floor(kt.minzoom)||kt.maxzoom&&this.zoom>=kt.maxzoom||"none"!==kt.visibility&&($y(ft,this.zoom,d),(L[kt.id]=kt.createBucket({index:E.bucketLayerIDs.length,layers:ft,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(Gt,j,this.tileID.canonical,this.tileTransform),E.bucketLayerIDs.push(ft.map(It=>It.id)))}}let W,Q,te,le;k.trim();const ge={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Te=()=>{if(W)return v(W);if(Q&&te&&le){const ze=new fp(Q),je=new eg(te,le);for(const ot in L){const st=L[ot];st instanceof Rl?($y(st.layers,this.zoom,d),Cy(st,Q,ze.positions,te,je.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):st.hasPattern&&(st instanceof Rh||st instanceof Ih||st instanceof dm)&&($y(st.layers,this.zoom,d),st.addFeatures(j,this.tileID.canonical,je.patternPositions,d,this.tileTransform))}this.status="done",v(null,{buckets:es(L).filter(ot=>!ot.isEmpty()),featureIndex:E,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ze.image,lineAtlas:k,imageAtlas:je,glyphMap:this.returnDependencies?Q:null,iconMap:this.returnDependencies?te:null,glyphPositions:this.returnDependencies?ze.positions:null})}},Oe=vn(j.glyphDependencies,ze=>Object.keys(ze).map(Number));Object.keys(Oe).length?m.send("getGlyphs",{uid:this.uid,stacks:Oe},(ze,je)=>{W||(W=ze,Q=je,Te())},void 0,!1,ge):Q={};const Ee=Object.keys(j.iconDependencies);Ee.length?m.send("getImages",{icons:Ee,source:this.source,tileID:this.tileID,type:"icons"},(ze,je)=>{W||(W=ze,te=je,Te())},void 0,!1,ge):te={};const Pe=Object.keys(j.patternDependencies);Pe.length?m.send("getImages",{icons:Pe,source:this.source,tileID:this.tileID,type:"patterns"},(ze,je)=>{W||(W=ze,le=je,Te())},void 0,!1,ge):le={},Te()}}function $y(r,e,o){const d=new V(e);for(const m of r)m.recalculate(d,o)}class gg{constructor(e){this.entries={},this.scheduler=e}request(e,o,d,m){const v=this.entries[e]=this.entries[e]||{callbacks:[]};if(v.result){const[w,E]=v.result;return this.scheduler?this.scheduler.add(()=>{m(w,E)},o):m(w,E),()=>{}}return v.callbacks.push(m),v.cancel||(v.cancel=d((w,E)=>{v.result=[w,E];for(const L of v.callbacks)this.scheduler?this.scheduler.add(()=>{L(w,E)},o):L(w,E);setTimeout(()=>delete this.entries[e],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(w=>w!==m),v.callbacks.length||(v.cancel(),delete this.entries[e]))}}}function Zd(r,e,o){const d=JSON.stringify(r.request);return r.data&&(this.deduped.entries[d]={result:[null,r.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom},m=>{const v=ki(r.request,(w,E,L,k)=>{w?m(w):E&&m(null,{vectorTile:o?void 0:new Zf(new zd(E)),rawData:E,cacheControl:L,expires:k})});return()=>{v.cancel(),m()}},e)}const td=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Vm{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[o,d]=new Uint8Array(e,0,2);if(219!==o)throw new Error("Data does not appear to be in a KDBush format.");const m=d>>4;if(1!==m)throw new Error(`Got v${m} data when expected v1.`);const v=td[15&d];if(!v)throw new Error("Unrecognized array type.");const[w]=new Uint16Array(e,2,1),[E]=new Uint32Array(e,4,1);return new Vm(E,w,v,e)}constructor(e,o=64,d=Float64Array,m){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+o,2),65535),this.ArrayType=d,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const v=td.indexOf(this.ArrayType),w=2*e*this.ArrayType.BYTES_PER_ELEMENT,E=e*this.IndexArrayType.BYTES_PER_ELEMENT,L=(8-E%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${d}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+E+L,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+w+E+L),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+E+L,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=e)}add(e,o){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=e,this.coords[this._pos++]=o,d}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return pp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,o,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:w,nodeSize:E}=this,L=[0,v.length-1,0],k=[];for(;L.length;){const j=L.pop()||0,H=L.pop()||0,W=L.pop()||0;if(H-W<=E){for(let ge=W;ge<=H;ge++){const Te=w[2*ge],Oe=w[2*ge+1];Te>=e&&Te<=d&&Oe>=o&&Oe<=m&&k.push(v[ge])}continue}const Q=W+H>>1,te=w[2*Q],le=w[2*Q+1];te>=e&&te<=d&&le>=o&&le<=m&&k.push(v[Q]),(0===j?e<=te:o<=le)&&(L.push(W),L.push(Q-1),L.push(1-j)),(0===j?d>=te:m>=le)&&(L.push(Q+1),L.push(H),L.push(1-j))}return k}within(e,o,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:v,nodeSize:w}=this,E=[0,m.length-1,0],L=[],k=d*d;for(;E.length;){const j=E.pop()||0,H=E.pop()||0,W=E.pop()||0;if(H-W<=w){for(let ge=W;ge<=H;ge++)qd(v[2*ge],v[2*ge+1],e,o)<=k&&L.push(m[ge]);continue}const Q=W+H>>1,te=v[2*Q],le=v[2*Q+1];qd(te,le,e,o)<=k&&L.push(m[Q]),(0===j?e-d<=te:o-d<=le)&&(E.push(W),E.push(Q-1),E.push(1-j)),(0===j?e+d>=te:o+d>=le)&&(E.push(Q+1),E.push(H),E.push(1-j))}return L}}function pp(r,e,o,d,m,v){if(m-d<=o)return;const w=d+m>>1;Bl(r,e,w,d,m,v),pp(r,e,o,d,w-1,1-v),pp(r,e,o,w+1,m,1-v)}function Bl(r,e,o,d,m,v){for(;m>d;){if(m-d>600){const k=m-d+1,j=o-d+1,H=Math.log(k),W=.5*Math.exp(2*H/3),Q=.5*Math.sqrt(H*W*(k-W)/k)*(j-k/2<0?-1:1);Bl(r,e,o,Math.max(d,Math.floor(o-j*W/k+Q)),Math.min(m,Math.floor(o+(k-j)*W/k+Q)),v)}const w=e[2*o+v];let E=d,L=m;for(Hm(r,e,d,o),e[2*m+v]>w&&Hm(r,e,d,m);E<L;){for(Hm(r,e,E,L),E++,L--;e[2*E+v]<w;)E++;for(;e[2*L+v]>w;)L--}e[2*d+v]===w?Hm(r,e,d,L):(L++,Hm(r,e,L,m)),L<=o&&(d=L+1),o<=L&&(m=L-1)}}function Hm(r,e,o,d){yg(r,o,d),yg(e,2*o,2*d),yg(e,2*o+1,2*d+1)}function yg(r,e,o){const d=r[e];r[e]=r[o],r[o]=d}function qd(r,e,o,d){const m=r-o,v=e-d;return m*m+v*v}u.ARRAY_TYPE=Uo,u.AUTH_ERR_MSG=Be,u.Aabb=_o,u.Actor=class{constructor(r,e,o){this.target=r,this.parent=e,this.mapId=o,this.callbacks={},this.cancelCallbacks={},Tt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=$i()?r:F,this.scheduler=new _0}send(r,e,o,d,m=!1,v){const w=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=v,this.callbacks[w]=o);const E=xo(this.globalScope)?void 0:[];return this.target.postMessage({id:w,type:r,hasCallback:!!o,targetMapId:d,mustQueue:m,sourceMapId:this.mapId,data:bl(e,E)},E),{cancel:()=>{o&&delete this.callbacks[w],this.target.postMessage({id:w,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(r){const e=r.data,o=e.id;if(o&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const d=this.cancelCallbacks[o];delete this.cancelCallbacks[o],d&&d.cancel()}else if(e.mustQueue||$i()){const d=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,e),d&&d.metadata||{type:"message"})}else this.processTask(o,e)}processTask(r,e){if("<response>"===e.type){const o=this.callbacks[r];delete this.callbacks[r],o&&(e.error?o(pr(e.error)):o(null,pr(e.data)))}else{const o=xo(this.globalScope)?void 0:[],d=e.hasCallback?(v,w)=>{delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:v?bl(v):null,data:bl(w,o)},o)}:v=>{},m=pr(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,m,d);else if(this.parent.getWorkerSource){const v=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,v[0],m.source)[v[1]](m,d)}else d(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},u.CanonicalTileID=Ph,u.Color=kn,u.ColorMode=lo,u.CullFaceMode=za,u.DEMData=Xu,u.DataConstantProperty=oe,u.DedupedRequest=gg,u.DepthMode=Wd,u.EXTENT=Cn,u.Elevation=class{isDataAvailableAtPoint(r){const e=this._source();if(this.isUsingMockSource()||!e||r.y<0||r.y>1)return!1;const o=e.getSource().maxzoom,d=1<<o,m=Math.floor(r.x),v=Math.floor((r.x-m)*d),w=Math.floor(r.y*d),E=this.findDEMTileFor(new Zo(o,m,o,v,w));return!(!E||!E.dem)}getAtPointOrZero(r,e=0){return this.getAtPoint(r,e)||0}getAtPoint(r,e,o=!0){if(this.isUsingMockSource())return null;null==e&&(e=null);const d=this._source();if(!d||r.y<0||r.y>1)return e;const m=d.getSource().maxzoom,v=1<<m,w=Math.floor(r.x),E=r.x-w,L=new Zo(m,w,m,Math.floor(E*v),Math.floor(r.y*v)),k=this.findDEMTileFor(L);if(!k||!k.dem)return e;const j=k.dem,H=1<<k.tileID.canonical.z,W=(E*H-k.tileID.canonical.x)*j.dim,Q=(r.y*H-k.tileID.canonical.y)*j.dim,te=Math.floor(W),le=Math.floor(Q);return(o?this.exaggeration():1)*Bi(Bi(j.get(te,le),j.get(te,le+1),Q-le),Bi(j.get(te+1,le),j.get(te+1,le+1),Q-le),W-te)}getAtTileOffset(r,e,o){const d=1<<r.canonical.z;return this.getAtPointOrZero(new Td(r.wrap+(r.canonical.x+e/Cn)/d,(r.canonical.y+o/Cn)/d))}getAtTileOffsetFunc(r,e,o,d){return m=>{const v=this.getAtTileOffset(r,m.x,m.y),w=d.upVector(r.canonical,m.x,m.y);return Io(w,w,v*d.upVectorScale(r.canonical,e,o).metersToTile),w}}getForTilePoints(r,e,o,d){if(this.isUsingMockSource())return!1;const m=vc.create(this,r,d);return!!m&&(e.forEach(v=>{v[2]=this.exaggeration()*m.getElevationAt(v[0],v[1],o)}),!0)}getMinMaxForTile(r){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(r);if(!e||!e.dem)return null;const o=e.dem.tree,d=e.tileID,m=1<<r.canonical.z-d.canonical.z;let v=r.canonical.x/m-d.canonical.x,w=r.canonical.y/m-d.canonical.y,E=0;for(let L=0;L<r.canonical.z-d.canonical.z&&!o.leaves[E];L++){v*=2,w*=2;const k=2*Math.floor(w)+Math.floor(v);E=o.childOffsets[E]+k,v%=1,w%=1}return{min:this.exaggeration()*o.minimums[E],max:this.exaggeration()*o.maximums[E]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(r,e,o){throw new Error("Pure virtual method called.")}pointCoordinate(r){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(r){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},u.ErrorEvent=zs,u.EvaluationParameters=V,u.Event=Ls,u.Evented=Da,u.FillExtrusionBucket=dm,u.Frustum=Kp,u.FrustumCorners=oc,u.GLOBE_RADIUS=Il,u.GLOBE_SCALE_MATCH_LATITUDE=45,u.GLOBE_ZOOM_THRESHOLD_MAX=Vc,u.GLOBE_ZOOM_THRESHOLD_MIN=E_,u.GlobeSharedBuffers=class{constructor(r){this._createGrid(r),this._createPoles(r)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const r of this._poleSegments)r.destroy();for(const r of this._gridSegments)r.withSkirts.destroy(),r.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const r of this._wireframeSegments)r.destroy()}}_fillGridMeshWithLods(r,e){const o=new Rt,d=new mn,m=[],v=r+1+2,w=e[0]+1,E=e[0]+1+(1+e.length),L=(k,j,H)=>{let W=k===v-1?k-2:0===k?k:k-1;return W+=H?24575:0,[W,j]};for(let k=0;k<v;++k)o.emplaceBack(...L(k,0,!0));for(let k=0;k<w;++k)for(let j=0;j<v;++j)o.emplaceBack(...L(j,k,(0===j||j===v-1)&&!0));for(let k=0;k<e.length;++k){const j=e[k];for(let H=0;H<v;++H)o.emplaceBack(...L(H,j,!0))}for(let k=0;k<e.length;++k){const j=d.length,H=e[k]+1+2,W=new mn;for(let le=0;le<H-1;le++){const ge=le===H-2,Te=ge?v*(E-e.length+k-le):v;for(let Oe=0;Oe<v-1;Oe++){const Ee=le*v+Oe;0===le||ge||0===Oe||Oe===v-2?(W.emplaceBack(Ee+1,Ee,Ee+Te),W.emplaceBack(Ee+Te,Ee+Te+1,Ee+1)):(d.emplaceBack(Ee+1,Ee,Ee+Te),d.emplaceBack(Ee+Te,Ee+Te+1,Ee+1))}}const Q=rs.simpleSegment(0,j,o.length,d.length-j);for(let le=0;le<W.uint16.length;le+=3)d.emplaceBack(W.uint16[le],W.uint16[le+1],W.uint16[le+2]);const te=rs.simpleSegment(0,j,o.length,d.length-j);m.push({withoutSkirts:Q,withSkirts:te})}return{vertices:o,indices:d,segments:m}}_createGrid(r){const e=this._fillGridMeshWithLods(64,Yu);this._gridSegments=e.segments,this._gridBuffer=r.createVertexBuffer(e.vertices,xd.members),this._gridIndexBuffer=r.createIndexBuffer(e.indices,!0)}_createPoles(r){const e=new mn;for(let m=0;m<=64;m++)e.emplaceBack(0,m+1,m+2);this._poleIndexBuffer=r.createIndexBuffer(e,!0);const o=new C,d=new C;this._poleSegments=[];for(let m=0,v=0;m<E_;m++){const w=360/(1<<m);o.emplaceBack(0,-Il,0,.5,0),d.emplaceBack(0,-Il,0,.5,1);for(let E=0;E<=64;E++){const L=E/64,k=Bi(0,w,L),[j,H,W]=Hc(C_,wh,k,Il);o.emplaceBack(j,H,W,L,0),d.emplaceBack(j,H,W,L,1)}this._poleSegments.push(rs.simpleSegment(v,0,66,64)),v+=66}this._poleNorthVertexBuffer=r.createVertexBuffer(o,D_,!1),this._poleSouthVertexBuffer=r.createVertexBuffer(d,D_,!1)}getGridBuffers(r,e){return[this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[r].withSkirts:this._gridSegments[r].withoutSkirts]}getPoleBuffers(r){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[r]]}getWirefameBuffers(r,e){if(!this._wireframeSegments){const o=new X,d=64,m=d+1+2,v=1;this._wireframeSegments=[];for(let w=0,E=0;w<Yu.length;w++){const L=Yu[w];for(let j=v;j<L+v;j++)for(let H=v;H<d+v;H++){const W=j*m+H;o.emplaceBack(W,W+1),o.emplaceBack(W,W+m),o.emplaceBack(W,W+m+1)}const k=L*d*3;this._wireframeSegments.push(rs.simpleSegment(0,E,(L+1)*m,k)),E+=k}this._wireframeIndexBuffer=r.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},u.GlyphManager=jd,u.ImagePosition=Q_,u.KDBush=Vm,u.LivePerformanceUtils=wo,u.LngLat=mr,u.LngLatBounds=Tl,u.LocalGlyphMode=sg,u.MAX_MERCATOR_LATITUDE=vs,u.MercatorCoordinate=Td,u.ONE_EM=Ts,u.OverscaledTileID=Zo,u.PerformanceMarkers=Ss,u.Point=qe,u.Properties=Le,u.RGBAImage=Wo,u.Ray=Qa,u.RequestManager=class{constructor(r,e,o){this._transformRequestFn=r,this._customAccessToken=e,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const r=function(){let e="";for(let o=0;o<10;o++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",_t,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,e){return this._transformRequestFn&&this._transformRequestFn(r,e)||{url:r}}normalizeStyleURL(r,e){if(!We(r))return r;const o=nn(r);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||e)}normalizeGlyphsURL(r,e){if(!We(r))return r;const o=nn(r);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||e)}normalizeSourceURL(r,e,o,d){if(!We(r))return r;const m=nn(r);return m.path=`/v4/${m.authority}.json`,m.params.push("secure"),o&&m.params.push(`language=${o}`),d&&m.params.push(`worldview=${d}`),this._makeAPIURL(m,this._customAccessToken||e)}normalizeSpriteURL(r,e,o,d){const m=nn(r);return We(r)?(m.path=`/styles/v1${m.path}/sprite${e}${o}`,this._makeAPIURL(m,this._customAccessToken||d)):(m.path+=`${e}${o}`,Wt(m))}normalizeTileURL(r,e,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!We(r))return r;const d=nn(r);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||o&&"raster"!==d.authority&&512===o?"@2x":""}${de.supported?".webp":"$1"}`),"raster"===d.authority?d.path=`/${ae.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${ae.TILE_URL_VERSION}${d.path}`);const m=this._customAccessToken||function(v){for(const w of v){const E=w.match(/^access_token=(.*)$/);if(E)return E[1]}return null}(d.params)||ae.ACCESS_TOKEN;return ae.REQUIRE_ACCESS_TOKEN&&m&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,m)}canonicalizeTileURL(r,e){const o=nn(r);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return r;let d="mapbox://";o.path.match(/^\/raster\/v1\//)?d+=`raster/${o.path.replace(`/${ae.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${o.path.replace(`/${ae.TILE_URL_VERSION}/`,"")}`;let m=o.params;return e&&(m=m.filter(v=>!v.match(/^access_token=/))),m.length&&(d+=`?${m.join("&")}`),d}canonicalizeTileset(r,e){const o=!!e&&We(e),d=[];for(const m of r.tiles||[])et(m)?d.push(this.canonicalizeTileURL(m,o)):d.push(m);return d}_makeAPIURL(r,e){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=nn(ae.API_URL);if(r.protocol=d.protocol,r.authority=d.authority,"http"===r.protocol){const m=r.params.indexOf("secure");m>=0&&r.params.splice(m,1)}if("/"!==d.path&&(r.path=`${d.path}${r.path}`),!ae.REQUIRE_ACCESS_TOKEN)return Wt(r);if(e=e||ae.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if("s"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return r.params=r.params.filter(m=>-1===m.indexOf("access_token")),r.params.push(`access_token=${e||""}`),Wt(r)}},u.ResourceType=$r,u.SegmentVector=rs,u.SourceCache=Qu,u.StencilMode=Ju,u.StructArrayLayout1ui2=ne,u.StructArrayLayout2f1f2i16=In,u.StructArrayLayout2i4=Rt,u.StructArrayLayout2ui4=X,u.StructArrayLayout3f12=jn,u.StructArrayLayout3ui6=mn,u.StructArrayLayout4i8=Mt,u.StructArrayLayout5f20=C,u.Texture=ko,u.Tile=Zh,u.Transitionable=re,u.Uniform1f=Pu,u.Uniform1i=class extends da{constructor(r){super(r),this.current=0}set(r,e,o){this.fetchUniformLocation(r,e)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},u.Uniform2f=class extends da{constructor(r){super(r),this.current=[0,0]}set(r,e,o){this.fetchUniformLocation(r,e)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},u.Uniform3f=class extends da{constructor(r){super(r),this.current=[0,0,0]}set(r,e,o){this.fetchUniformLocation(r,e)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},u.Uniform4f=Tf,u.UniformColor=Sf,u.UniformMatrix2f=class extends da{constructor(r){super(r),this.current=Pa}set(r,e,o){if(this.fetchUniformLocation(r,e))for(let d=0;d<4;d++)if(o[d]!==this.current[d]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}},u.UniformMatrix3f=class extends da{constructor(r){super(r),this.current=y_}set(r,e,o){if(this.fetchUniformLocation(r,e))for(let d=0;d<9;d++)if(o[d]!==this.current[d]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}},u.UniformMatrix4f=class extends da{constructor(r){super(r),this.current=Ug}set(r,e,o){if(this.fetchUniformLocation(r,e)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let d=1;d<16;d++)if(o[d]!==this.current[d]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},u.UnwrappedTileID=G_,u.ValidationError=hn,u.VectorTileFeature=qf,u.VectorTileWorkerSource=class extends Da{constructor(r,e,o,d,m){super(),this.actor=r,this.layerIndex=e,this.availableImages=o,this.loadVectorData=m||Zd,this.loading={},this.loaded={},this.deduped=new gg(r.scheduler),this.isSpriteLoaded=d,this.scheduler=r.scheduler}loadTile(r,e){const o=r.uid,d=r&&r.request,m=d&&d.collectResourceTiming,v=this.loading[o]=new v0(r);v.abort=this.loadVectorData(r,(w,E)=>{const L=!this.loading[o];if(delete this.loading[o],L||w||!E)return v.status="done",L||(this.loaded[o]=v),e(w);const k=E.rawData,j={};E.expires&&(j.expires=E.expires),E.cacheControl&&(j.cacheControl=E.cacheControl),v.vectorTile=E.vectorTile||new Zf(new zd(k));const H=()=>{v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,(W,Q)=>{if(W||!Q)return e(W);const te={};if(m){const le=ts(d);le.length>0&&(te.resourceTiming=JSON.parse(JSON.stringify(le)))}e(null,dt({rawTileData:k.slice(0)},Q,j,te))})};this.isSpriteLoaded?H():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(H,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom}):H()}),this.loaded=this.loaded||{},this.loaded[o]=v})}reloadTile(r,e){const o=this.loaded,d=r.uid,m=this;if(o&&o[d]){const v=o[d];v.showCollisionBoxes=r.showCollisionBoxes,v.enableTerrain=!!r.enableTerrain,v.projection=r.projection,v.tileTransform=Qc(r.tileID.canonical,r.projection);const w=(E,L)=>{const k=v.reloadCallback;k&&(delete v.reloadCallback,v.parse(v.vectorTile,m.layerIndex,this.availableImages,m.actor,k)),e(E,L)};"parsing"===v.status?v.reloadCallback=w:"done"===v.status&&(v.vectorTile?v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,w):w())}}abortTile(r,e){const o=r.uid,d=this.loading[o];d&&(d.abort&&d.abort(),delete this.loading[o]),e()}removeTile(r,e){const o=this.loaded,d=r.uid;o&&o[d]&&delete o[d],e()}},u.WritingMode=_a,u.ZoomDependentExpression=Ql,u.add=Cl,u.addDynamicAttributes=$d,u.adjoint=function(r,e){var o=e[0],d=e[1],m=e[2],v=e[3],w=e[4],E=e[5],L=e[6],k=e[7],j=e[8];return r[0]=w*j-E*k,r[1]=m*k-d*j,r[2]=d*E-m*w,r[3]=E*L-v*j,r[4]=o*j-m*L,r[5]=m*v-o*E,r[6]=v*k-w*L,r[7]=d*L-o*k,r[8]=o*w-d*v,r},u.asyncAll=Mr,u.bezier=_r,u.bindAll=Tt,u.boundsAttributes=Bm,u.bufferConvexPolygon=function(r,e){const o=[];for(let d=0;d<r.length;d++){const m=zi(d-1,-1,r.length-1),v=zi(d+1,-1,r.length-1),w=r[d],E=r[v],L=r[m].sub(w).unit(),k=E.sub(w).unit(),j=k.angleWithSep(L.x,L.y),H=L.add(k).unit().mult(-1*e/Math.sin(j/2));o.push(w.add(H))}return o},u.cacheEntryPossiblyAdded=function(r){ji++,ji>Kn&&(r.getActor().send("enforceCacheSizeLimit",wa),ji=0)},u.calculateGlobeLabelMatrix=function(r,e){const{x:o,y:d}=r.point,m=Xg(o,d,r.worldSize/r._pixelsPerMercatorPixel,0,0);return bd(m,m,T_(el(e)))},u.calculateGlobeMatrix=function(r){const{x:e,y:o}=r.point,{lng:d,lat:m}=r._center;return Xg(e,o,r.worldSize,d,m)},u.calculateGlobeMercatorMatrix=function(r){const e=r.pixelsPerMeter,o=e/go(1,r.center.lat),d=mo(new Float64Array(16));return ph(d,d,[r.point.x,r.point.y,0]),sc(d,d,[o,o,e]),Float32Array.from(d)},u.circumferenceAtLatitude=L_,u.clamp=ei,u.clearTileCache=function(r){if(!Nr())return;const e=F.caches.delete(yr);r&&e.catch(r).then(()=>r())},u.clipLine=Am,u.clone=function(r){var e=new Uo(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e},u.clone$1=Mi,u.collisionCircleLayout=_y,u.config=ae,u.conjugate=function(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=e[3],r},u.create=function(){var r=new Uo(16);return Uo!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},u.create$1=Af,u.createExpression=Jl,u.createLayout=Ze,u.createStyleLayer=function(r){return"custom"===r.type?new p0(r):new Hb[r.type](r)},u.cross=Gg,u.degToRad=Nt,u.distance=function(r,e){return Math.hypot(e[0]-r[0],e[1]-r[1],e[2]-r[2])},u.div=function(r,e,o){return r[0]=e[0]/o[0],r[1]=e[1]/o[1],r[2]=e[2]/o[2],r},u.dot=Ja,u.earthRadius=$o,u.ease=ws,u.easeCubicInOut=fi,u.ecefToLatLng=function([r,e,o]){const d=Math.hypot(r,e,o),m=Math.atan2(r,o),v=.5*Math.PI-Math.acos(-e/d);return new mr(rn(m),rn(v))},u.emitValidationErrors=bf,u.endsWith=wt,u.enforceCacheSizeLimit=function(r){vr(),Nn&&Nn.then(e=>{e.keys().then(o=>{for(let d=0;d<o.length-r;d++)e.delete(o[d])})})},u.evaluateSizeForFeature=fc,u.evaluateSizeForZoom=qc,u.evaluateVariableOffset=Yh,u.evented=D,u.exactEquals=function(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]},u.exactEquals$1=function(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]},u.exported=Ni,u.exported$1=de,u.extend=dt,u.extend$1=Mo,u.fillExtrusionHeightLift=Jf,u.filterObject=Sn,u.fromMat4=function(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[4],r[4]=e[5],r[5]=e[6],r[6]=e[8],r[7]=e[9],r[8]=e[10],r},u.fromQuat=function(r,e){var o=e[0],d=e[1],m=e[2],v=e[3],w=o+o,E=d+d,L=m+m,k=o*w,j=d*w,H=d*E,W=m*w,Q=m*E,te=m*L,le=v*w,ge=v*E,Te=v*L;return r[0]=1-H-te,r[1]=j+Te,r[2]=W-ge,r[3]=0,r[4]=j-Te,r[5]=1-k-te,r[6]=Q+le,r[7]=0,r[8]=W+ge,r[9]=Q-le,r[10]=1-k-H,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},u.fromRotation=function(r,e){var o=Math.sin(e),d=Math.cos(e);return r[0]=d,r[1]=o,r[2]=0,r[3]=-o,r[4]=d,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},u.fromScaling=$g,u.furthestTileCorner=function(r){const e=Math.round((r+45+360)%360/90)%4;return wi[e]},u.getAABBPointSquareDist=function(r,e,o){let d=0;for(let m=0;m<2;++m){const v=o?o[m]:0;r[m]>v&&(d+=(r[m]-v)*(r[m]-v)),e[m]<v&&(d+=(v-e[m])*(v-e[m]))}return d},u.getAnchorAlignment=Dy,u.getAnchorJustification=Yd,u.getBounds=function(r){let e=1/0,o=1/0,d=-1/0,m=-1/0;for(const v of r)e=Math.min(e,v.x),o=Math.min(o,v.y),d=Math.max(d,v.x),m=Math.max(m,v.y);return{min:new qe(e,o),max:new qe(d,m)}},u.getColumn=Ki,u.getDefaultExportFromCjs=Pt,u.getGridMatrix=function(r,e,o,d){const m=e.getNorth(),v=e.getSouth(),w=e.getWest(),E=e.getEast(),L=1<<r.z,k=E-w,j=m-v,H=k/64,W=-j/Yu[o],Q=[0,H,0,W,0,0,m,w,0];if(r.z>0){const te=180/d;Sl(Q,Q,[te/k+1,0,0,0,te/j+1,0,-.5*te/H,.5*te/W,1])}return Q[2]=L,Q[5]=r.x,Q[8]=r.y,Q},u.getImage=Se,u.getJSON=function(r,e){return Fo(dt(r,{type:"json"}),e)},u.getLatitudinalLod=function(r){const e=vs-5;r=ei(r,-e,e)/e*90;const o=Math.pow(Math.abs(Math.sin(Nt(r))),3);return Math.round(o*(Yu.length-1))},u.getMapSessionAPI=Lr,u.getPerformanceMeasurement=ts,u.getProjection=dp,u.getRTLTextPluginStatus=S,u.getReferrer=Qi,u.getTilePoint=function(r,{x:e,y:o},d=0){return new qe(((e-d)*r.scale-r.x)*Cn,(o*r.scale-r.y)*Cn)},u.getTileVec3=function(r,e,o=0){return _h(((e.x-o)*r.scale-r.x)*Cn,(e.y*r.scale-r.y)*Cn,Ed(e.z,e.y))},u.getVideo=function(r,e){const o=F.document.createElement("video");o.muted=!0,o.onloadstart=function(){e(null,o)};for(let d=0;d<r.length;d++){const m=F.document.createElement("source");Gr(r[d])||(o.crossOrigin="Anonymous"),m.src=r[d],o.appendChild(m)}return{cancel:()=>{}}},u.globeCenterToScreenPoint=function(r){const e=[0,0,0],o=mo(new Float64Array(16));return bd(o,r.pixelMatrix,r.globeMatrix),ds(e,e,o),new qe(e[0],e[1])},u.globeDenormalizeECEF=T_,u.globeECEFOrigin=function(r,e){const o=[0,0,0];return ds(o,o,Jp(el(e.canonical))),ds(o,o,r),o},u.globeMetersToEcef=ac,u.globeNormalizeECEF=Jp,u.globePixelsToTileUnits=function(r,e){return Cn/(512*Math.pow(2,r))*$c(el(e))},u.globePoleMatrixForTile=function(r,e,o){const d=mo(new Float64Array(16)),m=(e/(1<<r)-.5)*Math.PI*2;return Yp(d,o.globeMatrix,m),Float32Array.from(d)},u.globeTileBounds=el,u.globeTiltAtLngLat=Dd,u.globeToMercatorTransition=xh,u.globeUseCustomAntiAliasing=function(r,e,o){const d=xh(o.zoom),m=r.style.map._antialias,v=!!e.extStandardDerivatives,w=e.extStandardDerivativesForceOff||r.terrain&&r.terrain.exaggeration()>0;return 0===d&&!m&&!w&&v},u.identity=mo,u.identity$1=If,u.invert=jp,u.isFullscreen=function(){return!!F.document.fullscreenElement||!!F.document.webkitFullscreenElement},u.isLngLatBehindGlobe=Of,u.isMapAuthenticated=function(r){return Gi.has(r)},u.isMapboxURL=We,u.isSafariWithAntialiasingBug=function(r){const e=r.navigator?r.navigator.userAgent:null;return!!xo(r)&&e&&(e.match("Version/15.4")||e.match("Version/15.5")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},u.latFromMercatorY=Fs,u.latLngToECEF=Uu,u.len=Gp,u.length=mh,u.length$1=function(r){return Math.hypot(r[0],r[1],r[2],r[3])},u.lngFromMercatorX=Go,u.loadVectorTile=Zd,u.makeRequest=Fo,u.mapValue=function(r,e,o,d,m){return ei((r-e)/(o-e)*(m-d)+d,d,m)},u.mercatorScale=Qp,u.mercatorXfromLng=lc,u.mercatorYfromLat=nl,u.mercatorZfromAltitude=go,u.mul=Fu,u.mul$1=$p,u.multiply=bd,u.multiply$1=Sl,u.multiply$2=Ll,u.nextPowerOfTwo=mt,u.normalize=Es,u.normalize$1=Zp,u.normalize$2=M_,u.number=Bi,u.ortho=function(r,e,o,d,m,v,w){var E=1/(e-o),L=1/(d-m),k=1/(v-w);return r[0]=-2*E,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*L,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*k,r[11]=0,r[12]=(e+o)*E,r[13]=(m+d)*L,r[14]=(w+v)*k,r[15]=1,r},u.pbf=Bd,u.perspective=function(r,e,o,d,m){var v,w=1/Math.tan(e/2);return r[0]=w/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=w,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,null!=m&&m!==1/0?(r[10]=(m+d)*(v=1/(d-m)),r[14]=2*m*d*v):(r[10]=-1,r[14]=-2*d),r},u.pick=function(r,e){const o={};for(let d=0;d<e.length;d++){const m=e[d];m in r&&(o[m]=r[m])}return o},u.plugin=N,u.pointGeometry=Mn,u.polesInViewport=function(r){const e=mo(new Float64Array(16));bd(e,r.pixelMatrix,r.globeMatrix);const o=[0,Vo,0],d=[0,Ho,0];return ds(o,o,e),ds(d,d,e),[o[0]>0&&o[0]<=r.width&&o[1]>0&&o[1]<=r.height&&!Of(r,new mr(r.center.lat,90)),d[0]>0&&d[0]<=r.width&&d[1]>0&&d[1]<=r.height&&!Of(r,new mr(r.center.lat,-90))]},u.polygonContainsPoint=Vu,u.polygonIntersectsBox=k_,u.polygonIntersectsPolygon=uc,u.polygonizeBounds=function(r,e,o=0,d=!0){const m=new qe(o,o),v=r.sub(m),w=e.add(m),E=[v,new qe(w.x,v.y),w,new qe(v.x,w.y)];return d&&E.push(v.clone()),E},u.posAttributes=xd,u.postMapLoadEvent=Ri,u.postPerformanceEvent=Zn,u.postTurnstileEvent=gi,u.potpack=J_,u.prevPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},u.radToDeg=rn,u.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],u.registerForPluginStateChange=function(r){return r({pluginStatus:g,pluginURL:a}),D.on("pluginStateChange",r),r},u.removeAuthState=function(r){Gi.delete(r)},u.renderColorRamp=nm,u.resample=Sd,u.rotateX=Hg,u.rotateX$1=kf,u.rotateY=Yp,u.rotateY$1=Wp,u.rotateZ=function(r,e,o){var d=Math.sin(o),m=Math.cos(o),v=e[0],w=e[1],E=e[2],L=e[3],k=e[4],j=e[5],H=e[6],W=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=v*m+k*d,r[1]=w*m+j*d,r[2]=E*m+H*d,r[3]=L*m+W*d,r[4]=k*m-v*d,r[5]=j*m-w*d,r[6]=H*m-E*d,r[7]=W*m-L*d,r},u.rotateZ$1=function(r,e,o){o*=.5;var d=e[0],m=e[1],v=e[2],w=e[3],E=Math.sin(o),L=Math.cos(o);return r[0]=d*L+m*E,r[1]=m*L-d*E,r[2]=v*L+w*E,r[3]=w*L-v*E,r},u.scale=sc,u.scale$1=w_,u.scale$2=Io,u.scaleAndAdd=Uc,u.set=function(r,e,o,d){return r[0]=e,r[1]=o,r[2]=d,r},u.setCacheLimits=function(r,e){wa=r,Kn=e},u.setColumn=function(r,e,o){r[4*e+0]=o[0],r[4*e+1]=o[1],r[4*e+2]=o[2],r[4*e+3]=o[3]},u.setRTLTextPlugin=function(r,e,o=!1){if(g===or||g===Gn||g===gs)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=Ni.resolveURL(r),g=or,Ia=e,b(),o||O()},u.smoothstep=co,u.spec=vt,u.squaredLength=function(r){var e=r[0],o=r[1],d=r[2];return e*e+o*o+d*d},u.storeAuthState=function(r,e){e?Gi.add(r):Gi.delete(r)},u.sub=Al,u.subtract=gh,u.symbolSize=Z_,u.tileAABB=function(r,e,o,d,m,v,w,E,L){if("globe"===L.name)return function qg(r,e,o){const d=e/r.worldSize,m=r.globeMatrix;if(o.z<=1){const st=el(o).getCorners();return Zg(st,m,d),_o.fromPoints(st)}const v=vh(o),w=Xp(v);Zg(w,m,d);const E=Number.MAX_VALUE,L=[-E,-E,-E],k=[E,E,E];if(v.contains(r.center)){for(const Gt of w)Nu(k,k,Gt),ha(L,L,Gt);L[2]=0;const st=r.point,xt=[st.x*d,st.y*d,0];return Nu(k,k,xt),ha(L,L,xt),new _o(k,L)}const j=[m[12]*d,m[13]*d,m[14]*d],H=v.getCenter(),W=ei(r.center.lat,-vs,vs),Q=ei(H.lat,-vs,vs),te=lc(r.center.lng),le=nl(W);let ge=te-lc(H.lng);const Te=le-nl(Q);ge>.5?ge-=1:ge<-.5&&(ge+=1);let Oe=0;Math.abs(ge)>Math.abs(Te)?Oe=ge>=0?1:3:(Oe=Te>=0?0:2,Uc(j,j,[m[4]*d,m[5]*d,m[6]*d],-Math.sin(Nt(Te>=0?v.getSouth():v.getNorth()))*Il));const Ee=w[Oe],Pe=w[(Oe+1)%4],ze=new Wg(Ee,Pe,j),je=[yh(ze,0)||Ee[0],yh(ze,1)||Ee[1],yh(ze,2)||Ee[2]],ot=xh(r.zoom);if(ot>0){const st=function({x:Gt,y:ft,z:kt},It,jt,Ht,yt){const tn=1/(1<<kt);let gn=Gt*tn,un=gn+tn,Vn=ft*tn,Qt=Vn+tn,Ln=0;const ci=(gn+un)/2-Ht;return ci>.5?Ln=-1:ci<-.5&&(Ln=1),gn=((gn+Ln)*It-(Ht*=It))*jt+Ht,un=((un+Ln)*It-Ht)*jt+Ht,Vn=(Vn*It-(yt*=It))*jt+yt,Qt=(Qt*It-yt)*jt+yt,[[gn,Qt,0],[un,Qt,0],[un,Vn,0],[gn,Vn,0]]}(o,e,r._pixelsPerMercatorPixel,te,le);for(let Gt=0;Gt<w.length;Gt++)wd(w[Gt],st[Gt],ot);const xt=Cl([],st[Oe],st[(Oe+1)%4]);Io(xt,xt,.5),wd(je,xt,ot)}for(const st of w)Nu(k,k,st),ha(L,L,st);return k[2]=Math.min(Ee[2],Pe[2]),Nu(k,k,je),ha(L,L,je),new _o(k,L)}(r,e,new Ph(o,d,m));const k=Qc({z:o,x:d,y:m},L);return new _o([(v+k.x/k.scale)*e,e*(k.y/k.scale),w],[(v+k.x2/k.scale)*e,e*(k.y2/k.scale),E])},u.tileCornersToBounds=vh,u.tileTransform=Qc,u.transformMat3=function(r,e,o){var d=e[0],m=e[1],v=e[2];return r[0]=d*o[0]+m*o[3]+v*o[6],r[1]=d*o[1]+m*o[4]+v*o[7],r[2]=d*o[2]+m*o[5]+v*o[8],r},u.transformMat4=ds,u.transformMat4$1=Bu,u.transformQuat=Bv,u.transitionTileAABBinECEF=Md,u.translate=ph,u.transpose=function(r,e){if(r===e){var o=e[1],d=e[2],m=e[5];r[1]=e[3],r[2]=e[6],r[3]=o,r[5]=e[7],r[6]=d,r[7]=m}else r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8];return r},u.triggerPluginCompletionEvent=p,u.uniqueId=At,u.updateGlobeVertexNormal=function(r,e,o,d,m){const v=5*e+2;r.float32[v+0]=o,r.float32[v+1]=d,r.float32[v+2]=m},u.validateCustomStyleLayer=function(r){const e=[],o=r.id;return void 0===o&&e.push({message:`layers.${o}: missing required property "id"`}),void 0===r.render&&e.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&"2d"!==r.renderingMode&&"3d"!==r.renderingMode&&e.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),e},u.validateFilter=r=>so(La(r)),u.validateFog=r=>so(ch(r)),u.validateLayer=r=>so(Fp(r)),u.validateLight=r=>so(Xa(r)),u.validateSource=r=>so(ua(r)),u.validateStyle=rc,u.validateTerrain=r=>so(is(r)),u.values=es,u.vectorTile=Gf,u.version=J,u.warnOnce=di,u.window=F,u.wrap=zi}),R(0,function(u){function F(ke){if("number"==typeof ke||"boolean"==typeof ke||"string"==typeof ke||null==ke)return JSON.stringify(ke);if(Array.isArray(ke)){let fe="[";for(const Se of ke)fe+=`${F(Se)},`;return`${fe}]`}let ue="{";for(const fe of Object.keys(ke).sort())ue+=`${fe}:${F(ke[fe])},`;return`${ue}}`}function J(ke){let ue="";for(const fe of u.refProperties)ue+=`/${F(ke[fe])}`;return ue}class ee{constructor(ue){this.keyCache={},ue&&this.replace(ue)}replace(ue){this._layerConfigs={},this._layers={},this.update(ue,[])}update(ue,fe){for(const Be of ue)this._layerConfigs[Be.id]=Be,(this._layers[Be.id]=u.createStyleLayer(Be)).compileFilter(),this.keyCache[Be.id]&&delete this.keyCache[Be.id];for(const Be of fe)delete this.keyCache[Be],delete this._layerConfigs[Be],delete this._layers[Be];this.familiesBySource={};const Se=function(Be,We){const et={};for(let He=0;He<Be.length;He++){const at=We&&We[Be[He].id]||J(Be[He]);We&&(We[Be[He].id]=at);let qt=et[at];qt||(qt=et[at]=[]),qt.push(Be[He])}const Je=[];for(const He in et)Je.push(et[He]);return Je}(u.values(this._layerConfigs),this.keyCache);for(const Be of Se){const We=Be.map(nn=>this._layers[nn.id]),et=We[0];if("none"===et.visibility)continue;const Je=et.source||"";let He=this.familiesBySource[Je];He||(He=this.familiesBySource[Je]={});const at=et.sourceLayer||"_geojsonTileLayer";let qt=He[at];qt||(qt=He[at]=[]),qt.push(We)}}}class ae{loadTile(ue,fe){const{uid:Se,encoding:Be,rawImageData:We,padding:et,buildQuadTree:Je}=ue,He=u.window.ImageBitmap&&We instanceof u.window.ImageBitmap?this.getImageData(We,et):We;fe(null,new u.DEMData(Se,He,Be,et<1,Je))}getImageData(ue,fe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ue.width,ue.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=ue.width,this.offscreenCanvas.height=ue.height,this.offscreenCanvasContext.drawImage(ue,0,0,ue.width,ue.height);const Se=this.offscreenCanvasContext.getImageData(-fe,-fe,ue.width+2*fe,ue.height+2*fe);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Se}}function de(ke,ue){if(0!==ke.length){Me(ke[0],ue);for(var fe=1;fe<ke.length;fe++)Me(ke[fe],!ue)}}function Me(ke,ue){for(var fe=0,Se=0,Be=0,We=ke.length,et=We-1;Be<We;et=Be++){var Je=(ke[Be][0]-ke[et][0])*(ke[et][1]+ke[Be][1]),He=fe+Je;Se+=Math.abs(fe)>=Math.abs(Je)?fe-He+Je:Je-He+fe,fe=He}fe+Se>=0!=!!ue&&ke.reverse()}var Fe=u.getDefaultExportFromCjs(function ke(ue,fe){var Se,Be=ue&&ue.type;if("FeatureCollection"===Be)for(Se=0;Se<ue.features.length;Se++)ke(ue.features[Se],fe);else if("GeometryCollection"===Be)for(Se=0;Se<ue.geometries.length;Se++)ke(ue.geometries[Se],fe);else if("Feature"===Be)ke(ue.geometry,fe);else if("Polygon"===Be)de(ue.coordinates,fe);else if("MultiPolygon"===Be)for(Se=0;Se<ue.coordinates.length;Se++)de(ue.coordinates[Se],fe);return ue});const Ge=u.VectorTileFeature.prototype.toGeoJSON;var ht={exports:{}},Xt=u.pointGeometry,_t=u.vectorTile.VectorTileFeature,Pt=An;function An(ke,ue){this.options=ue||{},this.features=ke,this.length=ke.length}function pn(ke,ue){this.id="number"==typeof ke.id?ke.id:void 0,this.type=ke.type,this.rawGeometry=1===ke.type?[ke.geometry]:ke.geometry,this.properties=ke.tags,this.extent=ue||4096}An.prototype.feature=function(ke){return new pn(this.features[ke],this.options.extent)},pn.prototype.loadGeometry=function(){var ke=this.rawGeometry;this.geometry=[];for(var ue=0;ue<ke.length;ue++){for(var fe=ke[ue],Se=[],Be=0;Be<fe.length;Be++)Se.push(new Xt(fe[Be][0],fe[Be][1]));this.geometry.push(Se)}return this.geometry},pn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ke=this.geometry,ue=1/0,fe=-1/0,Se=1/0,Be=-1/0,We=0;We<ke.length;We++)for(var et=ke[We],Je=0;Je<et.length;Je++){var He=et[Je];ue=Math.min(ue,He.x),fe=Math.max(fe,He.x),Se=Math.min(Se,He.y),Be=Math.max(Be,He.y)}return[ue,Se,fe,Be]},pn.prototype.toGeoJSON=_t.prototype.toGeoJSON;var Fn=u.pbf,Mn=Pt;function ct(ke){var ue=new Fn;return function(fe,Se){for(var Be in fe.layers)Se.writeMessage(3,qe,fe.layers[Be])}(ke,ue),ue.finish()}function qe(ke,ue){var fe;ue.writeVarintField(15,ke.version||1),ue.writeStringField(1,ke.name||""),ue.writeVarintField(5,ke.extent||4096);var Se={keys:[],values:[],keycache:{},valuecache:{}};for(fe=0;fe<ke.length;fe++)Se.feature=ke.feature(fe),ue.writeMessage(2,zt,Se);var Be=Se.keys;for(fe=0;fe<Be.length;fe++)ue.writeStringField(3,Be[fe]);var We=Se.values;for(fe=0;fe<We.length;fe++)ue.writeMessage(4,fi,We[fe])}function zt(ke,ue){var fe=ke.feature;void 0!==fe.id&&ue.writeVarintField(1,fe.id),ue.writeMessage(2,Jt,ke),ue.writeVarintField(3,fe.type),ue.writeMessage(4,wi,fe)}function Jt(ke,ue){var fe=ke.feature,Se=ke.keys,Be=ke.values,We=ke.keycache,et=ke.valuecache;for(var Je in fe.properties){var He=fe.properties[Je],at=We[Je];if(null!==He){void 0===at&&(Se.push(Je),We[Je]=at=Se.length-1),ue.writeVarint(at);var qt=typeof He;"string"!==qt&&"boolean"!==qt&&"number"!==qt&&(He=JSON.stringify(He));var nn=qt+":"+He,Wt=et[nn];void 0===Wt&&(Be.push(He),et[nn]=Wt=Be.length-1),ue.writeVarint(Wt)}}}function Nt(ke,ue){return(ue<<3)+(7&ke)}function rn(ke){return ke<<1^ke>>31}function wi(ke,ue){for(var fe=ke.loadGeometry(),Se=ke.type,Be=0,We=0,et=fe.length,Je=0;Je<et;Je++){var He=fe[Je],at=1;1===Se&&(at=He.length),ue.writeVarint(Nt(1,at));for(var qt=3===Se?He.length-1:He.length,nn=0;nn<qt;nn++){1===nn&&1!==Se&&ue.writeVarint(Nt(2,qt-1));var Wt=He[nn].x-Be,oi=He[nn].y-We;ue.writeVarint(rn(Wt)),ue.writeVarint(rn(oi)),Be+=Wt,We+=oi}3===Se&&ue.writeVarint(Nt(7,1))}}function fi(ke,ue){var fe=typeof ke;"string"===fe?ue.writeStringField(1,ke):"boolean"===fe?ue.writeBooleanField(7,ke):"number"===fe&&(ke%1!=0?ue.writeDoubleField(3,ke):ke<0?ue.writeSVarintField(6,ke):ue.writeVarintField(5,ke))}ht.exports=ct,ht.exports.fromVectorTileJs=ct,ht.exports.fromGeojsonVt=function(ke,ue){ue=ue||{};var fe={};for(var Se in ke)fe[Se]=new Mn(ke[Se].features,ue),fe[Se].name=Se,fe[Se].version=ue.version,fe[Se].extent=ue.extent;return ct({layers:fe})},ht.exports.GeoJSONWrapper=Mn;var _r=u.getDefaultExportFromCjs(ht.exports);const ws={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ke=>ke},ei=Math.fround||(co=new Float32Array(1),ke=>(co[0]=+ke,co[0]));var co;const zi=3,Mr=5,es=6;class dt{constructor(ue){this.options=Object.assign(Object.create(ws),ue),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ue){const{log:fe,minZoom:Se,maxZoom:Be}=this.options;fe&&console.time("total time");const We=`prepare ${ue.length} points`;fe&&console.time(We),this.points=ue;const et=[];for(let He=0;He<ue.length;He++){const at=ue[He];if(!at.geometry)continue;const[qt,nn]=at.geometry.coordinates,Wt=ei(St(qt)),oi=ei(mt(nn));et.push(Wt,oi,1/0,He,-1,1),this.options.reduce&&et.push(0)}let Je=this.trees[Be+1]=this._createTree(et);fe&&console.timeEnd(We);for(let He=Be;He>=Se;He--){const at=+Date.now();Je=this.trees[He]=this._createTree(this._cluster(Je,He)),fe&&console.log("z%d: %d clusters in %dms",He,Je.numItems,+Date.now()-at)}return fe&&console.timeEnd("total time"),this}getClusters(ue,fe){let Se=((ue[0]+180)%360+360)%360-180;const Be=Math.max(-90,Math.min(90,ue[1]));let We=180===ue[2]?180:((ue[2]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,ue[3]));if(ue[2]-ue[0]>=360)Se=-180,We=180;else if(Se>We){const nn=this.getClusters([Se,Be,180,et],fe),Wt=this.getClusters([-180,Be,We,et],fe);return nn.concat(Wt)}const Je=this.trees[this._limitZoom(fe)],He=Je.range(St(Se),mt(et),St(We),mt(Be)),at=Je.data,qt=[];for(const nn of He){const Wt=this.stride*nn;qt.push(at[Wt+Mr]>1?gt(at,Wt,this.clusterProps):this.points[at[Wt+zi]])}return qt}getChildren(ue){const fe=this._getOriginId(ue),Se=this._getOriginZoom(ue),Be="No cluster with the specified id.",We=this.trees[Se];if(!We)throw new Error(Be);const et=We.data;if(fe*this.stride>=et.length)throw new Error(Be);const Je=this.options.radius/(this.options.extent*Math.pow(2,Se-1)),He=We.within(et[fe*this.stride],et[fe*this.stride+1],Je),at=[];for(const qt of He){const nn=qt*this.stride;et[nn+4]===ue&&at.push(et[nn+Mr]>1?gt(et,nn,this.clusterProps):this.points[et[nn+zi]])}if(0===at.length)throw new Error(Be);return at}getLeaves(ue,fe,Se){const Be=[];return this._appendLeaves(Be,ue,fe=fe||10,Se=Se||0,0),Be}getTile(ue,fe,Se){const Be=this.trees[this._limitZoom(ue)],We=Math.pow(2,ue),{extent:et,radius:Je}=this.options,He=Je/et,at=(Se-He)/We,qt=(Se+1+He)/We,nn={features:[]};return this._addTileFeatures(Be.range((fe-He)/We,at,(fe+1+He)/We,qt),Be.data,fe,Se,We,nn),0===fe&&this._addTileFeatures(Be.range(1-He/We,at,1,qt),Be.data,We,Se,We,nn),fe===We-1&&this._addTileFeatures(Be.range(0,at,He/We,qt),Be.data,-1,Se,We,nn),nn.features.length?nn:null}getClusterExpansionZoom(ue){let fe=this._getOriginZoom(ue)-1;for(;fe<=this.options.maxZoom;){const Se=this.getChildren(ue);if(fe++,1!==Se.length)break;ue=Se[0].properties.cluster_id}return fe}_appendLeaves(ue,fe,Se,Be,We){const et=this.getChildren(fe);for(const Je of et){const He=Je.properties;if(He&&He.cluster?We+He.point_count<=Be?We+=He.point_count:We=this._appendLeaves(ue,He.cluster_id,Se,Be,We):We<Be?We++:ue.push(Je),ue.length===Se)break}return We}_createTree(ue){const fe=new u.KDBush(ue.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Se=0;Se<ue.length;Se+=this.stride)fe.add(ue[Se],ue[Se+1]);return fe.finish(),fe.data=ue,fe}_addTileFeatures(ue,fe,Se,Be,We,et){for(const Je of ue){const He=Je*this.stride,at=fe[He+Mr]>1;let qt,nn,Wt;if(at)qt=At(fe,He,this.clusterProps),nn=fe[He],Wt=fe[He+1];else{const ni=this.points[fe[He+zi]];qt=ni.properties;const[Ut,gi]=ni.geometry.coordinates;nn=St(Ut),Wt=mt(gi)}const oi={type:1,geometry:[[Math.round(this.options.extent*(nn*We-Se)),Math.round(this.options.extent*(Wt*We-Be))]],tags:qt};let Un;Un=at||this.options.generateId?fe[He+zi]:this.points[fe[He+zi]].id,void 0!==Un&&(oi.id=Un),et.features.push(oi)}}_limitZoom(ue){return Math.max(this.options.minZoom,Math.min(Math.floor(+ue),this.options.maxZoom+1))}_cluster(ue,fe){const{radius:Se,extent:Be,reduce:We,minPoints:et}=this.options,Je=Se/(Be*Math.pow(2,fe)),He=ue.data,at=[],qt=this.stride;for(let nn=0;nn<He.length;nn+=qt){if(He[nn+2]<=fe)continue;He[nn+2]=fe;const Wt=He[nn],oi=He[nn+1],Un=ue.within(He[nn],He[nn+1],Je),ni=He[nn+Mr];let Ut=ni;for(const gi of Un){const _i=gi*qt;He[_i+2]>fe&&(Ut+=He[_i+Mr])}if(Ut>ni&&Ut>=et){let gi,_i=Wt*ni,Ri=oi*ni,vi=-1;const Zn=((nn/qt|0)<<5)+(fe+1)+this.points.length;for(const as of Un){const Lr=as*qt;if(He[Lr+2]<=fe)continue;He[Lr+2]=fe;const Gi=He[Lr+Mr];_i+=He[Lr]*Gi,Ri+=He[Lr+1]*Gi,He[Lr+4]=Zn,We&&(gi||(gi=this._map(He,nn,!0),vi=this.clusterProps.length,this.clusterProps.push(gi)),We(gi,this._map(He,Lr)))}He[nn+4]=Zn,at.push(_i/Ut,Ri/Ut,1/0,Zn,-1,Ut),We&&at.push(vi)}else{for(let gi=0;gi<qt;gi++)at.push(He[nn+gi]);if(Ut>1)for(const gi of Un){const _i=gi*qt;if(!(He[_i+2]<=fe)){He[_i+2]=fe;for(let Ri=0;Ri<qt;Ri++)at.push(He[_i+Ri])}}}}return at}_getOriginId(ue){return ue-this.points.length>>5}_getOriginZoom(ue){return(ue-this.points.length)%32}_map(ue,fe,Se){if(ue[fe+Mr]>1){const et=this.clusterProps[ue[fe+es]];return Se?Object.assign({},et):et}const Be=this.points[ue[fe+zi]].properties,We=this.options.map(Be);return Se&&We===Be?Object.assign({},We):We}}function gt(ke,ue,fe){return{type:"Feature",id:ke[ue+zi],properties:At(ke,ue,fe),geometry:{type:"Point",coordinates:[(Se=ke[ue],360*(Se-.5)),Et(ke[ue+1])]}};var Se}function At(ke,ue,fe){const Se=ke[ue+Mr],Be=Se>=1e4?`${Math.round(Se/1e3)}k`:Se>=1e3?Math.round(Se/100)/10+"k":Se,We=ke[ue+es],et=-1===We?{}:Object.assign({},fe[We]);return Object.assign(et,{cluster:!0,cluster_id:ke[ue+zi],point_count:Se,point_count_abbreviated:Be})}function St(ke){return ke/360+.5}function mt(ke){const ue=Math.sin(ke*Math.PI/180),fe=.5-.25*Math.log((1+ue)/(1-ue))/Math.PI;return fe<0?0:fe>1?1:fe}function Et(ke){const ue=(180-360*ke)*Math.PI/180;return 360*Math.atan(Math.exp(ue))/Math.PI-90}function Tt(ke,ue,fe,Se){for(var Be,We=Se,et=fe-ue>>1,Je=fe-ue,He=ke[ue],at=ke[ue+1],qt=ke[fe],nn=ke[fe+1],Wt=ue+3;Wt<fe;Wt+=3){var oi=wt(ke[Wt],ke[Wt+1],He,at,qt,nn);if(oi>We)Be=Wt,We=oi;else if(oi===We){var Un=Math.abs(Wt-et);Un<Je&&(Be=Wt,Je=Un)}}We>Se&&(Be-ue>3&&Tt(ke,ue,Be,Se),ke[Be+2]=We,fe-Be>3&&Tt(ke,Be,fe,Se))}function wt(ke,ue,fe,Se,Be,We){var et=Be-fe,Je=We-Se;if(0!==et||0!==Je){var He=((ke-fe)*et+(ue-Se)*Je)/(et*et+Je*Je);He>1?(fe=Be,Se=We):He>0&&(fe+=et*He,Se+=Je*He)}return(et=ke-fe)*et+(Je=ue-Se)*Je}function vn(ke,ue,fe,Se){var Be={id:void 0===ke?null:ke,type:ue,geometry:fe,tags:Se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(We){var et=We.geometry,Je=We.type;if("Point"===Je||"MultiPoint"===Je||"LineString"===Je)Sn(We,et);else if("Polygon"===Je||"MultiLineString"===Je)for(var He=0;He<et.length;He++)Sn(We,et[He]);else if("MultiPolygon"===Je)for(He=0;He<et.length;He++)for(var at=0;at<et[He].length;at++)Sn(We,et[He][at])}(Be),Be}function Sn(ke,ue){for(var fe=0;fe<ue.length;fe+=3)ke.minX=Math.min(ke.minX,ue[fe]),ke.minY=Math.min(ke.minY,ue[fe+1]),ke.maxX=Math.max(ke.maxX,ue[fe]),ke.maxY=Math.max(ke.maxY,ue[fe+1])}function Mi(ke,ue,fe,Se){if(ue.geometry){var Be=ue.geometry.coordinates,We=ue.geometry.type,et=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2),Je=[],He=ue.id;if(fe.promoteId?He=ue.properties[fe.promoteId]:fe.generateId&&(He=Se||0),"Point"===We)Yn(Be,Je);else if("MultiPoint"===We)for(var at=0;at<Be.length;at++)Yn(Be[at],Je);else if("LineString"===We)di(Be,Je,et,!1);else if("MultiLineString"===We){if(fe.lineMetrics){for(at=0;at<Be.length;at++)di(Be[at],Je=[],et,!1),ke.push(vn(He,"LineString",Je,ue.properties));return}Ji(Be,Je,et,!1)}else if("Polygon"===We)Ji(Be,Je,et,!0);else{if("MultiPolygon"!==We){if("GeometryCollection"===We){for(at=0;at<ue.geometry.geometries.length;at++)Mi(ke,{id:He,geometry:ue.geometry.geometries[at],properties:ue.properties},fe,Se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(at=0;at<Be.length;at++){var qt=[];Ji(Be[at],qt,et,!0),Je.push(qt)}}ke.push(vn(He,We,Je,ue.properties))}}function Yn(ke,ue){ue.push(ps(ke[0])),ue.push($i(ke[1])),ue.push(0)}function di(ke,ue,fe,Se){for(var Be,We,et=0,Je=0;Je<ke.length;Je++){var He=ps(ke[Je][0]),at=$i(ke[Je][1]);ue.push(He),ue.push(at),ue.push(0),Je>0&&(et+=Se?(Be*at-He*We)/2:Math.sqrt(Math.pow(He-Be,2)+Math.pow(at-We,2))),Be=He,We=at}var qt=ue.length-3;ue[2]=1,Tt(ue,0,qt,fe),ue[qt+2]=1,ue.size=Math.abs(et),ue.start=0,ue.end=ue.size}function Ji(ke,ue,fe,Se){for(var Be=0;Be<ke.length;Be++){var We=[];di(ke[Be],We,fe,Se),ue.push(We)}}function ps(ke){return ke/360+.5}function $i(ke){var ue=Math.sin(ke*Math.PI/180),fe=.5-.25*Math.log((1+ue)/(1-ue))/Math.PI;return fe<0?0:fe>1?1:fe}function gr(ke,ue,fe,Se,Be,We,et,Je){if(Se/=ue,We>=(fe/=ue)&&et<Se)return ke;if(et<fe||We>=Se)return null;for(var He=[],at=0;at<ke.length;at++){var qt=ke[at],nn=qt.geometry,Wt=qt.type,oi=0===Be?qt.minX:qt.minY,Un=0===Be?qt.maxX:qt.maxY;if(oi>=fe&&Un<Se)He.push(qt);else if(!(Un<fe||oi>=Se)){var ni=[];if("Point"===Wt||"MultiPoint"===Wt)Xs(nn,ni,fe,Se,Be);else if("LineString"===Wt)xo(nn,ni,fe,Se,Be,!1,Je.lineMetrics);else if("MultiLineString"===Wt)Ki(nn,ni,fe,Se,Be,!1);else if("Polygon"===Wt)Ki(nn,ni,fe,Se,Be,!0);else if("MultiPolygon"===Wt)for(var Ut=0;Ut<nn.length;Ut++){var gi=[];Ki(nn[Ut],gi,fe,Se,Be,!0),gi.length&&ni.push(gi)}if(ni.length){if(Je.lineMetrics&&"LineString"===Wt){for(Ut=0;Ut<ni.length;Ut++)He.push(vn(qt.id,Wt,ni[Ut],qt.tags));continue}"LineString"!==Wt&&"MultiLineString"!==Wt||(1===ni.length?(Wt="LineString",ni=ni[0]):Wt="MultiLineString"),"Point"!==Wt&&"MultiPoint"!==Wt||(Wt=3===ni.length?"Point":"MultiPoint"),He.push(vn(qt.id,Wt,ni,qt.tags))}}}return He.length?He:null}function Xs(ke,ue,fe,Se,Be){for(var We=0;We<ke.length;We+=3){var et=ke[We+Be];et>=fe&&et<=Se&&(ue.push(ke[We]),ue.push(ke[We+1]),ue.push(ke[We+2]))}}function xo(ke,ue,fe,Se,Be,We,et){for(var Je,He,at=Js(ke),qt=0===Be?wa:Kn,nn=ke.start,Wt=0;Wt<ke.length-3;Wt+=3){var oi=ke[Wt],Un=ke[Wt+1],ni=ke[Wt+2],Ut=ke[Wt+3],gi=ke[Wt+4],_i=0===Be?oi:Un,Ri=0===Be?Ut:gi,vi=!1;et&&(Je=Math.sqrt(Math.pow(oi-Ut,2)+Math.pow(Un-gi,2))),_i<fe?Ri>fe&&(He=qt(at,oi,Un,Ut,gi,fe),et&&(at.start=nn+Je*He)):_i>Se?Ri<Se&&(He=qt(at,oi,Un,Ut,gi,Se),et&&(at.start=nn+Je*He)):yr(at,oi,Un,ni),Ri<fe&&_i>=fe&&(He=qt(at,oi,Un,Ut,gi,fe),vi=!0),Ri>Se&&_i<=Se&&(He=qt(at,oi,Un,Ut,gi,Se),vi=!0),!We&&vi&&(et&&(at.end=nn+Je*He),ue.push(at),at=Js(ke)),et&&(nn+=Je)}var Zn=ke.length-3;oi=ke[Zn],Un=ke[Zn+1],ni=ke[Zn+2],(_i=0===Be?oi:Un)>=fe&&_i<=Se&&yr(at,oi,Un,ni),Zn=at.length-3,We&&Zn>=3&&(at[Zn]!==at[0]||at[Zn+1]!==at[1])&&yr(at,at[0],at[1],at[2]),at.length&&ue.push(at)}function Js(ke){var ue=[];return ue.size=ke.size,ue.start=ke.start,ue.end=ke.end,ue}function Ki(ke,ue,fe,Se,Be,We){for(var et=0;et<ke.length;et++)xo(ke[et],ue,fe,Se,Be,We,!1)}function yr(ke,ue,fe,Se){ke.push(ue),ke.push(fe),ke.push(Se)}function wa(ke,ue,fe,Se,Be,We){var et=(We-ue)/(Se-ue);return ke.push(We),ke.push(fe+(Be-fe)*et),ke.push(1),et}function Kn(ke,ue,fe,Se,Be,We){var et=(We-fe)/(Be-fe);return ke.push(ue+(Se-ue)*et),ke.push(We),ke.push(1),et}function Nn(ke,ue){for(var fe=[],Se=0;Se<ke.length;Se++){var Be,We=ke[Se],et=We.type;if("Point"===et||"MultiPoint"===et||"LineString"===et)Be=bi(We.geometry,ue);else if("MultiLineString"===et||"Polygon"===et){Be=[];for(var Je=0;Je<We.geometry.length;Je++)Be.push(bi(We.geometry[Je],ue))}else if("MultiPolygon"===et)for(Be=[],Je=0;Je<We.geometry.length;Je++){for(var He=[],at=0;at<We.geometry[Je].length;at++)He.push(bi(We.geometry[Je][at],ue));Be.push(He)}fe.push(vn(We.id,et,Be,We.tags))}return fe}function bi(ke,ue){var fe=[];fe.size=ke.size,void 0!==ke.start&&(fe.start=ke.start,fe.end=ke.end);for(var Se=0;Se<ke.length;Se+=3)fe.push(ke[Se]+ue,ke[Se+1],ke[Se+2]);return fe}function Nr(ke,ue){if(ke.transformed)return ke;var fe,Se,Be,We=1<<ke.z,et=ke.x,Je=ke.y;for(fe=0;fe<ke.features.length;fe++){var He=ke.features[fe],at=He.geometry,qt=He.type;if(He.geometry=[],1===qt)for(Se=0;Se<at.length;Se+=2)He.geometry.push(vr(at[Se],at[Se+1],ue,We,et,Je));else for(Se=0;Se<at.length;Se++){var nn=[];for(Be=0;Be<at[Se].length;Be+=2)nn.push(vr(at[Se][Be],at[Se][Be+1],ue,We,et,Je));He.geometry.push(nn)}}return ke.transformed=!0,ke}function vr(ke,ue,fe,Se,Be,We){return[Math.round(fe*(ke*Se-Be)),Math.round(fe*(ue*Se-We))]}function ti(ke,ue,fe,Se,Be){for(var We=ue===Be.maxZoom?0:Be.tolerance/((1<<ue)*Be.extent),et={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:fe,y:Se,z:ue,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Je=0;Je<ke.length;Je++){et.numFeatures++,ji(et,ke[Je],We,Be);var He=ke[Je].minX,at=ke[Je].minY,qt=ke[Je].maxX,nn=ke[Je].maxY;He<et.minX&&(et.minX=He),at<et.minY&&(et.minY=at),qt>et.maxX&&(et.maxX=qt),nn>et.maxY&&(et.maxY=nn)}return et}function ji(ke,ue,fe,Se){var Be=ue.geometry,We=ue.type,et=[];if("Point"===We||"MultiPoint"===We)for(var Je=0;Je<Be.length;Je+=3)et.push(Be[Je]),et.push(Be[Je+1]),ke.numPoints++,ke.numSimplified++;else if("LineString"===We)$r(et,Be,ke,fe,!1,!1);else if("MultiLineString"===We||"Polygon"===We)for(Je=0;Je<Be.length;Je++)$r(et,Be[Je],ke,fe,"Polygon"===We,0===Je);else if("MultiPolygon"===We)for(var He=0;He<Be.length;He++){var at=Be[He];for(Je=0;Je<at.length;Je++)$r(et,at[Je],ke,fe,!0,0===Je)}if(et.length){var qt=ue.tags||null;if("LineString"===We&&Se.lineMetrics){for(var nn in qt={},ue.tags)qt[nn]=ue.tags[nn];qt.mapbox_clip_start=Be.start/Be.size,qt.mapbox_clip_end=Be.end/Be.size}var Wt={geometry:et,type:"Polygon"===We||"MultiPolygon"===We?3:"LineString"===We||"MultiLineString"===We?2:1,tags:qt};null!==ue.id&&(Wt.id=ue.id),ke.features.push(Wt)}}function $r(ke,ue,fe,Se,Be,We){var et=Se*Se;if(Se>0&&ue.size<(Be?et:Se))fe.numPoints+=ue.length/3;else{for(var Je=[],He=0;He<ue.length;He+=3)(0===Se||ue[He+2]>et)&&(fe.numSimplified++,Je.push(ue[He]),Je.push(ue[He+1])),fe.numPoints++;Be&&function(at,qt){for(var nn=0,Wt=0,oi=at.length,Un=oi-2;Wt<oi;Un=Wt,Wt+=2)nn+=(at[Wt]-at[Un])*(at[Wt+1]+at[Un+1]);if(nn>0===qt)for(Wt=0,oi=at.length;Wt<oi/2;Wt+=2){var ni=at[Wt],Ut=at[Wt+1];at[Wt]=at[oi-2-Wt],at[Wt+1]=at[oi-1-Wt],at[oi-2-Wt]=ni,at[oi-1-Wt]=Ut}}(Je,We),ke.push(Je)}}function Qs(ke,ue){var fe=(ue=this.options=function(Be,We){for(var et in We)Be[et]=We[et];return Be}(Object.create(this.options),ue)).debug;if(fe&&console.time("preprocess data"),ue.maxZoom<0||ue.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ue.promoteId&&ue.generateId)throw new Error("promoteId and generateId cannot be used together.");var Be,We,et,Je,He,at,Se=function(Be,We){var et=[];if("FeatureCollection"===Be.type)for(var Je=0;Je<Be.features.length;Je++)Mi(et,Be.features[Je],We,Je);else Mi(et,"Feature"===Be.type?Be:{geometry:Be},We);return et}(ke,ue);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ue.indexMaxZoom,ue.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Je=Be=Se,He=gr(Be,1,-1-(et=(We=ue).buffer/We.extent),et,0,-1,2,We),at=gr(Be,1,1-et,2+et,0,-1,2,We),(He||at)&&(Je=gr(Be,1,-et,1+et,0,-1,2,We)||[],He&&(Je=Nn(He,1).concat(Je)),at&&(Je=Je.concat(Nn(at,-1)))),(Se=Je).length&&this.splitTile(Se,0,0,0),fe&&(Se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Qi(ke,ue,fe){return 32*((1<<ke)*fe+ue)+ke}function Fo(ke,ue){const fe=ke.tileID.canonical;if(!this._geoJSONIndex)return ue(null,null);const Se=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!Se)return ue(null,null);const Be=new class{constructor(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.EXTENT,this.length=et.length,this._features=et}feature(et){return new class{constructor(Je){this._feature=Je,this.extent=u.EXTENT,this.type=Je.type,this.properties=Je.tags,"id"in Je&&!isNaN(Je.id)&&(this.id=parseInt(Je.id,10))}loadGeometry(){if(1===this._feature.type){const Je=[];for(const He of this._feature.geometry)Je.push([new u.Point(He[0],He[1])]);return Je}{const Je=[];for(const He of this._feature.geometry){const at=[];for(const qt of He)at.push(new u.Point(qt[0],qt[1]));Je.push(at)}return Je}}toGeoJSON(Je,He,at){return Ge.call(this,Je,He,at)}}(this._features[et])}}(Se.features);let We=_r(Be);0===We.byteOffset&&We.byteLength===We.buffer.byteLength||(We=new Uint8Array(We)),ue(null,{vectorTile:Be,rawData:We.buffer})}Qs.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qs.prototype.splitTile=function(ke,ue,fe,Se,Be,We,et){for(var Je=[ke,ue,fe,Se],He=this.options,at=He.debug;Je.length;){Se=Je.pop(),fe=Je.pop(),ue=Je.pop(),ke=Je.pop();var qt=1<<ue,nn=Qi(ue,fe,Se),Wt=this.tiles[nn];if(!Wt&&(at>1&&console.time("creation"),Wt=this.tiles[nn]=ti(ke,ue,fe,Se,He),this.tileCoords.push({z:ue,x:fe,y:Se}),at)){at>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ue,fe,Se,Wt.numFeatures,Wt.numPoints,Wt.numSimplified),console.timeEnd("creation"));var oi="z"+ue;this.stats[oi]=(this.stats[oi]||0)+1,this.total++}if(Wt.source=ke,Be){if(ue===He.maxZoom||ue===Be)continue;var Un=1<<Be-ue;if(fe!==Math.floor(We/Un)||Se!==Math.floor(et/Un))continue}else if(ue===He.indexMaxZoom||Wt.numPoints<=He.indexMaxPoints)continue;if(Wt.source=null,0!==ke.length){at>1&&console.time("clipping");var ni,Ut,gi,_i,Ri,vi,Zn=.5*He.buffer/He.extent,as=.5-Zn,Lr=.5+Zn,Gi=1+Zn;ni=Ut=gi=_i=null,Ri=gr(ke,qt,fe-Zn,fe+Lr,0,Wt.minX,Wt.maxX,He),vi=gr(ke,qt,fe+as,fe+Gi,0,Wt.minX,Wt.maxX,He),ke=null,Ri&&(ni=gr(Ri,qt,Se-Zn,Se+Lr,1,Wt.minY,Wt.maxY,He),Ut=gr(Ri,qt,Se+as,Se+Gi,1,Wt.minY,Wt.maxY,He),Ri=null),vi&&(gi=gr(vi,qt,Se-Zn,Se+Lr,1,Wt.minY,Wt.maxY,He),_i=gr(vi,qt,Se+as,Se+Gi,1,Wt.minY,Wt.maxY,He),vi=null),at>1&&console.timeEnd("clipping"),Je.push(ni||[],ue+1,2*fe,2*Se),Je.push(Ut||[],ue+1,2*fe,2*Se+1),Je.push(gi||[],ue+1,2*fe+1,2*Se),Je.push(_i||[],ue+1,2*fe+1,2*Se+1)}}},Qs.prototype.getTile=function(ke,ue,fe){var Se=this.options,Be=Se.extent,We=Se.debug;if(ke<0||ke>24)return null;var et=1<<ke,Je=Qi(ke,ue=(ue%et+et)%et,fe);if(this.tiles[Je])return Nr(this.tiles[Je],Be);We>1&&console.log("drilling down to z%d-%d-%d",ke,ue,fe);for(var He,at=ke,qt=ue,nn=fe;!He&&at>0;)at--,qt=Math.floor(qt/2),nn=Math.floor(nn/2),He=this.tiles[Qi(at,qt,nn)];return He&&He.source?(We>1&&console.log("found parent tile z%d-%d-%d",at,qt,nn),We>1&&console.time("drilling down"),this.splitTile(He.source,at,qt,nn,ke,ue,fe),We>1&&console.timeEnd("drilling down"),this.tiles[Je]?Nr(this.tiles[Je],Be):null):null};class ki extends u.VectorTileWorkerSource{constructor(ue,fe,Se,Be,We){super(ue,fe,Se,Be,Fo),We&&(this.loadGeoJSON=We)}loadData(ue,fe){const Se=ue&&ue.request,Be=Se&&Se.collectResourceTiming;this.loadGeoJSON(ue,(We,et)=>{if(We||!et)return fe(We);if("object"!=typeof et)return fe(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`));{Fe(et,!0);try{if(ue.filter){const He=u.createExpression(ue.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===He.result)throw new Error(He.value.map(qt=>`${qt.key}: ${qt.message}`).join(", "));et={type:"FeatureCollection",features:et.features.filter(qt=>He.value.evaluate({zoom:0},qt))}}this._geoJSONIndex=ue.cluster?new dt(function({superclusterOptions:He,clusterProperties:at}){if(!at||!He)return He;const qt={},nn={},Wt={accumulated:null,zoom:0},oi={properties:null},Un=Object.keys(at);for(const ni of Un){const[Ut,gi]=at[ni],_i=u.createExpression(gi),Ri=u.createExpression("string"==typeof Ut?[Ut,["accumulated"],["get",ni]]:Ut);qt[ni]=_i.value,nn[ni]=Ri.value}return He.map=ni=>{oi.properties=ni;const Ut={};for(const gi of Un)Ut[gi]=qt[gi].evaluate(Wt,oi);return Ut},He.reduce=(ni,Ut)=>{oi.properties=Ut;for(const gi of Un)Wt.accumulated=ni[gi],ni[gi]=nn[gi].evaluate(Wt,oi)},He}(ue)).load(et.features):new Qs(He=et,ue.geojsonVtOptions)}catch(He){return fe(He)}this.loaded={};const Je={};if(Be){const He=u.getPerformanceMeasurement(Se);He&&(Je.resourceTiming={},Je.resourceTiming[ue.source]=JSON.parse(JSON.stringify(He)))}fe(null,Je)}var He})}reloadTile(ue,fe){const Se=this.loaded;return Se&&Se[ue.uid]?super.reloadTile(ue,fe):this.loadTile(ue,fe)}loadGeoJSON(ue,fe){if(ue.request)u.getJSON(ue.request,fe);else{if("string"!=typeof ue.data)return fe(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`));try{return fe(null,JSON.parse(ue.data))}catch{return fe(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(ue,fe){try{fe(null,this._geoJSONIndex.getClusterExpansionZoom(ue.clusterId))}catch(Se){fe(Se)}}getClusterChildren(ue,fe){try{fe(null,this._geoJSONIndex.getChildren(ue.clusterId))}catch(Se){fe(Se)}}getClusterLeaves(ue,fe){try{fe(null,this._geoJSONIndex.getLeaves(ue.clusterId,ue.limit,ue.offset))}catch(Se){fe(Se)}}}class Gr{constructor(ue){this.self=ue,this.actor=new u.Actor(ue,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=u.getProjection({name:"mercator"}),this.workerSourceTypes={vector:u.VectorTileWorkerSource,geojson:ki},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(fe,Se)=>{if(this.workerSourceTypes[fe])throw new Error(`Worker source with name "${fe}" already registered.`);this.workerSourceTypes[fe]=Se},this.self.registerRTLTextPlugin=fe=>{if(u.plugin.isParsed())throw new Error("RTL text plugin already registered.");u.plugin.applyArabicShaping=fe.applyArabicShaping,u.plugin.processBidirectionalText=fe.processBidirectionalText,u.plugin.processStyledBidirectionalText=fe.processStyledBidirectionalText}}clearCaches(ue,fe,Se){delete this.layerIndexes[ue],delete this.availableImages[ue],delete this.workerSources[ue],delete this.demWorkerSources[ue],Se()}checkIfReady(ue,fe,Se){Se()}setReferrer(ue,fe){this.referrer=fe}spriteLoaded(ue,fe){this.isSpriteLoaded[ue]=fe;for(const Se in this.workerSources[ue]){const Be=this.workerSources[ue][Se];for(const We in Be)Be[We]instanceof u.VectorTileWorkerSource&&(Be[We].isSpriteLoaded=fe,Be[We].fire(new u.Event("isSpriteLoaded")))}}setImages(ue,fe,Se){this.availableImages[ue]=fe;for(const Be in this.workerSources[ue]){const We=this.workerSources[ue][Be];for(const et in We)We[et].availableImages=fe}Se()}enableTerrain(ue,fe,Se){this.terrain=fe,Se()}setProjection(ue,fe){this.projections[ue]=u.getProjection(fe)}setLayers(ue,fe,Se){this.getLayerIndex(ue).replace(fe),Se()}updateLayers(ue,fe,Se){this.getLayerIndex(ue).update(fe.layers,fe.removedIds),Se()}loadTile(ue,fe,Se){const Be=this.enableTerrain?u.extend({enableTerrain:this.terrain},fe):fe;Be.projection=this.projections[ue]||this.defaultProjection,this.getWorkerSource(ue,fe.type,fe.source).loadTile(Be,Se)}loadDEMTile(ue,fe,Se){const Be=this.enableTerrain?u.extend({buildQuadTree:this.terrain},fe):fe;this.getDEMWorkerSource(ue,fe.source).loadTile(Be,Se)}reloadTile(ue,fe,Se){const Be=this.enableTerrain?u.extend({enableTerrain:this.terrain},fe):fe;Be.projection=this.projections[ue]||this.defaultProjection,this.getWorkerSource(ue,fe.type,fe.source).reloadTile(Be,Se)}abortTile(ue,fe,Se){this.getWorkerSource(ue,fe.type,fe.source).abortTile(fe,Se)}removeTile(ue,fe,Se){this.getWorkerSource(ue,fe.type,fe.source).removeTile(fe,Se)}removeSource(ue,fe,Se){if(!this.workerSources[ue]||!this.workerSources[ue][fe.type]||!this.workerSources[ue][fe.type][fe.source])return;const Be=this.workerSources[ue][fe.type][fe.source];delete this.workerSources[ue][fe.type][fe.source],void 0!==Be.removeSource?Be.removeSource(fe,Se):Se()}loadWorkerSource(ue,fe,Se){try{this.self.importScripts(fe.url),Se()}catch(Be){Se(Be.toString())}}syncRTLPluginState(ue,fe,Se){try{u.plugin.setState(fe);const Be=u.plugin.getPluginURL();if(u.plugin.isLoaded()&&!u.plugin.isParsed()&&null!=Be){this.self.importScripts(Be);const We=u.plugin.isParsed();Se(We?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Be}`),We)}}catch(Be){Se(Be.toString())}}getAvailableImages(ue){let fe=this.availableImages[ue];return fe||(fe=[]),fe}getLayerIndex(ue){let fe=this.layerIndexes[ue];return fe||(fe=this.layerIndexes[ue]=new ee),fe}getWorkerSource(ue,fe,Se){return this.workerSources[ue]||(this.workerSources[ue]={}),this.workerSources[ue][fe]||(this.workerSources[ue][fe]={}),this.workerSources[ue][fe][Se]||(this.workerSources[ue][fe][Se]=new this.workerSourceTypes[fe]({send:(We,et,Je,He,at,qt)=>{this.actor.send(We,et,Je,ue,at,qt)},scheduler:this.actor.scheduler},this.getLayerIndex(ue),this.getAvailableImages(ue),this.isSpriteLoaded[ue])),this.workerSources[ue][fe][Se]}getDEMWorkerSource(ue,fe){return this.demWorkerSources[ue]||(this.demWorkerSources[ue]={}),this.demWorkerSources[ue][fe]||(this.demWorkerSources[ue][fe]=new ae),this.demWorkerSources[ue][fe]}enforceCacheSizeLimit(ue,fe){u.enforceCacheSizeLimit(fe)}getWorkerPerformanceMetrics(ue,fe,Se){Se(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Gr(self)),Gr}),R(0,function(u){function F(g,a){if(Array.isArray(g)){if(!Array.isArray(a)||g.length!==a.length)return!1;for(let p=0;p<g.length;p++)if(!F(g[p],a[p]))return!1;return!0}if("object"==typeof g&&null!==g&&null!==a){if("object"!=typeof a||Object.keys(g).length!==Object.keys(a).length)return!1;for(const p in g)if(!F(g[p],a[p]))return!1;return!0}return g===a}var J=ee;function ee(g){return a=g,!(typeof window>"u"||typeof document>"u"||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var b,D,S=new Blob([""],{type:"text/javascript"}),O=URL.createObjectURL(S);try{D=new Worker(O),b=!0}catch{b=!1}return D&&D.terminate(),URL.revokeObjectURL(O),b}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var b=document.createElement("canvas");b.width=b.height=1;var D=b.getContext("2d");if(!D)return!1;var S=D.getImageData(0,0,1,1);return S&&S.width===b.width}()||(void 0===ae[p=a&&a.failIfMajorPerformanceCaveat]&&(ae[p]=function(b){var D,O,N,V,S=(O=b,N=document.createElement("canvas"),(V=Object.create(ee.webGLContextAttributes)).failIfMajorPerformanceCaveat=O,N.getContext("webgl",V)||N.getContext("experimental-webgl",V));if(!S)return!1;try{D=S.createShader(S.VERTEX_SHADER)}catch{return!1}return!(!D||S.isContextLost())&&(S.shaderSource(D,"void main() {}"),S.compileShader(D),!0===S.getShaderParameter(D,S.COMPILE_STATUS))}(p)),!ae[p]||document.documentMode));var a,p}var ae={};function de(g,a,p){const b=u.window.document.createElement(g);return void 0!==a&&(b.className=a),p&&p.appendChild(b),b}function Me(g,a,p){const b=u.window.document.createElementNS("http://www.w3.org/2000/svg",g);for(const D of Object.keys(a))b.setAttributeNS(null,D,a[D]);return p&&p.appendChild(b),b}ee.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Fe=u.window.document&&u.window.document.documentElement.style,Ge=Fe&&void 0!==Fe.userSelect?"userSelect":"WebkitUserSelect";let ht;function Xt(){Fe&&Ge&&(ht=Fe[Ge],Fe[Ge]="none")}function _t(){Fe&&Ge&&(Fe[Ge]=ht)}function Pt(g){g.preventDefault(),g.stopPropagation(),u.window.removeEventListener("click",Pt,!0)}function An(){u.window.addEventListener("click",Pt,!0),u.window.setTimeout(()=>{u.window.removeEventListener("click",Pt,!0)},0)}function pn(g,a){const p=g.getBoundingClientRect();return ct(g,p,a)}function Fn(g,a){const p=g.getBoundingClientRect(),b=[];for(let D=0;D<a.length;D++)b.push(ct(g,p,a[D]));return b}function Mn(g){return void 0!==u.window.InstallTrigger&&2===g.button&&g.ctrlKey&&u.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button}function ct(g,a,p){const b=g.offsetWidth===a.width?1:g.offsetWidth/a.width;return new u.Point((p.clientX-a.left)*b,(p.clientY-a.top)*b)}function qe(g,a){var p=a[0],b=a[1],D=a[2],S=a[3],O=p*S-D*b;return O?(g[0]=S*(O=1/O),g[1]=-b*O,g[2]=-D*O,g[3]=p*O,g):null}function zt(g){const{userImage:a}=g;return!!(a&&a.render&&a.render())&&(g.data.replace(new Uint8Array(a.data.buffer)),!0)}class Jt extends u.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:p,callback:b}of this.requestors)this._notify(p,b);this.requestors=[]}}hasImage(a){return!!this.getImage(a)}getImage(a){return this.images[a]}addImage(a,p){this._validate(a,p)&&(this.images[a]=p)}_validate(a,p){let b=!0;return this._validateStretch(p.stretchX,p.data&&p.data.width)||(this.fire(new u.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),b=!1),this._validateStretch(p.stretchY,p.data&&p.data.height)||(this.fire(new u.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),b=!1),this._validateContent(p.content,p)||(this.fire(new u.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),b=!1),b}_validateStretch(a,p){if(!a)return!0;let b=0;for(const D of a){if(D[0]<b||D[1]<D[0]||p<D[1])return!1;b=D[1]}return!0}_validateContent(a,p){return!(a&&(4!==a.length||a[0]<0||p.data.width<a[0]||a[1]<0||p.data.height<a[1]||a[2]<0||p.data.width<a[2]||a[3]<0||p.data.height<a[3]||a[2]<a[0]||a[3]<a[1]))}updateImage(a,p){p.version=this.images[a].version+1,this.images[a]=p,this.updatedImages[a]=!0}removeImage(a){const p=this.images[a];delete this.images[a],delete this.patterns[a],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,p){let b=!0;if(!this.isLoaded())for(const D of a)this.images[D]||(b=!1);this.isLoaded()||b?this._notify(a,p):this.requestors.push({ids:a,callback:p})}_notify(a,p){const b={};for(const D of a){this.images[D]||this.fire(new u.Event("styleimagemissing",{id:D}));const S=this.images[D];S?b[D]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,hasRenderCallback:!(!S.userImage||!S.userImage.render)}:u.warnOnce(`Image "${D}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,b)}getPixelSize(){const{width:a,height:p}=this.atlasImage;return{width:a,height:p}}getPattern(a){const p=this.patterns[a],b=this.getImage(a);if(!b)return null;if(p&&p.position.version===b.version)return p.position;if(p)p.position.version=b.version;else{const D={w:b.data.width+2,h:b.data.height+2,x:0,y:0},S=new u.ImagePosition(D,b);this.patterns[a]={bin:D,position:S}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const p=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new u.Texture(a,this.atlasImage,p.RGBA),this.atlasTexture&&this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const S in this.patterns)a.push(this.patterns[S].bin);const{w:p,h:b}=u.potpack(a),D=this.atlasImage;D.resize({width:p||1,height:b||1});for(const S in this.patterns){const{bin:O}=this.patterns[S],N=O.x+1,V=O.y+1,K=this.images[S].data,q=K.width,re=K.height;u.RGBAImage.copy(K,D,{x:0,y:0},{x:N,y:V},{width:q,height:re}),u.RGBAImage.copy(K,D,{x:0,y:re-1},{x:N,y:V-1},{width:q,height:1}),u.RGBAImage.copy(K,D,{x:0,y:0},{x:N,y:V+re},{width:q,height:1}),u.RGBAImage.copy(K,D,{x:q-1,y:0},{x:N-1,y:V},{width:1,height:re}),u.RGBAImage.copy(K,D,{x:0,y:0},{x:N+q,y:V},{width:1,height:re})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const p of a){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const b=this.images[p];zt(b)&&this.updateImage(p,b)}}}const Nt=new u.Properties({anchor:new u.DataConstantProperty(u.spec.light.anchor),position:new class{constructor(){this.specification=u.spec.light.position}possiblyEvaluate(g,a){return function([p,b,D]){const S=u.degToRad(b+90),O=u.degToRad(D);return{x:p*Math.cos(S)*Math.sin(O),y:p*Math.sin(S)*Math.sin(O),z:p*Math.cos(O),azimuthal:b,polar:D}}(g.expression.evaluate(a))}interpolate(g,a,p){return{x:u.number(g.x,a.x,p),y:u.number(g.y,a.y,p),z:u.number(g.z,a.z,p),azimuthal:u.number(g.azimuthal,a.azimuthal,p),polar:u.number(g.polar,a.polar,p)}}},color:new u.DataConstantProperty(u.spec.light.color),intensity:new u.DataConstantProperty(u.spec.light.intensity)});class rn extends u.Evented{constructor(a){super(),this._transitionable=new u.Transitionable(Nt),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,p={}){if(!this._validate(u.validateLight,a,p))for(const b in a){const D=a[b];u.endsWith(b,"-transition")?this._transitionable.setTransition(b.slice(0,-11),D):this._transitionable.setValue(b,D)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,p,b){return(!b||!1!==b.validate)&&u.emitValidationErrors(this,a.call(u.validateStyle,u.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:u.spec})))}}const wi=new u.Properties({source:new u.DataConstantProperty(u.spec.terrain.source),exaggeration:new u.DataConstantProperty(u.spec.terrain.exaggeration)});let fi=class extends u.Evented{constructor(g,a){super(),this._transitionable=new u.Transitionable(wi),this.set(g),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=a}get(){return this._transitionable.serialize()}set(g){for(const a in g){const p=g[a];u.endsWith(a,"-transition")?this._transitionable.setTransition(a.slice(0,-11),p):this._transitionable.setValue(a,p)}}updateTransitions(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(g){this.properties=this._transitioning.possiblyEvaluate(g)}};function _r(g,a,p,b){const D=u.smoothstep(45,65,p),[S,O]=ws(g,b),N=u.length(a);let V=1-Math.min(1,Math.exp((N-S)/(O-S)*-6));return V*=V*V,V=Math.min(1,1.00747*V),V*D*g.alpha}function ws(g,a){const p=.5/Math.tan(.5*a);return[g.range[0]+p,g.range[1]+p]}const ei=new u.Properties({range:new u.DataConstantProperty(u.spec.fog.range),color:new u.DataConstantProperty(u.spec.fog.color),"high-color":new u.DataConstantProperty(u.spec.fog["high-color"]),"space-color":new u.DataConstantProperty(u.spec.fog["space-color"]),"horizon-blend":new u.DataConstantProperty(u.spec.fog["horizon-blend"]),"star-intensity":new u.DataConstantProperty(u.spec.fog["star-intensity"])});class co extends u.Evented{constructor(a,p){super(),this._transitionable=new u.Transitionable(ei),this.set(a),this._transitioning=this._transitionable.untransitioned(),this._transform=p}get state(){const a=this._transform,p="globe"===a.projection.name,b=u.globeToMercatorTransition(a.zoom),D=this.properties.get("range"),S=[.5,3];return{range:p?[u.number(S[0],D[0],b),u.number(S[1],D[1],b)]:D,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(a,p={}){if(!this._validate(u.validateFog,a,p)){for(const b of Object.keys(u.spec.fog))a&&void 0===a[b]&&(a[b]=u.spec.fog[b].default);for(const b in a){const D=a[b];u.endsWith(b,"-transition")?this._transitionable.setTransition(b.slice(0,-11),D):this._transitionable.setValue(b,D)}}}getOpacity(a){if(!this._transform.projection.supportsFog)return 0;const p=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:u.smoothstep(45,65,a))*p.a}getOpacityAtLatLng(a,p){return this._transform.projection.supportsFog?function(b,D,S){const O=u.MercatorCoordinate.fromLngLat(D),N=S.elevation?S.elevation.getAtPointOrZero(O):0,V=[O.x,O.y,N];return u.transformMat4(V,V,S.mercatorFogMatrix),_r(b,V,S.pitch,S._fov)}(this.state,a,p):0}getFovAdjustedRange(a){return this._transform.projection.supportsFog?ws(this.state,a):[0,1]}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,p,b){return(!b||!1!==b.validate)&&u.emitValidationErrors(this,a.call(u.validateStyle,u.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:u.spec})))}}class zi{constructor(a,p){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=u.uniqueId();const b=this.workerPool.acquire(this.id);for(let D=0;D<b.length;D++){const S=new zi.Actor(b[D],p,this.id);S.name=`Worker ${D}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,p,b){u.asyncAll(this.actors,(D,S)=>{D.send(a,p,S)},b=b||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Mr(g,a,p){return a*(u.EXTENT/(g.tileSize*Math.pow(2,p-g.tileID.overscaledZ)))}zi.Actor=u.Actor;class es{constructor(a,p,b,D){this.screenBounds=a,this.cameraPoint=p,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=b,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,D)}static createFromScreenPoints(a,p){let b,D;if(a instanceof u.Point||"number"==typeof a[0]){const S=u.Point.convert(a);b=[S],D=p.isPointAboveHorizon(S)}else{const S=u.Point.convert(a[0]),O=u.Point.convert(a[1]);b=[S,O],D=u.polygonizeBounds(S,O).every(N=>p.isPointAboveHorizon(N))}return new es(b,p.getCameraPoint(),D,p)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(a){return u.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],a)}bufferedCameraGeometry(a){const p=this.screenBounds[0],b=1===this.screenBounds.length?this.screenBounds[0].add(new u.Point(1,1)):this.screenBounds[1],D=u.polygonizeBounds(p,b,0,!1);return this.cameraPoint.y>b.y&&(this.cameraPoint.x>p.x&&this.cameraPoint.x<b.x?D.splice(3,0,this.cameraPoint):this.cameraPoint.x>=b.x?D[2]=this.cameraPoint:this.cameraPoint.x<=p.x&&(D[3]=this.cameraPoint)),u.bufferConvexPolygon(D,a)}bufferedCameraGeometryGlobe(a){const p=this.screenBounds[0],b=1===this.screenBounds.length?this.screenBounds[0].add(new u.Point(1,1)):this.screenBounds[1],D=u.polygonizeBounds(p,b,a),S=this.cameraPoint.clone();switch(3*((S.y>p.y)+(S.y>b.y))+((S.x>p.x)+(S.x>b.x))){case 0:D[0]=S,D[4]=S.clone();break;case 1:D.splice(1,0,S);break;case 2:D[1]=S;break;case 3:D.splice(4,0,S);break;case 5:D.splice(2,0,S);break;case 6:D[3]=S;break;case 7:D.splice(3,0,S);break;case 8:D[2]=S}return D}containsTile(a,p,b,D=0){const S=a.queryPadding/p._pixelsPerMercatorPixel+1,O=b?this._bufferedCameraMercator(S,p):this._bufferedScreenMercator(S,p);let N=a.tileID.wrap+(O.unwrapped?D:0);const V=O.polygon.map(De=>u.getTilePoint(a.tileTransform,De,N));if(!u.polygonIntersectsBox(V,0,0,u.EXTENT,u.EXTENT))return;N=a.tileID.wrap+(this.screenGeometryMercator.unwrapped?D:0);const K=this.screenGeometryMercator.polygon.map(De=>u.getTileVec3(a.tileTransform,De,N)),q=K.map(De=>new u.Point(De[0],De[1])),re=p.getFreeCameraOptions().position||new u.MercatorCoordinate(0,0,0),he=u.getTileVec3(a.tileTransform,re,N),ve=K.map(De=>{const oe=u.sub(De,De,he);return u.normalize(oe,oe),new u.Ray(he,oe)}),we=Mr(a,1,p.zoom)*p._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:q,tilespaceRays:ve,bufferedTilespaceGeometry:V,bufferedTilespaceBounds:(be=u.getBounds(V),be.min.x=u.clamp(be.min.x,0,u.EXTENT),be.min.y=u.clamp(be.min.y,0,u.EXTENT),be.max.x=u.clamp(be.max.x,0,u.EXTENT),be.max.y=u.clamp(be.max.y,0,u.EXTENT),be),tile:a,tileID:a.tileID,pixelToTileUnitsFactor:we};var be}_bufferedScreenMercator(a,p){const b=At(a);if(this._screenRaycastCache[b])return this._screenRaycastCache[b];{let D;return D="globe"===p.projection.name?this._projectAndResample(this.bufferedScreenGeometry(a),p):{polygon:this.bufferedScreenGeometry(a).map(S=>p.pointCoordinate3D(S)),unwrapped:!0},this._screenRaycastCache[b]=D,D}}_bufferedCameraMercator(a,p){const b=At(a);if(this._cameraRaycastCache[b])return this._cameraRaycastCache[b];{let D;return D="globe"===p.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(a),p):{polygon:this.bufferedCameraGeometry(a).map(S=>p.pointCoordinate3D(S)),unwrapped:!0},this._cameraRaycastCache[b]=D,D}}_projectAndResample(a,p){const b=function(S,O){const N=u.multiply([],O.pixelMatrix,O.globeMatrix),V=[0,-u.GLOBE_RADIUS,0,1],K=[0,u.GLOBE_RADIUS,0,1],q=[0,0,0,1];u.transformMat4$1(V,V,N),u.transformMat4$1(K,K,N),u.transformMat4$1(q,q,N);const re=new u.Point(V[0]/V[3],V[1]/V[3]),he=new u.Point(K[0]/K[3],K[1]/K[3]),ve=u.polygonContainsPoint(S,re)&&V[3]<q[3],we=u.polygonContainsPoint(S,he)&&K[3]<q[3];if(!ve&&!we)return null;const be=function(Ve,Xe,Ze){for(let it=1;it<Ve.length;it++){const Rt=gt(Xe.pointCoordinate3D(Ve[it-1]).x),Qe=gt(Xe.pointCoordinate3D(Ve[it]).x);if(Ze<0){if(Rt<Qe)return{idx:it,t:-Rt/(Qe-1-Rt)}}else if(Qe<Rt)return{idx:it,t:(1-Rt)/(Qe+1-Rt)}}return null}(S,O,ve?-1:1);if(!be)return null;const{idx:De,t:oe}=be;let ye=De>1?dt(S.slice(0,De),O):[],Ce=De<S.length?dt(S.slice(De),O):[];ye=ye.map(Ve=>new u.Point(gt(Ve.x),Ve.y)),Ce=Ce.map(Ve=>new u.Point(gt(Ve.x),Ve.y));const Le=[...ye];0===Le.length&&Le.push(Ce[Ce.length-1]);const Ue=u.number(Le[Le.length-1].y,(0===Ce.length?ye[0]:Ce[0]).y,oe);let Ye;return Ye=ve?[new u.Point(0,Ue),new u.Point(0,0),new u.Point(1,0),new u.Point(1,Ue)]:[new u.Point(1,Ue),new u.Point(1,1),new u.Point(0,1),new u.Point(0,Ue)],Le.push(...Ye),0===Ce.length?Le.push(ye[0]):Le.push(...Ce),{polygon:Le.map(Ve=>new u.MercatorCoordinate(Ve.x,Ve.y)),unwrapped:!1}}(a,p);if(b)return b;const D=function(S,O){let N=!1,V=-1/0,K=0;for(let re=0;re<S.length-1;re++)S[re].x>V&&(V=S[re].x,K=re);for(let re=0;re<S.length-1;re++){const he=(K+re)%(S.length-1),ve=S[he],we=S[he+1];Math.abs(ve.x-we.x)>.5&&(ve.x<we.x?(ve.x+=1,0===he&&(S[S.length-1].x+=1)):(we.x+=1,he+1===S.length-1&&(S[0].x+=1)),N=!0)}const q=u.mercatorXfromLng(O.center.lng);return N&&q<Math.abs(q-1)&&S.forEach(re=>{re.x-=1}),{polygon:S,unwrapped:N}}(dt(a,p).map(S=>new u.Point(gt(S.x),S.y)),p);return{polygon:D.polygon.map(S=>new u.MercatorCoordinate(S.x,S.y)),unwrapped:D.unwrapped}}}function dt(g,a){return u.resample(g,p=>{const b=a.pointCoordinate3D(p);p.x=b.x,p.y=b.y},1/256)}function gt(g){return g<0?1+g%1:g%1}function At(g){return 100*g|0}function St(g,a,p,b,D){const S=function(O,N){if(O)return D(O);if(N){g.url&&N.tiles&&g.tiles&&delete g.tiles;const V=u.pick(u.extend(N,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);N.vector_layers&&(V.vectorLayers=N.vector_layers,V.vectorLayerIds=V.vectorLayers.map(K=>K.id)),V.tiles=a.canonicalizeTileset(V,g.url),D(null,V)}};return g.url?u.getJSON(a.transformRequest(a.normalizeSourceURL(g.url,null,p,b),u.ResourceType.Source),S):u.exported.frame(()=>S(null,g))}class mt{constructor(a,p,b){this.bounds=u.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=p||0,this.maxzoom=b||24}validateBounds(a){return Array.isArray(a)&&4===a.length?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const p=Math.pow(2,a.z),b=Math.floor(u.mercatorXfromLng(this.bounds.getWest())*p),D=Math.floor(u.mercatorYfromLat(this.bounds.getNorth())*p),S=Math.ceil(u.mercatorXfromLng(this.bounds.getEast())*p),O=Math.ceil(u.mercatorYfromLat(this.bounds.getSouth())*p);return a.x>=b&&a.x<S&&a.y>=D&&a.y<O}}class Et{constructor(a,p,b){this.context=a;const D=a.gl;this.buffer=D.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),D.bufferData(D.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?D.DYNAMIC_DRAW:D.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Tt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class wt{constructor(a,p,b,D){this.length=p.length,this.attributes=b,this.itemSize=p.bytesPerElement,this.dynamicDraw=D,this.context=a;const S=a.gl;this.buffer=S.createBuffer(),a.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,p){for(let b=0;b<this.attributes.length;b++){const D=p.attributes[this.attributes[b].name];void 0!==D&&a.enableVertexAttribArray(D)}}setVertexAttribPointers(a,p,b){for(let D=0;D<this.attributes.length;D++){const S=this.attributes[D],O=p.attributes[S.name];void 0!==O&&a.vertexAttribPointer(O,S.components,a[Tt[S.type]],!1,this.itemSize,S.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class vn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Sn extends vn{getDefault(){return u.Color.transparent}set(a){const p=this.current;(a.r!==p.r||a.g!==p.g||a.b!==p.b||a.a!==p.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Mi extends vn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Yn extends vn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class di extends vn{getDefault(){return[!0,!0,!0,!0]}set(a){const p=this.current;(a[0]!==p[0]||a[1]!==p[1]||a[2]!==p[2]||a[3]!==p[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ji extends vn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class ps extends vn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class $i extends vn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const p=this.current;(a.func!==p.func||a.ref!==p.ref||a.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class gr extends vn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const p=this.current;(a[0]!==p[0]||a[1]!==p[1]||a[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Xs extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;a?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=a,this.dirty=!1}}class xo extends vn{getDefault(){return[0,1]}set(a){const p=this.current;(a[0]!==p[0]||a[1]!==p[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class Js extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;a?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=a,this.dirty=!1}}class Ki extends vn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class yr extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;a?p.enable(p.BLEND):p.disable(p.BLEND),this.current=a,this.dirty=!1}}class wa extends vn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const p=this.current;(a[0]!==p[0]||a[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Kn extends vn{getDefault(){return u.Color.transparent}set(a){const p=this.current;(a.r!==p.r||a.g!==p.g||a.b!==p.b||a.a!==p.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Nn extends vn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class bi extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;a?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=a,this.dirty=!1}}class Nr extends vn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class vr extends vn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}let ti,ji=class extends vn{getDefault(){return null}set(g){(g!==this.current||this.dirty)&&(this.gl.useProgram(g),this.current=g,this.dirty=!1)}};class $r extends vn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class Qs extends vn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const p=this.current;(a[0]!==p[0]||a[1]!==p[1]||a[2]!==p[2]||a[3]!==p[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Qi extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class Fo extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class ki extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Gr extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class ke extends vn{getDefault(){return null}set(a){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class ue extends vn{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class fe extends vn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class Se extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Be extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class We extends vn{constructor(a,p){super(a),this.context=a,this.parent=p}getDefault(){return null}}class et extends We{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Je extends We{attachment(){return this.gl.DEPTH_ATTACHMENT}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,this.attachment(),p.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class He extends Je{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class at{constructor(a,p,b,D){this.context=a,this.width=p,this.height=b;const S=this.framebuffer=a.gl.createFramebuffer();this.colorAttachment=new et(a,S),D&&(this.depthAttachment=new Je(a,S))}destroy(){const a=this.context.gl,p=this.colorAttachment.get();if(p&&a.deleteTexture(p),this.depthAttachment){const b=this.depthAttachment.get();b&&a.deleteRenderbuffer(b)}a.deleteFramebuffer(this.framebuffer)}}class qt{constructor(a,p=!1){if(this.gl=a,this.isWebGL2=p,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),p){const b=a;this.extVertexArrayObject={createVertexArrayOES:b.createVertexArray.bind(a),deleteVertexArrayOES:b.deleteVertexArray.bind(a),bindVertexArrayOES:b.bindVertexArray.bind(a)}}this.clearColor=new Sn(this),this.clearDepth=new Mi(this),this.clearStencil=new Yn(this),this.colorMask=new di(this),this.depthMask=new Ji(this),this.stencilMask=new ps(this),this.stencilFunc=new $i(this),this.stencilOp=new gr(this),this.stencilTest=new Xs(this),this.depthRange=new xo(this),this.depthTest=new Js(this),this.depthFunc=new Ki(this),this.blend=new yr(this),this.blendFunc=new wa(this),this.blendColor=new Kn(this),this.blendEquation=new Nn(this),this.cullFace=new bi(this),this.cullFaceSide=new Nr(this),this.frontFace=new vr(this),this.program=new ji(this),this.activeTexture=new $r(this),this.viewport=new Qs(this),this.bindFramebuffer=new Qi(this),this.bindRenderbuffer=new Fo(this),this.bindTexture=new ki(this),this.bindVertexBuffer=new Gr(this),this.bindElementBuffer=new ke(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ue(this),this.pixelStoreUnpack=new fe(this),this.pixelStoreUnpackPremultiplyAlpha=new Se(this),this.pixelStoreUnpackFlipY=new Be(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=a.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=a.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=a.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),p||(this.extTextureHalfFloat=a.getExtension("OES_texture_half_float")),(p||this.extTextureHalfFloat&&a.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=p||a.getExtension("OES_standard_derivatives"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,p){return new Et(this,a,p)}createVertexBuffer(a,p,b){return new wt(this,a,p,b)}createRenderbuffer(a,p,b){const D=this.gl,S=D.createRenderbuffer();return this.bindRenderbuffer.set(S),D.renderbufferStorage(D.RENDERBUFFER,a,p,b),this.bindRenderbuffer.set(null),S}createFramebuffer(a,p,b){return new at(this,a,p,b)}clear({color:a,depth:p,stencil:b}){const D=this.gl;let S=0;a&&(S|=D.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),void 0!==p&&(S|=D.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),void 0!==b&&(S|=D.STENCIL_BUFFER_BIT,this.clearStencil.set(b),this.stencilMask.set(255)),D.clear(S)}setCullFace(a){!1===a.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){F(a.blendFunction,u.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class nn extends u.Evented{constructor(a,p,b,D){if(super(),this.id=a,this.dispatcher=b,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.extend(this,u.pick(p,["url","scheme","tileSize","promoteId"])),this._options=u.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(D),this._tileWorkers={},this._deduped=new u.DedupedRequest}load(a){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"}));const p=Array.isArray(this.map._language)?this.map._language.join():this.map._language,b=this.map._worldview;this._tileJSONRequest=St(this._options,this.map._requestManager,p,b,(D,S)=>{this._tileJSONRequest=null,this._loaded=!0,D?(p&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${p}`),b&&2!==b.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${b}`),this.fire(new u.ErrorEvent(D))):S&&(u.extend(this,S),S.bounds&&(this.tileBounds=new mt(S.bounds,this.minzoom,this.maxzoom)),u.postTurnstileEvent(S.tiles,this.map._requestManager._customAccessToken),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"}))),a&&a(D)})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(a){return this._options.tiles=a,this.reload(),this}setUrl(a){return this.url=a,this._options.url=a,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return u.extend({},this._options)}loadTile(a,p){const b=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme)),D={request:this.map._requestManager.transformRequest(b,u.ResourceType.Tile),data:void 0,uid:a.uid,tileID:a.tileID,tileZoom:a.tileZoom,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:u.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:a.isSymbolTile};if(D.request.collectResourceTiming=this._collectResourceTiming,a.actor&&"expired"!==a.state)"loading"===a.state?a.reloadCallback=p:a.request=a.actor.send("reloadTile",D,S.bind(this));else if(a.actor=this._tileWorkers[b]=this._tileWorkers[b]||this.dispatcher.getActor(),this.dispatcher.ready)a.request=a.actor.send("loadTile",D,S.bind(this),void 0,!0);else{const O=u.loadVectorTile.call({deduped:this._deduped},D,(N,V)=>{N||!V?S.call(this,N):(D.data={cacheControl:V.cacheControl,expires:V.expires,rawData:V.rawData.slice(0)},a.actor&&a.actor.send("loadTile",D,S.bind(this),void 0,!0))},!0);a.request={cancel:O}}function S(O,N){return delete a.request,a.aborted?p(null):O&&404!==O.status?p(O):(N&&N.resourceTiming&&(a.resourceTiming=N.resourceTiming),this.map._refreshExpiredTiles&&N&&a.setExpiryData(N),a.loadVectorData(N,this.map.painter),u.cacheEntryPossiblyAdded(this.dispatcher),p(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id})}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Wt extends u.Evented{constructor(a,p,b,D){super(),this.id=a,this.dispatcher=b,this.setEventedParent(D),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.extend({type:"raster"},p),u.extend(this,u.pick(p,["url","scheme","tileSize"]))}load(a){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=St(this._options,this.map._requestManager,null,null,(p,b)=>{this._tileJSONRequest=null,this._loaded=!0,p?this.fire(new u.ErrorEvent(p)):b&&(u.extend(this,b),b.bounds&&(this.tileBounds=new mt(b.bounds,this.minzoom,this.maxzoom)),u.postTurnstileEvent(b.tiles),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"}))),a&&a(p)})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(a){return this._options.tiles=a,this.reload(),this}setUrl(a){return this.url=a,this._options.url=a,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return u.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,p){const b=u.exported.devicePixelRatio>=2,D=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme),b,this.tileSize);a.request=u.getImage(this.map._requestManager.transformRequest(D,u.ResourceType.Tile),(S,O,N,V)=>(delete a.request,a.aborted?(a.state="unloaded",p(null)):S?(a.state="errored",p(S)):O?(this.map._refreshExpiredTiles&&a.setExpiryData({cacheControl:N,expires:V}),a.setTexture(O,this.map.painter),a.state="loaded",u.cacheEntryPossiblyAdded(this.dispatcher),void p(null)):p(null)))}static loadTileData(a,p,b){a.setTexture(p,b)}static unloadTileData(a,p){a.texture&&p.saveTileTexture(a.texture)}abortTile(a,p){a.request&&(a.request.cancel(),delete a.request),p()}unloadTile(a,p){a.texture&&this.map.painter.saveTileTexture(a.texture),p()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function oi(g,a,p,b,D,S,O,N){const V=[g,p,D,a,b,S,1,1,1],K=[O,N,1],q=u.adjoint([],V),[re,he,ve]=u.transformMat3(K,K,u.transpose(q,q));return u.multiply$1(V,[re,0,0,0,he,0,0,0,ve],V)}class Un extends u.Evented{constructor(a,p,b,D){super(),this.id=a,this.dispatcher=b,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(D),this.options=p,this._dirty=!1}load(a,p){this._loaded=p||!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=u.getImage(this.map._requestManager.transformRequest(this.url,u.ResourceType.Image),(b,D)=>{if(this._imageRequest=null,this._loaded=!0,b)this.fire(new u.ErrorEvent(b));else if(D){const{HTMLImageElement:S}=u.window;this.image=D instanceof S?u.exported.getImageData(D):D,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading()}})}loaded(){return this._loaded}updateImage(a){return this.image&&a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(a){this.coordinates=a,this._boundsArray=void 0;const p=a.map(u.MercatorCoordinate.fromLngLat);return this.tileID=function(b){let D=1/0,S=1/0,O=-1/0,N=-1/0;for(const re of b)D=Math.min(D,re.x),S=Math.min(S,re.y),O=Math.max(O,re.x),N=Math.max(N,re.y);const V=Math.max(O-D,N-S),K=Math.max(0,Math.floor(-Math.log(V)/Math.LN2)),q=Math.pow(2,K);return new u.CanonicalTileID(K,Math.floor((D+O)/2*q),Math.floor((S+N)/2*q))}(p),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(a){for(const V in this.tiles){const K=this.tiles[V];"loaded"!==K.state&&(K.state="loaded",K.texture=this.texture)}if(this._boundsArray)return;const p=u.tileTransform(this.tileID,this.map.transform.projection),[b,D,S,O]=this.coordinates.map(V=>{const K=p.projection.project(V[0],V[1]);return u.getTilePoint(p,K)._round()});this.perspectiveTransform=function(V,K,q,re,he,ve,we,be,De,oe){const ye=oi(0,0,V,0,0,K,V,K),Ce=oi(q,re,he,ve,we,be,De,oe);return u.multiply$1(Ce,u.adjoint(ye,ye),Ce),[Ce[6]/Ce[8]*V/u.EXTENT,Ce[7]/Ce[8]*K/u.EXTENT]}(this.width,this.height,b.x,b.y,D.x,D.y,O.x,O.y,S.x,S.y);const N=this._boundsArray=new u.StructArrayLayout4i8;N.emplaceBack(b.x,b.y,0,0),N.emplaceBack(D.x,D.y,u.EXTENT,0),N.emplaceBack(O.x,O.y,0,u.EXTENT),N.emplaceBack(S.x,S.y,u.EXTENT,u.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=a.createVertexBuffer(N,u.boundsAttributes.members),this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const a=this.map.painter.context,p=a.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new u.Texture(a,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(a)}loadTile(a,p){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},p(null)):(a.state="errored",p(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const ni={vector:nn,raster:Wt,"raster-dem":class extends Wt{constructor(g,a,p,b){super(g,a,p,b),this.type="raster-dem",this.maxzoom=22,this._options=u.extend({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox"}loadTile(g,a){const p=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function b(D,S){D&&(g.state="errored",a(D)),S&&(g.dem=S,g.dem.onDeserialize(),g.needsHillshadePrepare=!0,g.needsDEMTextureUpload=!0,g.state="loaded",a(null))}g.request=u.getImage(this.map._requestManager.transformRequest(p,u.ResourceType.Tile),function(D,S,O,N){if(delete g.request,g.aborted)g.state="unloaded",a(null);else if(D)g.state="errored",a(D);else if(S){this.map._refreshExpiredTiles&&g.setExpiryData({cacheControl:O,expires:N});const V=u.window.ImageBitmap&&S instanceof u.window.ImageBitmap&&(null==ti&&(ti=u.window.OffscreenCanvas&&new u.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof u.window.createImageBitmap),ti),K=1-(S.width-u.prevPowerOfTwo(S.width))/2;K<1||g.neighboringTiles||(g.neighboringTiles=this._getNeighboringTiles(g.tileID));const q=V?S:u.exported.getImageData(S,K),re={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:q,encoding:this.encoding,padding:K};g.actor&&"expired"!==g.state||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",re,b.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(g){const a=g.canonical,p=Math.pow(2,a.z),b=(a.x-1+p)%p,D=0===a.x?g.wrap-1:g.wrap,S=(a.x+1+p)%p,O=a.x+1===p?g.wrap+1:g.wrap,N={};return N[new u.OverscaledTileID(g.overscaledZ,D,a.z,b,a.y).key]={backfilled:!1},N[new u.OverscaledTileID(g.overscaledZ,O,a.z,S,a.y).key]={backfilled:!1},a.y>0&&(N[new u.OverscaledTileID(g.overscaledZ,D,a.z,b,a.y-1).key]={backfilled:!1},N[new u.OverscaledTileID(g.overscaledZ,g.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},N[new u.OverscaledTileID(g.overscaledZ,O,a.z,S,a.y-1).key]={backfilled:!1}),a.y+1<p&&(N[new u.OverscaledTileID(g.overscaledZ,D,a.z,b,a.y+1).key]={backfilled:!1},N[new u.OverscaledTileID(g.overscaledZ,g.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},N[new u.OverscaledTileID(g.overscaledZ,O,a.z,S,a.y+1).key]={backfilled:!1}),N}unloadTile(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded"}},geojson:class extends u.Evented{constructor(g,a,p,b){super(),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=p.getActor(),this.setEventedParent(b),this._data=a.data,this._options=u.extend({},a),this._collectResourceTiming=a.collectResourceTiming,void 0!==a.maxzoom&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId;const D=u.EXTENT/this.tileSize;this.workerOptions=u.extend({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(void 0!==a.buffer?a.buffer:128)*D,tolerance:(void 0!==a.tolerance?a.tolerance:.375)*D,extent:u.EXTENT,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:void 0!==a.clusterMaxZoom?a.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:u.EXTENT,radius:(void 0!==a.clusterRadius?a.clusterRadius:50)*D,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions)}onAdd(g){this.map=g,this.setData(this._data)}setData(g){return this._data=g,this._updateWorkerData(),this}getClusterExpansionZoom(g,a){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},a),this}getClusterChildren(g,a){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},a),this}getClusterLeaves(g,a,p,b){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:a,offset:p},b),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new u.Event("dataloading",{dataType:"source"})),this._loaded=!1;const g=u.extend({},this.workerOptions),a=this._data;"string"==typeof a?(g.request=this.map._requestManager.transformRequest(u.exported.resolveURL(a),u.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(a),this._pendingLoad=this.actor.send(`${this.type}.loadData`,g,(p,b)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new u.ErrorEvent(p));else{const D={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&b&&b.resourceTiming&&b.resourceTiming[this.id]&&(D.resourceTiming=b.resourceTiming[this.id]),this.fire(new u.Event("data",D)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(g,a){const p=g.actor?"reloadTile":"loadTile";g.actor=this.actor,g.request=this.actor.send(p,{type:this.type,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(b,D)=>(delete g.request,g.unloadVectorData(),g.aborted?a(null):b?a(b):(g.loadVectorData(D,this.map.painter,"reloadTile"===p),a(null))),void 0,"loadTile"===p)}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0}unloadTile(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return u.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Un{constructor(g,a,p,b){super(g,a,p,b),this.roundZoom=!0,this.type="video",this.options=a}load(){this._loaded=!1;const g=this.options;this.urls=[];for(const a of g.urls)this.urls.push(this.map._requestManager.transformRequest(a,u.ResourceType.Source).url);u.getVideo(this.urls,(a,p)=>{this._loaded=!0,a?this.fire(new u.ErrorEvent(a)):p&&(this.video=p,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(g){if(this.video){const a=this.video.seekable;g<a.start(0)||g>a.end(0)?this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=g}}getVideo(){return this.video}onAdd(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const g=this.map.painter.context,a=g.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new u.Texture(g,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(g)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Un,canvas:class extends Un{constructor(g,a,p,b){super(g,a,p,b),a.coordinates?Array.isArray(a.coordinates)&&4===a.coordinates.length&&!a.coordinates.some(D=>!Array.isArray(D)||2!==D.length||D.some(S=>"number"!=typeof S))||this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${g}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${g}`,null,'missing required property "coordinates"'))),a.animate&&"boolean"!=typeof a.animate&&this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${g}`,null,'optional "animate" property must be a boolean value'))),a.canvas?"string"==typeof a.canvas||a.canvas instanceof u.window.HTMLCanvasElement||this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${g}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${g}`,null,'missing required property "canvas"'))),this.options=a,this.animate=void 0===a.animate||a.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof u.window.HTMLCanvasElement?this.options.canvas:u.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const a=this.map.painter.context;this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new u.Texture(a,this.canvas,a.gl.RGBA,{premultiply:!0}),this._prepareData(a)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const g of[this.canvas.width,this.canvas.height])if(isNaN(g)||g<=0)return!0;return!1}},custom:class extends u.Evented{constructor(g,a,p,b){super(),this.id=g,this.type="custom",this._dataType="raster",this._dispatcher=p,this._implementation=a,this.setEventedParent(b),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new u.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new u.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new mt(this._implementation.bounds,this.minzoom,this.maxzoom)),a.update=this._update.bind(this),a.clearTiles=this._clearTiles.bind(this),a.coveringTiles=this._coveringTiles.bind(this),u.extend(this,u.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return u.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(g){this._map=g,this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(g),this.load()}onRemove(g){this._implementation.onRemove&&this._implementation.onRemove(g)}hasTile(g){if(this._implementation.hasTile){const{x:a,y:p,z:b}=g.canonical;return this._implementation.hasTile({x:a,y:p,z:b})}return!this.tileBounds||this.tileBounds.contains(g.canonical)}loadTile(g,a){const{x:p,y:b,z:D}=g.tileID.canonical,S=new u.window.AbortController;g.request=Promise.resolve(this._implementation.loadTile({x:p,y:b,z:D},{signal:S.signal})).then(function(O){return delete g.request,g.aborted?(g.state="unloaded",a(null)):void 0===O?(g.state="errored",a(null)):null===O?(this.loadTileData(g,{width:this.tileSize,height:this.tileSize,data:null}),g.state="loaded",a(null)):(N=O)instanceof u.window.ImageData||N instanceof u.window.HTMLCanvasElement||N instanceof u.window.ImageBitmap||N instanceof u.window.HTMLImageElement?(this.loadTileData(g,O),g.state="loaded",void a(null)):(g.state="errored",a(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)));var N}.bind(this)).catch(O=>{20!==O.code&&(g.state="errored",a(O))}),g.request.cancel=()=>S.abort()}loadTileData(g,a){Wt.loadTileData(g,a,this._map.painter)}unloadTileData(g){Wt.unloadTileData(g,this._map.painter)}unloadTile(g,a){if(this.unloadTileData(g),this._implementation.unloadTile){const{x:p,y:b,z:D}=g.tileID.canonical;this._implementation.unloadTile({x:p,y:b,z:D})}a()}abortTile(g,a){g.request&&g.request.cancel&&(g.request.cancel(),delete g.request),a()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(g=>({x:g.canonical.x,y:g.canonical.y,z:g.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ut=function(g,a,p,b){const D=new ni[a.type](g,a,p,b);if(D.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${D.id}`);return u.bindAll(["load","abort","unload","serialize","prepare"],D),D};function gi(g,a){const p=u.identity([]);return u.scale(p,p,[.5*g.width,.5*-g.height,1]),u.translate(p,p,[1,-1,0]),u.multiply(p,p,g.calculateProjMatrix(a.toUnwrapped())),Float32Array.from(p)}function _i(g,a,p,b,D,S,O,N=!1){const V=g.tilesIn(b,O,N);V.sort(vi);const K=[];for(const re of V)K.push({wrappedTileID:re.tile.tileID.wrapped().key,queryResults:re.tile.queryRenderedFeatures(a,p,g._state,re,D,S,gi(g.transform,re.tile.tileID),N)});const q=function(re){const he={},ve={};for(const we of re){const be=we.queryResults,De=we.wrappedTileID,oe=ve[De]=ve[De]||{};for(const ye in be){const Ce=be[ye],Le=oe[ye]=oe[ye]||{},Ue=he[ye]=he[ye]||[];for(const Ye of Ce)Le[Ye.featureIndex]||(Le[Ye.featureIndex]=!0,Ue.push(Ye))}}return he}(K);for(const re in q)q[re].forEach(he=>{const ve=he.feature,we=ve.layer;we&&"background"!==we.type&&"sky"!==we.type&&(ve.source=we.source,we["source-layer"]&&(ve.sourceLayer=we["source-layer"]),ve.state=void 0!==ve.id?g.getFeatureState(we["source-layer"],ve.id):{})});return q}function Ri(g,a){const p=g.getRenderableIds().map(S=>g.getTileByID(S)),b=[],D={};for(let S=0;S<p.length;S++){const O=p[S],N=O.tileID.canonical.key;D[N]||(D[N]=!0,O.querySourceFeatures(b,a))}return b}function vi(g,a){const p=g.tileID,b=a.tileID;return p.overscaledZ-b.overscaledZ||p.canonical.y-b.canonical.y||p.wrap-b.wrap||p.canonical.x-b.canonical.x}function Zn(){return null!=Ia.workerClass?new Ia.workerClass:new u.window.Worker(Ia.workerUrl)}const as="mapboxgl_preloaded_worker_pool";class Lr{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Lr.workerCount;)this.workers.push(new Zn);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],0===this.numActive()&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[as]}numActive(){return Object.keys(this.active).length}}let Gi;function Ss(){return Gi||(Gi=new Lr),Gi}function wo(g,a){const p={};for(const b in g)"ref"!==b&&(p[b]=g[b]);return u.refProperties.forEach(b=>{b in a&&(p[b]=a[b])}),p}function er(g){g=g.slice();const a=Object.create(null);for(let p=0;p<g.length;p++)a[g[p].id]=g[p];for(let p=0;p<g.length;p++)"ref"in g[p]&&(g[p]=wo(g[p],a[g[p].ref]));return g}Lr.workerCount=2;const ai={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ts(g,a,p){p.push({command:ai.addSource,args:[g,a[g]]})}function Ar(g,a,p){a.push({command:ai.removeSource,args:[g]}),p[g]=!0}function Fi(g,a,p,b){Ar(g,p,b),ts(g,a,p)}function No(g,a,p){let b;for(b in g[p])if(g[p].hasOwnProperty(b)&&"data"!==b&&!F(g[p][b],a[p][b]))return!1;for(b in a[p])if(a[p].hasOwnProperty(b)&&"data"!==b&&!F(g[p][b],a[p][b]))return!1;return!0}function Cs(g,a,p,b,D,S){let O;for(O in a=a||{},g=g||{})g.hasOwnProperty(O)&&(F(g[O],a[O])||p.push({command:S,args:[b,O,a[O],D]}));for(O in a)a.hasOwnProperty(O)&&!g.hasOwnProperty(O)&&(F(g[O],a[O])||p.push({command:S,args:[b,O,a[O],D]}))}function Ni(g){return g.id}function Ma(g,a){return g[a.id]=a,g}class eo{constructor(a,p){this.reset(a,p)}reset(a,p){this.points=a||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(1===this.points.length)return this.points[0];a=u.clamp(a,0,1);let p=1,b=this._distances[p];const D=a*this.paddedLength+this.padding;for(;b<D&&p<this._distances.length;)b=this._distances[++p];const S=p-1,O=this._distances[S],N=b-O,V=N>0?(D-O)/N:0;return this.points[S].mult(1-V).add(this.points[p].mult(V))}}class Ls{constructor(a,p,b){const D=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(a/b),this.yCellCount=Math.ceil(p/b);for(let O=0;O<this.xCellCount*this.yCellCount;O++)D.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=p,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,p,b,D,S){this._forEachCell(p,b,D,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(p),this.bboxes.push(b),this.bboxes.push(D),this.bboxes.push(S)}insertCircle(a,p,b,D){this._forEachCell(p-D,b-D,p+D,b+D,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(p),this.circles.push(b),this.circles.push(D)}_insertBoxCell(a,p,b,D,S,O){this.boxCells[S].push(O)}_insertCircleCell(a,p,b,D,S,O){this.circleCells[S].push(O)}_query(a,p,b,D,S,O){if(b<0||a>this.width||D<0||p>this.height)return!S&&[];const N=[];if(a<=0&&p<=0&&this.width<=b&&this.height<=D){if(S)return!0;for(let V=0;V<this.boxKeys.length;V++)N.push({key:this.boxKeys[V],x1:this.bboxes[4*V],y1:this.bboxes[4*V+1],x2:this.bboxes[4*V+2],y2:this.bboxes[4*V+3]});for(let V=0;V<this.circleKeys.length;V++){const K=this.circles[3*V],q=this.circles[3*V+1],re=this.circles[3*V+2];N.push({key:this.circleKeys[V],x1:K-re,y1:q-re,x2:K+re,y2:q+re})}return O?N.filter(O):N}return this._forEachCell(a,p,b,D,this._queryCell,N,{hitTest:S,seenUids:{box:{},circle:{}}},O),S?N.length>0:N}_queryCircle(a,p,b,D,S){const O=a-b,N=a+b,V=p-b,K=p+b;if(N<0||O>this.width||K<0||V>this.height)return!D&&[];const q=[];return this._forEachCell(O,V,N,K,this._queryCellCircle,q,{hitTest:D,circle:{x:a,y:p,radius:b},seenUids:{box:{},circle:{}}},S),D?q.length>0:q}query(a,p,b,D,S){return this._query(a,p,b,D,!1,S)}hitTest(a,p,b,D,S){return this._query(a,p,b,D,!0,S)}hitTestCircle(a,p,b,D){return this._queryCircle(a,p,b,!0,D)}_queryCell(a,p,b,D,S,O,N,V){const K=N.seenUids,q=this.boxCells[S];if(null!==q){const he=this.bboxes;for(const ve of q)if(!K.box[ve]){K.box[ve]=!0;const we=4*ve;if(a<=he[we+2]&&p<=he[we+3]&&b>=he[we+0]&&D>=he[we+1]&&(!V||V(this.boxKeys[ve]))){if(N.hitTest)return O.push(!0),!0;O.push({key:this.boxKeys[ve],x1:he[we],y1:he[we+1],x2:he[we+2],y2:he[we+3]})}}}const re=this.circleCells[S];if(null!==re){const he=this.circles;for(const ve of re)if(!K.circle[ve]){K.circle[ve]=!0;const we=3*ve;if(this._circleAndRectCollide(he[we],he[we+1],he[we+2],a,p,b,D)&&(!V||V(this.circleKeys[ve]))){if(N.hitTest)return O.push(!0),!0;{const be=he[we],De=he[we+1],oe=he[we+2];O.push({key:this.circleKeys[ve],x1:be-oe,y1:De-oe,x2:be+oe,y2:De+oe})}}}}}_queryCellCircle(a,p,b,D,S,O,N,V){const K=N.circle,q=N.seenUids,re=this.boxCells[S];if(null!==re){const ve=this.bboxes;for(const we of re)if(!q.box[we]){q.box[we]=!0;const be=4*we;if(this._circleAndRectCollide(K.x,K.y,K.radius,ve[be+0],ve[be+1],ve[be+2],ve[be+3])&&(!V||V(this.boxKeys[we])))return O.push(!0),!0}}const he=this.circleCells[S];if(null!==he){const ve=this.circles;for(const we of he)if(!q.circle[we]){q.circle[we]=!0;const be=3*we;if(this._circlesCollide(ve[be],ve[be+1],ve[be+2],K.x,K.y,K.radius)&&(!V||V(this.circleKeys[we])))return O.push(!0),!0}}}_forEachCell(a,p,b,D,S,O,N,V){const K=this._convertToXCellCoord(a),q=this._convertToYCellCoord(p),re=this._convertToXCellCoord(b),he=this._convertToYCellCoord(D);for(let ve=K;ve<=re;ve++)for(let we=q;we<=he;we++)if(S.call(this,a,p,b,D,this.xCellCount*we+ve,O,N,V))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,p,b,D,S,O){const N=D-a,V=S-p,K=b+O;return K*K>N*N+V*V}_circleAndRectCollide(a,p,b,D,S,O,N){const V=(O-D)/2,K=Math.abs(a-(D+V));if(K>V+b)return!1;const q=(N-S)/2,re=Math.abs(p-(S+q));if(re>q+b)return!1;if(K<=V||re<=q)return!0;const he=K-V,ve=re-q;return he*he+ve*ve<=b*b}}const zs={unknown:0,flipRequired:1,flipNotRequired:2},Da=Math.tan(85*Math.PI/180);function vt(g,a,p,b,D,S,O){const N=u.create();if(p)if("globe"===S.name){const V=u.calculateGlobeLabelMatrix(D,a);u.multiply(N,N,V)}else{const V=qe([],O);N[0]=V[0],N[1]=V[1],N[4]=V[2],N[5]=V[3],b||u.rotateZ(N,N,D.angle)}else u.multiply(N,D.labelPlaneMatrix,g);return N}function Mo(g,a,p,b,D,S,O){const N=vt(g,a,p,b,D,S,O);return"globe"===S.name&&p||(N[2]=N[6]=N[10]=N[14]=0),N}function fr(g,a,p,b,D,S,O){if(p){if("globe"===S.name){const N=vt(g,a,p,b,D,S,O);return u.invert(N,N),u.multiply(N,g,N),N}{const N=u.clone(g),V=u.identity([]);return V[0]=O[0],V[1]=O[1],V[4]=O[2],V[5]=O[3],u.multiply(N,N,V),b||u.rotateZ(N,N,-D.angle),N}}return D.glCoordMatrix}function Ir(g,a,p,b){const D=[g,a,p,1];p?u.transformMat4$1(D,D,b):Di(D,D,b);const S=D[3];return D[0]/=S,D[1]/=S,D[2]/=S,D}function Yl(g,a){return Math.min(.5+g/a*.5,1.5)}function As(g,a){const p=g[0]/g[3],b=g[1]/g[3];return p>=-a[0]&&p<=a[0]&&b>=-a[1]&&b<=a[1]}function Dc(g,a,p,b,D,S,O,N,V,K){const q=p.transform,re=b?g.textSizeData:g.iconSizeData,he=u.evaluateSizeForZoom(re,p.transform.zoom),ve="globe"===q.projection.name,we=[256/p.width*2+1,256/p.height*2+1],be=b?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;be.clear();let De=null;ve&&(De=b?g.text.globeExtVertexArray:g.icon.globeExtVertexArray);const oe=g.lineVertexArray,ye=b?g.text.placedSymbolArray:g.icon.placedSymbolArray,Ce=p.transform.width/p.transform.height;let Le,Ue=!1;for(let Ye=0;Ye<ye.length;Ye++){const Ve=ye.get(Ye),{numGlyphs:Xe,writingMode:Ze}=Ve;if(Ze!==u.WritingMode.vertical||Ue||Le===u.WritingMode.horizontal||(Ue=!0),Le=Ze,(Ve.hidden||Ze===u.WritingMode.vertical)&&!Ue){uo(Xe,be);continue}Ue=!1;const it=new u.Point(Ve.tileAnchorX,Ve.tileAnchorY);let{x:Rt,y:Qe,z:Mt}=q.projection.projectTilePoint(it.x,it.y,K.canonical);if(V){const[Wn,_n,In]=V(it);Rt+=Wn,Qe+=_n,Mt+=In}const ut=[Rt,Qe,Mt,1];if(u.transformMat4$1(ut,ut,a),!As(ut,we)){uo(Xe,be);continue}const Lt=Yl(p.transform.cameraToCenterDistance,ut[3]),tt=u.evaluateSizeForFeature(re,he,Ve),bt=O?tt/Lt:tt*Lt,$t=Ir(Rt,Qe,Mt,D);if($t[3]<=0){uo(Xe,be);continue}let Dt={};const Ct=O?null:V,wn=cn(Ve,bt,!1,N,a,D,S,g.glyphOffsetArray,oe,be,De,$t,it,Dt,Ce,Ct,q.projection,K,O);Ue=wn.useVertical,Ct&&wn.needsFlipping&&(Dt={}),(wn.notEnoughRoom||Ue||wn.needsFlipping&&cn(Ve,bt,!0,N,a,D,S,g.glyphOffsetArray,oe,be,De,$t,it,Dt,Ce,Ct,q.projection,K,O).notEnoughRoom)&&uo(Xe,be)}b?(g.text.dynamicLayoutVertexBuffer.updateData(be),De&&g.text.globeExtVertexBuffer.updateData(De)):(g.icon.dynamicLayoutVertexBuffer.updateData(be),De&&g.icon.globeExtVertexBuffer.updateData(De))}function Ea(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be){const{lineStartIndex:De,glyphStartIndex:oe,segment:ye}=N,Ce=oe+N.numGlyphs,Le=De+N.lineLength,Ue=a.getoffsetX(oe),Ye=a.getoffsetX(Ce-1),Ve=Is(g*Ue,p,b,D,S,O,ye,De,Le,V,K,q,re,he,!0,ve,we,be);if(!Ve)return null;const Xe=Is(g*Ye,p,b,D,S,O,ye,De,Le,V,K,q,re,he,!0,ve,we,be);return Xe?{first:Ve,last:Xe}:null}function fl(g,a,p,b){return g===u.WritingMode.horizontal&&Math.abs(b)>Math.abs(p)?{useVertical:!0}:g===u.WritingMode.vertical?b>0?{needsFlipping:!0}:null:a!==zs.unknown&&(0===(D=p)||Math.abs(b/D)>Da)?a===zs.flipRequired?{needsFlipping:!0}:null:p<0?{needsFlipping:!0}:null;var D}function cn(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be,De,oe,ye){const Ce=a/24,Le=g.lineOffsetX*Ce,Ue=g.lineOffsetY*Ce,{lineStartIndex:Ye,glyphStartIndex:Ve,numGlyphs:Xe,segment:Ze,writingMode:it,flipState:Rt}=g,Qe=Ye+g.lineLength,Mt=ut=>{if(q){const[$t,Dt,Ct]=ut.up,wn=K.length;u.updateGlobeVertexNormal(q,wn+0,$t,Dt,Ct),u.updateGlobeVertexNormal(q,wn+1,$t,Dt,Ct),u.updateGlobeVertexNormal(q,wn+2,$t,Dt,Ct),u.updateGlobeVertexNormal(q,wn+3,$t,Dt,Ct)}const[Lt,tt,bt]=ut.point;u.addDynamicAttributes(K,Lt,tt,bt,ut.angle)};if(Xe>1){const ut=Ea(Ce,N,Le,Ue,p,re,he,g,V,S,ve,be,!1,De,oe,ye);if(!ut)return{notEnoughRoom:!0};if(b&&!p){let[Lt,tt,bt]=ut.first.point,[$t,Dt,Ct]=ut.last.point;[Lt,tt]=Ir(Lt,tt,bt,O),[$t,Dt]=Ir($t,Dt,Ct,O);const wn=fl(it,Rt,($t-Lt)*we,Dt-tt);if(g.flipState=wn&&wn.needsFlipping?zs.flipRequired:zs.flipNotRequired,wn)return wn}Mt(ut.first);for(let Lt=Ve+1;Lt<Ve+Xe-1;Lt++){const tt=Is(Ce*N.getoffsetX(Lt),Le,Ue,p,re,he,Ze,Ye,Qe,V,S,ve,be,!1,!1,De,oe,ye);if(!tt)return K.length-=4*(Lt-Ve),{notEnoughRoom:!0};Mt(tt)}Mt(ut.last)}else{if(b&&!p){const Lt=Ir(he.x,he.y,0,D),tt=Ye+Ze+1,bt=new u.Point(V.getx(tt),V.gety(tt)),$t=Ir(bt.x,bt.y,0,D),Dt=$t[3]>0?$t:li(he,bt,Lt,1,D,void 0,De,oe.canonical),Ct=fl(it,Rt,(Dt[0]-Lt[0])*we,Dt[1]-Lt[1]);if(g.flipState=Ct&&Ct.needsFlipping?zs.flipRequired:zs.flipNotRequired,Ct)return Ct}const ut=Is(Ce*N.getoffsetX(Ve),Le,Ue,p,re,he,Ze,Ye,Qe,V,S,ve,be,!1,!1,De,oe,ye);if(!ut)return{notEnoughRoom:!0};Mt(ut)}return{}}function $n(g,a,p,b,D){const{x:S,y:O,z:N}=b.projectTilePoint(g.x,g.y,a);if(!D)return Ir(S,O,N,p);const[V,K,q]=D(g);return Ir(S+V,O+K,N+q,p)}function li(g,a,p,b,D,S,O,N){const V=$n(g.sub(a)._unit()._add(g),N,D,O,S);return u.sub(V,p,V),u.normalize(V,V),u.scaleAndAdd(V,p,V,b)}function Is(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be,De,oe){const ye=b?g-a:g+a;let Ce=ye>0?1:-1,Le=0;b&&(Ce*=-1,Le=Math.PI),Ce<0&&(Le+=Math.PI);let Ue=N+O+(Ce>0?0:1)|0,Ye=D,Ve=D,Xe=0,Ze=0;const it=Math.abs(ye),Rt=[],Qe=[];let Mt=S,ut=Mt;const Lt=()=>li(ut,Mt,Ve,it-Xe+1,q,he,be,De.canonical);for(;Xe+Ze<=it;){if(Ue+=Ce,Ue<N||Ue>=V)return null;if(Ve=Ye,ut=Mt,Rt.push(Ve),ve&&Qe.push(ut),Mt=new u.Point(K.getx(Ue),K.gety(Ue)),Ye=re[Ue],!Ye){const In=$n(Mt,De.canonical,q,be,he);Ye=In[3]>0?re[Ue]=In:Lt()}Xe+=Ze,Ze=u.distance(Ve,Ye)}we&&he&&(re[Ue]&&(Ye=Lt(),Ze=u.distance(Ve,Ye)),re[Ue]=Ye);const tt=(it-Xe)/Ze,bt=Mt.sub(ut)._mult(tt)._add(ut),$t=u.sub([],Ye,Ve),Dt=u.scaleAndAdd([],Ve,$t,tt);let Ct=[0,0,1],wn=$t[0],Wn=$t[1];if(oe&&(Ct=be.upVector(De.canonical,bt.x,bt.y),0!==Ct[0]||0!==Ct[1]||1!==Ct[2])){const In=[Ct[2],0,-Ct[0]],pi=u.cross([],Ct,In);u.normalize(In,In),u.normalize(pi,pi),wn=u.dot($t,In),Wn=u.dot($t,pi)}if(p){const In=u.cross([],Ct,$t);u.normalize(In,In),u.scaleAndAdd(Dt,Dt,In,p*Ce)}const _n=Le+Math.atan2(Wn,wn);return Rt.push(Dt),ve&&Qe.push(bt),{point:Dt,angle:_n,path:Rt,tilePath:Qe,up:Ct}}function uo(g,a){const p=a.length,b=p+4*g;a.resize(b),a.float32.fill(-1/0,4*p,4*b)}function Di(g,a,p){const b=a[0],D=a[1];return g[0]=p[0]*b+p[4]*D+p[12],g[1]=p[1]*b+p[5]*D+p[13],g[3]=p[3]*b+p[7]*D+p[15],g}const Wr=100;class Bo{constructor(a,p,b=new Ls(a.width+200,a.height+200,25),D=new Ls(a.width+200,a.height+200,25)){this.transform=a,this.grid=b,this.ignoredGrid=D,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Wr,this.screenBottomBoundary=a.height+Wr,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.fogState=p}placeCollisionBox(a,p,b,D,S,O,N,V){let K=b.projectedAnchorX,q=b.projectedAnchorY,re=b.projectedAnchorZ;const he=b.elevation,ve=b.tileID,we=a.getProjection();if(he&&ve){const[Ye,Ve,Xe]=we.upVector(ve.canonical,b.tileAnchorX,b.tileAnchorY),Ze=we.upVectorScale(ve.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;K+=Ye*he*Ze,q+=Ve*he*Ze,re+=Xe*he*Ze}const be=this.projectAndGetPerspectiveRatio(N,K,q,re,b.tileID,"globe"===we.name||!!he||this.transform.pitch>0,we),De=O*be.perspectiveRatio,oe=(b.x1*p+D.x-b.padding)*De+be.point.x,ye=(b.y1*p+D.y-b.padding)*De+be.point.y,Ce=(b.x2*p+D.x+b.padding)*De+be.point.x,Le=(b.y2*p+D.y+b.padding)*De+be.point.y,Ue=be.perspectiveRatio<=.55||be.occluded;return!this.isInsideGrid(oe,ye,Ce,Le)||!S&&this.grid.hitTest(oe,ye,Ce,Le,V)||Ue?{box:[],offscreen:!1,occluded:be.occluded}:{box:[oe,ye,Ce,Le],offscreen:this.isOffscreen(oe,ye,Ce,Le),occluded:!1}}placeCollisionCircles(a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be){const De=[],oe=this.transform.elevation,ye=a.getProjection(),Ce=oe?oe.getAtTileOffsetFunc(be,this.transform.center.lat,this.transform.worldSize,ye):null,Le=new u.Point(b.tileAnchorX,b.tileAnchorY);let{x:Ue,y:Ye,z:Ve}=ye.projectTilePoint(Le.x,Le.y,be.canonical);if(Ce){const[bt,$t,Dt]=Ce(Le);Ue+=bt,Ye+=$t,Ve+=Dt}const Xe="globe"===ye.name,Ze=this.projectAndGetPerspectiveRatio(N,Ue,Ye,Ve,be,Xe||!!oe||this.transform.pitch>0,ye),{perspectiveRatio:it}=Ze,Rt=(re?O/it:O*it)/u.ONE_EM,Qe=Ir(Ue,Ye,Ve,V),Mt=Ze.signedDistanceFromCamera>0?Ea(Rt,S,b.lineOffsetX*Rt,b.lineOffsetY*Rt,!1,Qe,Le,b,D,V,{},oe&&!re?Ce:null,re&&!!oe,ye,be,re):null;let ut=!1,Lt=!1,tt=!0;if(Mt&&!Ze.occluded){const bt=.5*ve*it+we,$t=new u.Point(-100,-100),Dt=new u.Point(this.screenRightBoundary,this.screenBottomBoundary),Ct=new eo,{first:wn,last:Wn}=Mt,_n=wn.path.length;let In=[];for(let mn=_n-1;mn>=1;mn--)In.push(wn.path[mn]);for(let mn=1;mn<Wn.path.length;mn++)In.push(Wn.path[mn]);const pi=2.5*bt;K&&(In=In.map(([mn,Ii,mi],On)=>(Ce&&!Xe&&(mi=Ce(On<_n-1?wn.tilePath[_n-1-On]:Wn.tilePath[On-_n+2])[2]),Ir(mn,Ii,mi,K))),In.some(mn=>mn[3]<=0)&&(In=[]));let jn=[];if(In.length>0){let mn=1/0,Ii=-1/0,mi=1/0,On=-1/0;for(const C of In)mn=Math.min(mn,C[0]),mi=Math.min(mi,C[1]),Ii=Math.max(Ii,C[0]),On=Math.max(On,C[1]);Ii>=$t.x&&mn<=Dt.x&&On>=$t.y&&mi<=Dt.y&&(jn=[In.map(C=>new u.Point(C[0],C[1]))],(mn<$t.x||Ii>Dt.x||mi<$t.y||On>Dt.y)&&(jn=u.clipLine(jn,$t.x,$t.y,Dt.x,Dt.y)))}for(const mn of jn){Ct.reset(mn,.25*bt);let Ii=0;Ii=Ct.length<=.5*bt?1:Math.ceil(Ct.paddedLength/pi)+1;for(let mi=0;mi<Ii;mi++){const On=mi/Math.max(Ii-1,1),C=Ct.lerp(On),B=C.x+Wr,X=C.y+Wr;De.push(B,X,bt,0);const ne=B-bt,me=X-bt,Ne=B+bt,lt=X+bt;if(tt=tt&&this.isOffscreen(ne,me,Ne,lt),Lt=Lt||this.isInsideGrid(ne,me,Ne,lt),!p&&this.grid.hitTestCircle(B,X,bt,he)&&(ut=!0,!q))return{circles:[],offscreen:!1,collisionDetected:ut,occluded:!1}}}}return{circles:!q&&ut||!Lt?[]:De,offscreen:tt,collisionDetected:ut,occluded:Ze.occluded}}queryRenderedSymbols(a){if(0===a.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const p=[];let b=1/0,D=1/0,S=-1/0,O=-1/0;for(const q of a){const re=new u.Point(q.x+Wr,q.y+Wr);b=Math.min(b,re.x),D=Math.min(D,re.y),S=Math.max(S,re.x),O=Math.max(O,re.y),p.push(re)}const N=this.grid.query(b,D,S,O).concat(this.ignoredGrid.query(b,D,S,O)),V={},K={};for(const q of N){const re=q.key;if(void 0===V[re.bucketInstanceId]&&(V[re.bucketInstanceId]={}),V[re.bucketInstanceId][re.featureIndex])continue;const he=[new u.Point(q.x1,q.y1),new u.Point(q.x2,q.y1),new u.Point(q.x2,q.y2),new u.Point(q.x1,q.y2)];u.polygonIntersectsPolygon(p,he)&&(V[re.bucketInstanceId][re.featureIndex]=!0,void 0===K[re.bucketInstanceId]&&(K[re.bucketInstanceId]=[]),K[re.bucketInstanceId].push(re.featureIndex))}return K}insertCollisionBox(a,p,b,D,S){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:b,featureIndex:D,collisionGroupID:S},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,p,b,D,S){const O=p?this.ignoredGrid:this.grid,N={bucketInstanceId:b,featureIndex:D,collisionGroupID:S};for(let V=0;V<a.length;V+=4)O.insertCircle(N,a[V],a[V+1],a[V+2])}projectAndGetPerspectiveRatio(a,p,b,D,S,O,N){const V=[p,b,D,1];let K=!1;D||this.transform.pitch>0?(u.transformMat4$1(V,V,a),this.fogState&&S&&"globe"!==N.name&&(K=function(he,ve,we,be,De,oe){const ye=oe.calculateFogTileMatrix(De),Ce=[ve,we,be];return u.transformMat4(Ce,Ce,ye),_r(he,Ce,oe.pitch,oe._fov)}(this.fogState,p,b,D,S.toUnwrapped(),this.transform)>.9)):Di(V,V,a);const q=V[3];return{point:new u.Point((V[0]/q+1)/2*this.transform.width+Wr,(-V[1]/q+1)/2*this.transform.height+Wr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(N)/q*.5,1.5),signedDistanceFromCamera:q,occluded:O&&V[2]>q||K}}isOffscreen(a,p,b,D){return b<Wr||a>=this.screenRightBoundary||D<Wr||p>this.screenBottomBoundary}isInsideGrid(a,p,b,D){return b>=0&&a<this.gridRightBoundary&&D>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const a=u.identity([]);return u.translate(a,a,[-100,-100,0]),a}}function zo(g,a,p){const b=a.createTileMatrix(g,g.worldSize,p.toUnwrapped());return u.multiply(new Float32Array(16),g.projMatrix,b)}function Ms(g,a,p){if(a.projection.name===p.projection.name)return g.projMatrix;const b=p.clone();return b.setProjection(a.projection),zo(b,a.getProjection(),g)}function Yi(g,a,p){return a.name===p.projection.name?g.projMatrix:zo(p,a,g)}class to{constructor(a,p,b,D){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?p:-p))):D&&b?1:0,this.placed=b}isHidden(){return 0===this.opacity&&!this.placed}}class Ie{constructor(a,p,b,D,S,O=!1){this.text=new to(a?a.text:null,p,b,S),this.icon=new to(a?a.icon:null,p,D,S),this.clipped=O}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class pt{constructor(a,p,b,D=!1){this.text=a,this.icon=p,this.skipFade=b,this.clipped=D}}class Ot{constructor(){this.invProjMatrix=u.create(),this.viewportMatrix=u.create(),this.circles=[]}}class nt{constructor(a,p,b,D,S){this.bucketInstanceId=a,this.featureIndex=p,this.sourceLayerIndex=b,this.bucketIndex=D,this.tileID=S}}class Kt{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const p=++this.maxGroupID;this.collisionGroups[a]={ID:p,predicate:b=>b.collisionGroupID===p}}return this.collisionGroups[a]}}function dn(g,a,p,b,D){const{horizontalAlign:S,verticalAlign:O}=u.getAnchorAlignment(g),N=-(S-.5)*a,V=-(O-.5)*p,K=u.evaluateVariableOffset(g,b);return new u.Point(N+K[0]*D,V+K[1]*D)}function ri(g,a,p,b,D){const S=new u.Point(g,a);return p&&S._rotate(b?D:-D),S}class dr{constructor(a,p,b,D,S){this.transform=a.clone(),this.projection=a.projection.name,this.collisionIndex=new Bo(this.transform,S),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new Kt(b),this.collisionCircleArrays={},this.prevPlacement=D,D&&(D.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,p,b,D){const S=b.getBucket(p),O=b.latestFeatureIndex;if(!S||!O||p.id!==S.layerIds[0])return;const N=S.layers[0].layout,V=b.collisionBoxArray,K=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),q=b.tileSize/u.EXTENT,re=b.tileID.toUnwrapped();this.transform.setProjection(S.projection);const he=(ve=b.tileID,we=S.getProjection(),be=this.transform,we.name===this.projection?be.calculateProjMatrix(ve.toUnwrapped()):zo(be,we,ve));var ve,we,be;const De="map"===N.get("text-pitch-alignment"),oe="map"===N.get("text-rotation-alignment");p.compileFilter();const ye=p.dynamicFilter(),Ce=p.dynamicFilterNeedsFeature(),Le=this.transform.calculatePixelsToTileUnitsMatrix(b),Ue=Mo(he,b.tileID.canonical,De,oe,this.transform,S.getProjection(),Le);let Ye=null;if(De){const Ze=fr(he,b.tileID.canonical,De,oe,this.transform,S.getProjection(),Le);Ye=u.multiply([],this.transform.labelPlaneMatrix,Ze)}let Ve=null;ye&&b.latestFeatureIndex&&(Ve={unwrappedTileID:re,dynamicFilter:ye,dynamicFilterNeedsFeature:Ce,featureIndex:b.latestFeatureIndex}),this.retainedQueryData[S.bucketInstanceId]=new nt(S.bucketInstanceId,O,S.sourceLayerIndex,S.index,b.tileID);const Xe={bucket:S,layout:N,posMatrix:he,textLabelPlaneMatrix:Ue,labelToScreenMatrix:Ye,clippingData:Ve,scale:K,textPixelRatio:q,holdingForFade:b.holdingForFade(),collisionBoxArray:V,partiallyEvaluatedTextSize:u.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:u.evaluateSizeForZoom(S.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(D)for(const Ze of S.sortKeyRanges){const{sortKey:it,symbolInstanceStart:Rt,symbolInstanceEnd:Qe}=Ze;a.push({sortKey:it,symbolInstanceStart:Rt,symbolInstanceEnd:Qe,parameters:Xe})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:Xe})}attemptAnchorPlacement(a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be,De,oe,ye){const{textOffset0:Ce,textOffset1:Le,crossTileID:Ue}=he,Ye=[Ce,Le],Ve=dn(a,b,D,Ye,S),Xe=this.collisionIndex.placeCollisionBox(we,S,p,ri(Ve.x,Ve.y,O,N,this.transform.angle),re,V,K,q.predicate);if(De){const Ze=we.getSymbolInstanceIconSize(ye,this.transform.zoom,he.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(we,Ze,De,ri(Ve.x,Ve.y,O,N,this.transform.angle),re,V,K,q.predicate).box.length)return}if(Xe.box.length>0){let Ze;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ue]&&this.prevPlacement.placements[Ue]&&this.prevPlacement.placements[Ue].text&&(Ze=this.prevPlacement.variableOffsets[Ue].anchor),this.variableOffsets[Ue]={textOffset:Ye,width:b,height:D,anchor:a,textScale:S,prevAnchor:Ze},this.markUsedJustification(we,a,he,be),we.allowVerticalPlacement&&(this.markUsedOrientation(we,be,he),this.placedOrientations[Ue]=be),{shift:Ve,placedGlyphBoxes:Xe}}}placeLayerBucketPart(a,p,b,D){const{bucket:S,layout:O,posMatrix:N,textLabelPlaneMatrix:V,labelToScreenMatrix:K,clippingData:q,textPixelRatio:re,holdingForFade:he,collisionBoxArray:ve,partiallyEvaluatedTextSize:we,partiallyEvaluatedIconSize:be,collisionGroup:De}=a.parameters,oe=O.get("text-optional"),ye=O.get("icon-optional"),Ce=O.get("text-allow-overlap"),Le=O.get("icon-allow-overlap"),Ue="map"===O.get("text-rotation-alignment"),Ye="map"===O.get("text-pitch-alignment"),Ve="none"!==O.get("icon-text-fit"),Xe="viewport-y"===O.get("symbol-z-order");this.transform.setProjection(S.projection);let Ze=Ce&&(Le||!S.hasIconData()||ye),it=Le&&(Ce||!S.hasTextData()||oe);!S.collisionArrays&&ve&&S.deserializeCollisionBoxes(ve),b&&D&&S.updateCollisionDebugBuffers(this.transform.zoom,ve);const Rt=(Qe,Mt,ut)=>{const{crossTileID:Lt,numVerticalGlyphVertices:tt}=Qe;if(q){const Ne={zoom:this.transform.zoom,pitch:this.transform.pitch};let lt=null;if(q.dynamicFilterNeedsFeature){const on=this.retainedQueryData[S.bucketInstanceId];lt=q.featureIndex.loadFeature({featureIndex:Qe.featureIndex,bucketIndex:on.bucketIndex,sourceLayerIndex:on.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,q.dynamicFilter)(Ne,lt,this.retainedQueryData[S.bucketInstanceId].tileID.canonical,new u.Point(Qe.tileAnchorX,Qe.tileAnchorY),this.transform.calculateDistanceTileData(q.unwrappedTileID)))return this.placements[Lt]=new pt(!1,!1,!1,!0),void p.add(Lt)}if(p.has(Lt))return;if(he)return void(this.placements[Lt]=new pt(!1,!1,!1));let bt=!1,$t=!1,Dt=!0,Ct=!1,wn=!1,Wn=null,_n={box:null,offscreen:null,occluded:null},In={box:null,offscreen:null,occluded:null},pi=null,jn=null,mn=null,Ii=0,mi=0,On=0;ut.textFeatureIndex?Ii=ut.textFeatureIndex:Qe.useRuntimeCollisionCircles&&(Ii=Qe.featureIndex),ut.verticalTextFeatureIndex&&(mi=ut.verticalTextFeatureIndex);const C=Ne=>{Ne.tileID=this.retainedQueryData[S.bucketInstanceId].tileID;const lt=this.transform.elevation;(lt||Ne.elevation)&&(Ne.elevation=lt?lt.getAtTileOffset(Ne.tileID,Ne.tileAnchorX,Ne.tileAnchorY):0)},B=ut.textBox;if(B){C(B);const Ne=on=>{let Bn=u.WritingMode.horizontal;if(S.allowVerticalPlacement&&!on&&this.prevPlacement){const ii=this.prevPlacement.placedOrientations[Lt];ii&&(this.placedOrientations[Lt]=ii,Bn=ii,this.markUsedOrientation(S,Bn,Qe))}return Bn},lt=(on,Bn)=>{if(S.allowVerticalPlacement&&tt>0&&ut.verticalTextBox){for(const ii of S.writingModes)if(ii===u.WritingMode.vertical?(_n=Bn(),In=_n):_n=on(),_n&&_n.box&&_n.box.length)break}else _n=on()};if(O.get("text-variable-anchor")){let on=O.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Lt]){const yi=this.prevPlacement.variableOffsets[Lt];on.indexOf(yi.anchor)>0&&(on=on.filter(Vr=>Vr!==yi.anchor),on.unshift(yi.anchor))}const Bn=(yi,Vr,ys)=>{const Iu=S.getSymbolInstanceTextSize(we,Qe,this.transform.zoom,Mt),yd=(yi.x2-yi.x1)*Iu+2*yi.padding,xl=(yi.y2-yi.y1)*Iu+2*yi.padding,Bc=Ve&&!Le?Vr:null;Bc&&C(Bc);let zc={box:[],offscreen:!1,occluded:!1};const Df=Ce?2*on.length:on.length;for(let ka=0;ka<Df;++ka){const dh=this.attemptAnchorPlacement(on[ka%on.length],yi,yd,xl,Iu,Ue,Ye,re,N,De,ka>=on.length,Qe,Mt,S,ys,Bc,we,be);if(dh&&(zc=dh.placedGlyphBoxes,zc&&zc.box&&zc.box.length)){bt=!0,Wn=dh.shift;break}}return zc};lt(()=>Bn(B,ut.iconBox,u.WritingMode.horizontal),()=>{const yi=ut.verticalTextBox;return yi&&C(yi),S.allowVerticalPlacement&&!(_n&&_n.box&&_n.box.length)&&tt>0&&yi?Bn(yi,ut.verticalIconBox,u.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),_n&&(bt=_n.box,Dt=_n.offscreen,Ct=_n.occluded);const ii=Ne(!(!_n||!_n.box));if(!bt&&this.prevPlacement){const yi=this.prevPlacement.variableOffsets[Lt];yi&&(this.variableOffsets[Lt]=yi,this.markUsedJustification(S,yi.anchor,Qe,ii))}}else{const on=(Bn,ii)=>{const yi=S.getSymbolInstanceTextSize(we,Qe,this.transform.zoom,Mt),Vr=this.collisionIndex.placeCollisionBox(S,yi,Bn,new u.Point(0,0),Ce,re,N,De.predicate);return Vr&&Vr.box&&Vr.box.length&&(this.markUsedOrientation(S,ii,Qe),this.placedOrientations[Lt]=ii),Vr};lt(()=>on(B,u.WritingMode.horizontal),()=>{const Bn=ut.verticalTextBox;return S.allowVerticalPlacement&&tt>0&&Bn?(C(Bn),on(Bn,u.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Ne(!!(_n&&_n.box&&_n.box.length))}}if(pi=_n,bt=pi&&pi.box&&pi.box.length>0,Dt=pi&&pi.offscreen,Ct=pi&&pi.occluded,Qe.useRuntimeCollisionCircles){const Ne=S.text.placedSymbolArray.get(Qe.centerJustifiedTextSymbolIndex>=0?Qe.centerJustifiedTextSymbolIndex:Qe.verticalPlacedTextSymbolIndex),lt=u.evaluateSizeForFeature(S.textSizeData,we,Ne),on=O.get("text-padding");jn=this.collisionIndex.placeCollisionCircles(S,Ce,Ne,S.lineVertexArray,S.glyphOffsetArray,lt,N,V,K,b,Ye,De.predicate,Qe.collisionCircleDiameter*lt/u.ONE_EM,on,this.retainedQueryData[S.bucketInstanceId].tileID),bt=Ce||jn.circles.length>0&&!jn.collisionDetected,Dt=Dt&&jn.offscreen,Ct=jn.occluded}if(ut.iconFeatureIndex&&(On=ut.iconFeatureIndex),ut.iconBox){const Ne=lt=>{C(lt);const on=Ve&&Wn?ri(Wn.x,Wn.y,Ue,Ye,this.transform.angle):new u.Point(0,0),Bn=S.getSymbolInstanceIconSize(be,this.transform.zoom,Qe.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(S,Bn,lt,on,Le,re,N,De.predicate)};In&&In.box&&In.box.length&&ut.verticalIconBox?(mn=Ne(ut.verticalIconBox),$t=mn.box.length>0):(mn=Ne(ut.iconBox),$t=mn.box.length>0),Dt=Dt&&mn.offscreen,wn=mn.occluded}const X=oe||0===Qe.numHorizontalGlyphVertices&&0===tt,ne=ye||0===Qe.numIconVertices;if(X||ne?ne?X||($t=$t&&bt):bt=$t&&bt:$t=bt=$t&&bt,bt&&pi&&pi.box&&this.collisionIndex.insertCollisionBox(pi.box,O.get("text-ignore-placement"),S.bucketInstanceId,In&&In.box&&mi?mi:Ii,De.ID),$t&&mn&&this.collisionIndex.insertCollisionBox(mn.box,O.get("icon-ignore-placement"),S.bucketInstanceId,On,De.ID),jn&&(bt&&this.collisionIndex.insertCollisionCircles(jn.circles,O.get("text-ignore-placement"),S.bucketInstanceId,Ii,De.ID),b)){const Ne=S.bucketInstanceId;let lt=this.collisionCircleArrays[Ne];void 0===lt&&(lt=this.collisionCircleArrays[Ne]=new Ot);for(let on=0;on<jn.circles.length;on+=4)lt.circles.push(jn.circles[on+0]),lt.circles.push(jn.circles[on+1]),lt.circles.push(jn.circles[on+2]),lt.circles.push(jn.collisionDetected?1:0)}const me="globe"!==S.projection.name;Ze=Ze&&(me||!Ct),it=it&&(me||!wn),this.placements[Lt]=new pt(bt||Ze,$t||it,Dt||S.justReloaded),p.add(Lt)};if(Xe){const Qe=S.getSortedSymbolIndexes(this.transform.angle);for(let Mt=Qe.length-1;Mt>=0;--Mt){const ut=Qe[Mt];Rt(S.symbolInstances.get(ut),ut,S.collisionArrays[ut])}}else for(let Qe=a.symbolInstanceStart;Qe<a.symbolInstanceEnd;Qe++)Rt(S.symbolInstances.get(Qe),Qe,S.collisionArrays[Qe]);if(b&&S.bucketInstanceId in this.collisionCircleArrays){const Qe=this.collisionCircleArrays[S.bucketInstanceId];u.invert(Qe.invProjMatrix,N),Qe.viewportMatrix=this.collisionIndex.getViewportMatrix()}S.justReloaded=!1}markUsedJustification(a,p,b,D){const{leftJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:O,rightJustifiedTextSymbolIndex:N,verticalPlacedTextSymbolIndex:V,crossTileID:K}=b,q=u.getAnchorJustification(p),re=D===u.WritingMode.vertical?V:"left"===q?S:"center"===q?O:"right"===q?N:-1;S>=0&&(a.text.placedSymbolArray.get(S).crossTileID=re>=0&&S!==re?0:K),O>=0&&(a.text.placedSymbolArray.get(O).crossTileID=re>=0&&O!==re?0:K),N>=0&&(a.text.placedSymbolArray.get(N).crossTileID=re>=0&&N!==re?0:K),V>=0&&(a.text.placedSymbolArray.get(V).crossTileID=re>=0&&V!==re?0:K)}markUsedOrientation(a,p,b){const D=p===u.WritingMode.horizontal||p===u.WritingMode.horizontalOnly?p:0,S=p===u.WritingMode.vertical?p:0,{leftJustifiedTextSymbolIndex:O,centerJustifiedTextSymbolIndex:N,rightJustifiedTextSymbolIndex:V,verticalPlacedTextSymbolIndex:K}=b,q=a.text.placedSymbolArray;O>=0&&(q.get(O).placedOrientation=D),N>=0&&(q.get(N).placedOrientation=D),V>=0&&(q.get(V).placedOrientation=D),K>=0&&(q.get(K).placedOrientation=S)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let b=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const D=p?p.symbolFadeChange(a):1,S=p?p.opacities:{},O=p?p.variableOffsets:{},N=p?p.placedOrientations:{};for(const V in this.placements){const K=this.placements[V],q=S[V];q?(this.opacities[V]=new Ie(q,D,K.text,K.icon,null,K.clipped),b=b||K.text!==q.text.placed||K.icon!==q.icon.placed):(this.opacities[V]=new Ie(null,D,K.text,K.icon,K.skipFade,K.clipped),b=b||K.text||K.icon)}for(const V in S){const K=S[V];if(!this.opacities[V]){const q=new Ie(K,D,!1,!1);q.isHidden()||(this.opacities[V]=q,b=b||K.text.placed||K.icon.placed)}}for(const V in O)this.variableOffsets[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.variableOffsets[V]=O[V]);for(const V in N)this.placedOrientations[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.placedOrientations[V]=N[V]);b?this.lastPlacementChangeTime=a:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:a)}updateLayerOpacities(a,p){const b=new Set;for(const D of p){const S=D.getBucket(a);S&&D.latestFeatureIndex&&a.id===S.layerIds[0]&&this.updateBucketOpacities(S,b,D.collisionBoxArray)}}updateBucketOpacities(a,p,b){a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const D=a.layers[0].layout,S=!!a.layers[0].dynamicFilter(),O=new Ie(null,0,!1,!1,!0),N=D.get("text-allow-overlap"),V=D.get("icon-allow-overlap"),K=D.get("text-variable-anchor"),q="map"===D.get("text-rotation-alignment"),re="map"===D.get("text-pitch-alignment"),he="none"!==D.get("icon-text-fit"),ve=new Ie(null,0,N&&(V||!a.hasIconData()||D.get("icon-optional")),V&&(N||!a.hasTextData()||D.get("text-optional")),!0);!a.collisionArrays&&b&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(b);const we=(De,oe,ye)=>{for(let Ce=0;Ce<oe/4;Ce++)De.opacityVertexArray.emplaceBack(ye)};let be=0;for(let De=0;De<a.symbolInstances.length;De++){const oe=a.symbolInstances.get(De),{numHorizontalGlyphVertices:ye,numVerticalGlyphVertices:Ce,crossTileID:Le,numIconVertices:Ue}=oe,Ye=p.has(Le);let Ve=this.opacities[Le];Ye?Ve=O:Ve||(Ve=ve,this.opacities[Le]=Ve),p.add(Le);const Xe=ye>0||Ce>0,Ze=Ue>0,it=this.placedOrientations[Le],Rt=it===u.WritingMode.vertical,Qe=it===u.WritingMode.horizontal||it===u.WritingMode.horizontalOnly;if(!Xe&&!Ze||Ve.isHidden()||be++,Xe){const Mt=Ua(Ve.text);we(a.text,ye,Rt?Br:Mt),we(a.text,Ce,Qe?Br:Mt);const ut=Ve.text.isHidden(),{leftJustifiedTextSymbolIndex:Lt,centerJustifiedTextSymbolIndex:tt,rightJustifiedTextSymbolIndex:bt,verticalPlacedTextSymbolIndex:$t}=oe,Dt=a.text.placedSymbolArray,Ct=ut||Rt?1:0;Lt>=0&&(Dt.get(Lt).hidden=Ct),tt>=0&&(Dt.get(tt).hidden=Ct),bt>=0&&(Dt.get(bt).hidden=Ct),$t>=0&&(Dt.get($t).hidden=ut||Qe?1:0);const wn=this.variableOffsets[Le];wn&&this.markUsedJustification(a,wn.anchor,oe,it);const Wn=this.placedOrientations[Le];Wn&&(this.markUsedJustification(a,"left",oe,Wn),this.markUsedOrientation(a,Wn,oe))}if(Ze){const Mt=Ua(Ve.icon),{placedIconSymbolIndex:ut,verticalPlacedIconSymbolIndex:Lt}=oe,tt=a.icon.placedSymbolArray,bt=Ve.icon.isHidden()?1:0;ut>=0&&(we(a.icon,Ue,Rt?Br:Mt),tt.get(ut).hidden=bt),Lt>=0&&(we(a.icon,oe.numVerticalIconVertices,Qe?Br:Mt),tt.get(Lt).hidden=bt)}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const Mt=a.collisionArrays[De];if(Mt){let ut=new u.Point(0,0),Lt=!0;if(Mt.textBox||Mt.verticalTextBox){if(K){const bt=this.variableOffsets[Le];bt?(ut=dn(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textScale),q&&ut._rotate(re?this.transform.angle:-this.transform.angle)):Lt=!1}S&&(Lt=!Ve.clipped),Mt.textBox&&rr(a.textCollisionBox.collisionVertexArray,Ve.text.placed,!Lt||Rt,ut.x,ut.y),Mt.verticalTextBox&&rr(a.textCollisionBox.collisionVertexArray,Ve.text.placed,!Lt||Qe,ut.x,ut.y)}const tt=Lt&&!(Qe||!Mt.verticalIconBox);Mt.iconBox&&rr(a.iconCollisionBox.collisionVertexArray,Ve.icon.placed,tt,he?ut.x:0,he?ut.y:0),Mt.verticalIconBox&&rr(a.iconCollisionBox.collisionVertexArray,Ve.icon.placed,!tt,he?ut.x:0,he?ut.y:0)}}}if(a.fullyClipped=0===be,a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.bucketInstanceId in this.collisionCircleArrays){const De=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=De.invProjMatrix,a.placementViewportMatrix=De.viewportMatrix,a.collisionCircleArray=De.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return 0===this.fadeDuration?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,p){const b=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*b>a}setStale(){this.stale=!0}}function rr(g,a,p,b,D){g.emplaceBack(a?1:0,p?1:0,b||0,D||0),g.emplaceBack(a?1:0,p?1:0,b||0,D||0),g.emplaceBack(a?1:0,p?1:0,b||0,D||0),g.emplaceBack(a?1:0,p?1:0,b||0,D||0)}const Pn=Math.pow(2,25),kn=Math.pow(2,24),tr=Math.pow(2,17),no=Math.pow(2,16),sr=Math.pow(2,9),ks=Math.pow(2,8),cd=Math.pow(2,1);function Ua(g){if(0===g.opacity&&!g.placed)return 0;if(1===g.opacity&&g.placed)return 4294967295;const a=g.placed?1:0,p=Math.floor(127*g.opacity);return p*Pn+a*kn+p*tr+a*no+p*sr+a*ks+p*cd+a}const Br=0;class Ec{constructor(a){this._sortAcrossTiles="viewport-y"!==a.layout.get("symbol-z-order")&&void 0!==a.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(a,p,b,D,S){const O=this._bucketParts;for(;this._currentTileIndex<a.length;)if(p.getBucketParts(O,D,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,O.sort((N,V)=>N.sortKey-V.sortKey));this._currentPartIndex<O.length;){const N=O[this._currentPartIndex];if(p.placeLayerBucketPart(N,this._seenCrossTileIDs,b,0===N.symbolInstanceStart),this._currentPartIndex++,S())return!0}return!1}}class Dr{constructor(a,p,b,D,S,O,N,V){this.placement=new dr(a,S,O,N,V),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=b,this._showCollisionBoxes=D,this._done=!1}isDone(){return this._done}continuePlacement(a,p,b){const D=u.exported.now(),S=()=>{const O=u.exported.now()-D;return!this._forceFullPlacement&&O>2};for(;this._currentPlacementIndex>=0;){const O=p[a[this._currentPlacementIndex]],N=this.placement.collisionIndex.transform.zoom;if("symbol"===O.type&&(!O.minzoom||O.minzoom<=N)&&(!O.maxzoom||O.maxzoom>N)){if(this._inProgressLayer||(this._inProgressLayer=new Ec(O)),this._inProgressLayer.continuePlacement(b[O.source],this.placement,this._showCollisionBoxes,O,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const bn=512/u.EXTENT/2;class zn{constructor(a,p,b){this.tileID=a,this.bucketInstanceId=b,this.index=new u.KDBush(p.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const D=a.canonical.x*u.EXTENT,S=a.canonical.y*u.EXTENT;for(let O=0;O<p.length;O++){const{key:N,crossTileID:V,tileAnchorX:K,tileAnchorY:q}=p.get(O),re=Math.floor((D+K)*bn),he=Math.floor((S+q)*bn);this.index.add(re,he),this.keys.push(N),this.crossTileIDs.push(V)}this.index.finish()}findMatches(a,p,b){const D=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),S=bn/Math.pow(2,p.canonical.z-this.tileID.canonical.z),O=p.canonical.x*u.EXTENT,N=p.canonical.y*u.EXTENT;for(let V=0;V<a.length;V++){const K=a.get(V);if(K.crossTileID)continue;const{key:q,tileAnchorX:re,tileAnchorY:he}=K,ve=Math.floor((O+re)*S),we=Math.floor((N+he)*S),be=this.index.range(ve-D,we-D,ve+D,we+D);for(const De of be){const oe=this.crossTileIDs[De];if(this.keys[De]===q&&!b.has(oe)){b.add(oe),K.crossTileID=oe;break}}}}}class br{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class js{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const p=Math.round((a-this.lng)/360);if(0!==p)for(const b in this.indexes){const D=this.indexes[b],S={};for(const O in D){const N=D[O];N.tileID=N.tileID.unwrapTo(N.tileID.wrap+p),S[N.tileID.key]=N}this.indexes[b]=S}this.lng=a}addBucket(a,p,b){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let S=0;S<p.symbolInstances.length;S++)p.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]=new Set);const D=this.usedCrossTileIDs[a.overscaledZ];for(const S in this.indexes){const O=this.indexes[S];if(Number(S)>a.overscaledZ)for(const N in O){const V=O[N];V.tileID.isChildOf(a)&&V.findMatches(p.symbolInstances,a,D)}else{const N=O[a.scaledTo(Number(S)).key];N&&N.findMatches(p.symbolInstances,a,D)}}for(let S=0;S<p.symbolInstances.length;S++){const O=p.symbolInstances.get(S);O.crossTileID||(O.crossTileID=b.generate(),D.add(O.crossTileID))}return void 0===this.indexes[a.overscaledZ]&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new zn(a,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(a,p){for(const b of p.crossTileIDs)this.usedCrossTileIDs[a].delete(b)}removeStaleBuckets(a){let p=!1;for(const b in this.indexes){const D=this.indexes[b];for(const S in D)a[D[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,D[S]),delete D[S],p=!0)}return p}}class Ys{constructor(){this.layerIndexes={},this.crossTileIDs=new br,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,p,b,D){let S=this.layerIndexes[a.id];void 0===S&&(S=this.layerIndexes[a.id]=new js);let O=!1;const N={};"globe"!==D.name&&S.handleWrapJump(b);for(const V of p){const K=V.getBucket(a);K&&a.id===K.layerIds[0]&&(K.bucketInstanceId||(K.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(V.tileID,K,this.crossTileIDs)&&(O=!0),N[K.bucketInstanceId]=!0)}return S.removeStaleBuckets(N)&&(O=!0),O}pruneUnusedLayers(a){const p={};a.forEach(b=>{p[b]=!0});for(const b in this.layerIndexes)p[b]||delete this.layerIndexes[b]}}const kr=(g,a)=>u.emitValidationErrors(g,a&&a.filter(p=>"source.canvas"!==p.identifier)),ea=u.pick(ai,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Pr=u.pick(ai,["setCenter","setZoom","setBearing","setPitch"]),Do={version:8,layers:[],sources:{}},Eo={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Xn extends u.Evented{constructor(a,p={}){super(),this.map=a,this.dispatcher=new zi(Ss(),this),this.imageManager=new Jt,this.imageManager.setEventedParent(this),this.glyphManager=new u.GlyphManager(a._requestManager,p.localFontFamily?u.LocalGlyphMode.all:p.localIdeographFontFamily?u.LocalGlyphMode.ideographs:u.LocalGlyphMode.none,p.localFontFamily||p.localIdeographFontFamily),this.crossTileSymbolIndex=new Ys,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.getReferrer());const b=this;this._rtlTextPluginCallback=Xn.registerForPluginStateChange(D=>{b.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:D.pluginStatus,pluginURL:D.pluginURL},(S,O)=>{if(u.triggerPluginCompletionEvent(S),O&&O.every(N=>N))for(const N in b._sourceCaches){const V=b._sourceCaches[N],K=V.getSource().type;"vector"!==K&&"geojson"!==K||V.reload()}})}),this.on("data",D=>{if("source"!==D.dataType||"metadata"!==D.sourceDataType)return;const S=this.getSource(D.sourceId);if(S&&S.vectorLayerIds)for(const O in this._layers){const N=this._layers[O];N.source===S.id&&this._validateLayer(N)}})}loadURL(a,p={}){this.fire(new u.Event("dataloading",{dataType:"style"}));const b="boolean"==typeof p.validate?p.validate:!u.isMapboxURL(a);a=this.map._requestManager.normalizeStyleURL(a,p.accessToken);const D=this.map._requestManager.transformRequest(a,u.ResourceType.Style);this._request=u.getJSON(D,(S,O)=>{this._request=null,S?this.fire(new u.ErrorEvent(S)):O&&this._load(O,b)})}loadJSON(a,p={}){this.fire(new u.Event("dataloading",{dataType:"style"})),this._request=u.exported.frame(()=>{this._request=null,this._load(a,!1!==p.validate)})}loadEmpty(){this.fire(new u.Event("dataloading",{dataType:"style"})),this._load(Do,!1)}_updateLayerCount(a,p){const b=p?1:-1;a.is3D()&&(this._num3DLayers+=b),"circle"===a.type&&(this._numCircleLayers+=b),"symbol"===a.type&&(this._numSymbolLayers+=b)}_load(a,p){if(p&&kr(this,u.validateStyle(a)))return;this._loaded=!0,this.stylesheet=u.clone$1(a),this._updateMapProjection();for(const D in a.sources)this.addSource(D,a.sources[D],{validate:!1});this._changed=!1,a.sprite?this._loadSprite(a.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(a.glyphs);const b=er(this.stylesheet.layers);this._order=b.map(D=>D.id),this._layers={},this._serializedLayers={};for(const D of b){const S=u.createStyleLayer(D);S.setEventedParent(this,{layer:{id:S.id}}),this._layers[S.id]=S,this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new rn(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new u.Event("data",{dataType:"style"})),this.fire(new u.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(a){a?this.stylesheet.projection=a:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(a){this._spriteRequest=function(p,b,D){let S,O,N;const V=u.exported.devicePixelRatio>1?"@2x":"";let K=u.getJSON(b.transformRequest(b.normalizeSpriteURL(p,V,".json"),u.ResourceType.SpriteJSON),(he,ve)=>{K=null,N||(N=he,S=ve,re())}),q=u.getImage(b.transformRequest(b.normalizeSpriteURL(p,V,".png"),u.ResourceType.SpriteImage),(he,ve)=>{q=null,N||(N=he,O=ve,re())});function re(){if(N)D(N);else if(S&&O){const he=u.exported.getImageData(O),ve={};for(const we in S){const{width:be,height:De,x:oe,y:ye,sdf:Ce,pixelRatio:Le,stretchX:Ue,stretchY:Ye,content:Ve}=S[we],Xe=new u.RGBAImage({width:be,height:De});u.RGBAImage.copy(he,Xe,{x:oe,y:ye},{x:0,y:0},{width:be,height:De}),ve[we]={data:Xe,pixelRatio:Le,sdf:Ce,stretchX:Ue,stretchY:Ye,content:Ve}}D(null,ve)}}return{cancel(){K&&(K.cancel(),K=null),q&&(q.cancel(),q=null)}}}(a,this.map._requestManager,(p,b)=>{if(this._spriteRequest=null,p)this.fire(new u.ErrorEvent(p));else if(b)for(const D in b)this.imageManager.addImage(D,b[D]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new u.Event("data",{dataType:"style"}))})}_validateLayer(a){const p=this.getSource(a.source);if(!p)return;const b=a.sourceLayer;b&&("geojson"===p.type||p.vectorLayerIds&&-1===p.vectorLayerIds.indexOf(b))&&this.fire(new u.ErrorEvent(new Error(`Source layer "${b}" does not exist on source "${p.id}" as specified by style layer "${a.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this._sourceCaches)if(!this._sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const p=[];for(const b of a){const D=this._layers[b];"custom"!==D.type&&p.push(D.serialize())}return p}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const a in this._sourceCaches)if(this._sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(a){return!!this.terrain&&("function"==typeof a.isLayerDraped?a.isLayerDraped():Eo[a.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(a){if(!this._loaded)return;const p=this._changed;if(this._changed){const D=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(D.length||S.length)&&this._updateWorkerLayers(D,S);for(const O in this._updatedSources){const N=this._updatedSources[O];"reload"===N?this._reloadSource(O):"clear"===N&&this._clearSource(O)}this._updateTilesForChangedImages();for(const O in this._updatedPaintProps)this._layers[O].updateTransitions(a);this.light.updateTransitions(a),this.fog&&this.fog.updateTransitions(a),this._resetUpdates()}const b={};for(const D in this._sourceCaches){const S=this._sourceCaches[D];b[D]=S.used,S.used=!1}for(const D of this._order){const S=this._layers[D];if(S.recalculate(a,this._availableImages),!S.isHidden(a.zoom)){const N=this._getLayerSourceCache(S);N&&(N.used=!0)}const O=this.map.painter;if(O){const N=S.getProgramIds();if(!N)continue;const V=S.getProgramConfiguration(a.zoom);for(const K of N)O.useProgram(K,V)}}for(const D in b){const S=this._sourceCaches[D];b[D]!==S.used&&S.getSource().fire(new u.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S.getSource().id}))}this.light.recalculate(a),this.terrain&&this.terrain.recalculate(a),this.fog&&this.fog.recalculate(a),this.z=a.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new u.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const p in this._sourceCaches)this._sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateWorkerLayers(a,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(a){if(this._checkLoaded(),kr(this,u.validateStyle(a)))return!1;(a=u.clone$1(a)).layers=er(a.layers);const p=function(D,S){if(!D)return[{command:ai.setStyle,args:[S]}];let O=[];try{if(!F(D.version,S.version))return[{command:ai.setStyle,args:[S]}];F(D.center,S.center)||O.push({command:ai.setCenter,args:[S.center]}),F(D.zoom,S.zoom)||O.push({command:ai.setZoom,args:[S.zoom]}),F(D.bearing,S.bearing)||O.push({command:ai.setBearing,args:[S.bearing]}),F(D.pitch,S.pitch)||O.push({command:ai.setPitch,args:[S.pitch]}),F(D.sprite,S.sprite)||O.push({command:ai.setSprite,args:[S.sprite]}),F(D.glyphs,S.glyphs)||O.push({command:ai.setGlyphs,args:[S.glyphs]}),F(D.transition,S.transition)||O.push({command:ai.setTransition,args:[S.transition]}),F(D.light,S.light)||O.push({command:ai.setLight,args:[S.light]}),F(D.fog,S.fog)||O.push({command:ai.setFog,args:[S.fog]}),F(D.projection,S.projection)||O.push({command:ai.setProjection,args:[S.projection]});const N={},V=[];!function(re,he,ve,we){let be;for(be in he=he||{},re=re||{})re.hasOwnProperty(be)&&(he.hasOwnProperty(be)||Ar(be,ve,we));for(be in he){if(!he.hasOwnProperty(be))continue;const De=he[be];re.hasOwnProperty(be)?F(re[be],De)||("geojson"===re[be].type&&"geojson"===De.type&&No(re,he,be)?ve.push({command:ai.setGeoJSONSourceData,args:[be,De.data]}):Fi(be,he,ve,we)):ts(be,he,ve)}}(D.sources,S.sources,V,N);const K=[];D.layers&&D.layers.forEach(re=>{re.source&&N[re.source]?O.push({command:ai.removeLayer,args:[re.id]}):K.push(re)});let q=D.terrain;q&&N[q.source]&&(O.push({command:ai.setTerrain,args:[void 0]}),q=void 0),O=O.concat(V),F(q,S.terrain)||O.push({command:ai.setTerrain,args:[S.terrain]}),function(re,he,ve){he=he||[];const we=(re=re||[]).map(Ni),be=he.map(Ni),De=re.reduce(Ma,{}),oe=he.reduce(Ma,{}),ye=we.slice(),Ce=Object.create(null);let Le,Ue,Ye,Ve,Xe,Ze,it;for(Le=0,Ue=0;Le<we.length;Le++)Ye=we[Le],oe.hasOwnProperty(Ye)?Ue++:(ve.push({command:ai.removeLayer,args:[Ye]}),ye.splice(ye.indexOf(Ye,Ue),1));for(Le=0,Ue=0;Le<be.length;Le++)Ye=be[be.length-1-Le],ye[ye.length-1-Le]!==Ye&&(De.hasOwnProperty(Ye)?(ve.push({command:ai.removeLayer,args:[Ye]}),ye.splice(ye.lastIndexOf(Ye,ye.length-Ue),1)):Ue++,Ze=ye[ye.length-Le],ve.push({command:ai.addLayer,args:[oe[Ye],Ze]}),ye.splice(ye.length-Le,0,Ye),Ce[Ye]=!0);for(Le=0;Le<be.length;Le++)if(Ye=be[Le],Ve=De[Ye],Xe=oe[Ye],!Ce[Ye]&&!F(Ve,Xe))if(F(Ve.source,Xe.source)&&F(Ve["source-layer"],Xe["source-layer"])&&F(Ve.type,Xe.type)){for(it in Cs(Ve.layout,Xe.layout,ve,Ye,null,ai.setLayoutProperty),Cs(Ve.paint,Xe.paint,ve,Ye,null,ai.setPaintProperty),F(Ve.filter,Xe.filter)||ve.push({command:ai.setFilter,args:[Ye,Xe.filter]}),F(Ve.minzoom,Xe.minzoom)&&F(Ve.maxzoom,Xe.maxzoom)||ve.push({command:ai.setLayerZoomRange,args:[Ye,Xe.minzoom,Xe.maxzoom]}),Ve)Ve.hasOwnProperty(it)&&"layout"!==it&&"paint"!==it&&"filter"!==it&&"metadata"!==it&&"minzoom"!==it&&"maxzoom"!==it&&(0===it.indexOf("paint.")?Cs(Ve[it],Xe[it],ve,Ye,it.slice(6),ai.setPaintProperty):F(Ve[it],Xe[it])||ve.push({command:ai.setLayerProperty,args:[Ye,it,Xe[it]]}));for(it in Xe)Xe.hasOwnProperty(it)&&!Ve.hasOwnProperty(it)&&"layout"!==it&&"paint"!==it&&"filter"!==it&&"metadata"!==it&&"minzoom"!==it&&"maxzoom"!==it&&(0===it.indexOf("paint.")?Cs(Ve[it],Xe[it],ve,Ye,it.slice(6),ai.setPaintProperty):F(Ve[it],Xe[it])||ve.push({command:ai.setLayerProperty,args:[Ye,it,Xe[it]]}))}else ve.push({command:ai.removeLayer,args:[Ye]}),Ze=ye[ye.lastIndexOf(Ye)+1],ve.push({command:ai.addLayer,args:[Xe,Ze]})}(K,S.layers,O)}catch(N){console.warn("Unable to compute style diff:",N),O=[{command:ai.setStyle,args:[S]}]}return O}(this.serialize(),a).filter(D=>!(D.command in Pr));if(0===p.length)return!1;const b=p.filter(D=>!(D.command in ea));if(b.length>0)throw new Error(`Unimplemented: ${b.map(D=>D.command).join(", ")}.`);return p.forEach(D=>{"setTransition"!==D.command&&"setProjection"!==D.command&&this[D.command].apply(this,D.args)}),this.stylesheet=a,this._updateMapProjection(),!0}addImage(a,p){return this.getImage(a)?this.fire(new u.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(a,p),this._afterImageUpdated(a),this)}updateImage(a,p){this.imageManager.updateImage(a,p)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){return this.getImage(a)?(this.imageManager.removeImage(a),this._afterImageUpdated(a),this):this.fire(new u.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(a,p,b={}){if(this._checkLoaded(),void 0!==this.getSource(a))throw new Error("There is already a source with this ID");if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(u.validateSource,`sources.${a}`,p,null,b))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const D=Ut(a,p,this.dispatcher,this);D.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(a),source:D.serialize(),sourceId:a}));const S=O=>{const N=(O?"symbol:":"other:")+a,V=this._sourceCaches[N]=new u.SourceCache(N,D,O);(O?this._symbolSourceCaches:this._otherSourceCaches)[a]=V,V.style=this,V.onAdd(this.map)};S(!1),"vector"!==p.type&&"geojson"!==p.type||S(!0),D.onAdd&&D.onAdd(this.map),this._changed=!0}removeSource(a){this._checkLoaded();const p=this.getSource(a);if(!p)throw new Error("There is no source with this ID");for(const D in this._layers)if(this._layers[D].source===a)return this.fire(new u.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${D}" is using it.`)));if(this.terrain&&this.terrain.get().source===a)return this.fire(new u.ErrorEvent(new Error(`Source "${a}" cannot be removed while terrain is using it.`)));const b=this._getSourceCaches(a);for(const D of b)delete this._sourceCaches[D.id],delete this._updatedSources[D.id],D.fire(new u.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:D.getSource().id})),D.setEventedParent(null),D.clearTiles();return delete this._otherSourceCaches[a],delete this._symbolSourceCaches[a],p.setEventedParent(null),p.onRemove&&p.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(a,p){this._checkLoaded(),this.getSource(a).setData(p),this._changed=!0}getSource(a){const p=this._getSourceCache(a);return p&&p.getSource()}_getSources(){const a=[];for(const p in this._otherSourceCaches){const b=this._getSourceCache(p);b&&a.push(b.getSource())}return a}addLayer(a,p,b={}){this._checkLoaded();const D=a.id;if(this.getLayer(D))return void this.fire(new u.ErrorEvent(new Error(`Layer with id "${D}" already exists on this map`)));let S;if("custom"===a.type){if(kr(this,u.validateCustomStyleLayer(a)))return;S=u.createStyleLayer(a)}else{if("object"==typeof a.source&&(this.addSource(D,a.source),a=u.clone$1(a),a=u.extend(a,{source:D})),this._validate(u.validateLayer,`layers.${D}`,a,{arrayIndex:-1},b))return;S=u.createStyleLayer(a),this._validateLayer(S),S.setEventedParent(this,{layer:{id:D}}),this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}const O=p?this._order.indexOf(p):this._order.length;if(p&&-1===O)return void this.fire(new u.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`)));this._order.splice(O,0,D),this._layerOrderChanged=!0,this._layers[D]=S;const N=this._getLayerSourceCache(S);if(this._removedLayers[D]&&S.source&&N&&"custom"!==S.type){const V=this._removedLayers[D];delete this._removedLayers[D],V.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",N.pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(a,p){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===p)return;const b=this._order.indexOf(a);this._order.splice(b,1);const D=p?this._order.indexOf(p):this._order.length;p&&-1===D?this.fire(new u.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`))):(this._order.splice(D,0,a),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(a){this._checkLoaded();const p=this._layers[a];if(!p)return void this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be removed.`)));p.setEventedParent(null),this._updateLayerCount(p,!1);const b=this._order.indexOf(a);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=p,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],p.onRemove&&p.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}hasLayerType(a){for(const p in this._layers)if(this._layers[p].type===a)return!0;return!1}setLayerZoomRange(a,p,b){this._checkLoaded();const D=this.getLayer(a);D?D.minzoom===p&&D.maxzoom===b||(null!=p&&(D.minzoom=p),null!=b&&(D.maxzoom=b),this._updateLayer(D)):this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(a,p,b={}){this._checkLoaded();const D=this.getLayer(a);if(D){if(!F(D.filter,p))return null==p?(D.filter=void 0,void this._updateLayer(D)):void(this._validate(u.validateFilter,`layers.${D.id}.filter`,p,{layerType:D.type},b)||(D.filter=u.clone$1(p),this._updateLayer(D)))}else this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be filtered.`)))}getFilter(a){const p=this.getLayer(a);return p&&u.clone$1(p.filter)}setLayoutProperty(a,p,b,D={}){this._checkLoaded();const S=this.getLayer(a);S?F(S.getLayoutProperty(p),b)||(S.setLayoutProperty(p,b,D),this._updateLayer(S)):this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(a,p){const b=this.getLayer(a);if(b)return b.getLayoutProperty(p);this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style.`)))}setPaintProperty(a,p,b,D={}){this._checkLoaded();const S=this.getLayer(a);S?F(S.getPaintProperty(p),b)||(S.setPaintProperty(p,b,D)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new u.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(a,p){const b=this.getLayer(a);return b&&b.getPaintProperty(p)}setFeatureState(a,p){this._checkLoaded();const b=a.source,D=a.sourceLayer,S=this.getSource(b);if(!S)return void this.fire(new u.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const O=S.type;if("geojson"===O&&D)return void this.fire(new u.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===O&&!D)return void this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===a.id&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided.")));const N=this._getSourceCaches(b);for(const V of N)V.setFeatureState(D,a.id,p)}removeFeatureState(a,p){this._checkLoaded();const b=a.source,D=this.getSource(b);if(!D)return void this.fire(new u.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const S=D.type,O="vector"===S?a.sourceLayer:void 0;if("vector"===S&&!O)return void this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(p&&"string"!=typeof a.id&&"number"!=typeof a.id)return void this.fire(new u.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const N=this._getSourceCaches(b);for(const V of N)V.removeFeatureState(O,a.id,p)}getFeatureState(a){this._checkLoaded();const p=a.source,b=a.sourceLayer,D=this.getSource(p);if(D){if("vector"!==D.type||b)return void 0===a.id&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(p)[0].getFeatureState(b,a.id);this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return u.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const a={};for(const p in this._sourceCaches){const b=this._sourceCaches[p].getSource();a[b.id]||(a[b.id]=b.serialize())}return u.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:a,layers:this._serializeLayers(this._order)},p=>void 0!==p)}_updateLayer(a){this._updatedLayers[a.id]=!0;const p=this._getLayerSourceCache(a);a.source&&!this._updatedSources[a.source]&&p&&"raster"!==p.getSource().type&&(this._updatedSources[a.source]="reload",p.pause()),this._changed=!0,a.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(a){const p=O=>"fill-extrusion"===this._layers[O].type,b={},D=[];for(let O=this._order.length-1;O>=0;O--){const N=this._order[O];if(p(N)){b[N]=O;for(const V of a){const K=V[N];if(K)for(const q of K)D.push(q)}}}D.sort((O,N)=>N.intersectionZ-O.intersectionZ);const S=[];for(let O=this._order.length-1;O>=0;O--){const N=this._order[O];if(p(N))for(let V=D.length-1;V>=0;V--){const K=D[V].feature;if(b[K.layer.id]<O)break;S.push(K),D.pop()}else for(const V of a){const K=V[N];if(K)for(const q of K)S.push(q.feature)}}return S}queryRenderedFeatures(a,p,b){p&&p.filter&&this._validate(u.validateFilter,"queryRenderedFeatures.filter",p.filter,null,p);const D={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new u.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const V of p.layers){const K=this._layers[V];if(!K)return this.fire(new u.ErrorEvent(new Error(`The layer '${V}' does not exist in the map's style and cannot be queried for features.`))),[];D[K.source]=!0}}const S=[];p.availableImages=this._availableImages;const O=p&&p.layers?p.layers.some(V=>{const K=this.getLayer(V);return K&&K.is3D()}):this.has3DLayers(),N=es.createFromScreenPoints(a,b);for(const V in this._sourceCaches){const K=this._sourceCaches[V].getSource().id;p.layers&&!D[K]||S.push(_i(this._sourceCaches[V],this._layers,this._serializedLayers,N,p,b,O,!!this.map._showQueryGeometry))}return this.placement&&S.push(function(V,K,q,re,he,ve,we){const be={},De=ve.queryRenderedSymbols(re),oe=[];for(const ye of Object.keys(De).map(Number))oe.push(we[ye]);oe.sort(vi);for(const ye of oe){const Ce=ye.featureIndex.lookupSymbolFeatures(De[ye.bucketInstanceId],K,ye.bucketIndex,ye.sourceLayerIndex,he.filter,he.layers,he.availableImages,V);for(const Le in Ce){const Ue=be[Le]=be[Le]||[],Ye=Ce[Le];Ye.sort((Ve,Xe)=>{const Ze=ye.featureSortOrder;if(Ze){const it=Ze.indexOf(Ve.featureIndex);return Ze.indexOf(Xe.featureIndex)-it}return Xe.featureIndex-Ve.featureIndex});for(const Ve of Ye)Ue.push(Ve)}}for(const ye in be)be[ye].forEach(Ce=>{const Le=Ce.feature,Ue=q(V[ye]);if(!Ue)return;const Ye=Ue.getFeatureState(Le.layer["source-layer"],Le.id);Le.source=Le.layer.source,Le.layer["source-layer"]&&(Le.sourceLayer=Le.layer["source-layer"]),Le.state=Ye});return be}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),N.screenGeometry,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(a,p){p&&p.filter&&this._validate(u.validateFilter,"querySourceFeatures.filter",p.filter,null,p);const b=this._getSourceCaches(a);let D=[];for(const S of b)D=D.concat(Ri(S,p));return D}addSourceType(a,p,b){return Xn.getSourceType(a)?b(new Error(`A source type called "${a}" already exists.`)):(Xn.setSourceType(a,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:p.workerSourceURL},b):b(null,null))}getLight(){return this.light.getLight()}setLight(a,p={}){this._checkLoaded();const b=this.light.getLight();let D=!1;for(const O in a)if(!F(a[O],b[O])){D=!0;break}if(!D)return;const S=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(a,p),this.light.updateTransitions(S)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(a,p=1){if(this._checkLoaded(),!a)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let b=a;if(1===p){if("object"==typeof b.source){const D="terrain-dem-src";this.addSource(D,b.source),b=u.clone$1(b),b=u.extend(b,{source:D})}if(this._validate(u.validateTerrain,"terrain",b))return}if(!this.terrain||this.terrain&&p!==this.terrain.drapeRenderMode){if(!b)return;this._createTerrain(b,p)}else{const D=this.terrain,S=D.get();for(const O of Object.keys(u.spec.terrain))!b.hasOwnProperty(O)&&u.spec.terrain[O].default&&(b[O]=u.spec.terrain[O].default);for(const O in b)if(!F(b[O],S[O])){D.set(b),this.stylesheet.terrain=b;const N=this._setTransitionParameters({duration:0});D.updateTransitions(N);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(a){const p=this.fog=new co(a,this.map.transform);this.stylesheet.fog=a;const b=this._setTransitionParameters({duration:0});p.updateTransitions(b)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const a of this.map._markers)a._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(a){if(this._checkLoaded(),!a)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const p=this.fog,b=p.get();0===Object.keys(a).length&&p.set(a);for(const D in a)if(!F(a[D],b[D])){p.set(a),this.stylesheet.fog=a;const S=this._setTransitionParameters({duration:0});p.updateTransitions(S);break}}else this._createFog(a);this._markersNeedUpdate=!0}_setTransitionParameters(a){return{now:u.exported.now(),transition:u.extend(a,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const a=this._order.filter(b=>this.isLayerDraped(this._layers[b])),p=this._order.filter(b=>!this.isLayerDraped(this._layers[b]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...a),this._drapedFirstOrder.push(...p)}_createTerrain(a,p){const b=this.terrain=new fi(a,p);this.stylesheet.terrain=a,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const D=this._setTransitionParameters({duration:0});b.updateTransitions(D)}_force3DLayerUpdate(){for(const a in this._layers){const p=this._layers[a];"fill-extrusion"===p.type&&this._updateLayer(p)}}_forceSymbolLayerUpdate(){for(const a in this._layers){const p=this._layers[a];"symbol"===p.type&&this._updateLayer(p)}}_validate(a,p,b,D,S={}){return(!S||!1!==S.validate)&&kr(this,a.call(u.validateStyle,u.extend({key:p,style:this.serialize(),value:b,styleSpec:u.spec},D)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const a in this._layers)this._layers[a].setEventedParent(null);for(const a in this._sourceCaches)this._sourceCaches[a].clearTiles(),this._sourceCaches[a].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(a){const p=this._getSourceCaches(a);for(const b of p)b.clearTiles()}_reloadSource(a){const p=this._getSourceCaches(a);for(const b of p)b.resume(),b.reload()}_reloadSources(){for(const a of this._getSources())a.reload&&a.reload()}_updateSources(a){for(const p in this._sourceCaches)this._sourceCaches[p].update(a)}_generateCollisionBoxes(){for(const a in this._sourceCaches){const p=this._sourceCaches[a];p.resume(),p.reload()}}_updatePlacement(a,p,b,D,S=!1){let O=!1,N=!1;const V={};for(const K of this._order){const q=this._layers[K];if("symbol"!==q.type)continue;if(!V[q.source]){const he=this._getLayerSourceCache(q);if(!he)continue;V[q.source]=he.getRenderableIds(!0).map(ve=>he.getTileByID(ve)).sort((ve,we)=>we.tileID.overscaledZ-ve.tileID.overscaledZ||(ve.tileID.isLessThan(we.tileID)?-1:1))}const re=this.crossTileSymbolIndex.addLayer(q,V[q.source],a.center.lng,a.projection);O=O||re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),S=S||this._layerOrderChanged||0===b,this._layerOrderChanged&&this.fire(new u.Event("neworder")),(S||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.exported.now(),a.zoom))&&(this.pauseablePlacement=new Dr(a,this._order,S,p,b,D,this.placement,this.fog&&a.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,V),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.exported.now()),N=!0),O&&this.pauseablePlacement.placement.setStale()),N||O)for(const K of this._order){const q=this._layers[K];"symbol"===q.type&&this.placement.updateLayerOpacities(q,V[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.exported.now())}_releaseSymbolFadeTiles(){for(const a in this._sourceCaches)this._sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,p,b){this.imageManager.getImages(p.icons,b),this._updateTilesForChangedImages();const D=S=>{S&&S.setDependencies(p.tileID.key,p.type,p.icons)};D(this._otherSourceCaches[p.source]),D(this._symbolSourceCaches[p.source])}getGlyphs(a,p,b){this.glyphManager.getGlyphs(p.stacks,b)}getResource(a,p,b){return u.makeRequest(p,b)}_getSourceCache(a){return this._otherSourceCaches[a]}_getLayerSourceCache(a){return"symbol"===a.type?this._symbolSourceCaches[a.source]:this._otherSourceCaches[a.source]}_getSourceCaches(a){const p=[];return this._otherSourceCaches[a]&&p.push(this._otherSourceCaches[a]),this._symbolSourceCaches[a]&&p.push(this._symbolSourceCaches[a]),p}_isSourceCacheLoaded(a){const p=this._getSourceCaches(a);return 0===p.length?(this.fire(new u.ErrorEvent(new Error(`There is no source with ID '${a}'`))),!1):p.every(b=>b.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Xn.getSourceType=function(g){return ni[g]},Xn.setSourceType=function(g,a){ni[g]=a},Xn.registerForPluginStateChange=u.registerForPluginStateChange;var pl="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",Va="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Us="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",Er="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",Ui="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let To={},ls={};const Ta=[];ms(pl,Ta),ms(Us,Ta),ms(Er,Ta),ms(Ui,Ta),To=Dn("",Us),ls=Dn(Ui,Er);const uu=Dn("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ta=pl,So="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var Ha={background:Dn("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Dn("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Dn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Dn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Dn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Dn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:Dn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Dn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Dn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Dn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Dn("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Dn("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Dn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Dn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Dn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Dn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Dn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Dn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Dn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Dn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Dn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:Dn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Dn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Va),skyboxGradient:Dn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Va),skyboxCapture:Dn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Dn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:Dn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function ms(g,a){const p=g.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let b of p)if(b=b.trim(),"#"===b[0]&&b.includes("if")&&!b.includes("endif")){b=b.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const D=b.split(" ");for(const S of D)a.includes(S)||a.push(S)}}function Dn(g,a){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=a.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),D={},S=[...Ta];return ms(g,S),ms(a,S),{fragmentSource:g=g.replace(p,(O,N,V,K,q)=>(D[q]=!0,"define"===N?`\n#ifndef HAS_UNIFORM_u_${q}\nvarying ${V} ${K} ${q};\n#else\nuniform ${V} ${K} u_${q};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${q}\n    ${V} ${K} ${q} = u_${q};\n#endif\n`)),vertexSource:a=a.replace(p,(O,N,V,K,q)=>{const re="float"===K?"vec2":"vec4",he=q.match(/color/)?"color":re;return D[q]?"define"===N?`\n#ifndef HAS_UNIFORM_u_${q}\nuniform lowp float u_${q}_t;\nattribute ${V} ${re} a_${q};\nvarying ${V} ${K} ${q};\n#else\nuniform ${V} ${K} u_${q};\n#endif\n`:"vec4"===he?`\n#ifndef HAS_UNIFORM_u_${q}\n    ${q} = a_${q};\n#else\n    ${V} ${K} ${q} = u_${q};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${q}\n    ${q} = unpack_mix_${he}(a_${q}, u_${q}_t);\n#else\n    ${V} ${K} ${q} = u_${q};\n#endif\n`:"define"===N?`\n#ifndef HAS_UNIFORM_u_${q}\nuniform lowp float u_${q}_t;\nattribute ${V} ${re} a_${q};\n#else\nuniform ${V} ${K} u_${q};\n#endif\n`:"vec4"===he?`\n#ifndef HAS_UNIFORM_u_${q}\n    ${V} ${K} ${q} = a_${q};\n#else\n    ${V} ${K} ${q} = u_${q};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${q}\n    ${V} ${K} ${q} = unpack_mix_${he}(a_${q}, u_${q}_t);\n#else\n    ${V} ${K} ${q} = u_${q};\n#endif\n`}),staticAttributes:b,usedDefines:S}}class Ip{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(a,p,b,D,S,O,N){this.context=a;let V=this.boundPaintVertexBuffers.length!==D.length;for(let q=0;!V&&q<D.length;q++)this.boundPaintVertexBuffers[q]!==D[q]&&(V=!0);let K=this.boundDynamicVertexBuffers.length!==N.length;for(let q=0;!K&&q<N.length;q++)this.boundDynamicVertexBuffers[q]!==N[q]&&(K=!0);if(!a.extVertexArrayObject||!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==b||V||K||this.boundIndexBuffer!==S||this.boundVertexOffset!==O)this.freshBind(p,b,D,S,O,N);else{a.bindVertexArrayOES.set(this.vao);for(const q of N)q&&q.bind();S&&S.dynamicDraw&&S.bind()}}freshBind(a,p,b,D,S,O){let N;const V=a.numAttributes,K=this.context,q=K.gl;if(K.extVertexArrayObject)this.vao&&this.destroy(),this.vao=K.extVertexArrayObject.createVertexArrayOES(),K.bindVertexArrayOES.set(this.vao),N=0,this.boundProgram=a,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=D,this.boundVertexOffset=S,this.boundDynamicVertexBuffers=O;else{N=K.currentNumAttributes||0;for(let re=V;re<N;re++)q.disableVertexAttribArray(re)}p.enableAttributes(q,a),p.bind(),p.setVertexAttribPointers(q,a,S);for(const re of b)re.enableAttributes(q,a),re.bind(),re.setVertexAttribPointers(q,a,S);for(const re of O)re&&(re.enableAttributes(q,a),re.bind(),re.setVertexAttribPointers(q,a,S));D&&D.bind(),K.currentNumAttributes=V}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ho(g,a){const p=Math.pow(2,a.canonical.z),b=a.canonical.y;return[new u.MercatorCoordinate(0,b/p).toLngLat().lat,new u.MercatorCoordinate(0,(b+1)/p).toLngLat().lat]}function ud(g,a,p,b,D,S,O){const N=g.context,V=N.gl,K=p.fbo;if(!K)return;g.prepareDrawTile();const q=g.useProgram("hillshade");N.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,K.colorAttachment.get());const re=((be,De,oe,ye)=>{const Ce=oe.paint.get("hillshade-shadow-color"),Le=oe.paint.get("hillshade-highlight-color"),Ue=oe.paint.get("hillshade-accent-color");let Ye=oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===oe.paint.get("hillshade-illumination-anchor")&&(Ye-=be.transform.angle);const Ve=!be.options.moving;return{u_matrix:ye||be.transform.calculateProjMatrix(De.tileID.toUnwrapped(),Ve),u_image:0,u_latrange:ho(0,De.tileID),u_light:[oe.paint.get("hillshade-exaggeration"),Ye],u_shadow:Ce,u_highlight:Le,u_accent:Ue}})(g,p,b,g.terrain?a.projMatrix:null);g.prepareDrawProgram(N,q,a.toUnwrapped());const{tileBoundsBuffer:he,tileBoundsIndexBuffer:ve,tileBoundsSegments:we}=g.getTileBoundsBuffers(p);q.draw(N,V.TRIANGLES,D,S,O,u.CullFaceMode.disabled,re,b.id,he,ve,we)}function Ds(g,a,p){if(!a.needsDEMTextureUpload)return;const b=g.context,D=b.gl;b.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||g.getTileTexture(p.stride);const S=p.getPixels();a.demTexture?a.demTexture.update(S,{premultiply:!1}):a.demTexture=new u.Texture(b,S,D.RGBA,{premultiply:!1}),a.needsDEMTextureUpload=!1}function Tc(g,a,p,b,D,S){const O=g.context,N=O.gl;if(!a.dem)return;const V=a.dem;if(O.activeTexture.set(N.TEXTURE1),Ds(g,a,V),!a.demTexture)return;a.demTexture.bind(N.NEAREST,N.CLAMP_TO_EDGE);const K=V.dim;O.activeTexture.set(N.TEXTURE0);let q=a.fbo;if(!q){const we=new u.Texture(O,{width:K,height:K,data:null},N.RGBA);we.bind(N.LINEAR,N.CLAMP_TO_EDGE),q=a.fbo=O.createFramebuffer(K,K,!0),q.colorAttachment.set(we.texture)}O.bindFramebuffer.set(q.framebuffer),O.viewport.set([0,0,K,K]);const{tileBoundsBuffer:re,tileBoundsIndexBuffer:he,tileBoundsSegments:ve}=g.getMercatorTileBoundsBuffers();g.useProgram("hillshadePrepare").draw(O,N.TRIANGLES,b,D,S,u.CullFaceMode.disabled,((we,be)=>{const De=be.stride,oe=u.create();return u.ortho(oe,0,u.EXTENT,-u.EXTENT,0,0,1),u.translate(oe,oe,[0,-u.EXTENT,0]),{u_matrix:oe,u_image:1,u_dimension:[De,De],u_zoom:we.overscaledZ,u_unpack:be.unpackVector}})(a.tileID,V),p.id,re,he,ve),a.needsHillshadePrepare=!1}const ml=g=>({u_matrix:new u.UniformMatrix4f(g),u_image0:new u.Uniform1i(g),u_skirt_height:new u.Uniform1f(g)}),na=(g,a)=>({u_matrix:g,u_image0:0,u_skirt_height:a}),zr=(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we)=>({u_proj_matrix:Float32Array.from(g),u_globe_matrix:a,u_normalize_matrix:Float32Array.from(b),u_merc_matrix:p,u_zoom_transition:D,u_merc_center:S,u_image0:0,u_frustum_tl:O,u_frustum_tr:N,u_frustum_br:V,u_frustum_bl:K,u_globe_pos:q,u_globe_radius:re,u_viewport:he,u_grid_matrix:we?Float32Array.from(we):new Float32Array(9),u_skirt_height:ve});function Ul(g,a){return null!=g&&null!=a&&!(!g.hasData()||!a.hasData())&&null!=g.demTexture&&null!=a.demTexture&&g.tileID.key!==a.tileID.key}const Zr=new class{constructor(){this.operations={}}newMorphing(g,a,p,b,D){if(g in this.operations){const S=this.operations[g];S.to.tileID.key!==p.tileID.key&&(S.queued=p)}else this.operations[g]={startTime:b,phase:0,duration:D,from:a,to:p,queued:null}}getMorphValuesForProxy(g){if(!(g in this.operations))return null;const a=this.operations[g];return{from:a.from,to:a.to,phase:a.phase}}update(g){for(const a in this.operations){const p=this.operations[a];for(p.phase=(g-p.startTime)/p.duration;p.phase>=1||!this._validOp(p);)if(!this._nextOp(p,g)){delete this.operations[a];break}}}_nextOp(g,a){return!!g.queued&&(g.from=g.to,g.to=g.queued,g.queued=null,g.phase=0,g.startTime=a,!0)}_validOp(g){return g.from.hasData()&&g.to.hasData()}},qr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Vl(g){return 6*Math.pow(1.5,22-g)}function Sa(g,a){const p=1<<g.z;return!a&&(0===g.x||g.x===p-1)||0===g.y||g.y===p-1}const _l=g=>({u_matrix:g});function Co(g,a,p,b,D){if(D>0){const S=u.exported.now(),O=(S-g.timeAdded)/D,N=a?(S-a.timeAdded)/D:-1,V=p.getSource(),K=b.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),q=!a||Math.abs(a.tileID.overscaledZ-K)>Math.abs(g.tileID.overscaledZ-K),re=q&&g.refreshedUponExpiration?1:u.clamp(q?O:1-N,0,1);return g.refreshedUponExpiration&&O>=1&&(g.refreshedUponExpiration=!1),a?{opacity:1,mix:1-re}:{opacity:re,mix:0}}return{opacity:1,mix:0}}class Sc extends u.SourceCache{constructor(a){const p={type:"raster-dem",maxzoom:a.transform.maxZoom},b=new zi(Ss(),null),D=Ut("mock-dem",p,b,a.style);super("mock-dem",D,!1),D.setEventedParent(this),this._sourceLoaded=!0}_loadTile(a,p){a.state="loaded",p(null)}}class du extends u.SourceCache{constructor(a){const p=Ut("proxy",{type:"geojson",maxzoom:a.transform.maxZoom},new zi(Ss(),null),a.style);super("proxy",p,!1),p.setEventedParent(this),this.map=this.getSource().map=a,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(a,p,b){if(a.freezeTileCoverage)return;this.transform=a;const D=a.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((S,O)=>{if(S[O.key]="",!this._tiles[O.key]){const N=new u.Tile(O,this._source.tileSize*O.overscaleFactor(),a.tileZoom);N.state="loaded",this._tiles[O.key]=N}return S},{});for(const S in this._tiles)S in D||(this.freeFBO(S),this._tiles[S].unloadVectorData(),delete this._tiles[S])}freeFBO(a){const p=this.proxyCachedFBO[a];if(void 0!==p){const b=Object.values(p);this.renderCachePool.push(...b),delete this.proxyCachedFBO[a]}}deallocRenderCache(){this.renderCache.forEach(a=>a.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class hu extends u.OverscaledTileID{constructor(a,p,b){super(a.overscaledZ,a.wrap,a.canonical.z,a.canonical.x,a.canonical.y),this.proxyTileKey=p,this.projMatrix=b}}class th extends u.Elevation{constructor(a,p){super(),this.painter=a,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[b,D,S]=function(V){const K=new u.StructArrayLayout2i4,q=new u.StructArrayLayout3ui6;K.reserve(17161),q.reserve(33800);const he=u.EXTENT/128,ve=u.EXTENT+he/2,we=ve+he;for(let De=-he;De<we;De+=he)for(let oe=-he;oe<we;oe+=he){const ye=oe<0||oe>ve||De<0||De>ve?24575:0,Ce=u.clamp(Math.round(oe),0,u.EXTENT),Le=u.clamp(Math.round(De),0,u.EXTENT);K.emplaceBack(Ce+ye,Le)}const be=(De,oe)=>{const ye=131*oe+De;q.emplaceBack(ye+1,ye,ye+131),q.emplaceBack(ye+131,ye+131+1,ye+1)};for(let De=1;De<129;De++)for(let oe=1;oe<129;oe++)be(oe,De);return[0,129].forEach(De=>{for(let oe=0;oe<130;oe++)be(oe,De),be(De,oe)}),[K,q,32768]}(),O=a.context;this.gridBuffer=O.createVertexBuffer(b,u.posAttributes.members),this.gridIndexBuffer=O.createIndexBuffer(D),this.gridSegments=u.SegmentVector.simpleSegment(0,0,b.length,D.length),this.gridNoSkirtSegments=u.SegmentVector.simpleSegment(0,0,b.length,S),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new du(p.map),this.orthoMatrix=u.create(),u.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,u.EXTENT,0,u.EXTENT,0,1);const N=O.gl;this._overlapStencilMode=new u.StencilMode({func:N.GEQUAL,mask:255},0,255,N.KEEP,N.KEEP,N.REPLACE),this._previousZoom=a.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=p,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Sc(p.map)}set style(a){a.on("data",this._onStyleDataEvent.bind(this)),a.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=a,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(a,p,b){if(a&&a.terrain){this._style!==a&&(this.style=a),this.enabled=!0;const D=a.terrain.properties;this.sourceCache=0===a.terrain.drapeRenderMode?this._mockSourceCache:a._getSourceCache(D.get("source")),this._exaggeration=D.get("exaggeration");const S=()=>{this.sourceCache.used&&u.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const O=this.getScaledDemTileSize();this.sourceCache.update(p,O,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,S(),this._initializing=!0),S(),p.updateElevation(!0,b),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(p),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(a){this._findCoveringTileCache[a]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const a=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==a.efficiency&&u.warnOnce(`Terrain render cache efficiency is not optimal (${a.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${a.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(a){a.coord&&"source"===a.dataType?this._clearRenderCacheForTile(a.sourceCacheId,a.coord):"style"===a.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const a in this._style._sourceCaches)this._style._sourceCaches[a].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(a=>a.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const a=2*this.proxySourceCache.getSource().tileSize;return[a,a]}set useVertexMorphing(a){this._useVertexMorphing=a}updateTileBinding(a){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const p=this.proxySourceCache,b=this.painter.transform;this._initializing&&(this._initializing=0===b._centerAltitude&&-1===this.getAtPointOrZero(u.MercatorCoordinate.fromLngLat(b.center),-1),this._emptyDEMTextureDirty=!this._initializing);const D=this.proxyCoords=p.getIds().map(V=>{const K=p.getTileByID(V).tileID;return K.projMatrix=b.calculateProjMatrix(K.toUnwrapped()),K});(function(V,K){const q=K.transform.pointCoordinate(K.transform.getCameraPoint()),re=new u.Point(q.x,q.y);V.sort((he,ve)=>{if(ve.overscaledZ-he.overscaledZ)return ve.overscaledZ-he.overscaledZ;const we=new u.Point(he.canonical.x+(1<<he.canonical.z)*he.wrap,he.canonical.y),be=new u.Point(ve.canonical.x+(1<<ve.canonical.z)*ve.wrap,ve.canonical.y),De=re.mult(1<<he.canonical.z);return De.x-=.5,De.y-=.5,De.distSqr(we)-De.distSqr(be)})})(D,this.painter),this._previousZoom=b.zoom;const S=this.proxyToSource||{};this.proxyToSource={},D.forEach(V=>{this.proxyToSource[V.key]={}}),this.terrainTileForTile={};const O=this._style._sourceCaches;for(const V in O){const K=O[V];if(!K.used||(K!==this.sourceCache&&this.resetTileLookupCache(K.id),this._setupProxiedCoordsForOrtho(K,a[V],S),K.usedForTerrain))continue;const q=a[V];K.getSource().reparseOverscaled&&this._assignTerrainTiles(q)}this.proxiedCoords[p.id]=D.map(V=>new hu(V,V.key,this.orthoMatrix)),this._assignTerrainTiles(D),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(S),this.renderingToTexture=!1,this._updateTimestamp=u.exported.now();const N={};this._visibleDemTiles=[];for(const V of this.proxyCoords){const K=this.terrainTileForTile[V.key];if(!K)continue;const q=K.tileID.key;q in N||(this._visibleDemTiles.push(K),N[q]=q)}}_assignTerrainTiles(a){this._initializing||a.forEach(p=>{if(this.terrainTileForTile[p.key])return;const b=this._findTileCoveringTileID(p,this.sourceCache);b&&(this.terrainTileForTile[p.key]=b)})}_prepareDEMTextures(){const a=this.painter.context,p=a.gl;for(const b in this.terrainTileForTile){const D=this.terrainTileForTile[b],S=D.dem;!S||D.demTexture&&!D.needsDEMTextureUpload||(a.activeTexture.set(p.TEXTURE1),Ds(this.painter,D,S))}}_prepareDemTileUniforms(a,p,b,D){if(!p||null==p.demTexture)return!1;const S=a.tileID.canonical,O=Math.pow(2,p.tileID.canonical.z-S.z),N=D||"";return b[`u_dem_tl${N}`]=[S.x*O%1,S.y*O%1],b[`u_dem_scale${N}`]=O,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const a=this.painter.context,p=a.gl;if(!this._emptyDepthBufferTexture){const b=new u.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new u.Texture(a,b,p.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let a=0;const p=this._visibleDemTiles.reduce((b,D)=>{if(!D.dem)return b;const S=D.dem.tree.minimums[0];return S>0&&a++,b+S},0);return a?p/a:0}_updateEmptyDEMTexture(){const a=this.painter.context,p=a.gl;a.activeTexture.set(p.TEXTURE2);const b=this._getLoadedAreaMinimum(),D=new u.RGBAImage({width:1,height:1},new Uint8Array(u.DEMData.pack(b,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let S=this._emptyDEMTexture;return S?S.update(D,{premultiply:!1}):S=this._emptyDEMTexture=new u.Texture(a,D,p.RGBA,{premultiply:!1}),S}setupElevationDraw(a,p,b){const D=this.painter.context,S=D.gl,O=(N=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:u.DEMData.getUnpackVector(N),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var N;O.u_dem_size=this.sourceCache.getSource().tileSize,O.u_exaggeration=this.exaggeration();let V=null,K=null,q=1;if(b&&b.morphing&&this._useVertexMorphing){const re=b.morphing.srcDemTile,he=b.morphing.dstDemTile;q=b.morphing.phase,re&&he&&(this._prepareDemTileUniforms(a,re,O,"_prev")&&(K=re),this._prepareDemTileUniforms(a,he,O)&&(V=he))}if(K&&V?(D.activeTexture.set(S.TEXTURE2),V.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),D.activeTexture.set(S.TEXTURE4),K.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),O.u_dem_lerp=q):(V=this.terrainTileForTile[a.tileID.key],D.activeTexture.set(S.TEXTURE2),(this._prepareDemTileUniforms(a,V,O)?V.demTexture:this.emptyDEMTexture).bind(S.NEAREST,S.CLAMP_TO_EDGE)),D.activeTexture.set(S.TEXTURE3),b&&b.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),this._depthFBO&&(O.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),O.u_depth_size_inv=[1,1]),b&&b.useMeterToDem&&V){const re=(1<<V.tileID.canonical.z)*u.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;O.u_meter_to_dem=re}if(b&&b.labelPlaneMatrixInv&&(O.u_label_plane_matrix_inv=b.labelPlaneMatrixInv),p.setTerrainUniformValues(D,O),"globe"===this.painter.transform.projection.name){const re=this.globeUniformValues(this.painter.transform,a.tileID.canonical,b&&b.useDenormalizedUpVectorScale);p.setGlobeUniformValues(D,re)}}globeUniformValues(a,p,b){const D=a.projection;return{u_tile_tl_up:D.upVector(p,0,0),u_tile_tr_up:D.upVector(p,u.EXTENT,0),u_tile_br_up:D.upVector(p,u.EXTENT,u.EXTENT),u_tile_bl_up:D.upVector(p,0,u.EXTENT),u_tile_up_scale:b?u.globeMetersToEcef(1):D.upVectorScale(p,a.center.lat,a.worldSize).metersToTile}}renderToBackBuffer(a){const p=this.painter,b=this.painter.context;0!==a.length&&(b.bindFramebuffer.set(null),b.viewport.set([0,0,p.width,p.height]),p.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(D,S,O,N,V){if("globe"===D.transform.projection.name)!function(K,q,re,he,ve){const we=K.context,be=we.gl;let De,oe;const ye=K.options.showTerrainWireframe?2:0,Ce=K.transform,Le=u.globeUseCustomAntiAliasing(K,we,Ce),Ue=(Lt,tt)=>{if(oe===Lt)return;const bt=[qr[Lt],"PROJECTION_GLOBE_VIEW"];Le&&bt.push("CUSTOM_ANTIALIASING"),tt&&bt.push(qr[ye]),De=K.useProgram("globeRaster",null,bt),oe=Lt},Ye=K.colorModeForRenderPass(),Ve=new u.DepthMode(be.LEQUAL,u.DepthMode.ReadWrite,K.depthRangeFor3D);Zr.update(ve);const Xe=u.calculateGlobeMercatorMatrix(Ce),Ze=[u.mercatorXfromLng(Ce.center.lng),u.mercatorYfromLat(Ce.center.lat)],it=ye?[!1,!0]:[!1],Rt=K.globeSharedBuffers,Qe=[Ce.width*u.exported.devicePixelRatio,Ce.height*u.exported.devicePixelRatio],Mt=Float32Array.from(Ce.globeMatrix),ut={useDenormalizedUpVectorScale:!0};if(it.forEach(Lt=>{const tt=K.transform,bt=Vl(tt.zoom)*q.exaggeration();oe=-1;const $t=Lt?be.LINES:be.TRIANGLES;for(const Dt of he){const Ct=re.getTile(Dt),wn=u.StencilMode.disabled,Wn=q.prevTerrainTileForTile[Dt.key],_n=q.terrainTileForTile[Dt.key];Ul(Wn,_n)&&Zr.newMorphing(Dt.key,Wn,_n,ve,250),we.activeTexture.set(be.TEXTURE0),Ct.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE);const In=Zr.getMorphValuesForProxy(Dt.key),pi=In?1:0;In&&u.extend$1(ut,{morphing:{srcDemTile:In.from,dstDemTile:In.to,phase:u.easeCubicInOut(In.phase)}});const jn=u.tileCornersToBounds(Dt.canonical),mn=u.getLatitudinalLod(jn.getCenter().lat),Ii=u.getGridMatrix(Dt.canonical,jn,mn,tt.worldSize/tt._pixelsPerMercatorPixel),mi=u.globeNormalizeECEF(u.globeTileBounds(Dt.canonical)),On=zr(tt.projMatrix,Mt,Xe,mi,u.globeToMercatorTransition(tt.zoom),Ze,tt.frustumCorners.TL,tt.frustumCorners.TR,tt.frustumCorners.BR,tt.frustumCorners.BL,tt.globeCenterInViewSpace,tt.globeRadius,Qe,bt,Ii);if(Ue(pi,Lt),q.setupElevationDraw(Ct,De,ut),K.prepareDrawProgram(we,De,Dt.toUnwrapped()),Rt){const[C,B,X]=Lt?Rt.getWirefameBuffers(K.context,mn):Rt.getGridBuffers(mn,0!==bt);De.draw(we,$t,Ve,wn,Ye,u.CullFaceMode.backCCW,On,"globe_raster",C,B,X)}}}),Rt){const Lt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Le&&Lt.push("CUSTOM_ANTIALIASING"),De=K.useProgram("globeRaster",null,Lt);for(const tt of he){const{x:bt,y:$t,z:Dt}=tt.canonical,Ct=0===$t,wn=$t===(1<<Dt)-1,[Wn,_n,In,pi]=Rt.getPoleBuffers(Dt);if(pi&&(Ct||wn)){const jn=re.getTile(tt);we.activeTexture.set(be.TEXTURE0),jn.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE);let mn=u.globePoleMatrixForTile(Dt,bt,Ce);const Ii=u.globeNormalizeECEF(u.globeTileBounds(tt.canonical)),mi=(On,C)=>On.draw(we,be.TRIANGLES,Ve,u.StencilMode.disabled,Ye,u.CullFaceMode.disabled,zr(Ce.projMatrix,mn,mn,Ii,0,Ze,Ce.frustumCorners.TL,Ce.frustumCorners.TR,Ce.frustumCorners.BR,Ce.frustumCorners.BL,Ce.globeCenterInViewSpace,Ce.globeRadius,Qe,0),"globe_pole_raster",C,In,pi);q.setupElevationDraw(jn,De,ut),K.prepareDrawProgram(we,De,tt.toUnwrapped()),Ct&&mi(De,Wn),wn&&(mn=u.scale(u.create(),mn,[1,-1,1]),mi(De,_n))}}}}(D,S,O,N,V);else{const K=D.context,q=K.gl;let re,he;const ve=D.options.showTerrainWireframe?2:0,we=(Ce,Le)=>{if(he===Ce)return;const Ue=[qr[Ce]];Le&&Ue.push(qr[ve]),re=D.useProgram("terrainRaster",null,Ue),he=Ce},be=D.colorModeForRenderPass(),De=new u.DepthMode(q.LEQUAL,u.DepthMode.ReadWrite,D.depthRangeFor3D);Zr.update(V);const oe=D.transform,ye=Vl(oe.zoom)*S.exaggeration();(ve?[!1,!0]:[!1]).forEach(Ce=>{he=-1;const Le=Ce?q.LINES:q.TRIANGLES,[Ue,Ye]=Ce?S.getWirefameBuffer():[S.gridIndexBuffer,S.gridSegments];for(const Ve of N){const Xe=O.getTile(Ve),Ze=u.StencilMode.disabled,it=S.prevTerrainTileForTile[Ve.key],Rt=S.terrainTileForTile[Ve.key];Ul(it,Rt)&&Zr.newMorphing(Ve.key,it,Rt,V,250),K.activeTexture.set(q.TEXTURE0),Xe.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE,q.LINEAR_MIPMAP_NEAREST);const Qe=Zr.getMorphValuesForProxy(Ve.key),Mt=Qe?1:0;let ut;Qe&&(ut={morphing:{srcDemTile:Qe.from,dstDemTile:Qe.to,phase:u.easeCubicInOut(Qe.phase)}});const Lt=na(Ve.projMatrix,Sa(Ve.canonical,oe.renderWorldCopies)?ye/10:ye);we(Mt,Ce),S.setupElevationDraw(Xe,re,ut),D.prepareDrawProgram(K,re,Ve.toUnwrapped()),re.draw(K,Le,De,Ze,be,u.CullFaceMode.backCCW,Lt,"terrain_raster",S.gridBuffer,Ue,Ye)}})}}(p,this,this.proxySourceCache,a,this._updateTimestamp),this.renderingToTexture=!0,p.gpuTimingDeferredRenderEnd(),a.splice(0,a.length))}renderBatch(a){if(0===this._drapedRenderBatches.length)return a+1;this.renderingToTexture=!0;const p=this.painter,b=this.painter.context,D=this.proxySourceCache,S=this.proxiedCoords[D.id],O=this._drapedRenderBatches.shift(),N=[],V=p.style.order;let K=0;for(const q of S){const re=D.getTileByID(q.proxyTileKey),he=D.proxyCachedFBO[q.key]?D.proxyCachedFBO[q.key][a]:void 0,ve=void 0!==he?D.renderCache[he]:this.pool[K++],we=void 0!==he;if(re.texture=ve.tex,we&&!ve.dirty){N.push(re.tileID);continue}let be;b.bindFramebuffer.set(ve.fb.framebuffer),this.renderedToTile=!1,ve.dirty&&(b.clear({color:u.Color.transparent,stencil:0}),ve.dirty=!1);for(let De=O.start;De<=O.end;++De){const oe=p.style._layers[V[De]];if(oe.isHidden(p.transform.zoom))continue;const ye=p.style._getLayerSourceCache(oe),Ce=ye?this.proxyToSource[q.key][ye.id]:[q];if(!Ce)continue;const Le=Ce;b.viewport.set([0,0,ve.fb.width,ve.fb.height]),be!==(ye?ye.id:null)&&(this._setupStencil(ve,Ce,oe,ye),be=ye?ye.id:null),p.renderLayer(p,ye,oe,Le)}this.renderedToTile?(ve.dirty=!0,N.push(re.tileID)):we||--K,5===K&&(K=0,this.renderToBackBuffer(N))}return this.renderToBackBuffer(N),this.renderingToTexture=!1,b.bindFramebuffer.set(null),b.viewport.set([0,0,p.width,p.height]),O.end+1}postRender(){}renderCacheEfficiency(a){const p=a.order.length;if(0===p)return{efficiency:100};let b,D=0,S=0,O=!1;for(let N=0;N<p;++N){const V=a._layers[a.order[N]];this._style.isLayerDraped(V)?(O&&++D,++S):O||(O=!0,b=V.id)}return 0===S?{efficiency:100}:{efficiency:100*(1-D/S),firstUndrapedLayer:b}}getMinElevationBelowMSL(){let a=0;return this._visibleDemTiles.filter(p=>p.dem).forEach(p=>{a=Math.min(a,p.dem.tree.minimums[0])}),0===a?a:(a-30)*this._exaggeration}raycast(a,p,b){if(!this._visibleDemTiles)return null;const D=this._visibleDemTiles.filter(S=>S.dem).map(S=>{const O=S.tileID,N=1<<O.overscaledZ,{x:V,y:K}=O.canonical,q=V/N,re=(V+1)/N,he=K/N,ve=(K+1)/N;return{minx:q,miny:he,maxx:re,maxy:ve,t:S.dem.tree.raycastRoot(q,he,re,ve,a,p,b),tile:S}});D.sort((S,O)=>(null!==S.t?S.t:Number.MAX_VALUE)-(null!==O.t?O.t:Number.MAX_VALUE));for(const S of D){if(null==S.t)return null;const O=S.tile.dem.tree.raycast(S.minx,S.miny,S.maxx,S.maxy,a,p,b);if(null!=O)return O}return null}_createFBO(){const a=this.painter.context,p=a.gl,b=this.drapeBufferSize;a.activeTexture.set(p.TEXTURE0);const D=new u.Texture(a,{width:b[0],height:b[1],data:null},p.RGBA);D.bind(p.LINEAR,p.CLAMP_TO_EDGE);const S=a.createFramebuffer(b[0],b[1],!1);return S.colorAttachment.set(D.texture),S.depthAttachment=new He(a,S.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=a.createRenderbuffer(a.gl.DEPTH_STENCIL,b[0],b[1]),this._stencilRef=0,S.depthAttachment.set(this._sharedDepthStencil),a.clear({stencil:0})):S.depthAttachment.set(this._sharedDepthStencil),a.extTextureFilterAnisotropic&&!a.extTextureFilterAnisotropicForceOff&&p.texParameterf(p.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax),{fb:S,tex:D,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const a in this._style._sourceCaches)if(this._style._sourceCaches[a].hasTransition())return!0;return this._style.order.some(a=>{const p=this._style._layers[a],b=p.isHidden(this.painter.transform.zoom);return"custom"===p.type?!b&&p.shouldRedrape():!b&&p.hasTransition()})}_clearLineLayersFromRenderCache(){let a=!1;for(const b of this._style._getSources())if(b instanceof nn){a=!0;break}if(!a)return;const p={};for(let b=0;b<this._style.order.length;++b){const D=this._style._layers[this._style.order[b]],S=this._style._getLayerSourceCache(D);if(S&&!p[S.id]&&!D.isHidden(this.painter.transform.zoom)&&"line"===D.type&&D.widthExpression()instanceof u.ZoomDependentExpression){p[S.id]=!0;for(const O of this.proxyCoords){const N=this.proxyToSource[O.key][S.id];if(N)for(const V of N)this._clearRenderCacheForTile(S.id,V)}}}}_clearRasterLayersFromRenderCache(){let a=!1;for(const b in this._style._sourceCaches)if(this._style._sourceCaches[b]._source instanceof Wt){a=!0;break}if(!a)return;const p={};for(let b=0;b<this._style.order.length;++b){const D=this._style._layers[this._style.order[b]],S=this._style._getLayerSourceCache(D);if(!S||p[S.id]||D.isHidden(this.painter.transform.zoom)||"raster"!==D.type)continue;const O=D.paint.get("raster-fade-duration");for(const N of this.proxyCoords){const V=this.proxyToSource[N.key][S.id];if(V)for(const K of V){const q=Co(S.getTile(K),S.findLoadedParent(K,0),S,this.painter.transform,O);(1!==q.opacity||0!==q.mix)&&this._clearRenderCacheForTile(S.id,K)}}}}_setupDrapedRenderBatches(){const a=this._style.order,p=a.length;if(0===p)return;const b=[];let D,S=0,O=this._style._layers[a[S]];for(;!this._style.isLayerDraped(O)&&O.isHidden(this.painter.transform.zoom)&&++S<p;)O=this._style._layers[a[S]];for(;S<p;++S){const N=this._style._layers[a[S]];N.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(N)?void 0===D&&(D=S):void 0!==D&&(b.push({start:D,end:S-1}),D=void 0))}void 0!==D&&b.push({start:D,end:S-1}),this._drapedRenderBatches=b}_setupRenderCache(a){const p=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,p.renderCache.length>p.renderCachePool.length){const O=Object.values(p.proxyCachedFBO);p.proxyCachedFBO={};for(let N=0;N<O.length;++N){const V=Object.values(O[N]);p.renderCachePool.push(...V)}}return}this._clearRasterLayersFromRenderCache();const b=this.proxyCoords,D=this._tilesDirty;for(let O=b.length-1;O>=0;O--){const N=b[O];if(p.getTileByID(N.key),void 0!==p.proxyCachedFBO[N.key]){const V=a[N.key],K=this.proxyToSource[N.key];let q=0;for(const re in K){const he=K[re],ve=V[re];if(!ve||ve.length!==he.length||he.some((we,be)=>we!==ve[be]||D[re]&&D[re].hasOwnProperty(we.key))){q=-1;break}++q}for(const re in p.proxyCachedFBO[N.key])p.renderCache[p.proxyCachedFBO[N.key][re]].dirty=q<0||q!==Object.values(V).length}}const S=[...this._drapedRenderBatches];S.sort((O,N)=>N.end-N.start-(O.end-O.start));for(const O of S)for(const N of b){if(p.proxyCachedFBO[N.key])continue;let V=p.renderCachePool.pop();void 0===V&&p.renderCache.length<50&&(V=p.renderCache.length,p.renderCache.push(this._createFBO())),void 0!==V&&(p.proxyCachedFBO[N.key]={},p.proxyCachedFBO[N.key][O.start]=V,p.renderCache[V].dirty=!0)}this._tilesDirty={}}_setupStencil(a,p,b,D){if(!D||!this._sourceTilesOverlap[D.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const S=this.painter.context,O=S.gl;if(p.length<=1)return void(this._overlapStencilType=!1);let N;if(b.isTileClipped())N=p.length,this._overlapStencilMode.test={func:O.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(p[0].overscaledZ>p[p.length-1].overscaledZ))return void(this._overlapStencilType=!1);N=1,this._overlapStencilMode.test={func:O.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+N>255&&(S.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=N,this._overlapStencilMode.ref=this._stencilRef,b.isTileClipped()&&this._renderTileClippingMasks(p,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(a){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[a.key]),this._overlapStencilMode):u.StencilMode.disabled}_renderTileClippingMasks(a,p){const b=this.painter,D=this.painter.context,S=D.gl;b._tileClippingMaskIDs={},D.setColorMode(u.ColorMode.disabled),D.setDepthMode(u.DepthMode.disabled);const O=b.useProgram("clippingMask");for(const N of a){const V=b._tileClippingMaskIDs[N.key]=--p;O.draw(D,S.TRIANGLES,u.DepthMode.disabled,new u.StencilMode({func:S.ALWAYS,mask:0},V,255,S.KEEP,S.KEEP,S.REPLACE),u.ColorMode.disabled,u.CullFaceMode.disabled,_l(N.projMatrix),"$clipping",b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}}pointCoordinate(a){const p=this.painter.transform;if(a.x<0||a.x>p.width||a.y<0||a.y>p.height)return null;const b=[a.x,a.y,1,1];u.transformMat4$1(b,b,p.pixelMatrixInverse),u.scale$1(b,b,1/b[3]),b[0]/=p.worldSize,b[1]/=p.worldSize;const D=p._camera.position,S=u.mercatorZfromAltitude(1,p.center.lat),O=[D[0],D[1],D[2]/S,0],N=u.subtract([],b.slice(0,3),O);u.normalize(N,N);const V=this.raycast(O,N,this._exaggeration);return null!==V&&V?(u.scaleAndAdd(O,O,N,V),O[3]=O[2],O[2]*=S,O):null}drawDepth(){const a=this.painter,p=a.context,b=this.proxySourceCache,D=Math.ceil(a.width),S=Math.ceil(a.height);if(!this._depthFBO||this._depthFBO.width===D&&this._depthFBO.height===S||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const O=p.gl,N=p.createFramebuffer(D,S,!0);p.activeTexture.set(O.TEXTURE0);const V=new u.Texture(p,{width:D,height:S,data:null},O.RGBA);V.bind(O.NEAREST,O.CLAMP_TO_EDGE),N.colorAttachment.set(V.texture);const K=p.createRenderbuffer(p.gl.DEPTH_COMPONENT16,D,S);N.depthAttachment.set(K),this._depthFBO=N,this._depthTexture=V}p.bindFramebuffer.set(this._depthFBO.framebuffer),p.viewport.set([0,0,D,S]),function(O,N,V,K){if("globe"===O.transform.projection.name)return;const q=O.context,re=q.gl;q.clear({depth:1});const he=O.useProgram("terrainDepth"),ve=new u.DepthMode(re.LESS,u.DepthMode.ReadWrite,O.depthRangeFor3D);for(const we of K){const be=V.getTile(we),De=na(we.projMatrix,0);N.setupElevationDraw(be,he),he.draw(q,re.TRIANGLES,ve,u.StencilMode.disabled,u.ColorMode.unblended,u.CullFaceMode.backCCW,De,"terrain_depth",N.gridBuffer,N.gridIndexBuffer,N.gridNoSkirtSegments)}}(a,this,b,this.proxyCoords)}_setupProxiedCoordsForOrtho(a,p,b){if(a.getSource()instanceof Un)return this._setupProxiedCoordsForImageSource(a,p,b);this._findCoveringTileCache[a.id]=this._findCoveringTileCache[a.id]||{};const D=this.proxiedCoords[a.id]=[],S=this.proxyCoords;for(let N=0;N<S.length;N++){const V=S[N],K=this._findTileCoveringTileID(V,a);if(K){const q=this._createProxiedId(V,K,b[V.key]&&b[V.key][a.id]);D.push(q),this.proxyToSource[V.key][a.id]=[q]}}let O=!1;for(let N=0;N<p.length;N++){const V=a.getTile(p[N]);if(!V||!V.hasData())continue;const K=this._findTileCoveringTileID(V.tileID,this.proxySourceCache);if(K&&K.tileID.canonical.z!==V.tileID.canonical.z){const q=this.proxyToSource[K.tileID.key][a.id],re=this._createProxiedId(K.tileID,V,b[K.tileID.key]&&b[K.tileID.key][a.id]);q?q.splice(q.length-1,0,re):this.proxyToSource[K.tileID.key][a.id]=[re],D.push(re),O=!0}}this._sourceTilesOverlap[a.id]=O}_setupProxiedCoordsForImageSource(a,p,b){if(!a.getSource().loaded())return;const D=this.proxiedCoords[a.id]=[],S=this.proxyCoords,O=a.getSource(),N=new u.Point(O.tileID.x,O.tileID.y)._div(1<<O.tileID.z),V=O.coordinates.map(u.MercatorCoordinate.fromLngLat).reduce((q,re)=>(q.min.x=Math.min(q.min.x,re.x-N.x),q.min.y=Math.min(q.min.y,re.y-N.y),q.max.x=Math.max(q.max.x,re.x-N.x),q.max.y=Math.max(q.max.y,re.y-N.y),q),{min:new u.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new u.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),K=(q,re)=>{const he=q.wrap+q.canonical.x/(1<<q.canonical.z),ve=q.canonical.y/(1<<q.canonical.z),we=u.EXTENT/(1<<q.canonical.z),be=re.wrap+re.canonical.x/(1<<re.canonical.z),De=re.canonical.y/(1<<re.canonical.z);return he+we<be+V.min.x||he>be+V.max.x||ve+we<De+V.min.y||ve>De+V.max.y};for(let q=0;q<S.length;q++){const re=S[q];for(let he=0;he<p.length;he++){const ve=a.getTile(p[he]);if(!ve||!ve.hasData()||K(re,ve.tileID))continue;const we=this._createProxiedId(re,ve,b[re.key]&&b[re.key][a.id]),be=this.proxyToSource[re.key][a.id];be?be.push(we):this.proxyToSource[re.key][a.id]=[we],D.push(we)}}}_createProxiedId(a,p,b){let D=this.orthoMatrix;if(b){const S=b.find(O=>O.key===p.tileID.key);if(S)return S}if(p.tileID.key!==a.key){const S=a.canonical.z-p.tileID.canonical.z;let O,N,V;D=u.create();const K=p.tileID.wrap-a.wrap<<a.overscaledZ;S>0?(O=u.EXTENT>>S,N=O*((p.tileID.canonical.x<<S)-a.canonical.x+K),V=O*((p.tileID.canonical.y<<S)-a.canonical.y)):(O=u.EXTENT<<-S,N=u.EXTENT*(p.tileID.canonical.x-(a.canonical.x+K<<-S)),V=u.EXTENT*(p.tileID.canonical.y-(a.canonical.y<<-S))),u.ortho(D,0,O,0,O,0,1),u.translate(D,D,[N,V,0])}return new hu(p.tileID,a.key,D)}_findTileCoveringTileID(a,p){let b=p.getTile(a);if(b&&b.hasData())return b;const D=this._findCoveringTileCache[p.id],S=D[a.key];if(b=S?p.getTileByID(S):null,b&&b.hasData()||null===S)return b;let O=b?b.tileID:a,N=O.overscaledZ;const V=p.getSource().minzoom,K=[];if(!S){const re=p.getSource().maxzoom;if(a.canonical.z>=re){const he=a.canonical.z-re;p.getSource().reparseOverscaled?(N=Math.max(a.canonical.z+2,p.transform.tileZoom),O=new u.OverscaledTileID(N,a.wrap,re,a.canonical.x>>he,a.canonical.y>>he)):0!==he&&(N=re,O=new u.OverscaledTileID(N,a.wrap,re,a.canonical.x>>he,a.canonical.y>>he))}O.key!==a.key&&(K.push(O.key),b=p.getTile(O))}const q=re=>{K.forEach(he=>{D[he]=re}),K.length=0};for(N-=1;N>=V&&(!b||!b.hasData());N--){b&&q(b.tileID.key);const re=O.calculateScaledKey(N);if(b=p.getTileByID(re),b&&b.hasData())break;const he=D[re];if(null===he)break;void 0===he?K.push(re):b=p.getTileByID(he)}return q(b?b.tileID.key:null),b&&b.hasData()?b:null}findDEMTileFor(a){return this.enabled?this._findTileCoveringTileID(a,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(a,p){let b=this._tilesDirty[a];b||(b=this._tilesDirty[a]={}),b[p.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const a=function(p){let b=0;const D=new u.StructArrayLayout2ui4,S=131;for(let O=1;O<129;O++){for(let N=1;N<129;N++)b=O*S+N,D.emplaceBack(b,b+1),D.emplaceBack(b,b+S),D.emplaceBack(b+1,b+S),128===O&&D.emplaceBack(b+S,b+S+1);D.emplaceBack(b+1,b+1+S)}return D}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(a),this.wireframeSegments=u.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,a.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Bi{static cacheKey(a,p,b,D){let S=`${p}${D?D.cacheKey:""}`;for(const O of b)a.usedDefines.includes(O)&&(S+=`/${O}`);return S}constructor(a,p,b,D,S,O){const N=a.gl;this.program=N.createProgram();const V=function(oe){const ye=[];for(let Ce=0;Ce<oe.length;Ce++){if(null===oe[Ce])continue;const Le=oe[Ce].split(" ");ye.push(Le.pop())}return ye}(b.staticAttributes),K=D?D.getBinderAttributes():[],q=V.concat(K);let re=D?D.defines():[];re=re.concat(O.map(oe=>`#define ${oe}`));const he=a.isWebGL2?"#version 300 es\n":"",ve=he+re.concat(a.extStandardDerivatives&&0===he.length?"#extension GL_OES_standard_derivatives : enable\n".concat(So):So,So,ta,uu.fragmentSource,ls.fragmentSource,b.fragmentSource).join("\n"),we=he+re.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ta,uu.vertexSource,ls.vertexSource,To.vertexSource,b.vertexSource).join("\n"),be=N.createShader(N.FRAGMENT_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);N.shaderSource(be,ve),N.compileShader(be),N.attachShader(this.program,be);const De=N.createShader(N.VERTEX_SHADER);if(N.isContextLost())this.failedToCreate=!0;else{N.shaderSource(De,we),N.compileShader(De),N.attachShader(this.program,De),this.attributes={},this.numAttributes=q.length;for(let oe=0;oe<this.numAttributes;oe++)q[oe]&&(N.bindAttribLocation(this.program,oe,q[oe]),this.attributes[q[oe]]=oe);N.linkProgram(this.program),N.deleteShader(De),N.deleteShader(be),this.fixedUniforms=S(a),this.binderUniforms=D?D.getUniforms(a):[],O.includes("TERRAIN")&&(this.terrainUniforms={u_dem:new u.Uniform1i(oe=a),u_dem_prev:new u.Uniform1i(oe),u_dem_unpack:new u.Uniform4f(oe),u_dem_tl:new u.Uniform2f(oe),u_dem_scale:new u.Uniform1f(oe),u_dem_tl_prev:new u.Uniform2f(oe),u_dem_scale_prev:new u.Uniform1f(oe),u_dem_size:new u.Uniform1f(oe),u_dem_lerp:new u.Uniform1f(oe),u_exaggeration:new u.Uniform1f(oe),u_depth:new u.Uniform1i(oe),u_depth_size_inv:new u.Uniform2f(oe),u_meter_to_dem:new u.Uniform1f(oe),u_label_plane_matrix_inv:new u.UniformMatrix4f(oe)}),O.includes("GLOBE")&&(this.globeUniforms=(oe=>({u_tile_tl_up:new u.Uniform3f(oe),u_tile_tr_up:new u.Uniform3f(oe),u_tile_br_up:new u.Uniform3f(oe),u_tile_bl_up:new u.Uniform3f(oe),u_tile_up_scale:new u.Uniform1f(oe)}))(a)),O.includes("FOG")&&(this.fogUniforms=(oe=>({u_fog_matrix:new u.UniformMatrix4f(oe),u_fog_range:new u.Uniform2f(oe),u_fog_color:new u.Uniform4f(oe),u_fog_horizon_blend:new u.Uniform1f(oe),u_fog_temporal_offset:new u.Uniform1f(oe),u_frustum_tl:new u.Uniform3f(oe),u_frustum_tr:new u.Uniform3f(oe),u_frustum_br:new u.Uniform3f(oe),u_frustum_bl:new u.Uniform3f(oe),u_globe_pos:new u.Uniform3f(oe),u_globe_radius:new u.Uniform1f(oe),u_globe_transition:new u.Uniform1f(oe),u_is_globe:new u.Uniform1i(oe),u_viewport:new u.Uniform2f(oe)}))(a))}var oe}setTerrainUniformValues(a,p){if(!this.terrainUniforms)return;const b=this.terrainUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in p)b[D]&&b[D].set(this.program,D,p[D])}}setGlobeUniformValues(a,p){if(!this.globeUniforms)return;const b=this.globeUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in p)b[D]&&b[D].set(this.program,D,p[D])}}setFogUniformValues(a,p){if(!this.fogUniforms)return;const b=this.fogUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in p)b[D].set(this.program,D,p[D])}}draw(a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be){const De=a.gl;if(this.failedToCreate)return;a.program.set(this.program),a.setDepthMode(b),a.setStencilMode(D),a.setColorMode(S),a.setCullFace(O);for(const ye of Object.keys(this.fixedUniforms))this.fixedUniforms[ye].set(this.program,ye,N[ye]);we&&we.setUniforms(this.program,a,this.binderUniforms,he,{zoom:ve});const oe={[De.LINES]:2,[De.TRIANGLES]:3,[De.LINE_STRIP]:1}[p];for(const ye of re.get()){const Ce=ye.vaos||(ye.vaos={});(Ce[V]||(Ce[V]=new Ip)).bind(a,this,K,we?we.getPaintVertexBuffers():[],q,ye.vertexOffset,be||[]),De.drawElements(p,ye.primitiveLength*oe,De.UNSIGNED_SHORT,ye.primitiveOffset*oe*2)}}}function ia(g,a){const p=Math.pow(2,a.tileID.overscaledZ),b=a.tileSize*Math.pow(2,g.transform.tileZoom)/p,D=b*(a.tileID.canonical.x+a.tileID.wrap*p),S=b*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_tile_units_to_pixels:1/Mr(a,1,g.transform.tileZoom),u_pixel_coord_upper:[D>>16,S>>16],u_pixel_coord_lower:[65535&D,65535&S]}}const ff=u.create(),fu=(g,a,p,b,D,S,O,N,V,K,q)=>{const re=a.style.light,he=re.properties.get("position"),ve=[he.x,he.y,he.z],we=u.create$1();"viewport"===re.properties.get("anchor")&&(u.fromRotation(we,-a.transform.angle),u.transformMat3(ve,ve,we));const be=re.properties.get("color"),De=a.transform,oe={u_matrix:g,u_lightpos:ve,u_lightintensity:re.properties.get("intensity"),u_lightcolor:[be.r,be.g,be.b],u_vertical_gradient:+p,u_opacity:b,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ff,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:D,u_edge_radius:S};return"globe"===De.projection.name&&(oe.u_tile_id=[O.canonical.x,O.canonical.y,1<<O.canonical.z],oe.u_zoom_transition=V,oe.u_inv_rot_matrix=q,oe.u_merc_center=K,oe.u_up_dir=De.projection.upVector(new u.CanonicalTileID(0,0,0),K[0]*u.EXTENT,K[1]*u.EXTENT),oe.u_height_lift=N),oe},kp=(g,a,p,b,D,S,O,N,V,K,q,re)=>{const he=fu(g,a,p,b,D,S,O,V,K,q,re),ve={u_height_factor:-Math.pow(2,O.overscaledZ)/N.tileSize/8};return u.extend(he,ia(a,N),ve)},gl=g=>({u_matrix:g}),jr=(g,a,p)=>u.extend(gl(g),ia(a,p)),p_=(g,a)=>({u_matrix:g,u_world:a}),m_=(g,a,p,b)=>u.extend(jr(g,a,p),{u_world:b}),__=u.create(),nh=(g,a,p,b,D,S)=>{const O=g.transform,N="globe"===O.projection.name;let V;if("map"===S.paint.get("circle-pitch-alignment"))if(N){const q=u.globePixelsToTileUnits(O.zoom,a.canonical)*O._pixelsPerMercatorPixel;V=Float32Array.from([q,0,0,q])}else V=O.calculatePixelsToTileUnitsMatrix(p);else V=new Float32Array([O.pixelsToGLUnits[0],0,0,O.pixelsToGLUnits[1]]);const K={u_camera_to_center_distance:O.cameraToCenterDistance,u_matrix:g.translatePosMatrix(a.projMatrix,p,S.paint.get("circle-translate"),S.paint.get("circle-translate-anchor")),u_device_pixel_ratio:u.exported.devicePixelRatio,u_extrude_scale:V,u_inv_rot_matrix:__,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(N){K.u_inv_rot_matrix=b,K.u_merc_center=D,K.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],K.u_zoom_transition=u.globeToMercatorTransition(O.zoom);const q=D[0]*u.EXTENT,re=D[1]*u.EXTENT;K.u_up_dir=O.projection.upVector(new u.CanonicalTileID(0,0,0),q,re)}return K},pf=g=>{const a=[];return"map"===g.paint.get("circle-pitch-alignment")&&a.push("PITCH_WITH_MAP"),"map"===g.paint.get("circle-pitch-scale")&&a.push("SCALE_WITH_MAP"),a},ih=(g,a,p,b)=>{const D=u.EXTENT/p.tileSize;return{u_matrix:g,u_camera_to_center_distance:a.getCameraToCenterDistance(b),u_extrude_scale:[a.pixelsToGLUnits[0]/D,a.pixelsToGLUnits[1]/D]}},xr=(g,a,p=1)=>({u_matrix:g,u_color:a,u_overlay:0,u_overlay_scale:p}),dd=u.create(),rh=(g,a,p,b,D,S,O)=>{const N=g.transform,V="globe"===N.projection.name,K=V?u.globePixelsToTileUnits(N.zoom,a.canonical)*N._pixelsPerMercatorPixel:Mr(p,1,S),q={u_matrix:a.projMatrix,u_extrude_scale:K,u_intensity:O,u_inv_rot_matrix:dd,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(V){q.u_inv_rot_matrix=b,q.u_merc_center=D,q.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],q.u_zoom_transition=u.globeToMercatorTransition(N.zoom);const re=D[0]*u.EXTENT,he=D[1]*u.EXTENT;q.u_up_dir=N.projection.upVector(new u.CanonicalTileID(0,0,0),re,he)}return q},Pp=(g,a,p,b,D,S,O)=>{const N=g.transform,V=N.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:Ca(g,a,p,b),u_pixels_to_tile_units:V,u_device_pixel_ratio:S,u_units_to_pixels:[1/N.pixelsToGLUnits[0],1/N.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:D,u_texsize:ra(p)?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Hl(a,g.transform),u_alpha_discard_threshold:0,u_trim_offset:O}},hd=(g,a,p,b,D)=>{const S=g.transform;return{u_matrix:Ca(g,a,p,b),u_texsize:a.imageAtlasTexture.size,u_pixels_to_tile_units:S.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:D,u_image:0,u_tile_units_to_pixels:Hl(a,S),u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Hl(g,a){return 1/Mr(g,1,a.tileZoom)}function Ca(g,a,p,b){return g.translatePosMatrix(b||a.tileID.projMatrix,a,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}function ra(g){const a=g.paint.get("line-dasharray").value;return a.value||"constant"!==a.kind}const pu=(g,a,p,b,D,S)=>{return{u_matrix:g,u_tl_parent:a,u_scale_parent:p,u_fade_t:b.mix,u_opacity:b.opacity*D.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:D.paint.get("raster-brightness-min"),u_brightness_high:D.paint.get("raster-brightness-max"),u_saturation_factor:(N=D.paint.get("raster-saturation"),N>0?1-1/(1.001-N):-N),u_contrast_factor:(O=D.paint.get("raster-contrast"),O>0?1/(1-O):1+O),u_spin_weights:Ps(D.paint.get("raster-hue-rotate")),u_perspective_transform:S};var O,N};function Ps(g){g*=Math.PI/180;const a=Math.sin(g),p=Math.cos(g);return[(2*p+1)/3,(-Math.sqrt(3)*a-p+1)/3,(Math.sqrt(3)*a-p+1)/3]}const mu=u.create(),Cc=(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be)=>{const De=D.transform,oe={u_is_size_zoom_constant:+("constant"===g||"source"===g),u_is_size_feature_constant:+("constant"===g||"camera"===g),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:De.cameraToCenterDistance,u_rotate_symbol:+p,u_aspect_ratio:De.width/De.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_matrix:S,u_label_plane_matrix:O,u_coord_matrix:N,u_is_text:+V,u_pitch_with_map:+b,u_texsize:K,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:mu,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:mu,u_up_vector:[0,-1,0]};return"globe"===be.name&&(oe.u_tile_id=[q.canonical.x,q.canonical.y,1<<q.canonical.z],oe.u_zoom_transition=re,oe.u_inv_rot_matrix=ve,oe.u_merc_center=he,oe.u_camera_forward=De._camera.forward(),oe.u_ecef_origin=u.globeECEFOrigin(De.globeMatrix,q.toUnwrapped()),oe.u_tile_matrix=Float32Array.from(De.globeMatrix),oe.u_up_vector=we),oe},$a=(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be,De)=>u.extend(Cc(g,a,p,b,D,S,O,N,V,K,re,he,ve,we,be,De),{u_gamma_scale:b?D.transform.cameraToCenterDistance*Math.cos(D.terrain?0:D.transform._pitch):1,u_device_pixel_ratio:u.exported.devicePixelRatio,u_is_halo:+q}),Lc=(g,a,p,b,D,S,O,N,V,K,q,re,he,ve,we,be)=>u.extend($a(g,a,p,b,D,S,O,N,!0,V,!0,q,re,he,ve,we,be),{u_texsize_icon:K,u_texture_icon:1}),mf=(g,a,p)=>({u_matrix:g,u_opacity:a,u_color:p}),_f=(g,a,p,b,D)=>u.extend(function(S,O,N){const V=O.imageManager.getPattern(S.toString()),{width:K,height:q}=O.imageManager.getPixelSize(),re=Math.pow(2,N.tileID.overscaledZ),he=N.tileSize*Math.pow(2,O.transform.tileZoom)/re,ve=he*(N.tileID.canonical.x+N.tileID.wrap*re),we=he*N.tileID.canonical.y;return{u_image:0,u_pattern_tl:V.tl,u_pattern_br:V.br,u_texsize:[K,q],u_pattern_size:V.displaySize,u_tile_units_to_pixels:1/Mr(N,1,O.transform.tileZoom),u_pixel_coord_upper:[ve>>16,we>>16],u_pixel_coord_lower:[65535&ve,65535&we]}}(b,p,D),{u_matrix:g,u_opacity:a}),Lo={fillExtrusion:g=>({u_matrix:new u.UniformMatrix4f(g),u_lightpos:new u.Uniform3f(g),u_lightintensity:new u.Uniform1f(g),u_lightcolor:new u.Uniform3f(g),u_vertical_gradient:new u.Uniform1f(g),u_opacity:new u.Uniform1f(g),u_edge_radius:new u.Uniform1f(g),u_ao:new u.Uniform2f(g),u_tile_id:new u.Uniform3f(g),u_zoom_transition:new u.Uniform1f(g),u_inv_rot_matrix:new u.UniformMatrix4f(g),u_merc_center:new u.Uniform2f(g),u_up_dir:new u.Uniform3f(g),u_height_lift:new u.Uniform1f(g)}),fillExtrusionPattern:g=>({u_matrix:new u.UniformMatrix4f(g),u_lightpos:new u.Uniform3f(g),u_lightintensity:new u.Uniform1f(g),u_lightcolor:new u.Uniform3f(g),u_vertical_gradient:new u.Uniform1f(g),u_height_factor:new u.Uniform1f(g),u_edge_radius:new u.Uniform1f(g),u_ao:new u.Uniform2f(g),u_tile_id:new u.Uniform3f(g),u_zoom_transition:new u.Uniform1f(g),u_inv_rot_matrix:new u.UniformMatrix4f(g),u_merc_center:new u.Uniform2f(g),u_up_dir:new u.Uniform3f(g),u_height_lift:new u.Uniform1f(g),u_image:new u.Uniform1i(g),u_texsize:new u.Uniform2f(g),u_pixel_coord_upper:new u.Uniform2f(g),u_pixel_coord_lower:new u.Uniform2f(g),u_tile_units_to_pixels:new u.Uniform1f(g),u_opacity:new u.Uniform1f(g)}),fill:g=>({u_matrix:new u.UniformMatrix4f(g)}),fillPattern:g=>({u_matrix:new u.UniformMatrix4f(g),u_image:new u.Uniform1i(g),u_texsize:new u.Uniform2f(g),u_pixel_coord_upper:new u.Uniform2f(g),u_pixel_coord_lower:new u.Uniform2f(g),u_tile_units_to_pixels:new u.Uniform1f(g)}),fillOutline:g=>({u_matrix:new u.UniformMatrix4f(g),u_world:new u.Uniform2f(g)}),fillOutlinePattern:g=>({u_matrix:new u.UniformMatrix4f(g),u_world:new u.Uniform2f(g),u_image:new u.Uniform1i(g),u_texsize:new u.Uniform2f(g),u_pixel_coord_upper:new u.Uniform2f(g),u_pixel_coord_lower:new u.Uniform2f(g),u_tile_units_to_pixels:new u.Uniform1f(g)}),circle:g=>({u_camera_to_center_distance:new u.Uniform1f(g),u_extrude_scale:new u.UniformMatrix2f(g),u_device_pixel_ratio:new u.Uniform1f(g),u_matrix:new u.UniformMatrix4f(g),u_inv_rot_matrix:new u.UniformMatrix4f(g),u_merc_center:new u.Uniform2f(g),u_tile_id:new u.Uniform3f(g),u_zoom_transition:new u.Uniform1f(g),u_up_dir:new u.Uniform3f(g)}),collisionBox:g=>({u_matrix:new u.UniformMatrix4f(g),u_camera_to_center_distance:new u.Uniform1f(g),u_extrude_scale:new u.Uniform2f(g)}),collisionCircle:g=>({u_matrix:new u.UniformMatrix4f(g),u_inv_matrix:new u.UniformMatrix4f(g),u_camera_to_center_distance:new u.Uniform1f(g),u_viewport_size:new u.Uniform2f(g)}),debug:g=>({u_color:new u.UniformColor(g),u_matrix:new u.UniformMatrix4f(g),u_overlay:new u.Uniform1i(g),u_overlay_scale:new u.Uniform1f(g)}),clippingMask:g=>({u_matrix:new u.UniformMatrix4f(g)}),heatmap:g=>({u_extrude_scale:new u.Uniform1f(g),u_intensity:new u.Uniform1f(g),u_matrix:new u.UniformMatrix4f(g),u_inv_rot_matrix:new u.UniformMatrix4f(g),u_merc_center:new u.Uniform2f(g),u_tile_id:new u.Uniform3f(g),u_zoom_transition:new u.Uniform1f(g),u_up_dir:new u.Uniform3f(g)}),heatmapTexture:g=>({u_image:new u.Uniform1i(g),u_color_ramp:new u.Uniform1i(g),u_opacity:new u.Uniform1f(g)}),hillshade:g=>({u_matrix:new u.UniformMatrix4f(g),u_image:new u.Uniform1i(g),u_latrange:new u.Uniform2f(g),u_light:new u.Uniform2f(g),u_shadow:new u.UniformColor(g),u_highlight:new u.UniformColor(g),u_accent:new u.UniformColor(g)}),hillshadePrepare:g=>({u_matrix:new u.UniformMatrix4f(g),u_image:new u.Uniform1i(g),u_dimension:new u.Uniform2f(g),u_zoom:new u.Uniform1f(g),u_unpack:new u.Uniform4f(g)}),line:g=>({u_matrix:new u.UniformMatrix4f(g),u_pixels_to_tile_units:new u.UniformMatrix2f(g),u_device_pixel_ratio:new u.Uniform1f(g),u_units_to_pixels:new u.Uniform2f(g),u_dash_image:new u.Uniform1i(g),u_gradient_image:new u.Uniform1i(g),u_image_height:new u.Uniform1f(g),u_texsize:new u.Uniform2f(g),u_tile_units_to_pixels:new u.Uniform1f(g),u_alpha_discard_threshold:new u.Uniform1f(g),u_trim_offset:new u.Uniform2f(g)}),linePattern:g=>({u_matrix:new u.UniformMatrix4f(g),u_texsize:new u.Uniform2f(g),u_pixels_to_tile_units:new u.UniformMatrix2f(g),u_device_pixel_ratio:new u.Uniform1f(g),u_image:new u.Uniform1i(g),u_units_to_pixels:new u.Uniform2f(g),u_tile_units_to_pixels:new u.Uniform1f(g),u_alpha_discard_threshold:new u.Uniform1f(g)}),raster:g=>({u_matrix:new u.UniformMatrix4f(g),u_tl_parent:new u.Uniform2f(g),u_scale_parent:new u.Uniform1f(g),u_fade_t:new u.Uniform1f(g),u_opacity:new u.Uniform1f(g),u_image0:new u.Uniform1i(g),u_image1:new u.Uniform1i(g),u_brightness_low:new u.Uniform1f(g),u_brightness_high:new u.Uniform1f(g),u_saturation_factor:new u.Uniform1f(g),u_contrast_factor:new u.Uniform1f(g),u_spin_weights:new u.Uniform3f(g),u_perspective_transform:new u.Uniform2f(g)}),symbolIcon:g=>({u_is_size_zoom_constant:new u.Uniform1i(g),u_is_size_feature_constant:new u.Uniform1i(g),u_size_t:new u.Uniform1f(g),u_size:new u.Uniform1f(g),u_camera_to_center_distance:new u.Uniform1f(g),u_rotate_symbol:new u.Uniform1i(g),u_aspect_ratio:new u.Uniform1f(g),u_fade_change:new u.Uniform1f(g),u_matrix:new u.UniformMatrix4f(g),u_label_plane_matrix:new u.UniformMatrix4f(g),u_coord_matrix:new u.UniformMatrix4f(g),u_is_text:new u.Uniform1i(g),u_pitch_with_map:new u.Uniform1i(g),u_texsize:new u.Uniform2f(g),u_tile_id:new u.Uniform3f(g),u_zoom_transition:new u.Uniform1f(g),u_inv_rot_matrix:new u.UniformMatrix4f(g),u_merc_center:new u.Uniform2f(g),u_camera_forward:new u.Uniform3f(g),u_tile_matrix:new u.UniformMatrix4f(g),u_up_vector:new u.Uniform3f(g),u_ecef_origin:new u.Uniform3f(g),u_texture:new u.Uniform1i(g)}),symbolSDF:g=>({u_is_size_zoom_constant:new u.Uniform1i(g),u_is_size_feature_constant:new u.Uniform1i(g),u_size_t:new u.Uniform1f(g),u_size:new u.Uniform1f(g),u_camera_to_center_distance:new u.Uniform1f(g),u_rotate_symbol:new u.Uniform1i(g),u_aspect_ratio:new u.Uniform1f(g),u_fade_change:new u.Uniform1f(g),u_matrix:new u.UniformMatrix4f(g),u_label_plane_matrix:new u.UniformMatrix4f(g),u_coord_matrix:new u.UniformMatrix4f(g),u_is_text:new u.Uniform1i(g),u_pitch_with_map:new u.Uniform1i(g),u_texsize:new u.Uniform2f(g),u_texture:new u.Uniform1i(g),u_gamma_scale:new u.Uniform1f(g),u_device_pixel_ratio:new u.Uniform1f(g),u_tile_id:new u.Uniform3f(g),u_zoom_transition:new u.Uniform1f(g),u_inv_rot_matrix:new u.UniformMatrix4f(g),u_merc_center:new u.Uniform2f(g),u_camera_forward:new u.Uniform3f(g),u_tile_matrix:new u.UniformMatrix4f(g),u_up_vector:new u.Uniform3f(g),u_ecef_origin:new u.Uniform3f(g),u_is_halo:new u.Uniform1i(g)}),symbolTextAndIcon:g=>({u_is_size_zoom_constant:new u.Uniform1i(g),u_is_size_feature_constant:new u.Uniform1i(g),u_size_t:new u.Uniform1f(g),u_size:new u.Uniform1f(g),u_camera_to_center_distance:new u.Uniform1f(g),u_rotate_symbol:new u.Uniform1i(g),u_aspect_ratio:new u.Uniform1f(g),u_fade_change:new u.Uniform1f(g),u_matrix:new u.UniformMatrix4f(g),u_label_plane_matrix:new u.UniformMatrix4f(g),u_coord_matrix:new u.UniformMatrix4f(g),u_is_text:new u.Uniform1i(g),u_pitch_with_map:new u.Uniform1i(g),u_texsize:new u.Uniform2f(g),u_texsize_icon:new u.Uniform2f(g),u_texture:new u.Uniform1i(g),u_texture_icon:new u.Uniform1i(g),u_gamma_scale:new u.Uniform1f(g),u_device_pixel_ratio:new u.Uniform1f(g),u_is_halo:new u.Uniform1i(g)}),background:g=>({u_matrix:new u.UniformMatrix4f(g),u_opacity:new u.Uniform1f(g),u_color:new u.UniformColor(g)}),backgroundPattern:g=>({u_matrix:new u.UniformMatrix4f(g),u_opacity:new u.Uniform1f(g),u_image:new u.Uniform1i(g),u_pattern_tl:new u.Uniform2f(g),u_pattern_br:new u.Uniform2f(g),u_texsize:new u.Uniform2f(g),u_pattern_size:new u.Uniform2f(g),u_pixel_coord_upper:new u.Uniform2f(g),u_pixel_coord_lower:new u.Uniform2f(g),u_tile_units_to_pixels:new u.Uniform1f(g)}),terrainRaster:ml,terrainDepth:ml,skybox:g=>({u_matrix:new u.UniformMatrix4f(g),u_sun_direction:new u.Uniform3f(g),u_cubemap:new u.Uniform1i(g),u_opacity:new u.Uniform1f(g),u_temporal_offset:new u.Uniform1f(g)}),skyboxGradient:g=>({u_matrix:new u.UniformMatrix4f(g),u_color_ramp:new u.Uniform1i(g),u_center_direction:new u.Uniform3f(g),u_radius:new u.Uniform1f(g),u_opacity:new u.Uniform1f(g),u_temporal_offset:new u.Uniform1f(g)}),skyboxCapture:g=>({u_matrix_3f:new u.UniformMatrix3f(g),u_sun_direction:new u.Uniform3f(g),u_sun_intensity:new u.Uniform1f(g),u_color_tint_r:new u.Uniform4f(g),u_color_tint_m:new u.Uniform4f(g),u_luminance:new u.Uniform1f(g)}),globeRaster:g=>({u_proj_matrix:new u.UniformMatrix4f(g),u_globe_matrix:new u.UniformMatrix4f(g),u_normalize_matrix:new u.UniformMatrix4f(g),u_merc_matrix:new u.UniformMatrix4f(g),u_zoom_transition:new u.Uniform1f(g),u_merc_center:new u.Uniform2f(g),u_image0:new u.Uniform1i(g),u_grid_matrix:new u.UniformMatrix3f(g),u_skirt_height:new u.Uniform1f(g),u_frustum_tl:new u.Uniform3f(g),u_frustum_tr:new u.Uniform3f(g),u_frustum_br:new u.Uniform3f(g),u_frustum_bl:new u.Uniform3f(g),u_globe_pos:new u.Uniform3f(g),u_globe_radius:new u.Uniform1f(g),u_viewport:new u.Uniform2f(g)}),globeAtmosphere:g=>({u_frustum_tl:new u.Uniform3f(g),u_frustum_tr:new u.Uniform3f(g),u_frustum_br:new u.Uniform3f(g),u_frustum_bl:new u.Uniform3f(g),u_horizon:new u.Uniform1f(g),u_transition:new u.Uniform1f(g),u_fadeout_range:new u.Uniform1f(g),u_color:new u.Uniform4f(g),u_high_color:new u.Uniform4f(g),u_space_color:new u.Uniform4f(g),u_star_intensity:new u.Uniform1f(g),u_star_density:new u.Uniform1f(g),u_star_size:new u.Uniform1f(g),u_temporal_offset:new u.Uniform1f(g),u_horizon_angle:new u.Uniform1f(g),u_rotation_matrix:new u.UniformMatrix4f(g)})};let sa;function Yr(g,a,p,b,D,S,O){const N=g.context,V=N.gl,K=g.transform,q=g.useProgram("collisionBox"),re=[];let he=0,ve=0;for(let Le=0;Le<b.length;Le++){const Ue=b[Le],Ye=a.getTile(Ue),Ve=Ye.getBucket(p);if(!Ve)continue;const Xe=Ms(Ue,Ve,K);let Ze=Xe;0===D[0]&&0===D[1]||(Ze=g.translatePosMatrix(Xe,Ye,D,S));const it=O?Ve.textCollisionBox:Ve.iconCollisionBox,Rt=Ve.collisionCircleArray;if(Rt.length>0){const Qe=u.create(),Mt=Ze;u.mul(Qe,Ve.placementInvProjMatrix,K.glCoordMatrix),u.mul(Qe,Qe,Ve.placementViewportMatrix),re.push({circleArray:Rt,circleOffset:ve,transform:Mt,invTransform:Qe,projection:Ve.getProjection()}),he+=Rt.length/4,ve=he}it&&(g.terrain&&g.terrain.setupElevationDraw(Ye,q),q.draw(N,V.LINES,u.DepthMode.disabled,u.StencilMode.disabled,g.colorModeForRenderPass(),u.CullFaceMode.disabled,ih(Ze,K,Ye,Ve.getProjection()),p.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,null,K.zoom,null,[it.collisionVertexBuffer,it.collisionVertexBufferExt]))}if(!O||!re.length)return;const we=g.useProgram("collisionCircle"),be=new u.StructArrayLayout2f1f2i16;be.resize(4*he),be._trim();let De=0;for(const Le of re)for(let Ue=0;Ue<Le.circleArray.length/4;Ue++){const Ye=4*Ue,Ve=Le.circleArray[Ye+0],Xe=Le.circleArray[Ye+1],Ze=Le.circleArray[Ye+2],it=Le.circleArray[Ye+3];be.emplace(De++,Ve,Xe,Ze,it,0),be.emplace(De++,Ve,Xe,Ze,it,1),be.emplace(De++,Ve,Xe,Ze,it,2),be.emplace(De++,Ve,Xe,Ze,it,3)}(!sa||sa.length<2*he)&&(sa=function(Le){const Ue=2*Le,Ye=new u.StructArrayLayout3ui6;Ye.resize(Ue),Ye._trim();for(let Ve=0;Ve<Ue;Ve++){const Xe=6*Ve;Ye.uint16[Xe+0]=4*Ve+0,Ye.uint16[Xe+1]=4*Ve+1,Ye.uint16[Xe+2]=4*Ve+2,Ye.uint16[Xe+3]=4*Ve+2,Ye.uint16[Xe+4]=4*Ve+3,Ye.uint16[Xe+5]=4*Ve+0}return Ye}(he));const oe=N.createIndexBuffer(sa,!0),ye=N.createVertexBuffer(be,u.collisionCircleLayout.members,!0);for(const Le of re){const Ue={u_matrix:Le.transform,u_inv_matrix:Le.invTransform,u_camera_to_center_distance:(Ce=K).getCameraToCenterDistance(Le.projection),u_viewport_size:[Ce.width,Ce.height]};we.draw(N,V.TRIANGLES,u.DepthMode.disabled,u.StencilMode.disabled,g.colorModeForRenderPass(),u.CullFaceMode.disabled,Ue,p.id,ye,oe,u.SegmentVector.simpleSegment(0,2*Le.circleOffset,Le.circleArray.length,Le.circleArray.length/2),null,K.zoom)}var Ce;ye.destroy(),oe.destroy()}const $l=u.create();function sh({width:g,height:a,anchor:p,textOffset:b,textScale:D},S){const{horizontalAlign:O,verticalAlign:N}=u.getAnchorAlignment(p),V=-(O-.5)*g,K=-(N-.5)*a,q=u.evaluateVariableOffset(p,b);return new u.Point((V/D+q[0])*S,(K/D+q[1])*S)}function oh(g,a,p,b,D,S,O,N,V,K,q){const re=g.text.placedSymbolArray,he=g.text.dynamicLayoutVertexArray,ve=g.icon.dynamicLayoutVertexArray,we={},be=g.getProjection(),De=Yi(N,be,S),oe=S.elevation,ye=be.upVectorScale(N.canonical,S.center.lat,S.worldSize).metersToTile;he.clear();for(let Ce=0;Ce<re.length;Ce++){const Le=re.get(Ce),{tileAnchorX:Ue,tileAnchorY:Ye,numGlyphs:Ve}=Le,Xe=Le.hidden||!Le.crossTileID||g.allowVerticalPlacement&&!Le.placedOrientation?null:b[Le.crossTileID];if(Xe){let Ze=0,it=0,Rt=0;if(oe){const Ct=oe?oe.getAtTileOffset(N,Ue,Ye):0,[wn,Wn,_n]=be.upVector(N.canonical,Ue,Ye);Ze=Ct*wn*ye,it=Ct*Wn*ye,Rt=Ct*_n*ye}let[Qe,Mt,ut,Lt]=Ir(Le.projectedAnchorX+Ze,Le.projectedAnchorY+it,Le.projectedAnchorZ+Rt,p?De:O);const tt=Yl(S.getCameraToCenterDistance(be),Lt);let bt=D.evaluateSizeForFeature(g.textSizeData,K,Le)*tt/u.ONE_EM;p&&(bt*=g.tilePixelRatio/V);const $t=sh(Xe,bt);p?(({x:Qe,y:Mt,z:ut}=be.projectTilePoint(Ue+$t.x,Ye+$t.y,N.canonical)),[Qe,Mt,ut]=Ir(Qe+Ze,Mt+it,ut+Rt,O)):(a&&$t._rotate(-S.angle),Qe+=$t.x,Mt+=$t.y,ut=0);const Dt=g.allowVerticalPlacement&&Le.placedOrientation===u.WritingMode.vertical?Math.PI/2:0;for(let Ct=0;Ct<Ve;Ct++)u.addDynamicAttributes(he,Qe,Mt,ut,Dt);q&&Le.associatedIconIndex>=0&&(we[Le.associatedIconIndex]={x:Qe,y:Mt,z:ut,angle:Dt})}else uo(Ve,he)}if(q){ve.clear();const Ce=g.icon.placedSymbolArray;for(let Le=0;Le<Ce.length;Le++){const Ue=Ce.get(Le),{numGlyphs:Ye}=Ue,Ve=we[Le];if(Ue.hidden||!Ve)uo(Ye,ve);else{const{x:Xe,y:Ze,z:it,angle:Rt}=Ve;for(let Qe=0;Qe<Ye;Qe++)u.addDynamicAttributes(ve,Xe,Ze,it,Rt)}}g.icon.dynamicLayoutVertexBuffer.updateData(ve)}g.text.dynamicLayoutVertexBuffer.updateData(he)}function _u(g,a,p){return p.iconsInText&&a?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function gu(g,a,p,b,D,S,O,N,V,K,q,re){const he=g.context,ve=he.gl,we=g.transform,be="map"===N,De="map"===V,oe=be&&"point"!==p.layout.get("symbol-placement"),ye=be&&!De&&!oe,Ce=void 0!==p.layout.get("symbol-sort-key").constantOr(1);let Le=!1;const Ue=g.depthModeForSublayer(0,u.DepthMode.ReadOnly),Ye=[u.mercatorXfromLng(we.center.lng),u.mercatorYfromLat(we.center.lat)],Ve=p.layout.get("text-variable-anchor"),Xe="globe"===we.projection.name,Ze=[],it=[0,-1,0];let Rt=it;!Xe&&!we.mercatorFromTransition||be||(Rt=function(Qe){const Mt=Qe._camera.getWorldToCamera(Qe.worldSize,1),ut=u.multiply([],Mt,Qe.globeMatrix);u.invert(ut,ut);const Lt=[0,0,0],tt=[0,1,0,0];return u.transformMat4$1(tt,tt,ut),Lt[0]=tt[0],Lt[1]=tt[1],Lt[2]=tt[2],u.normalize(Lt,Lt),Lt}(we));for(const Qe of b){const Mt=a.getTile(Qe),ut=Mt.getBucket(p);if(!ut||"mercator"===ut.projection.name&&Xe)continue;const Lt=D?ut.text:ut.icon;if(!Lt||ut.fullyClipped||!Lt.segments.get().length)continue;const tt=Lt.programConfigurations.get(p.id),bt=D||ut.sdfIcons,$t=D?ut.textSizeData:ut.iconSizeData,Dt=De||0!==we.pitch,Ct=u.evaluateSizeForZoom($t,we.zoom);let wn,Wn,_n,In,pi=[0,0],jn=null;if(D)Wn=Mt.glyphAtlasTexture,_n=ve.LINEAR,wn=Mt.glyphAtlasTexture.size,ut.iconsInText&&(pi=Mt.imageAtlasTexture.size,jn=Mt.imageAtlasTexture,In=Dt||g.options.rotating||g.options.zooming||"composite"===$t.kind||"camera"===$t.kind?ve.LINEAR:ve.NEAREST);else{const xl=1!==p.layout.get("icon-size").constantOr(0)||ut.iconsNeedLinear;Wn=Mt.imageAtlasTexture,_n=bt||g.options.rotating||g.options.zooming||xl||Dt?ve.LINEAR:ve.NEAREST,wn=Mt.imageAtlasTexture.size}const mn="globe"===ut.projection.name,Ii=mn?Rt:it,mi=mn?u.globeToMercatorTransition(we.zoom):0,On=Yi(Qe,ut.getProjection(),we),C=we.calculatePixelsToTileUnitsMatrix(Mt),B=vt(On,Mt.tileID.canonical,De,be,we,ut.getProjection(),C),X=g.terrain&&De&&oe?u.invert(u.create(),B):$l,ne=fr(On,Mt.tileID.canonical,De,be,we,ut.getProjection(),C),me=Ve&&ut.hasTextData(),Ne="none"!==p.layout.get("icon-text-fit")&&me&&ut.hasIconData();if(oe){const xl=we.elevation,Bc=xl?xl.getAtTileOffsetFunc(Qe,we.center.lat,we.worldSize,ut.getProjection()):null,zc=Mo(On,Mt.tileID.canonical,De,be,we,ut.getProjection(),C);Dc(ut,On,g,D,zc,ne,De,K,Bc,Qe)}const lt=oe||D&&Ve||Ne,on=g.translatePosMatrix(On,Mt,S,O),Bn=lt?$l:B,ii=g.translatePosMatrix(ne,Mt,S,O,!0),yi=ut.getProjection().createInversionMatrix(we,Qe.canonical),Vr=[];g.terrainRenderModeElevated()&&De&&Vr.push("PITCH_WITH_MAP_TERRAIN"),mn&&Vr.push("PROJECTION_GLOBE_VIEW"),lt&&Vr.push("PROJECTED_POS_ON_VIEWPORT");const ys=bt&&0!==p.paint.get(D?"text-halo-width":"icon-halo-width").constantOr(1);let Iu;Iu=bt?ut.iconsInText?Lc($t.kind,Ct,ye,De,g,on,Bn,ii,wn,pi,Qe,mi,Ye,yi,Ii,ut.getProjection()):$a($t.kind,Ct,ye,De,g,on,Bn,ii,D,wn,!0,Qe,mi,Ye,yi,Ii,ut.getProjection()):Cc($t.kind,Ct,ye,De,g,on,Bn,ii,D,wn,Qe,mi,Ye,yi,Ii,ut.getProjection());const yd={program:g.useProgram(_u(bt,D,ut),tt,Vr),buffers:Lt,uniformValues:Iu,atlasTexture:Wn,atlasTextureIcon:jn,atlasInterpolation:_n,atlasInterpolationIcon:In,isSDF:bt,hasHalo:ys,tile:Mt,labelPlaneMatrixInv:X};if(Ce&&ut.canOverlap){Le=!0;const xl=Lt.segments.get();for(const Bc of xl)Ze.push({segments:new u.SegmentVector([Bc]),sortKey:Bc.sortKey,state:yd})}else Ze.push({segments:Lt.segments,sortKey:0,state:yd})}Le&&Ze.sort((Qe,Mt)=>Qe.sortKey-Mt.sortKey);for(const Qe of Ze){const Mt=Qe.state;if(g.terrain&&g.terrain.setupElevationDraw(Mt.tile,Mt.program,{useDepthForOcclusion:!Xe,labelPlaneMatrixInv:Mt.labelPlaneMatrixInv}),he.activeTexture.set(ve.TEXTURE0),Mt.atlasTexture.bind(Mt.atlasInterpolation,ve.CLAMP_TO_EDGE),Mt.atlasTextureIcon&&(he.activeTexture.set(ve.TEXTURE1),Mt.atlasTextureIcon&&Mt.atlasTextureIcon.bind(Mt.atlasInterpolationIcon,ve.CLAMP_TO_EDGE)),Mt.isSDF){const ut=Mt.uniformValues;Mt.hasHalo&&(ut.u_is_halo=1,yu(Mt.buffers,Qe.segments,p,g,Mt.program,Ue,q,re,ut)),ut.u_is_halo=0}yu(Mt.buffers,Qe.segments,p,g,Mt.program,Ue,q,re,Mt.uniformValues)}}function yu(g,a,p,b,D,S,O,N,V){const K=b.context,q=[g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer,g.globeExtVertexBuffer];D.draw(K,K.gl.TRIANGLES,S,O,N,u.CullFaceMode.disabled,V,p.id,g.layoutVertexBuffer,g.indexBuffer,a,p.paint,b.transform.zoom,g.programConfigurations.get(p.id),q)}function gf(g,a,p,b,D,S,O){const N=g.context.gl,V=p.paint.get("fill-pattern"),K=V&&V.constantOr(1);let q,re,he,ve,we;O?(re=K&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",q=N.LINES):(re=K?"fillPattern":"fill",q=N.TRIANGLES);for(const be of b){const De=a.getTile(be);if(K&&!De.patternsLoaded())continue;const oe=De.getBucket(p);if(!oe)continue;g.prepareDrawTile();const ye=oe.programConfigurations.get(p.id),Ce=g.useProgram(re,ye);K&&(g.context.activeTexture.set(N.TEXTURE0),De.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),ye.updatePaintBuffers());const Le=V.constantOr(null);if(Le&&De.imageAtlas){const Ye=De.imageAtlas.patternPositions[Le.toString()];Ye&&ye.setConstantPatternPositions(Ye)}const Ue=g.translatePosMatrix(be.projMatrix,De,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(O){ve=oe.indexBuffer2,we=oe.segments2;const Ye=g.terrain&&g.terrain.renderingToTexture?g.terrain.drapeBufferSize:[N.drawingBufferWidth,N.drawingBufferHeight];he="fillOutlinePattern"===re&&K?m_(Ue,g,De,Ye):p_(Ue,Ye)}else ve=oe.indexBuffer,we=oe.segments,he=K?jr(Ue,g,De):gl(Ue);g.prepareDrawProgram(g.context,Ce,be.toUnwrapped()),Ce.draw(g.context,q,D,g.stencilModeForClipping(be),S,u.CullFaceMode.disabled,he,p.id,oe.layoutVertexBuffer,ve,we,p.paint,g.transform.zoom,ye)}}function Ac(g,a,p,b,D,S,O){const N=g.context,V=N.gl,K=g.transform,q=p.paint.get("fill-extrusion-pattern"),re=q.constantOr(1),he=p.paint.get("fill-extrusion-opacity"),ve=[p.paint.get("fill-extrusion-ambient-occlusion-intensity"),p.paint.get("fill-extrusion-ambient-occlusion-radius")],we=p.layout.get("fill-extrusion-edge-radius"),be=we>0&&!p.paint.get("fill-extrusion-rounded-roof"),De=be?0:we,oe="globe"===K.projection.name?u.fillExtrusionHeightLift():0,ye="globe"===K.projection.name,Ce=ye?u.globeToMercatorTransition(K.zoom):0,Le=[u.mercatorXfromLng(K.center.lng),u.mercatorYfromLat(K.center.lat)],Ue=[];ye&&Ue.push("PROJECTION_GLOBE_VIEW"),ve[0]>0&&Ue.push("FAUX_AO"),be&&Ue.push("ZERO_ROOF_RADIUS");for(const Ye of b){const Ve=a.getTile(Ye),Xe=Ve.getBucket(p);if(!Xe||Xe.projection.name!==K.projection.name)continue;const Ze=Xe.programConfigurations.get(p.id),it=g.useProgram(re?"fillExtrusionPattern":"fillExtrusion",Ze,Ue);if(g.terrain){const bt=g.terrain;if(g.style.terrainSetForDrapingOnly())bt.setupElevationDraw(Ve,it,{useMeterToDem:!0});else{if(!Xe.enableTerrain)continue;if(bt.setupElevationDraw(Ve,it,{useMeterToDem:!0}),fd(N,a,Ye,Xe,p,bt),!Xe.centroidVertexBuffer){const $t=it.attributes.a_centroid_pos;void 0!==$t&&V.vertexAttrib2f($t,0,0)}}}re&&(g.context.activeTexture.set(V.TEXTURE0),Ve.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),Ze.updatePaintBuffers());const Rt=q.constantOr(null);if(Rt&&Ve.imageAtlas){const bt=Ve.imageAtlas.patternPositions[Rt.toString()];bt&&Ze.setConstantPatternPositions(bt)}const Qe=g.translatePosMatrix(Ye.projMatrix,Ve,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Mt=K.projection.createInversionMatrix(K,Ye.canonical),ut=p.paint.get("fill-extrusion-vertical-gradient"),Lt=re?kp(Qe,g,ut,he,ve,De,Ye,Ve,oe,Ce,Le,Mt):fu(Qe,g,ut,he,ve,De,Ye,oe,Ce,Le,Mt);g.prepareDrawProgram(N,it,Ye.toUnwrapped());const tt=[];g.terrain&&tt.push(Xe.centroidVertexBuffer),ye&&tt.push(Xe.layoutVertexExtBuffer),it.draw(N,N.gl.TRIANGLES,D,S,O,u.CullFaceMode.backCCW,Lt,p.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,p.paint,g.transform.zoom,Ze,tt)}}function fd(g,a,p,b,D,S){const O=[oe=>{let ye=oe.canonical.x-1,Ce=oe.wrap;return ye<0&&(ye=(1<<oe.canonical.z)-1,Ce--),new u.OverscaledTileID(oe.overscaledZ,Ce,oe.canonical.z,ye,oe.canonical.y)},oe=>{let ye=oe.canonical.x+1,Ce=oe.wrap;return ye===1<<oe.canonical.z&&(ye=0,Ce++),new u.OverscaledTileID(oe.overscaledZ,Ce,oe.canonical.z,ye,oe.canonical.y)},oe=>new u.OverscaledTileID(oe.overscaledZ,oe.wrap,oe.canonical.z,oe.canonical.x,(0===oe.canonical.y?1<<oe.canonical.z:oe.canonical.y)-1),oe=>new u.OverscaledTileID(oe.overscaledZ,oe.wrap,oe.canonical.z,oe.canonical.x,oe.canonical.y===(1<<oe.canonical.z)-1?0:oe.canonical.y+1)],N=oe=>{const ye=a.getSource().minzoom,Ce=Ue=>{const Ye=a.getTileByID(Ue);if(Ye&&Ye.hasData())return Ye.getBucket(D)},Le=[0,-1,1];for(const Ue of Le){if(oe.overscaledZ+Ue<ye)continue;const Ye=Ce(oe.calculateScaledKey(oe.overscaledZ+Ue));if(Ye)return Ye}},V=[0,0,0],K=(oe,ye)=>(V[0]=Math.min(oe.min.y,ye.min.y),V[1]=Math.max(oe.max.y,ye.max.y),V[2]=u.EXTENT-ye.min.x>oe.max.x?ye.min.x-u.EXTENT:oe.max.x,V),q=(oe,ye)=>(V[0]=Math.min(oe.min.x,ye.min.x),V[1]=Math.max(oe.max.x,ye.max.x),V[2]=u.EXTENT-ye.min.y>oe.max.y?ye.min.y-u.EXTENT:oe.max.y,V),re=[(oe,ye)=>K(oe,ye),(oe,ye)=>K(ye,oe),(oe,ye)=>q(oe,ye),(oe,ye)=>q(ye,oe)],he=new u.Point(0,0);let ve,we,be;const De=(oe,ye,Ce,Le,Ue)=>{const Ye=[[Le?Ce:oe,Le?oe:Ce,0],[Le?Ce:ye,Le?ye:Ce,0]],Ve=Ue<0?u.EXTENT+Ue:Ue,Xe=[Le?Ve:(oe+ye)/2,Le?(oe+ye)/2:Ve,0];return 0===Ce&&Ue<0||0!==Ce&&Ue>0?S.getForTilePoints(be,[Xe],!0,we):Ye.push(Xe),S.getForTilePoints(p,Ye,!0,ve),Math.max(Ye[0][2],Ye[1][2],Xe[2])/S.exaggeration()};for(let oe=0;oe<4;oe++){const ye=(oe<2?1:5)-oe,Ce=b.borders[oe];if(0===Ce.length)continue;const Le=be=O[oe](p),Ue=N(Le);if(!(Ue&&Ue instanceof u.FillExtrusionBucket&&Ue.enableTerrain)||b.borderDoneWithNeighborZ[oe]===Ue.canonical.z&&Ue.borderDoneWithNeighborZ[ye]===b.canonical.z||(we=S.findDEMTileFor(Le),!we||!we.dem))continue;if(!ve){const Ze=S.findDEMTileFor(p);if(!Ze||!Ze.dem)return;ve=Ze}const Ye=Ue.borders[ye];let Ve=0;const Xe=Ue.borderDoneWithNeighborZ[ye]!==b.canonical.z;if(b.canonical.z===Ue.canonical.z){for(let Ze=0;Ze<Ce.length;Ze++){const it=b.featuresOnBorder[Ce[Ze]],Rt=it.borders[oe];let Qe;for(;Ve<Ye.length&&(Qe=Ue.featuresOnBorder[Ye[Ve]],!(Qe.borders[ye][1]>Rt[0]+3));)Xe&&Ue.encodeCentroid(void 0,Qe,!1),Ve++;if(Qe&&Ve<Ye.length){const Mt=Ve;let ut=0;for(;!(Qe.borders[ye][0]>Rt[1]-3)&&(ut++,++Ve!==Ye.length);)Qe=Ue.featuresOnBorder[Ye[Ve]];if(Qe=Ue.featuresOnBorder[Ye[Mt]],it.intersectsCount()>1||Qe.intersectsCount()>1||1!==ut){1!==ut&&(Ve=Mt),b.encodeCentroid(void 0,it,!1),Xe&&Ue.encodeCentroid(void 0,Qe,!1);continue}const Lt=re[oe](it,Qe),tt=oe%2?u.EXTENT-1:0;he.x=De(Lt[0],Math.min(u.EXTENT-1,Lt[1]),tt,oe<2,Lt[2]),he.y=0,b.encodeCentroid(he,it,!1),Xe&&Ue.encodeCentroid(he,Qe,!1)}else b.encodeCentroid(void 0,it,!1)}b.borderDoneWithNeighborZ[oe]=Ue.canonical.z,b.needsCentroidUpdate=!0,Xe&&(Ue.borderDoneWithNeighborZ[ye]=b.canonical.z,Ue.needsCentroidUpdate=!0)}else{for(const Ze of Ce)b.encodeCentroid(void 0,b.featuresOnBorder[Ze],!1);if(Xe){for(const Ze of Ye)Ue.encodeCentroid(void 0,Ue.featuresOnBorder[Ze],!1);Ue.borderDoneWithNeighborZ[ye]=b.canonical.z,Ue.needsCentroidUpdate=!0}b.borderDoneWithNeighborZ[oe]=Ue.canonical.z,b.needsCentroidUpdate=!0}}(b.needsCentroidUpdate||!b.centroidVertexBuffer&&0!==b.centroidVertexArray.length)&&b.uploadCentroid(g)}const Gl=new u.Color(1,0,0,1),vu=new u.Color(0,1,0,1),yf=new u.Color(0,0,1,1),Op=new u.Color(1,0,1,1),g_=new u.Color(0,1,1,1);function oa(g,a,p){const b=g.context,D=g.transform,S=b.gl,O="globe"===D.projection.name,N=O?["PROJECTION_GLOBE_VIEW"]:null;let V=p.projMatrix;if(O&&u.globeToMercatorTransition(D.zoom)>0){const it=u.transitionTileAABBinECEF(p.canonical,D),Rt=u.globeDenormalizeECEF(it);V=u.multiply(new Float32Array(16),D.globeMatrix,Rt),u.multiply(V,D.projMatrix,V)}const K=g.useProgram("debug",null,N),q=a.getTileByID(p.key);g.terrain&&g.terrain.setupElevationDraw(q,K);const re=u.DepthMode.disabled,he=u.StencilMode.disabled,ve=g.colorModeForRenderPass();b.activeTexture.set(S.TEXTURE0),g.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),O?q._makeGlobeTileDebugBuffers(g.context,D):q._makeDebugTileBoundsBuffers(g.context,D.projection);const be=q._tileDebugBuffer||g.debugBuffer,De=q._tileDebugIndexBuffer||g.debugIndexBuffer,oe=q._tileDebugSegments||g.debugSegments;K.draw(b,S.LINE_STRIP,re,he,ve,u.CullFaceMode.disabled,xr(V,u.Color.red),"$debug",be,De,oe,null,null,null,[q._globeTileDebugBorderBuffer]);const ye=q.latestRawTileData,Ce=Math.floor((ye&&ye.byteLength||0)/1024),Le=a.getTile(p).tileSize,Ue=512/Math.min(Le,512)*(p.overscaledZ/D.zoom)*.5;let Ye=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(Ye+=` => ${p.overscaledZ}`),Ye+=` ${Ce}kb`,function(it,Rt){it.initDebugOverlayCanvas();const Qe=it.debugOverlayCanvas,Mt=it.context.gl,ut=it.debugOverlayCanvas.getContext("2d");ut.clearRect(0,0,Qe.width,Qe.height),ut.shadowColor="white",ut.shadowBlur=2,ut.lineWidth=1.5,ut.strokeStyle="white",ut.textBaseline="top",ut.font="bold 36px Open Sans, sans-serif",ut.fillText(Rt,5,5),ut.strokeText(Rt,5,5),it.debugOverlayTexture.update(Qe),it.debugOverlayTexture.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE)}(g,Ye);const Ve=q._tileDebugTextBuffer||g.debugBuffer,Xe=q._tileDebugTextIndexBuffer||g.quadTriangleIndexBuffer,Ze=q._tileDebugTextSegments||g.debugSegments;K.draw(b,S.TRIANGLES,re,he,u.ColorMode.alphaBlended,u.CullFaceMode.disabled,xr(V,u.Color.transparent,Ue),"$debug",Ve,Xe,Ze,null,null,null,[q._globeTileDebugTextBuffer])}function Ga(g,a,p,b){Ic(g,0,a+p/2,g.transform.width,p,b)}function bu(g,a,p,b){Ic(g,a-p/2,0,p,g.transform.height,b)}function Ic(g,a,p,b,D,S){const O=g.context,N=O.gl;N.enable(N.SCISSOR_TEST),N.scissor(a*u.exported.devicePixelRatio,p*u.exported.devicePixelRatio,b*u.exported.devicePixelRatio,D*u.exported.devicePixelRatio),O.clear({color:S}),N.disable(N.SCISSOR_TEST)}const xu=u.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:pd}=xu;function Wa(g,a,p,b){g.emplaceBack(a,p,b)}class yl{constructor(a){this.vertexArray=new u.StructArrayLayout3f12,this.indices=new u.StructArrayLayout3ui6,Wa(this.vertexArray,-1,-1,1),Wa(this.vertexArray,1,-1,1),Wa(this.vertexArray,-1,1,1),Wa(this.vertexArray,1,1,1),Wa(this.vertexArray,-1,-1,-1),Wa(this.vertexArray,1,-1,-1),Wa(this.vertexArray,-1,1,-1),Wa(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=a.createVertexBuffer(this.vertexArray,pd),this.indexBuffer=a.createIndexBuffer(this.indices),this.segment=u.SegmentVector.simpleSegment(0,0,36,12)}}function fo(g,a,p,b,D,S){const O=g.gl,N=a.paint.get("sky-atmosphere-color"),V=a.paint.get("sky-atmosphere-halo-color"),K=a.paint.get("sky-atmosphere-sun-intensity"),q={u_matrix_3f:u.fromMat4(u.create$1(),b),u_sun_direction:D,u_sun_intensity:K,u_color_tint_r:[(we=N).r,we.g,we.b,we.a],u_color_tint_m:[(be=V).r,be.g,be.b,be.a],u_luminance:5e-5};var we,be;O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_CUBE_MAP_POSITIVE_X+S,a.skyboxTexture,0),p.draw(g,O.TRIANGLES,u.DepthMode.disabled,u.StencilMode.disabled,u.ColorMode.unblended,u.CullFaceMode.frontCW,q,"skyboxCapture",a.skyboxGeometry.vertexBuffer,a.skyboxGeometry.indexBuffer,a.skyboxGeometry.segment)}const Wl=u.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class wu{constructor(a){const p=new u.StructArrayLayout5f20;p.emplaceBack(-1,1,1,0,0),p.emplaceBack(1,1,1,1,0),p.emplaceBack(1,-1,1,1,1),p.emplaceBack(-1,-1,1,0,1);const b=new u.StructArrayLayout3ui6;b.emplaceBack(0,1,2),b.emplaceBack(2,3,0),this.vertexBuffer=a.createVertexBuffer(p,Wl.members),this.indexBuffer=a.createIndexBuffer(b),this.segments=u.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const po={symbol:function(g,a,p,b,D){if("translucent"!==g.renderPass)return;const S=u.StencilMode.disabled,O=g.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function(N,V,K,q,re,he,ve){const we=V.transform,be="map"===re,De="map"===he;for(const oe of N){const ye=q.getTile(oe),Ce=ye.getBucket(K);if(!Ce||!Ce.text||!Ce.text.segments.get().length)continue;const Le=u.evaluateSizeForZoom(Ce.textSizeData,we.zoom),Ue=Yi(oe,Ce.getProjection(),we),Ye=we.calculatePixelsToTileUnitsMatrix(ye),Ve=vt(Ue,ye.tileID.canonical,De,be,we,Ce.getProjection(),Ye),Xe="none"!==K.layout.get("icon-text-fit")&&Ce.hasIconData();if(Le){const Ze=Math.pow(2,we.zoom-ye.tileID.overscaledZ);oh(Ce,be,De,ve,u.symbolSize,we,Ve,oe,Ze,Le,Xe)}}}(b,g,p,a,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),D),0!==p.paint.get("icon-opacity").constantOr(1)&&gu(g,a,p,b,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),S,O),0!==p.paint.get("text-opacity").constantOr(1)&&gu(g,a,p,b,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),S,O),a.map.showCollisionBoxes&&(Yr(g,a,p,b,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),Yr(g,a,p,b,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))},circle:function(g,a,p,b){if("translucent"!==g.renderPass)return;const D=p.paint.get("circle-opacity"),S=p.paint.get("circle-stroke-width"),O=p.paint.get("circle-stroke-opacity"),N=void 0!==p.layout.get("circle-sort-key").constantOr(1);if(0===D.constantOr(1)&&(0===S.constantOr(1)||0===O.constantOr(1)))return;const V=g.context,K=V.gl,q=g.transform,re=g.depthModeForSublayer(0,u.DepthMode.ReadOnly),he=u.StencilMode.disabled,ve=g.colorModeForRenderPass(),we="globe"===q.projection.name,be=[u.mercatorXfromLng(q.center.lng),u.mercatorYfromLat(q.center.lat)],De=[];for(let ye=0;ye<b.length;ye++){const Ce=b[ye],Le=a.getTile(Ce),Ue=Le.getBucket(p);if(!Ue||Ue.projection.name!==q.projection.name)continue;const Ye=Ue.programConfigurations.get(p.id),Ve=pf(p);we&&Ve.push("PROJECTION_GLOBE_VIEW");const Xe=g.useProgram("circle",Ye,Ve),Ze=Ue.layoutVertexBuffer,it=Ue.globeExtVertexBuffer,Rt=Ue.indexBuffer,Qe=q.projection.createInversionMatrix(q,Ce.canonical),Mt={programConfiguration:Ye,program:Xe,layoutVertexBuffer:Ze,globeExtVertexBuffer:it,indexBuffer:Rt,uniformValues:nh(g,Ce,Le,Qe,be,p),tile:Le};if(N){const ut=Ue.segments.get();for(const Lt of ut)De.push({segments:new u.SegmentVector([Lt]),sortKey:Lt.sortKey,state:Mt})}else De.push({segments:Ue.segments,sortKey:0,state:Mt})}N&&De.sort((ye,Ce)=>ye.sortKey-Ce.sortKey);const oe={useDepthForOcclusion:!we};for(const ye of De){const{programConfiguration:Ce,program:Le,layoutVertexBuffer:Ue,globeExtVertexBuffer:Ye,indexBuffer:Ve,uniformValues:Xe,tile:Ze}=ye.state,it=ye.segments;g.terrain&&g.terrain.setupElevationDraw(Ze,Le,oe),g.prepareDrawProgram(V,Le,Ze.tileID.toUnwrapped()),Le.draw(V,K.TRIANGLES,re,he,ve,u.CullFaceMode.disabled,Xe,p.id,Ue,Ve,it,p.paint,q.zoom,Ce,[Ye])}},heatmap:function(g,a,p,b){if(0!==p.paint.get("heatmap-opacity"))if("offscreen"===g.renderPass){const D=g.context,S=D.gl,O=u.StencilMode.disabled,N=new u.ColorMode([S.ONE,S.ONE],u.Color.transparent,[!0,!0,!0,!0]);(function(ve,we,be,De){const oe=ve.gl,ye=we.width*De,Ce=we.height*De;ve.activeTexture.set(oe.TEXTURE1),ve.viewport.set([0,0,ye,Ce]);let Le=be.heatmapFbo;if(!Le||Le&&(Le.width!==ye||Le.height!==Ce)){Le&&Le.destroy();const Ue=oe.createTexture();oe.bindTexture(oe.TEXTURE_2D,Ue),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MAG_FILTER,oe.LINEAR),Le=be.heatmapFbo=ve.createFramebuffer(ye,Ce,!1),function(Ye,Ve,Xe,Ze,it,Rt){const Qe=Ye.gl;Qe.texImage2D(Qe.TEXTURE_2D,0,Ye.isWebGL2&&Ye.extRenderToTextureHalfFloat?Qe.RGBA16F:Qe.RGBA,it,Rt,0,Qe.RGBA,Ye.extRenderToTextureHalfFloat?Ye.isWebGL2?Qe.HALF_FLOAT:Ye.extTextureHalfFloat.HALF_FLOAT_OES:Qe.UNSIGNED_BYTE,null),Ze.colorAttachment.set(Xe)}(ve,0,Ue,Le,ye,Ce)}else oe.bindTexture(oe.TEXTURE_2D,Le.colorAttachment.get()),ve.bindFramebuffer.set(Le.framebuffer)})(D,g,p,"globe"===g.transform.projection.name?.5:.25),D.clear({color:u.Color.transparent});const V=g.transform,K="globe"===V.projection.name,q=K?["PROJECTION_GLOBE_VIEW"]:null,re=K?u.CullFaceMode.frontCCW:u.CullFaceMode.disabled,he=[u.mercatorXfromLng(V.center.lng),u.mercatorYfromLat(V.center.lat)];for(let ve=0;ve<b.length;ve++){const we=b[ve];if(a.hasRenderableParent(we))continue;const be=a.getTile(we),De=be.getBucket(p);if(!De||De.projection.name!==V.projection.name)continue;const oe=De.programConfigurations.get(p.id),ye=g.useProgram("heatmap",oe,q),{zoom:Ce}=g.transform;g.terrain&&g.terrain.setupElevationDraw(be,ye),g.prepareDrawProgram(D,ye,we.toUnwrapped());const Le=V.projection.createInversionMatrix(V,we.canonical);ye.draw(D,S.TRIANGLES,u.DepthMode.disabled,O,N,re,rh(g,we,be,Le,he,Ce,p.paint.get("heatmap-intensity")),p.id,De.layoutVertexBuffer,De.indexBuffer,De.segments,p.paint,g.transform.zoom,oe,K?[De.globeExtVertexBuffer]:null)}D.viewport.set([0,0,g.width,g.height])}else"translucent"===g.renderPass&&(g.context.setColorMode(g.colorModeForRenderPass()),function(D,S){const O=D.context,N=O.gl,V=S.heatmapFbo;if(!V)return;O.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,V.colorAttachment.get()),O.activeTexture.set(N.TEXTURE1);let K=S.colorRampTexture;K||(K=S.colorRampTexture=new u.Texture(O,S.colorRamp,N.RGBA)),K.bind(N.LINEAR,N.CLAMP_TO_EDGE),D.useProgram("heatmapTexture").draw(O,N.TRIANGLES,u.DepthMode.disabled,u.StencilMode.disabled,D.colorModeForRenderPass(),u.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:S.paint.get("heatmap-opacity")},S.id,D.viewportBuffer,D.quadTriangleIndexBuffer,D.viewportSegments,S.paint,D.transform.zoom)}(g,p))},line:function(g,a,p,b){if("translucent"!==g.renderPass)return;const D=p.paint.get("line-opacity"),S=p.paint.get("line-width");if(0===D.constantOr(1)||0===S.constantOr(1))return;const O=g.depthModeForSublayer(0,u.DepthMode.ReadOnly),N=g.colorModeForRenderPass(),V=g.terrain&&g.terrain.renderingToTexture?1:u.exported.devicePixelRatio,K=p.paint.get("line-dasharray"),q=K.constantOr(1),re=p.layout.get("line-cap"),he=p.paint.get("line-pattern"),ve=he.constantOr(1),we=p.paint.get("line-gradient"),be=ve?"linePattern":"line",De=g.context,oe=De.gl,ye=(Le=>{const Ue=[];ra(Le)&&Ue.push("RENDER_LINE_DASH"),Le.paint.get("line-gradient")&&Ue.push("RENDER_LINE_GRADIENT");const Ye=Le.paint.get("line-trim-offset");0===Ye[0]&&0===Ye[1]||Ue.push("RENDER_LINE_TRIM_OFFSET");const Ve=Le.paint.get("line-pattern").constantOr(1),Xe=1!==Le.paint.get("line-opacity").constantOr(1);return!Ve&&Xe&&Ue.push("RENDER_LINE_ALPHA_DISCARD"),Ue})(p);let Ce=ye.includes("RENDER_LINE_ALPHA_DISCARD");g.terrain&&g.terrain.clipOrMaskOverlapStencilType()&&(Ce=!1);for(const Le of b){const Ue=a.getTile(Le);if(ve&&!Ue.patternsLoaded())continue;const Ye=Ue.getBucket(p);if(!Ye)continue;g.prepareDrawTile();const Ve=Ye.programConfigurations.get(p.id),Xe=g.useProgram(be,Ve,ye),Ze=he.constantOr(null);if(Ze&&Ue.imageAtlas){const bt=Ue.imageAtlas.patternPositions[Ze.toString()];bt&&Ve.setConstantPatternPositions(bt)}const it=K.constantOr(null),Rt=re.constantOr(null);if(!ve&&it&&Rt&&Ue.lineAtlas){const bt=Ue.lineAtlas.getDash(it,Rt);bt&&Ve.setConstantPatternPositions(bt)}let[Qe,Mt]=p.paint.get("line-trim-offset");("round"===Rt||"square"===Rt)&&Qe!==Mt&&(0===Qe&&(Qe-=1),1===Mt&&(Mt+=1));const ut=g.terrain?Le.projMatrix:null,Lt=ve?hd(g,Ue,p,ut,V):Pp(g,Ue,p,ut,Ye.lineClipsArray.length,V,[Qe,Mt]);if(we){const bt=Ye.gradients[p.id];let $t=bt.texture;if(p.gradientVersion!==bt.version){let Dt=256;if(p.stepInterpolant){const Ct=a.getSource().maxzoom,wn=Le.canonical.z===Ct?Math.ceil(1<<g.transform.maxZoom-Le.canonical.z):1;Dt=u.clamp(u.nextPowerOfTwo(Ye.maxLineLength/u.EXTENT*1024*wn),256,De.maxTextureSize)}bt.gradient=u.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:Dt,image:bt.gradient||void 0,clips:Ye.lineClipsArray}),bt.texture?bt.texture.update(bt.gradient):bt.texture=new u.Texture(De,bt.gradient,oe.RGBA),bt.version=p.gradientVersion,$t=bt.texture}De.activeTexture.set(oe.TEXTURE1),$t.bind(p.stepInterpolant?oe.NEAREST:oe.LINEAR,oe.CLAMP_TO_EDGE)}q&&(De.activeTexture.set(oe.TEXTURE0),Ue.lineAtlasTexture.bind(oe.LINEAR,oe.REPEAT),Ve.updatePaintBuffers()),ve&&(De.activeTexture.set(oe.TEXTURE0),Ue.imageAtlasTexture.bind(oe.LINEAR,oe.CLAMP_TO_EDGE),Ve.updatePaintBuffers()),g.prepareDrawProgram(De,Xe,Le.toUnwrapped());const tt=bt=>{Xe.draw(De,oe.TRIANGLES,O,bt,N,u.CullFaceMode.disabled,Lt,p.id,Ye.layoutVertexBuffer,Ye.indexBuffer,Ye.segments,p.paint,g.transform.zoom,Ve,[Ye.layoutVertexBuffer2])};if(Ce){const bt=g.stencilModeForClipping(Le).ref;0===bt&&g.terrain&&De.clear({stencil:0});const $t={func:oe.EQUAL,mask:255};Lt.u_alpha_discard_threshold=.8,tt(new u.StencilMode($t,bt,255,oe.KEEP,oe.KEEP,oe.INVERT)),Lt.u_alpha_discard_threshold=0,tt(new u.StencilMode($t,bt,255,oe.KEEP,oe.KEEP,oe.KEEP))}else tt(g.stencilModeForClipping(Le))}Ce&&(g.resetStencilClippingMasks(),g.terrain&&De.clear({stencil:0}))},fill:function(g,a,p,b){const D=p.paint.get("fill-color"),S=p.paint.get("fill-opacity");if(0===S.constantOr(1))return;const O=g.colorModeForRenderPass(),N=p.paint.get("fill-pattern"),V=g.opaquePassEnabledForLayer()&&!N.constantOr(1)&&1===D.constantOr(u.Color.transparent).a&&1===S.constantOr(0)?"opaque":"translucent";if(g.renderPass===V){const K=g.depthModeForSublayer(1,"opaque"===g.renderPass?u.DepthMode.ReadWrite:u.DepthMode.ReadOnly);gf(g,a,p,b,K,O,!1)}if("translucent"===g.renderPass&&p.paint.get("fill-antialias")){const K=g.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,u.DepthMode.ReadOnly);gf(g,a,p,b,K,O,!0)}},"fill-extrusion":function(g,a,p,b){const D=p.paint.get("fill-extrusion-opacity");if(0!==D&&"translucent"===g.renderPass){const S=new u.DepthMode(g.context.gl.LEQUAL,u.DepthMode.ReadWrite,g.depthRangeFor3D);if(1!==D||p.paint.get("fill-extrusion-pattern").constantOr(1))Ac(g,a,p,b,S,u.StencilMode.disabled,u.ColorMode.disabled),Ac(g,a,p,b,S,g.stencilModeFor3D(),g.colorModeForRenderPass()),g.resetStencilClippingMasks();else{const O=g.colorModeForRenderPass();Ac(g,a,p,b,S,u.StencilMode.disabled,O)}}},hillshade:function(g,a,p,b){if("offscreen"!==g.renderPass&&"translucent"!==g.renderPass)return;const D=g.context,S=g.depthModeForSublayer(0,u.DepthMode.ReadOnly),O=g.colorModeForRenderPass(),N=g.terrain&&g.terrain.renderingToTexture,[V,K]="translucent"!==g.renderPass||N?[{},b]:g.stencilConfigForOverlap(b);for(const q of K){const re=a.getTile(q);if(re.needsHillshadePrepare&&"offscreen"===g.renderPass)Tc(g,re,p,S,u.StencilMode.disabled,O);else if("translucent"===g.renderPass){const he=N&&g.terrain?g.terrain.stencilModeForRTTOverlap(q):V[q.overscaledZ];ud(g,q,re,p,S,he,O)}}D.viewport.set([0,0,g.width,g.height]),g.resetStencilClippingMasks()},raster:function(g,a,p,b,D,S){if("translucent"!==g.renderPass||0===p.paint.get("raster-opacity")||!b.length)return;const O=g.context,N=O.gl,V=a.getSource(),K=g.useProgram("raster"),q=g.colorModeForRenderPass(),re=g.terrain&&g.terrain.renderingToTexture,[he,ve]=V instanceof Un||re?[{},b]:g.stencilConfigForOverlap(b),we=ve[ve.length-1].overscaledZ,be=!g.options.moving;for(const De of ve){const oe=re?u.DepthMode.disabled:g.depthModeForSublayer(De.overscaledZ-we,1===p.paint.get("raster-opacity")?u.DepthMode.ReadWrite:u.DepthMode.ReadOnly,N.LESS),ye=De.toUnwrapped(),Ce=a.getTile(De);if(re&&(!Ce||!Ce.hasData()))continue;const Le=re?De.projMatrix:g.transform.calculateProjMatrix(ye,be),Ue=g.terrain&&re?g.terrain.stencilModeForRTTOverlap(De):he[De.overscaledZ],Ye=S?0:p.paint.get("raster-fade-duration");Ce.registerFadeDuration(Ye);const Ve=a.findLoadedParent(De,0),Xe=Co(Ce,Ve,a,g.transform,Ye);let Ze,it;g.terrain&&g.terrain.prepareDrawTile();const Rt="nearest"===p.paint.get("raster-resampling")?N.NEAREST:N.LINEAR;O.activeTexture.set(N.TEXTURE0),Ce.texture.bind(Rt,N.CLAMP_TO_EDGE),O.activeTexture.set(N.TEXTURE1),Ve?(Ve.texture.bind(Rt,N.CLAMP_TO_EDGE),Ze=Math.pow(2,Ve.tileID.overscaledZ-Ce.tileID.overscaledZ),it=[Ce.tileID.canonical.x*Ze%1,Ce.tileID.canonical.y*Ze%1]):Ce.texture.bind(Rt,N.CLAMP_TO_EDGE),Ce.texture.useMipmap&&O.extTextureFilterAnisotropic&&g.transform.pitch>20&&N.texParameterf(N.TEXTURE_2D,O.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,O.extTextureFilterAnisotropicMax);const Qe=pu(Le,it||[0,0],Ze||1,Xe,p,V instanceof Un?V.perspectiveTransform:[0,0]);if(g.prepareDrawProgram(O,K,ye),V instanceof Un)V.boundsBuffer&&V.boundsSegments&&K.draw(O,N.TRIANGLES,oe,u.StencilMode.disabled,q,u.CullFaceMode.disabled,Qe,p.id,V.boundsBuffer,g.quadTriangleIndexBuffer,V.boundsSegments);else{const{tileBoundsBuffer:Mt,tileBoundsIndexBuffer:ut,tileBoundsSegments:Lt}=g.getTileBoundsBuffers(Ce);K.draw(O,N.TRIANGLES,oe,Ue,q,u.CullFaceMode.disabled,Qe,p.id,Mt,ut,Lt)}}g.resetStencilClippingMasks()},background:function(g,a,p,b){const D=p.paint.get("background-color"),S=p.paint.get("background-opacity");if(0===S)return;const O=g.context,N=O.gl,V=g.transform,K=V.tileSize,q=p.paint.get("background-pattern");if(g.isPatternMissing(q))return;const re=!q&&1===D.a&&1===S&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass!==re)return;const he=u.StencilMode.disabled,ve=g.depthModeForSublayer(0,"opaque"===re?u.DepthMode.ReadWrite:u.DepthMode.ReadOnly),we=g.colorModeForRenderPass(),be=g.useProgram(q?"backgroundPattern":"background");let De,oe=b;oe||(De=g.getBackgroundTiles(),oe=Object.values(De).map(ye=>ye.tileID)),q&&(O.activeTexture.set(N.TEXTURE0),g.imageManager.bind(g.context));for(const ye of oe){const Ce=ye.toUnwrapped(),Le=b?ye.projMatrix:g.transform.calculateProjMatrix(Ce);g.prepareDrawTile();const Ue=a?a.getTile(ye):De?De[ye.key]:new u.Tile(ye,K,V.zoom,g),Ye=q?_f(Le,S,g,q,{tileID:ye,tileSize:K}):mf(Le,S,D);g.prepareDrawProgram(O,be,Ce);const{tileBoundsBuffer:Ve,tileBoundsIndexBuffer:Xe,tileBoundsSegments:Ze}=g.getTileBoundsBuffers(Ue);be.draw(O,N.TRIANGLES,ve,he,we,u.CullFaceMode.disabled,Ye,p.id,Ve,Xe,Ze)}},sky:function(g,a,p){const b=g.transform,D="mercator"===b.projection.name||"globe"===b.projection.name?1:u.smoothstep(7,8,b.zoom),S=p.paint.get("sky-opacity")*D;if(0===S)return;const O=g.context,N=p.paint.get("sky-type"),V=new u.DepthMode(O.gl.LEQUAL,u.DepthMode.ReadOnly,[0,1]),K=g.frameCounter/1e3%1;"atmosphere"===N?"offscreen"===g.renderPass?p.needsSkyboxCapture(g)&&(function(q,re,he,ve){const we=q.context,be=we.gl;let De=re.skyboxFbo;if(!De){De=re.skyboxFbo=we.createFramebuffer(32,32,!1),re.skyboxGeometry=new yl(we),re.skyboxTexture=we.gl.createTexture(),be.bindTexture(be.TEXTURE_CUBE_MAP,re.skyboxTexture),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_WRAP_S,be.CLAMP_TO_EDGE),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_WRAP_T,be.CLAMP_TO_EDGE),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_MIN_FILTER,be.LINEAR),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_MAG_FILTER,be.LINEAR);for(let Le=0;Le<6;++Le)be.texImage2D(be.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,be.RGBA,32,32,0,be.RGBA,be.UNSIGNED_BYTE,null)}we.bindFramebuffer.set(De.framebuffer),we.viewport.set([0,0,32,32]);const oe=re.getCenter(q,!0),ye=q.useProgram("skyboxCapture"),Ce=new Float64Array(16);u.identity(Ce),u.rotateY(Ce,Ce,.5*-Math.PI),fo(we,re,ye,Ce,oe,0),u.identity(Ce),u.rotateY(Ce,Ce,.5*Math.PI),fo(we,re,ye,Ce,oe,1),u.identity(Ce),u.rotateX(Ce,Ce,.5*-Math.PI),fo(we,re,ye,Ce,oe,2),u.identity(Ce),u.rotateX(Ce,Ce,.5*Math.PI),fo(we,re,ye,Ce,oe,3),u.identity(Ce),fo(we,re,ye,Ce,oe,4),u.identity(Ce),u.rotateY(Ce,Ce,Math.PI),fo(we,re,ye,Ce,oe,5),we.viewport.set([0,0,q.width,q.height])}(g,p),p.markSkyboxValid(g)):"sky"===g.renderPass&&function(q,re,he,ve,we){const be=q.context,De=be.gl,oe=q.transform,ye=q.useProgram("skybox");be.activeTexture.set(De.TEXTURE0),De.bindTexture(De.TEXTURE_CUBE_MAP,re.skyboxTexture);const Ce={u_matrix:oe.skyboxMatrix,u_sun_direction:re.getCenter(q,!1),u_cubemap:0,u_opacity:ve,u_temporal_offset:we};q.prepareDrawProgram(be,ye),ye.draw(be,De.TRIANGLES,he,u.StencilMode.disabled,q.colorModeForRenderPass(),u.CullFaceMode.backCW,Ce,"skybox",re.skyboxGeometry.vertexBuffer,re.skyboxGeometry.indexBuffer,re.skyboxGeometry.segment)}(g,p,V,S,K):"gradient"===N&&"sky"===g.renderPass&&function(q,re,he,ve,we){const be=q.context,De=be.gl,oe=q.transform,ye=q.useProgram("skyboxGradient");re.skyboxGeometry||(re.skyboxGeometry=new yl(be)),be.activeTexture.set(De.TEXTURE0);let Ce=re.colorRampTexture;Ce||(Ce=re.colorRampTexture=new u.Texture(be,re.colorRamp,De.RGBA)),Ce.bind(De.LINEAR,De.CLAMP_TO_EDGE);const Le=(Ue=oe.skyboxMatrix,Ye=re.getCenter(q,!1),Ve=re.paint.get("sky-gradient-radius"),Xe=ve,Ze=we,{u_matrix:Ue,u_color_ramp:0,u_center_direction:Ye,u_radius:u.degToRad(Ve),u_opacity:Xe,u_temporal_offset:Ze});var Ue,Ye,Ve,Xe,Ze;q.prepareDrawProgram(be,ye),ye.draw(be,De.TRIANGLES,he,u.StencilMode.disabled,q.colorModeForRenderPass(),u.CullFaceMode.backCW,Le,"skyboxGradient",re.skyboxGeometry.vertexBuffer,re.skyboxGeometry.indexBuffer,re.skyboxGeometry.segment)}(g,p,V,S,K)},debug:function(g,a,p){for(let b=0;b<p.length;b++)oa(g,a,p[b])},custom:function(g,a,p,b){const D=g.context,S=p.implementation;if(!g.transform.projection.unsupportedLayers||!g.transform.projection.unsupportedLayers.includes("custom")||g.terrain&&(g.terrain.renderingToTexture||"offscreen"===g.renderPass)&&p.isLayerDraped()){if("offscreen"===g.renderPass){const O=S.prerender;if(O){if(g.setCustomLayerDefaults(),D.setColorMode(g.colorModeForRenderPass()),"globe"===g.transform.projection.name){const N=g.transform.pointMerc;O.call(S,D.gl,g.transform.customLayerMatrix(),g.transform.getProjection(),g.transform.globeToMercatorMatrix(),u.globeToMercatorTransition(g.transform.zoom),[N.x,N.y],g.transform.pixelsPerMeterRatio)}else O.call(S,D.gl,g.transform.customLayerMatrix());D.setDirty(),g.setBaseState()}}else if("translucent"===g.renderPass){if(g.terrain&&g.terrain.renderingToTexture){const N=S.renderToTile;if(N){const V=b[0].canonical,K=new u.MercatorCoordinate(V.x+b[0].wrap*(1<<V.z),V.y,V.z);D.setDepthMode(u.DepthMode.disabled),D.setStencilMode(u.StencilMode.disabled),D.setColorMode(g.colorModeForRenderPass()),g.setCustomLayerDefaults(),N.call(S,D.gl,K),D.setDirty(),g.setBaseState()}return}g.setCustomLayerDefaults(),D.setColorMode(g.colorModeForRenderPass()),D.setStencilMode(u.StencilMode.disabled);const O="3d"===S.renderingMode?new u.DepthMode(g.context.gl.LEQUAL,u.DepthMode.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,u.DepthMode.ReadOnly);if(D.setDepthMode(O),"globe"===g.transform.projection.name){const N=g.transform.pointMerc;S.render(D.gl,g.transform.customLayerMatrix(),g.transform.getProjection(),g.transform.globeToMercatorMatrix(),u.globeToMercatorTransition(g.transform.zoom),[N.x,N.y],g.transform.pixelsPerMeterRatio)}else S.render(D.gl,g.transform.customLayerMatrix());D.setDirty(),g.setBaseState(),D.bindFramebuffer.set(null)}}else u.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Zl{constructor(a,p,b=!1){this.context=new qt(a,b),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=u.SourceCache.maxUnderzooming+u.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(a,p){const b=!!a&&!!a.terrain&&this.transform.projection.supportsTerrain;if(!(b||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new th(this,a));const D=this._terrain;this.transform.elevation=b?D:null,D.update(a,this.transform,p)}_updateFog(a){const p=a.fog;if(!p||"globe"===this.transform.projection.name||p.getOpacity(this.transform.pitch)<1||p.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[b,D]=p.getFovAdjustedRange(this.transform._fov);if(b>D)return void(this.transform.fogCullDistSq=null);const S=b+.78*(D-b);this.transform.fogCullDistSq=S*S}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(a,p){if(this.width=a*u.exported.devicePixelRatio,this.height=p*u.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const b of this.style.order)this.style._layers[b].resize()}setup(){const a=this.context,p=new u.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(u.EXTENT,0),p.emplaceBack(0,u.EXTENT),p.emplaceBack(u.EXTENT,u.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(p,u.posAttributes.members),this.tileExtentSegments=u.SegmentVector.simpleSegment(0,0,4,2);const b=new u.StructArrayLayout2i4;b.emplaceBack(0,0),b.emplaceBack(u.EXTENT,0),b.emplaceBack(0,u.EXTENT),b.emplaceBack(u.EXTENT,u.EXTENT),this.debugBuffer=a.createVertexBuffer(b,u.posAttributes.members),this.debugSegments=u.SegmentVector.simpleSegment(0,0,4,5);const D=new u.StructArrayLayout2i4;D.emplaceBack(-1,-1),D.emplaceBack(1,-1),D.emplaceBack(-1,1),D.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(D,u.posAttributes.members),this.viewportSegments=u.SegmentVector.simpleSegment(0,0,4,2);const S=new u.StructArrayLayout4i8;S.emplaceBack(0,0,0,0),S.emplaceBack(u.EXTENT,0,u.EXTENT,0),S.emplaceBack(0,u.EXTENT,0,u.EXTENT),S.emplaceBack(u.EXTENT,u.EXTENT,u.EXTENT,u.EXTENT),this.mercatorBoundsBuffer=a.createVertexBuffer(S,u.boundsAttributes.members),this.mercatorBoundsSegments=u.SegmentVector.simpleSegment(0,0,4,2);const O=new u.StructArrayLayout3ui6;O.emplaceBack(0,1,2),O.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(O);const N=new u.StructArrayLayout1ui2;for(const K of[0,1,3,2,0])N.emplaceBack(K);this.debugIndexBuffer=a.createIndexBuffer(N),this.emptyTexture=new u.Texture(a,new u.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),a.gl.RGBA),this.identityMat=u.create();const V=this.context.gl;this.stencilClearMode=new u.StencilMode({func:V.ALWAYS,mask:0},0,255,V.ZERO,V.ZERO,V.ZERO),this.loadTimeStamps.push(u.window.performance.now()),this.atmosphereBuffer=new wu(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(a){return a._makeTileBoundsBuffers(this.context,this.transform.projection),a._tileBoundsBuffer?{tileBoundsBuffer:a._tileBoundsBuffer,tileBoundsIndexBuffer:a._tileBoundsIndexBuffer,tileBoundsSegments:a._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const a=this.context,p=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(a,p.TRIANGLES,u.DepthMode.disabled,this.stencilClearMode,u.ColorMode.disabled,u.CullFaceMode.disabled,_l(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(a,p,b){if(!p||this.currentStencilSource===p.id||!a.isTileClipped()||!b||0===b.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let N=!1;for(const V of b)if(void 0===this._tileClippingMaskIDs[V.key]){N=!0;break}if(!N)return}this.currentStencilSource=p.id;const D=this.context,S=D.gl;this.nextStencilID+b.length>256&&this.clearStencil(),D.setColorMode(u.ColorMode.disabled),D.setDepthMode(u.DepthMode.disabled);const O=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const N of b){const V=p.getTile(N),K=this._tileClippingMaskIDs[N.key]=this.nextStencilID++,{tileBoundsBuffer:q,tileBoundsIndexBuffer:re,tileBoundsSegments:he}=this.getTileBoundsBuffers(V);O.draw(D,S.TRIANGLES,u.DepthMode.disabled,new u.StencilMode({func:S.ALWAYS,mask:0},K,255,S.KEEP,S.KEEP,S.REPLACE),u.ColorMode.disabled,u.CullFaceMode.disabled,_l(N.projMatrix),"$clipping",q,re,he)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,p=this.context.gl;return new u.StencilMode({func:p.NOTEQUAL,mask:255},a,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(a){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(a);const p=this.context.gl;return new u.StencilMode({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(a){const p=this.context.gl,b=a.sort((O,N)=>N.overscaledZ-O.overscaledZ),D=b[b.length-1].overscaledZ,S=b[0].overscaledZ-D+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const O={};for(let N=0;N<S;N++)O[N+D]=new u.StencilMode({func:p.GEQUAL,mask:255},N+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=S,[O,b]}return[{[D]:u.StencilMode.disabled},b]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new u.ColorMode([a.CONSTANT_COLOR,a.ONE],new u.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?u.ColorMode.unblended:u.ColorMode.alphaBlended}depthModeForSublayer(a,p,b){if(!this.opaquePassEnabledForLayer())return u.DepthMode.disabled;const D=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new u.DepthMode(b||this.context.gl.LEQUAL,p,[D,D])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,p){this.style=a,this.options=p,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(u.exported.now()),this.imageManager.beginFrame();const b=this.style.order,D=this.style._sourceCaches;for(const K in D){const q=D[K];q.used&&q.prepare(this.context)}const S={},O={},N={};for(const K in D){const q=D[K];S[K]=q.getVisibleCoordinates(),O[K]=S[K].slice().reverse(),N[K]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let K=0;K<b.length;K++)if(this.style._layers[b[K]].is3D()){this.opaquePassCutoff=K;break}if(this.terrain&&(this.terrain.updateTileBinding(N),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new u.GlobeSharedBuffers(this.context)),!u.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const K of b){const q=this.style._layers[K],re=a._getLayerSourceCache(q);if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const he=re?O[re.id]:void 0;("custom"===q.type||q.isSky()||he&&he.length)&&this.renderLayer(this,re,q,he)}this.depthRangeFor3D=[0,1-(a.order.length+2)*this.numSublayers*this.depthEpsilon];const V=this.terrain;if(V&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&V.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:p.showOverdrawInspector?u.Color.black:u.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const K=this.style._layers[b[this.currentLayer]],q=a._getLayerSourceCache(K);if(K.isSky())continue;const re=q?O[q.id]:void 0;this._renderTileClippingMasks(K,q,re),this.renderLayer(this,q,K,re)}if(this.style.fog&&this.transform.projection.supportsFog&&function(K,q){const re=K.context,he=re.gl,ve=K.transform,we=new u.DepthMode(he.LEQUAL,u.DepthMode.ReadOnly,[0,1]),be=K.useProgram("globeAtmosphere",null,"globe"===ve.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),De=u.globeToMercatorTransition(ve.zoom),oe=q.properties.get("color").toArray01(),ye=q.properties.get("high-color").toArray01(),Ce=q.properties.get("space-color").toArray01PremultipliedAlpha(),Le=u.identity$1([]);u.rotateY$1(Le,Le,-u.degToRad(ve._center.lng)),u.rotateX$1(Le,Le,u.degToRad(ve._center.lat)),u.rotateZ$1(Le,Le,ve.angle),u.rotateX$1(Le,Le,-ve._pitch);const Ue=u.fromQuat(new Float32Array(16),Le),Ye=u.mapValue(q.properties.get("star-intensity"),0,1,0,.25),Xe=u.mapValue(q.properties.get("horizon-blend"),0,1,5e-4,.25),Ze=u.globeUseCustomAntiAliasing(K,re,ve)&&5e-4===Xe?ve.worldSize/(2*Math.PI*1.025)-1:ve.globeRadius,it=K.frameCounter/1e3%1,Rt=u.length(ve.globeCenterInViewSpace),Qe=Math.sqrt(Math.pow(Rt,2)-Math.pow(Ze,2)),Mt=Math.acos(Qe/Rt),ut={u_frustum_tl:ve.frustumCorners.TL,u_frustum_tr:ve.frustumCorners.TR,u_frustum_br:ve.frustumCorners.BR,u_frustum_bl:ve.frustumCorners.BL,u_horizon:ve.frustumCorners.horizon,u_transition:De,u_fadeout_range:Xe,u_color:oe,u_high_color:ye,u_space_color:Ce,u_star_intensity:Ye,u_star_size:5*u.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:it,u_horizon_angle:Mt,u_rotation_matrix:Ue};K.prepareDrawProgram(re,be);const Lt=K.atmosphereBuffer;Lt&&be.draw(re,he.TRIANGLES,we,u.StencilMode.disabled,u.ColorMode.alphaBlended,u.CullFaceMode.backCW,ut,"skybox",Lt.vertexBuffer,Lt.indexBuffer,Lt.segments)}(this,this.style.fog),this.renderPass="sky",(u.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const K=this.style._layers[b[this.currentLayer]],q=a._getLayerSourceCache(K);K.isSky()&&this.renderLayer(this,q,K,q?O[q.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<b.length;){const K=this.style._layers[b[this.currentLayer]],q=a._getLayerSourceCache(K);if(K.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(K)){if(K.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const re=q?("symbol"===K.type?N:O)[q.id]:void 0;this._renderTileClippingMasks(K,q,q?S[q.id]:void 0),this.renderLayer(this,q,K,re),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let K=null;u.values(this.style._layers).forEach(q=>{const re=a._getLayerSourceCache(q);re&&!q.isHidden(this.transform.zoom)&&(!K||K.getSource().maxzoom<re.getSource().maxzoom)&&(K=re)}),K&&this.options.showTileBoundaries&&po.debug(this,K,K.getVisibleCoordinates())}this.options.showPadding&&function(K){const q=K.transform.padding;Ga(K,K.transform.height-(q.top||0),3,Gl),Ga(K,q.bottom||0,3,vu),bu(K,q.left||0,3,yf),bu(K,K.transform.width-(q.right||0),3,Op);const re=K.transform.centerPoint;var he,ve,we,be;Ic(he=K,(ve=re.x)-1,(we=K.transform.height-re.y)-10,2,20,be=g_),Ic(he,ve-10,we-1,20,2,be)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(u.window.performance.now()),this.saveCanvasCopy())}renderLayer(a,p,b,D){b.isHidden(this.transform.zoom)||("background"===b.type||"sky"===b.type||"custom"===b.type||D&&D.length)&&(this.id=b.id,this.gpuTimingStart(b),(!a.transform.projection.unsupportedLayers||!a.transform.projection.unsupportedLayers.includes(b.type)||a.terrain&&"custom"===b.type)&&po[b.type](a,p,b,D,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const p=this.context.extTimerQuery;let b=this.gpuTimers[a.id];b||(b=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),b.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,b.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const a=this.context.extTimerQuery,p=a.createQueryEXT();this.deferredRenderGpuTimeQueries.push(p),a.beginQueryEXT(a.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}collectDeferredRenderGpuQueries(){const a=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],a}queryGpuTimers(a){const p={};for(const b in a){const D=a[b],S=this.context.extTimerQuery,O=S.getQueryObjectEXT(D.query,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(D.query),p[b]=O}return p}queryGpuTimeDeferredRender(a){if(!this.options.gpuTimingDeferredRender)return 0;const p=this.context.extTimerQuery;let b=0;for(const D of a)b+=p.getQueryObjectEXT(D,p.QUERY_RESULT_EXT)/1e6,p.deleteQueryEXT(D);return b}translatePosMatrix(a,p,b,D,S){if(!b[0]&&!b[1])return a;const O=S?"map"===D?this.transform.angle:0:"viewport"===D?-this.transform.angle:0;if(O){const K=Math.sin(O),q=Math.cos(O);b=[b[0]*q-b[1]*K,b[0]*K+b[1]*q]}const N=[S?b[0]:Mr(p,b[0],this.transform.zoom),S?b[1]:Mr(p,b[1],this.transform.zoom),0],V=new Float32Array(16);return u.translate(V,a,N),V}saveTileTexture(a){const p=this._tileTextures[a.size[0]];p?p.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const p=this._tileTextures[a];return p&&p.length>0?p.pop():null}isPatternMissing(a){return null===a||void 0!==a&&!this.imageManager.getPattern(a.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const a=this.terrain&&this.terrain.renderingToTexture,p=this.terrain&&0===this.terrain.exaggeration(),b=this.style&&this.style.fog,D=[];return this.terrainRenderModeElevated()&&D.push("TERRAIN"),"globe"===this.transform.projection.name&&D.push("GLOBE"),p&&D.push("ZERO_EXAGGERATION"),b&&!a&&0!==b.getOpacity(this.transform.pitch)&&D.push("FOG"),a&&D.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&D.push("OVERDRAW_INSPECTOR"),D}useProgram(a,p,b){this.cache=this.cache||{};const D=b||[],S=this.currentGlobalDefines().concat(D),O=Bi.cacheKey(Ha[a],a,S,p);return this.cache[O]||(this.cache[O]=new Bi(this.context,a,Ha[a],p,Lo[a],S)),this.cache[O]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=u.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new u.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(a,p,b){if(this.terrain&&this.terrain.renderingToTexture)return;const D=this.style.fog;if(D){const S=D.getOpacity(this.transform.pitch),O=((N,V,K,q,re,he,ve,we,be,De,oe)=>{const ye=N.transform,Ce=V.properties.get("color").toArray01();Ce[3]=q;const Le=N.frameCounter/1e3%1;return{u_fog_matrix:K?ye.calculateFogTileMatrix(K):N.identityMat,u_fog_range:V.getFovAdjustedRange(ye._fov),u_fog_color:Ce,u_fog_horizon_blend:V.properties.get("horizon-blend"),u_fog_temporal_offset:Le,u_frustum_tl:re,u_frustum_tr:he,u_frustum_br:ve,u_frustum_bl:we,u_globe_pos:be,u_globe_radius:De,u_viewport:oe,u_globe_transition:u.globeToMercatorTransition(ye.zoom),u_is_globe:+("globe"===ye.projection.name)}})(this,D,b,S,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*u.exported.devicePixelRatio,this.transform.height*u.exported.devicePixelRatio]);p.setFogUniformValues(a,O)}}setTileLoadedFlag(a){this.tileLoaded=a}saveCanvasCopy(){const a=this.canvasCopy();a&&(this.frameCopies.push(a),this.tileLoaded=!1)}canvasCopy(){const a=this.context.gl,p=a.createTexture();return a.bindTexture(a.TEXTURE_2D,p),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,a.drawingBufferWidth,a.drawingBufferHeight,0),p}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const a=this.style&&this.style.fog;return!!a&&0!==a.getOpacity(this.transform.pitch)}getBackgroundTiles(){const a=this._backgroundTiles,p=this._backgroundTiles={},b=this.transform.coveringTiles({tileSize:512});for(const D of b)p[D.key]=a[D.key]||new u.Tile(D,512,this.transform.tileZoom,this);return p}clearBackgroundTiles(){this._backgroundTiles={}}}class Os{constructor(a=0,p=0,b=0,D=0){if(isNaN(a)||a<0||isNaN(p)||p<0||isNaN(b)||b<0||isNaN(D)||D<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=p,this.left=b,this.right=D}interpolate(a,p,b){return null!=p.top&&null!=a.top&&(this.top=u.number(a.top,p.top,b)),null!=p.bottom&&null!=a.bottom&&(this.bottom=u.number(a.bottom,p.bottom,b)),null!=p.left&&null!=a.left&&(this.left=u.number(a.left,p.left,b)),null!=p.right&&null!=a.right&&(this.right=u.number(a.right,p.right,b)),this}getCenter(a,p){const b=u.clamp((this.left+a-this.right)/2,0,a),D=u.clamp((this.top+p-this.bottom)/2,0,p);return new u.Point(b,D)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Os(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function kc(g,a){const p=u.getColumn(g,3);u.fromQuat(g,a),u.setColumn(g,3,p)}function Pi(g,a){const p=u.identity$1([]);return u.rotateZ$1(p,p,-a),u.rotateX$1(p,p,-g),p}function nr(g,a){const p=[g[0],g[1],0],b=[a[0],a[1],0];if(u.length(p)>=1e-15){const O=u.normalize([],p);u.scale$2(b,O,u.dot(b,O)),a[0]=b[0],a[1]=b[1]}const D=u.cross([],a,g);if(u.len(D)<1e-15)return null;const S=Math.atan2(-D[1],D[0]);return Pi(Math.atan2(Math.sqrt(g[0]*g[0]+g[1]*g[1]),-g[2]),S)}class ql{constructor(a,p){this.position=a,this.orientation=p}get position(){return this._position}set position(a){if(a){const p=a instanceof u.MercatorCoordinate?a:new u.MercatorCoordinate(a[0],a[1],a[2]);this._renderWorldCopies&&(p.x=u.wrap(p.x,0,1)),this._position=p}else this._position=null}lookAtPoint(a,p){if(this.orientation=null,!this.position)return;const b=this.position,D=this._elevation?this._elevation.getAtPointOrZero(u.MercatorCoordinate.fromLngLat(a)):0,S=u.MercatorCoordinate.fromLngLat(a,D),O=[S.x-b.x,S.y-b.y,S.z-b.z];p||(p=[0,0,1]),p[2]=Math.abs(p[2]),this.orientation=nr(O,p)}setPitchBearing(a,p){this.orientation=Pi(u.degToRad(a),u.degToRad(-p))}}class Za{constructor(a,p){this._transform=u.identity([]),this.orientation=p,this.position=a}get mercatorPosition(){const a=this.position;return new u.MercatorCoordinate(a[0],a[1],a[2])}get position(){const a=u.getColumn(this._transform,3);return[a[0],a[1],a[2]]}set position(a){var p;a&&u.setColumn(this._transform,3,[(p=a)[0],p[1],p[2],1])}get orientation(){return this._orientation}set orientation(a){this._orientation=a||u.identity$1([]),a&&kc(this._transform,this._orientation)}getPitchBearing(){const a=this.forward(),p=this.right();return{bearing:Math.atan2(-p[1],p[0]),pitch:Math.atan2(Math.sqrt(a[0]*a[0]+a[1]*a[1]),-a[2])}}setPitchBearing(a,p){this._orientation=Pi(a,p),kc(this._transform,this._orientation)}forward(){const a=u.getColumn(this._transform,2);return[-a[0],-a[1],-a[2]]}up(){const a=u.getColumn(this._transform,1);return[-a[0],-a[1],-a[2]]}right(){const a=u.getColumn(this._transform,0);return[a[0],a[1],a[2]]}getCameraToWorld(a,p){const b=new Float64Array(16);return u.invert(b,this.getWorldToCamera(a,p)),b}getWorldToCameraPosition(a,p,b){const D=this.position;u.scale$2(D,D,-a);const S=new Float64Array(16);return u.fromScaling(S,[b,b,b]),u.translate(S,S,D),S[10]*=p,S}getWorldToCamera(a,p){const b=new Float64Array(16),D=new Float64Array(4),S=this.position;return u.conjugate(D,this._orientation),u.scale$2(S,S,-a),u.fromQuat(b,D),u.translate(b,b,S),b[1]*=-1,b[5]*=-1,b[9]*=-1,b[13]*=-1,b[8]*=p,b[9]*=p,b[10]*=p,b[11]*=p,b}getCameraToClipPerspective(a,p,b,D){const S=new Float64Array(16);return u.perspective(S,a,p,b,D),S}getDistanceToElevation(a,p=!1){const b=0===a?0:u.mercatorZfromAltitude(a,p?u.latFromMercatorY(this.position[1]):this.position[1]),D=this.forward();return(b-this.position[2])/D[2]}clone(){return new Za([...this.position],[...this.orientation])}}function ns(g,a){const p=Kl(g.projection,g.zoom,g.width,g.height),b=function(S,O,N,V,K){const q=new u.LngLat(N.lng-180*Rs,N.lat),re=new u.LngLat(N.lng+180*Rs,N.lat),he=S.project(q.lng,q.lat),ve=S.project(re.lng,re.lat),we=-Math.atan2(ve.y-he.y,ve.x-he.x),be=u.MercatorCoordinate.fromLngLat(N);be.y=u.clamp(be.y,-1+Rs,1-Rs);const De=be.toLngLat(),oe=S.project(De.lng,De.lat),ye=u.MercatorCoordinate.fromLngLat(De);ye.x+=Rs;const Ce=ye.toLngLat(),Le=S.project(Ce.lng,Ce.lat),Ue=Pc(Le.x-oe.x,Le.y-oe.y,we),Ye=u.MercatorCoordinate.fromLngLat(De);Ye.y+=Rs;const Ve=Ye.toLngLat(),Xe=S.project(Ve.lng,Ve.lat),Ze=Pc(Xe.x-oe.x,Xe.y-oe.y,we),it=Math.abs(Ue.x)/Math.abs(Ze.y),Rt=u.identity([]);u.rotateZ(Rt,Rt,-we*(1-(K?0:V)));const Qe=u.identity([]);return u.scale(Qe,Qe,[1,1-(1-it)*V,1]),Qe[4]=-Ze.x/Ze.y*V,u.rotateZ(Qe,Qe,we),u.multiply(Qe,Rt,Qe),Qe}(g.projection,0,g.center,p,a),D=Mu(g);return u.scale(b,b,[D,D,1]),b}function Mu(g){const a=g.projection,p=Kl(g.projection,g.zoom,g.width,g.height),b=cs(a,g.center),D=cs(a,u.LngLat.convert(a.center));return Math.pow(2,b*p+(1-p)*D)}function Kl(g,a,p,b,D=1/0){const S=g.range;if(!S)return 0;const O=Math.min(D,Math.max(p,b)),N=Math.log(O/1024)/Math.LN2;return u.smoothstep(S[0]+N,S[1]+N,a)}const Rs=1/4e4;function cs(g,a){const p=u.clamp(a.lat,-u.MAX_MERCATOR_LATITUDE,u.MAX_MERCATOR_LATITUDE),b=new u.LngLat(a.lng-180*Rs,p),D=new u.LngLat(a.lng+180*Rs,p),S=g.project(b.lng,p),O=g.project(D.lng,p),N=u.MercatorCoordinate.fromLngLat(b),V=u.MercatorCoordinate.fromLngLat(D),K=O.x-S.x,q=O.y-S.y,re=V.x-N.x,he=V.y-N.y,ve=Math.sqrt((re*re+he*he)/(K*K+q*q));return Math.log(ve)/Math.LN2}function Pc(g,a,p){const b=Math.cos(p),D=Math.sin(p);return{x:g*b-a*D,y:g*D+a*b}}class Xl{constructor(a,p,b,D,S,O,N){this.tileSize=512,this._renderWorldCopies=void 0===S||S,this._minZoom=a||0,this._maxZoom=p||22,this._minPitch=b??0,this._maxPitch=D??60,this.setProjection(O),this.setMaxBounds(N),this.width=0,this.height=0,this._center=new u.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Os,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Za,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const a=new Xl(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return a._elevation=this._elevation,a._centerAltitude=this._centerAltitude,a._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,a.tileSize=this.tileSize,a.mercatorFromTransition=this.mercatorFromTransition,a.width=this.width,a.height=this.height,a.cameraElevationReference=this.cameraElevationReference,a._center=this._center,a._setZoom(this.zoom),a._seaLevelZoom=this._seaLevelZoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._nearZ=this._nearZ,a._farZ=this._farZ,a._averageElevation=this._averageElevation,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._camera=this._camera.clone(),a._calcMatrices(),a.freezeTileCoverage=this.freezeTileCoverage,a.frustumCorners=this.frustumCorners,a}get elevation(){return this._elevation}set elevation(a){this._elevation!==a&&(this._elevation=a,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(a,p=!1){const b=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||b)&&this._updateCameraOnTerrain(),(a||b)&&this._constrainCamera(p),this._calcMatrices()}getProjection(){return u.pick(this.projection,["name","center","parallels"])}setProjection(a){this.projectionOptions=a||{name:"mercator"};const p=this.projection?this.getProjection():void 0;this.projection=u.getProjection(this.projectionOptions);const b=!F(p,this.getProjection());return b&&this._calcMatrices(),this.mercatorFromTransition=!1,b}setMercatorFromTransition(){const a=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=u.getProjection({name:"mercator"});const p=a!==this.projection.name;return p&&this._calcMatrices(),p}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(a){void 0===a?a=!0:null===a&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get cameraWorldSize(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return u.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new u.Point(this.width,this.height)}get bearing(){return u.wrap(this.rotation,-180,180)}set bearing(a){this.rotation=a}get rotation(){return-this.angle/Math.PI*180}set rotation(a){const p=-a*Math.PI/180;var b,D,S,O,N,V,K,q,re,he;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=(b=new u.ARRAY_TYPE(4),u.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b),D=this.rotationMatrix,O=this.angle,N=(S=this.rotationMatrix)[0],V=S[1],K=S[2],q=S[3],re=Math.sin(O),he=Math.cos(O),D[0]=N*he+K*re,D[1]=V*he+q*re,D[2]=N*-re+K*he,D[3]=V*-re+q*he)}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const p=u.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const a=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/a)}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=u.degToRad(a),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(a){this._averageElevation=a,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(a){const p=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._setZoom(p),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(a){this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const a=this._elevation;this._centerAltitude=a.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=a.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const a=this._elevation,p=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],b=this.horizonLineFromTop();let D=0,S=0;for(let O=0;O<p.length;O++){const N=new u.Point(p[O][0]*this.width,b+p[O][1]*(this.height-b)),V=a.pointCoordinate(N);if(!V)continue;const K=1/Math.hypot(V[0]-this._camera.position[0],V[1]-this._camera.position[1]);D+=V[3]*K,S+=K}return 0===S?NaN:D/S}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const a=this._seaLevelZoom,p=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),b=this.pixelsPerMeter/this.worldSize*p,D=this._mercatorZfromZoom(a),S=this._mercatorZfromZoom(this._maxZoom),O=Math.max(D-b,S);this._setZoom(this._zoomFromMercatorZ(O))}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}computeZoomRelativeTo(a){const p=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,a.toAltitude()));let b;b=a.z<this._camera.position[2]?[p.x,p.y,p.z]:[a.x,a.y,a.z];const D=u.length(u.sub([],this._camera.position,b));return u.clamp(this._zoomFromMercatorZ(D),this._minZoom,this._maxZoom)}setFreeCameraOptions(a){if(!this.height||!a.position&&!a.orientation)return;this._updateCameraState();let p=!1;if(a.orientation&&!u.exactEquals(a.orientation,this._camera.orientation)&&(p=this._setCameraOrientation(a.orientation)),a.position){const b=[a.position.x,a.position.y,a.position.z];u.exactEquals$1(b,this._camera.position)||(this._setCameraPosition(b),p=!0)}p&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const a=this._camera.position,p=new ql;return p.position=new u.MercatorCoordinate(a[0],a[1],a[2]),p.orientation=this._camera.orientation,p._elevation=this.elevation,p._renderWorldCopies=this.renderWorldCopies,p}_setCameraOrientation(a){if(!u.length$1(a))return!1;u.normalize$1(a,a);const p=u.transformQuat([],[0,0,-1],a),b=u.transformQuat([],[0,-1,0],a);if(b[2]<0)return!1;const D=nr(p,b);return!!D&&(this._camera.orientation=D,!0)}_setCameraPosition(a){const p=this.zoomScale(this.minZoom)*this.tileSize,b=this.zoomScale(this.maxZoom)*this.tileSize,D=this.cameraToCenterDistance;a[2]=u.clamp(a[2],D/b,D/p),this._camera.position=a}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,p,b){this._unmodified=!1,this._edgeInsets.interpolate(a,p,b),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const p=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(a){const p=[new u.UnwrappedTileID(0,a)];if(this.renderWorldCopies){const b=this.pointCoordinate(new u.Point(0,0)),D=this.pointCoordinate(new u.Point(this.width,0)),S=this.pointCoordinate(new u.Point(this.width,this.height)),O=this.pointCoordinate(new u.Point(0,this.height)),N=Math.floor(Math.min(b.x,D.x,S.x,O.x)),V=Math.floor(Math.max(b.x,D.x,S.x,O.x)),K=1;for(let q=N-K;q<=V+K;q++)0!==q&&p.push(new u.UnwrappedTileID(q,a))}return p}coveringTiles(a){let p=this.coveringZoomLevel(a);const b=p,D=this.elevation&&!a.isTerrainDEM,S="mercator"===this.projection.name;if(void 0!==a.minzoom&&p<a.minzoom)return[];void 0!==a.maxzoom&&p>a.maxzoom&&(p=a.maxzoom);const O=this.locationCoordinate(this.center),N=this.center.lat,V=1<<p,K=[V*O.x,V*O.y,0],q="globe"===this.projection.name,re=!q,he=u.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p,re),ve=q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),we=V*u.mercatorZfromAltitude(1,this.center.lat),be=this._camera.position[2]/u.mercatorZfromAltitude(1,this.center.lat),De=[V*ve.x,V*ve.y,be*(re?1:we)],oe=this.cameraToCenterDistance/a.tileSize*(a.roundZoom?1:.502),ye=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?p:0,Ce=a.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Le=a.isTerrainDEM?-Ce:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ue=this.projection.isReprojectedInTileSpace?Mu(this):1,Ye=tt=>{const $t=new u.MercatorCoordinate(tt.x+25e-6,tt.y,tt.z),Dt=new u.MercatorCoordinate(tt.x,tt.y+25e-6,tt.z),Ct=tt.toLngLat(),wn=$t.toLngLat(),Wn=Dt.toLngLat(),_n=this.locationCoordinate(Ct),In=this.locationCoordinate(wn),pi=this.locationCoordinate(Wn),jn=Math.hypot(In.x-_n.x,In.y-_n.y),mn=Math.hypot(pi.x-_n.x,pi.y-_n.y);return Math.sqrt(jn*mn)*Ue/25e-6},Ve=tt=>{const bt=Ce,$t=Le;return{aabb:u.tileAABB(this,V,0,0,0,tt,$t,bt,this.projection),zoom:0,x:0,y:0,minZ:$t,maxZ:bt,wrap:tt,fullyVisible:!1}},Xe=[];let Ze=[];const it=p,Rt=a.reparseOverscaled?b:p,Qe=tt=>tt*tt,Mt=Qe((be-this._centerAltitude)*we),ut=tt=>{if(!this._elevation||!tt.tileID||!S)return;const bt=this._elevation.getMinMaxForTile(tt.tileID),$t=tt.aabb;bt?($t.min[2]=bt.min,$t.max[2]=bt.max,$t.center[2]=($t.min[2]+$t.max[2])/2):(tt.shouldSplit=Lt(tt),tt.shouldSplit||($t.min[2]=$t.max[2]=$t.center[2]=this._centerAltitude))},Lt=tt=>{if(tt.zoom<ye)return!0;if(tt.zoom===it)return!1;if(null!=tt.shouldSplit)return tt.shouldSplit;const bt=tt.aabb.distanceX(De),$t=tt.aabb.distanceY(De);let Dt=Mt,Ct=1;if(q){Dt=Qe(tt.aabb.distanceZ(De));const _n=Math.pow(2,tt.zoom),In=u.latFromMercatorY((tt.y+1)/_n),pi=u.latFromMercatorY(tt.y/_n),jn=Math.min(Math.max(N,In),pi),mn=u.circumferenceAtLatitude(jn)/u.circumferenceAtLatitude(N);if(Ct=jn===N?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,mn/this._mercatorScaleRatio),this.zoom<=u.GLOBE_ZOOM_THRESHOLD_MIN&&tt.zoom===it-1&&mn>=.9)return!0}else if(D&&(Dt=Qe(tt.aabb.distanceZ(De)*we)),this.projection.isReprojectedInTileSpace&&b<=5){const _n=Math.pow(2,tt.zoom),In=Ye(new u.MercatorCoordinate((tt.x+.5)/_n,(tt.y+.5)/_n));Ct=In>.85?1:In}const wn=bt*bt+$t*$t+Dt;return wn<Qe((1<<it-tt.zoom)*oe*Ct*((_n,In)=>{if(In*Qe(.707)<_n)return 1;const pi=Math.sqrt(In/_n);return pi/(1.4144271570014144+(Math.pow(1.1,pi-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Dt,Mt),wn))};if(this.renderWorldCopies)for(let tt=1;tt<=3;tt++)Xe.push(Ve(-tt)),Xe.push(Ve(tt));for(Xe.push(Ve(0));Xe.length>0;){const tt=Xe.pop(),bt=tt.x,$t=tt.y;let Dt=tt.fullyVisible;if(!Dt){const Ct=tt.aabb.intersects(he);if(0===Ct)continue;Dt=2===Ct}if(tt.zoom!==it&&Lt(tt))for(let Ct=0;Ct<4;Ct++){const wn=(bt<<1)+Ct%2,Wn=($t<<1)+(Ct>>1),_n={aabb:S?tt.aabb.quadrant(Ct):u.tileAABB(this,V,tt.zoom+1,wn,Wn,tt.wrap,tt.minZ,tt.maxZ,this.projection),zoom:tt.zoom+1,x:wn,y:Wn,wrap:tt.wrap,fullyVisible:Dt,tileID:void 0,shouldSplit:void 0,minZ:tt.minZ,maxZ:tt.maxZ};D&&!q&&(_n.tileID=new u.OverscaledTileID(tt.zoom+1===it?Rt:tt.zoom+1,tt.wrap,tt.zoom+1,wn,Wn),ut(_n)),Xe.push(_n)}else{const Ct=tt.zoom===it?Rt:tt.zoom;if(a.minzoom&&a.minzoom>Ct)continue;const wn=K[0]-(.5+bt+(tt.wrap<<tt.zoom))*(1<<p-tt.zoom),Wn=K[1]-.5-$t,_n=tt.tileID?tt.tileID:new u.OverscaledTileID(Ct,tt.wrap,tt.zoom,bt,$t);Ze.push({tileID:_n,distanceSq:wn*wn+Wn*Wn})}}if(this.fogCullDistSq){const tt=this.fogCullDistSq,bt=this.horizonLineFromTop();Ze=Ze.filter($t=>{const Dt=[0,0,0,1],Ct=[u.EXTENT,u.EXTENT,0,1],wn=this.calculateFogTileMatrix($t.tileID.toUnwrapped());u.transformMat4$1(Dt,Dt,wn),u.transformMat4$1(Ct,Ct,wn);const Wn=u.getAABBPointSquareDist(Dt,Ct);if(0===Wn)return!0;let _n=!1;const In=this._elevation;if(In&&Wn>tt&&0!==bt){const pi=this.calculateProjMatrix($t.tileID.toUnwrapped());let jn;a.isTerrainDEM||(jn=In.getMinMaxForTile($t.tileID)),jn||(jn={min:Le,max:Ce});const mn=u.furthestTileCorner(this.rotation),Ii=[mn[0]*u.EXTENT,mn[1]*u.EXTENT,jn.max];u.transformMat4(Ii,Ii,pi),_n=(1-Ii[1])*this.height*.5<bt}return Wn<tt||_n})}return Ze.sort((tt,bt)=>tt.distanceSq-bt.distanceSq).map(tt=>tt.tileID)}resize(a,p){this.width=a,this.height=p,this.pixelsToGLUnits=[2/a,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const p=u.clamp(a.lat,-u.MAX_MERCATOR_LATITUDE,u.MAX_MERCATOR_LATITUDE),b=this.projection.project(a.lng,p);return new u.Point(b.x*this.worldSize,b.y*this.worldSize)}unproject(a){return this.projection.unproject(a.x/this.worldSize,a.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/u.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(a,p){let b,D;const S=this.centerPoint;if("globe"===this.projection.name){const N=this.worldSize;b=(p.x-S.x)/N,D=(p.y-S.y)/N}else{const N=this.pointCoordinate(p),V=this.pointCoordinate(S);b=N.x-V.x,D=N.y-V.y}const O=this.locationCoordinate(a);this.setLocation(new u.MercatorCoordinate(O.x-b,O.y-D))}setLocation(a){this.center=this.coordinateLocation(a),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(a){return this.projection.locationPoint(this,a)}locationPoint3D(a){return this.projection.locationPoint(this,a,!0)}pointLocation(a){return this.coordinateLocation(this.pointCoordinate(a))}pointLocation3D(a){return this.coordinateLocation(this.pointCoordinate3D(a))}locationCoordinate(a,p){const b=p?u.mercatorZfromAltitude(p,a.lat):void 0,D=this.projection.project(a.lng,a.lat);return new u.MercatorCoordinate(D.x,D.y,b)}coordinateLocation(a){return this.projection.unproject(a.x,a.y)}pointRayIntersection(a,p){const b=p??this._centerAltitude,D=[a.x,a.y,0,1],S=[a.x,a.y,1,1];u.transformMat4$1(D,D,this.pixelMatrixInverse),u.transformMat4$1(S,S,this.pixelMatrixInverse);const O=S[3];u.scale$1(D,D,1/D[3]),u.scale$1(S,S,1/O);const N=D[2],V=S[2];return{p0:D,p1:S,t:N===V?0:(b-N)/(V-N)}}screenPointToMercatorRay(a){const p=[a.x,a.y,0,1],b=[a.x,a.y,1,1];return u.transformMat4$1(p,p,this.pixelMatrixInverse),u.transformMat4$1(b,b,this.pixelMatrixInverse),u.scale$1(p,p,1/p[3]),u.scale$1(b,b,1/b[3]),p[2]=u.mercatorZfromAltitude(p[2],this._center.lat)*this.worldSize,b[2]=u.mercatorZfromAltitude(b[2],this._center.lat)*this.worldSize,u.scale$1(p,p,1/this.worldSize),u.scale$1(b,b,1/this.worldSize),new u.Ray([p[0],p[1],p[2]],u.normalize([],u.sub([],b,p)))}rayIntersectionCoordinate(a){const{p0:p,p1:b,t:D}=a,S=u.mercatorZfromAltitude(p[2],this._center.lat),O=u.mercatorZfromAltitude(b[2],this._center.lat);return new u.MercatorCoordinate(u.number(p[0],b[0],D)/this.worldSize,u.number(p[1],b[1],D)/this.worldSize,u.number(S,O,D))}pointCoordinate(a,p=this._centerAltitude){return this.projection.pointCoordinate(this,a.x,a.y,p)}pointCoordinate3D(a){if(!this.elevation)return this.pointCoordinate(a);let p=this.projection.pointCoordinate3D(this,a.x,a.y);if(p)return new u.MercatorCoordinate(p[0],p[1],p[2]);let b=0,D=this.horizonLineFromTop();if(a.y>D)return this.pointCoordinate(a);const S=.02*D,O=a.clone();for(let N=0;N<10&&D-b>S;N++){O.y=u.number(b,D,.66);const V=this.projection.pointCoordinate3D(this,O.x,O.y);V?(D=O.y,p=V):b=O.y}return p?new u.MercatorCoordinate(p[0],p[1],p[2]):this.pointCoordinate(a)}isPointAboveHorizon(a){return this.projection.isPointAboveHorizon(this,a)}isPointOnSurface(a){if(a.y<0||a.y>this.height||a.x<0||a.x>this.width)return!1;if(this.elevation||this.zoom>=u.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(a);const p=this.pointCoordinate(a);return p.y>=0&&p.y<=1}_coordinatePoint(a,p){const b=p&&this.elevation?this.elevation.getAtPointOrZero(a,this._centerAltitude):this._centerAltitude,D=[a.x*this.worldSize,a.y*this.worldSize,b+a.toAltitude(),1];return u.transformMat4$1(D,D,this.pixelMatrix),D[3]>0?new u.Point(D[0]/D[3],D[1]/D[3]):new u.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:a,left:p}=this._edgeInsets,b=this.height-this._edgeInsets.bottom,D=this.width-this._edgeInsets.right,S=this.pointLocation3D(new u.Point(p,a)),O=this.pointLocation3D(new u.Point(D,a)),N=this.pointLocation3D(new u.Point(D,b)),V=this.pointLocation3D(new u.Point(p,b));let K=Math.min(S.lng,O.lng,N.lng,V.lng),q=Math.max(S.lng,O.lng,N.lng,V.lng),re=Math.min(S.lat,O.lat,N.lat,V.lat),he=Math.max(S.lat,O.lat,N.lat,V.lat);const ve=Math.pow(2,-this.zoom)/16*270,we="globe"===this.projection.name?1:4,be=(De,oe,ye,Ce,Le)=>{const Ue=(De+ye)/2,Ye=(oe+Ce)/2,Ve=new u.Point(Ue,Ye),{lng:Xe,lat:Ze}=this.pointLocation3D(Ve),it=Math.max(0,K-Xe,re-Ze,Xe-q,Ze-he);K=Math.min(K,Xe),q=Math.max(q,Xe),re=Math.min(re,Ze),he=Math.max(he,Ze),(Le<we||it>ve)&&(be(De,oe,Ue,Ye,Le+1),be(Ue,Ye,ye,Ce,Le+1))};if(be(p,a,D,a,1),be(D,a,D,b,1),be(D,b,p,b,1),be(p,b,p,a,1),"globe"===this.projection.name){const[De,oe]=u.polesInViewport(this);De?(he=90,q=180,K=-180):oe&&(re=-90,q=180,K=-180)}return new u.LngLatBounds(new u.LngLat(K,re),new u.LngLat(q,he))}_getBoundsRectangular(a,p){const{top:b,left:D}=this._edgeInsets,S=this.height-this._edgeInsets.bottom,O=this.width-this._edgeInsets.right,N=new u.Point(D,b),V=new u.Point(O,b),K=new u.Point(O,S),q=new u.Point(D,S);let re=this.pointCoordinate(N,a),he=this.pointCoordinate(V,a);const ve=this.pointCoordinate(K,p),we=this.pointCoordinate(q,p),be=(De,oe)=>(oe.y-De.y)/(oe.x-De.x);return re.y>1&&he.y>=0?re=new u.MercatorCoordinate((1-we.y)/be(we,re)+we.x,1):re.y<0&&he.y<=1&&(re=new u.MercatorCoordinate(-we.y/be(we,re)+we.x,0)),he.y>1&&re.y>=0?he=new u.MercatorCoordinate((1-ve.y)/be(ve,he)+ve.x,1):he.y<0&&re.y<=1&&(he=new u.MercatorCoordinate(-ve.y/be(ve,he)+ve.x,0)),(new u.LngLatBounds).extend(this.coordinateLocation(re)).extend(this.coordinateLocation(he)).extend(this.coordinateLocation(we)).extend(this.coordinateLocation(ve))}_getBoundsRectangularTerrain(){const a=this.elevation;if(!a.visibleDemTiles.length||a.isUsingMockSource())return this._getBoundsRectangular(0,0);const p=a.visibleDemTiles.reduce((b,D)=>{if(D.dem){const S=D.dem.tree;b.min=Math.min(b.min,S.minimums[0]),b.max=Math.max(b.max,S.maximums[0])}return b},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(p.min*a.exaggeration(),p.max*a.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(a=!0){const p=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,b=this.height/2-p*(1-this._horizonShift);return a?Math.max(0,b):b}getMaxBounds(){return this.maxBounds}setMaxBounds(a){this.maxBounds=a,this.minLat=-u.MAX_MERCATOR_LATITUDE,this.maxLat=u.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,a&&(this.minLat=a.getSouth(),this.maxLat=a.getNorth(),this.minLng=a.getWest(),this.maxLng=a.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=u.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=u.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=u.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=u.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(a,p){return this.projection.createTileMatrix(this,p,a)}calculateDistanceTileData(a){const p=a.key,b=this._distanceTileDataCache;if(b[p])return b[p];const D=a.canonical,S=1/this.height,O=this.cameraWorldSize,N=O/this.zoomScale(D.z),V=(D.x+Math.pow(2,D.z)*a.wrap)*N,K=D.y*N,q=this.point;q.x*=O/this.worldSize,q.y*=O/this.worldSize;const re=this.angle,he=Math.sin(-re),ve=-Math.cos(-re);return b[p]={bearing:[he,ve],center:[(q.x-V)*S,(q.y-K)*S],scale:N/u.EXTENT*S},b[p]}calculateFogTileMatrix(a){const p=a.key,b=this._fogTileMatrixCache;if(b[p])return b[p];const D=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,a);return u.multiply(D,this.worldToFogMatrix,D),b[p]=new Float32Array(D),b[p]}calculateProjMatrix(a,p=!1){const b=a.key,D=p?this._alignedProjMatrixCache:this._projMatrixCache;if(D[b])return D[b];const S=this.calculatePosMatrix(a,this.worldSize);return u.multiply(S,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.alignedProjMatrix:this.projMatrix,S),D[b]=new Float32Array(S),D[b]}calculatePixelsToTileUnitsMatrix(a){const p=a.tileID.key,b=this._pixelsToTileUnitsCache;if(b[p])return b[p];const D=function(S,O){const{scale:N}=S.tileTransform,V=N*u.EXTENT/(S.tileSize*Math.pow(2,O.zoom-S.tileID.overscaledZ+S.tileID.canonical.z));return K=new Float32Array(4),he=(q=O.inverseAdjustmentMatrix)[1],ve=q[2],we=q[3],De=(re=[V,V])[1],K[0]=q[0]*(be=re[0]),K[1]=he*be,K[2]=ve*De,K[3]=we*De,K;var K,q,re,he,ve,we,be,De}(a,this);return b[p]=D,b[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const a=1/this.worldSize,p=u.fromScaling([],[a,a,a]);return u.multiply(p,p,this.globeMatrix),p}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const a=this._elevation;this._updateCameraState();const p=u.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(p),D=this._camera.forward(),S=u.mercatorZfromAltitude(1,this._center.lat);b[2]/=S,D[2]/=S,u.normalize(D,D);const O=a.raycast(b,D,a.exaggeration());if(O){const N=u.scaleAndAdd([],b,D,O),V=new u.MercatorCoordinate(N[0],N[1],u.mercatorZfromAltitude(N[2],u.latFromMercatorY(N[1]))),K=(V.z+u.length([V.x-b[0],V.y-b[1],V.z-b[2]*S]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(K),this._centerAltitude=V.toAltitude(),this._center=this.coordinateLocation(V),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(a=!1){if(!this._elevation)return;const p=this._elevation,b=u.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,D=this._computeCameraPosition(b),S=p.getAtPointOrZero(new u.MercatorCoordinate(...D)),O=this.pixelsPerMeter/this.worldSize*S,N=this._minimumHeightOverTerrain(),V=D[2]-O;if(V<=N)if(V<0||a){const K=this.locationCoordinate(this._center,this._centerAltitude),q=[D[0],D[1],K.z-D[2]],re=u.length(q);q[2]-=(N-V)/this._pixelsPerMercatorPixel;const he=u.length(q);if(0===he)return;u.scale$2(q,q,re/he*this._pixelsPerMercatorPixel),this._camera.position=[D[0],D[1],K.z*this._pixelsPerMercatorPixel-q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||a){const he=this.center;return he.lat=u.clamp(he.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!a)&&(he.lng=u.clamp(he.lng,this.minLng,this.maxLng)),this.center=he,void(this._constraining=!1)}const p=this._unmodified,{x:b,y:D}=this.point;let S=0,O=b,N=D;const V=this.width/2,K=this.height/2,q=this.worldMinY*this.scale,re=this.worldMaxY*this.scale;if(D-K<q&&(N=q+K),D+K>re&&(N=re-K),re-q<this.height&&(S=Math.max(S,this.height/(re-q)),N=(re+q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const he=this.worldMinX*this.scale,ve=this.worldMaxX*this.scale,we=this.worldSize/2-(he+ve)/2;O=(b+we+this.worldSize)%this.worldSize-we,O-V<he&&(O=he+V),O+V>ve&&(O=ve-V),ve-he<this.width&&(S=Math.max(S,this.width/(ve-he)),O=(ve+he)/2)}O===b&&N===D||(this.center=this.unproject(new u.Point(O,N))),S&&(this.zoom+=this.scaleZoom(S)),this._constrainCamera(),this._unmodified=p,this._constraining=!1}_minZoomForBounds(){let a=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(a=Math.max(a,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),a}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,p=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=u.mercatorZfromAltitude(1,this.center.lat)/u.mercatorZfromAltitude(1,u.GLOBE_SCALE_MATCH_LATITUDE));const b=Kl(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,b),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const D="meters"===this.projection.zAxisUnit?p:1,S=this._camera.getWorldToCamera(this.worldSize,D),O=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);O[8]=2*-a.x/this.width,O[9]=2*a.y/this.height;let N=u.mul([],O,S);if(this.projection.isReprojectedInTileSpace){const Ye=this.locationCoordinate(this.center),Ve=u.identity([]);u.translate(Ve,Ve,[Ye.x*this.worldSize,Ye.y*this.worldSize,0]),u.multiply(Ve,Ve,ns(this)),u.translate(Ve,Ve,[-Ye.x*this.worldSize,-Ye.y*this.worldSize,0]),u.multiply(N,N,Ve),this.inverseAdjustmentMatrix=function(Xe){const Ze=ns(Xe,!0);return qe([],[Ze[0],Ze[1],Ze[4],Ze[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=u.scale([],N,[this.worldSize,this.worldSize,this.worldSize/D,1]),this.projMatrix=N,this.invProjMatrix=u.invert(new Float64Array(16),this.projMatrix);const V=u.invert([],O);this.frustumCorners=u.FrustumCorners.fromInvProjectionMatrix(V,this.horizonLineFromTop(),this.height);const K=new Float32Array(16);u.identity(K),u.scale(K,K,[1,-1,1]),u.rotateX(K,K,this._pitch),u.rotateZ(K,K,this.angle);const q=u.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),re=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;q[8]=2*-a.x/this.width,q[9]=2*(a.y+re)/this.height,this.skyboxMatrix=u.multiply(K,q,K);const he=this.point,ve=he.x,we=he.y,be=this.width%2/2,De=this.height%2/2,oe=Math.cos(this.angle),ye=Math.sin(this.angle),Ce=ve-Math.round(ve)+oe*be+ye*De,Le=we-Math.round(we)+oe*De+ye*be,Ue=new Float64Array(N);if(u.translate(Ue,Ue,[Ce>.5?Ce-1:Ce,Le>.5?Le-1:Le,0]),this.alignedProjMatrix=Ue,N=u.create(),u.scale(N,N,[this.width/2,-this.height/2,1]),u.translate(N,N,[1,-1,0]),this.labelPlaneMatrix=N,N=u.create(),u.scale(N,N,[1,-1,1]),u.translate(N,N,[-1,-1,0]),u.scale(N,N,[2/this.width,2/this.height,1]),this.glCoordMatrix=N,this.pixelMatrix=u.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},N=u.invert(new Float64Array(16),this.pixelMatrix),!N)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=N,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=u.calculateGlobeMatrix(this);const Ye=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=u.transformMat4(Ye,Ye,S),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=N;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const a=this.cameraWorldSizeForFog,p=this.cameraPixelsPerMeter,b=this._camera.position,D=1/this.height/this._pixelsPerMercatorPixel,S=[a,a,p];u.scale$2(S,S,D),u.scale$2(b,b,-1),u.multiply$2(b,b,S);const O=u.create();u.translate(O,O,b),u.scale(O,O,S),this.mercatorFogMatrix=O,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(a,p,D)}_computeCameraPosition(a){const p=(a=a||this.pixelsPerMeter)/this.pixelsPerMeter,b=this._camera.forward(),D=this.point,S=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*p-a/this.worldSize*this._centerAltitude;return[D.x/this.worldSize-b[0]*S,D.y/this.worldSize-b[1]*S,a/this.worldSize*this._centerAltitude-b[2]*S]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(a){const p=this._maxCameraBoundsDistance()*Math.cos(this._pitch),b=this._camera.position[2],D=a[2];let S=1;this.projection.wrap&&(this.center=this.center.wrap()),D>0&&(S=Math.min((p-b)/D,1)),this._camera.position=u.scaleAndAdd([],this._camera.position,a,S),this._updateStateFromCamera()}_updateStateFromCamera(){const a=this._camera.position,p=this._camera.forward(),{pitch:b,bearing:D}=this._camera.getPitchBearing(),S=u.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,O=this._mercatorZfromZoom(this._maxZoom)*Math.cos(u.degToRad(this._maxPitch)),N=Math.max((a[2]-S)/Math.cos(b),O),V=this._zoomFromMercatorZ(N);u.scaleAndAdd(a,a,p,N),this._pitch=u.clamp(b,u.degToRad(this.minPitch),u.degToRad(this.maxPitch)),this.angle=u.wrap(D,-Math.PI,Math.PI),this._setZoom(u.clamp(V,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new u.MercatorCoordinate(a[0],a[1],a[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(a){return Math.pow(2,a)*this.tileSize}_mercatorZfromZoom(a){return this.cameraToCenterDistance/this._worldSizeFromZoom(a)}_minimumHeightOverTerrain(){const a=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(a)}_zoomFromMercatorZ(a){return this.scaleZoom(this.cameraToCenterDistance/(a*this.tileSize))}zoomFromMercatorZAdjusted(a){let p=0,b=u.GLOBE_ZOOM_THRESHOLD_MAX,D=0,S=1/0;for(;b-p>1e-6&&b>p;){const O=p+.5*(b-p),N=this.tileSize*Math.pow(2,O),V=this.getCameraToCenterDistance(this.projection,O,N),K=this.scaleZoom(V/(a*this.tileSize)),q=Math.abs(O-K);q<S&&(S=q,D=O),O<K?p=O:b=O}return D}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(u.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(a,p){const b=Math.min(a.x,p.x),D=Math.max(a.x,p.x),S=Math.min(a.y,p.y),O=Math.max(a.y,p.y);if(S<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const N=[new u.Point(b,S),new u.Point(D,O),new u.Point(b,O),new u.Point(D,S)],V=this.renderWorldCopies?-3:0,K=this.renderWorldCopies?4:1;for(const q of N){const re=this.pointRayIntersection(q);if(re.t<0)return!0;const he=this.rayIntersectionCoordinate(re);if(he.x<V||he.y<0||he.x>K||he.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+u.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new u.Point(0,0),new u.Point(this.width,this.height))}zoomDeltaToMovement(a,p){const b=u.length(u.sub([],this._camera.position,a)),D=this._zoomFromMercatorZ(b)+p;return b-this._mercatorZfromZoom(D)}getCameraPoint(){if("globe"===this.projection.name){const a=function([p,b,D],S){const O=[p,b,D,1];u.transformMat4$1(O,O,S);const N=O[3]=Math.max(O[3],1e-6);return O[0]/=N,O[1]/=N,O[2]/=N,O}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new u.Point(a[0],a[1])}{const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.Point(0,a))}}getCameraToCenterDistance(a,p=this.zoom,b=this.worldSize){const D=Kl(a,p,this.width,this.height,1024),S=a.pixelSpaceConversion(this.center.lat,b,D);return.5/Math.tan(.5*this._fov)*this.height*S}getWorldToCameraMatrix(){const a=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&u.multiply(a,a,this.globeMatrix),a}}function Jl(g,a){let p=!1,b=null;const D=()=>{b=null,p&&(g(),b=setTimeout(D,a),p=!1)};return()=>(p=!0,b||D(),b)}class aa{constructor(a){this._hashName=a&&encodeURIComponent(a),u.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Jl(this._updateHashUnthrottled.bind(this),300)}addTo(a){return this._map=a,u.window.addEventListener("hashchange",this._onHashChange,!1),a.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),u.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const a=this._map;if(!a)return"";const p=Ql(a);if(this._hashName){const b=this._hashName;let D=!1;const S=u.window.location.hash.slice(1).split("&").map(O=>{const N=O.split("=")[0];return N===b?(D=!0,`${N}=${p}`):O}).filter(O=>O);return D||S.push(`${b}=${p}`),`#${S.join("&")}`}return`#${p}`}_getCurrentHash(){const a=u.window.location.hash.replace("#","");if(this._hashName){let p;return a.split("&").map(b=>b.split("=")).forEach(b=>{b[0]===this._hashName&&(p=b)}),(p&&p[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._map;if(!a)return!1;const p=this._getCurrentHash();if(p.length>=3&&!p.some(b=>isNaN(b))){const b=a.dragRotate.isEnabled()&&a.touchZoomRotate.isEnabled()?+(p[3]||0):a.getBearing();return a.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:b,pitch:+(p[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=u.window.location.href.replace(/(#.+)?$/,this.getHashString());u.window.history.replaceState(u.window.history.state,null,a)}}function Ql(g,a){const p=g.getCenter(),b=Math.round(100*g.getZoom())/100,D=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,D),O=Math.round(p.lng*S)/S,N=Math.round(p.lat*S)/S,V=g.getBearing(),K=g.getPitch();let q=a?`/${O}/${N}/${b}`:`${b}/${N}/${O}`;return(V||K)&&(q+="/"+Math.round(10*V)/10),K&&(q+=`/${Math.round(K)}`),q}const Oc={linearity:.3,easing:u.bezier(0,0,.3,1)},Rc=u.extend({deceleration:2500,maxSpeed:1400},Oc),ec=u.extend({deceleration:20,maxSpeed:1400},Oc),hn=u.extend({deceleration:1e3,maxSpeed:360},Oc),io=u.extend({deceleration:1e3,maxSpeed:90},Oc);class hi{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,p=u.exported.now();for(;a.length>0&&p-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const p={zoom:0,bearing:0,pitch:0,pan:new u.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)p.zoom+=S.zoomDelta||0,p.bearing+=S.bearingDelta||0,p.pitch+=S.pitchDelta||0,S.panDelta&&p.pan._add(S.panDelta),S.around&&(p.around=S.around),S.pinchAround&&(p.pinchAround=S.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,D={};if(p.pan.mag()){const S=la(p.pan.mag(),b,u.extend({},Rc,a||{}));D.offset=p.pan.mult(S.amount/p.pan.mag()),D.center=this._map.transform.center,qa(D,S)}if(p.zoom){const S=la(p.zoom,b,ec);D.zoom=this._map.transform.zoom+S.amount,qa(D,S)}if(p.bearing){const S=la(p.bearing,b,hn);D.bearing=this._map.transform.bearing+u.clamp(S.amount,-179,179),qa(D,S)}if(p.pitch){const S=la(p.pitch,b,io);D.pitch=this._map.transform.pitch+S.amount,qa(D,S)}if(D.zoom||D.bearing){const S=void 0===p.pinchAround?p.around:p.pinchAround;D.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),D.noMoveStart=!0,D}}function qa(g,a){(!g.duration||g.duration<a.duration)&&(g.duration=a.duration,g.easing=a.easing)}function la(g,a,p){const{maxSpeed:b,linearity:D,deceleration:S}=p,O=u.clamp(g*D/(a/1e3),-b,b),N=Math.abs(O)/(S*D);return{easing:p.easing,duration:1e3*N,amount:O*(N/2)}}class Kr extends u.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,p,b,D={}){const S=pn(p.getCanvasContainer(),b),O=p.unproject(S);super(a,u.extend({point:S,lngLat:O,originalEvent:b},D)),this._defaultPrevented=!1,this.target=p}}class Ka extends u.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,p,b){const D="touchend"===a?b.changedTouches:b.touches,S=Fn(p.getCanvasContainer(),D),O=S.map(V=>p.unproject(V)),N=S.reduce((V,K,q,re)=>V.add(K.div(re.length)),new u.Point(0,0));super(a,{points:S,point:N,lngLats:O,lngLat:p.unproject(N),originalEvent:b}),this._defaultPrevented=!1}}class ca extends u.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,p,b){super(a,{originalEvent:b}),this._defaultPrevented=!1}}class Fc{constructor(a,p){this._map=a,this._clickTolerance=p.clickTolerance}reset(){this._mousedownPos=void 0}wheel(a){return this._firePreventable(new ca(a.type,this._map,a))}mousedown(a,p){return this._mousedownPos=p,this._firePreventable(new Kr(a.type,this._map,a))}mouseup(a){this._map.fire(new Kr(a.type,this._map,a))}preclick(a){const p=u.extend({},a);p.type="preclick",this._map.fire(new Kr(p.type,this._map,p))}click(a,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||(this.preclick(a),this._map.fire(new Kr(a.type,this._map,a)))}dblclick(a){return this._firePreventable(new Kr(a.type,this._map,a))}mouseover(a){this._map.fire(new Kr(a.type,this._map,a))}mouseout(a){this._map.fire(new Kr(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Ka(a.type,this._map,a))}touchmove(a){this._map.fire(new Ka(a.type,this._map,a))}touchend(a){this._map.fire(new Ka(a.type,this._map,a))}touchcancel(a){this._map.fire(new Ka(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class jo{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(a){this._map.fire(new Kr(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Kr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._map.fire(new Kr(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ah{constructor(a,p){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,p){this.isEnabled()&&a.shiftKey&&0===a.button&&(Xt(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(a,p){if(!this._active)return;const b=p,D=this._startPos,S=this._lastPos;if(!D||!S||S.equals(b)||!this._box&&b.dist(D)<this._clickTolerance)return;this._lastPos=b,this._box||(this._box=de("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));const O=Math.min(D.x,b.x),N=Math.max(D.x,b.x),V=Math.min(D.y,b.y),K=Math.max(D.y,b.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${O}px,${V}px)`,this._box.style.width=N-O+"px",this._box.style.height=K-V+"px")})}mouseupWindow(a,p){if(!this._active)return;const b=this._startPos,D=p;if(b&&0===a.button){if(this.reset(),An(),b.x!==D.x||b.y!==D.y)return this._map.fire(new u.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:S=>S.fitScreenCoordinates(b,D,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",a)}}keydown(a){this._active&&27===a.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",a))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),_t(),delete this._startPos,delete this._lastPos}_fireEvent(a,p){return this._map.fire(new u.Event(a,{originalEvent:p}))}}function Du(g,a){const p={};for(let b=0;b<g.length;b++)p[g[b].identifier]=a[b];return p}class tc{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(a,p,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=a.timeStamp),b.length===this.numTouches&&(this.centroid=function(D){const S=new u.Point(0,0);for(const O of D)S._add(O);return S.div(D.length)}(p),this.touches=Du(b,p)))}touchmove(a,p,b){if(this.aborted||!this.centroid)return;const D=Du(b,p);for(const S in this.touches){const O=D[S];(!O||O.dist(this.touches[S])>30)&&(this.aborted=!0)}}touchend(a,p,b){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),0===b.length){const D=!this.aborted&&this.centroid;if(this.reset(),D)return D}}}class lh{constructor(a){this.singleTap=new tc(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(a,p,b){this.singleTap.touchstart(a,p,b)}touchmove(a,p,b){this.singleTap.touchmove(a,p,b)}touchend(a,p,b){const D=this.singleTap.touchend(a,p,b);if(D){const S=a.timeStamp-this.lastTime<500,O=!this.lastTap||this.lastTap.dist(D)<30;if(S&&O||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=D,this.count===this.numTaps)return this.reset(),D}}}class Rp{constructor(){this._zoomIn=new lh({numTouches:1,numTaps:2}),this._zoomOut=new lh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,p,b){this._zoomIn.touchstart(a,p,b),this._zoomOut.touchstart(a,p,b)}touchmove(a,p,b){this._zoomIn.touchmove(a,p,b),this._zoomOut.touchmove(a,p,b)}touchend(a,p,b){const D=this._zoomIn.touchend(a,p,b),S=this._zoomOut.touchend(a,p,b);return D?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:O=>O.easeTo({duration:300,zoom:O.getZoom()+1,around:O.unproject(D)},{originalEvent:a})}):S?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:O=>O.easeTo({duration:300,zoom:O.getZoom()-1,around:O.unproject(S)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Zt={0:1,2:2};class Ai{constructor(a){this.reset(),this._clickTolerance=a.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(a,p){return!1}_move(a,p){return{}}mousedown(a,p){if(this._lastPoint)return;const b=Mn(a);this._correctButton(a,b)&&(this._lastPoint=p,this._eventButton=b)}mousemoveWindow(a,p){const b=this._lastPoint;if(b)if(a.preventDefault(),null!=this._eventButton&&function(D,S){const O=Zt[S];return void 0===D.buttons||(D.buttons&O)!==O}(a,this._eventButton))this.reset();else if(this._moved||!(p.dist(b)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(b,p)}mouseupWindow(a){this._lastPoint&&Mn(a)===this._eventButton&&(this._moved&&An(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Eu extends Ai{mousedown(a,p){super.mousedown(a,p),this._lastPoint&&(this._active=!0)}_correctButton(a,p){return 0===p&&!a.ctrlKey}_move(a,p){return{around:p,panDelta:p.sub(a)}}}class Tu extends Ai{_correctButton(a,p){return 0===p&&a.ctrlKey||2===p}_move(a,p){const b=.8*(p.x-a.x);if(b)return this._active=!0,{bearingDelta:b}}contextmenu(a){a.preventDefault()}}class us extends Ai{_correctButton(a,p){return 0===p&&a.ctrlKey||2===p}_move(a,p){const b=-.5*(p.y-a.y);if(b)return this._active=!0,{pitchDelta:b}}contextmenu(a){a.preventDefault()}}class nc{constructor(a,p){this._map=a,this._el=a.getCanvasContainer(),this._minTouches=1,this._clickTolerance=p.clickTolerance||1,this.reset(),u.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new u.Point(0,0)}touchstart(a,p,b){return this._calculateTransform(a,p,b)}touchmove(a,p,b){if(this._active&&!(b.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===b.length&&!u.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return a.cancelable&&a.preventDefault(),this._calculateTransform(a,p,b)}}touchend(a,p,b){this._calculateTransform(a,p,b),this._active&&b.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,p,b){b.length>0&&(this._active=!0);const D=Du(b,p),S=new u.Point(0,0),O=new u.Point(0,0);let N=0;for(const K in D){const q=D[K],re=this._touches[K];re&&(S._add(q),O._add(q.sub(re)),N++,D[K]=q)}if(this._touches=D,N<this._minTouches||!O.mag())return;const V=O.div(N);return this._sum._add(V),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(N),panDelta:V}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=de("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class La{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(a){}_move(a,p,b){return{}}touchstart(a,p,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([p[0],p[1]]))}touchmove(a,p,b){const D=this._firstTwoTouches;if(!D)return;a.preventDefault();const[S,O]=D,N=ro(b,p,S),V=ro(b,p,O);if(!N||!V)return;const K=this._aroundCenter?null:N.add(V).div(2);return this._move([N,V],K,a)}touchend(a,p,b){if(!this._firstTwoTouches)return;const[D,S]=this._firstTwoTouches,O=ro(b,p,D),N=ro(b,p,S);O&&N||(this._active&&An(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&"center"===a.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function ro(g,a,p){for(let b=0;b<g.length;b++)if(g[b].identifier===p)return a[b]}function ic(g,a){return Math.log(g/a)/Math.LN2}class Nc extends La{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,p){const b=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(ic(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ic(this._distance,b),pinchAround:p}}}function Su(g,a){return 180*g.angleWith(a)/Math.PI}class Fp extends La{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,p){const b=this._vector;if(this._vector=a[0].sub(a[1]),b&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Su(this._vector,b),pinchAround:p}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const p=25/(Math.PI*this._minDiameter)*360,b=this._startVector;if(!b)return!1;const D=Su(a,b);return Math.abs(D)<p}}function Aa(g){return Math.abs(g.y)>Math.abs(g.x)}class Vs extends La{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(a){this._lastPoints=a,Aa(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,p,b){const D=this._lastPoints;if(!D)return;const S=a[0].sub(D[0]),O=a[1].sub(D[1]);return this._map._cooperativeGestures&&!u.isFullscreen()&&b.touches.length<3||(this._valid=this.gestureBeginsVertically(S,O,b.timeStamp),!this._valid)?void 0:(this._lastPoints=a,this._active=!0,{pitchDelta:(S.y+O.y)/2*-.5})}gestureBeginsVertically(a,p,b){if(void 0!==this._valid)return this._valid;const D=a.mag()>=2,S=p.mag()>=2;if(!D&&!S)return;if(!D||!S)return null==this._firstMove&&(this._firstMove=b),b-this._firstMove<100&&void 0;const O=a.y>0==p.y>0;return Aa(a)&&Aa(p)&&O}}const ua={panStep:100,bearingStep:15,pitchStep:10};class md{constructor(){const a=ua;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let p=0,b=0,D=0,S=0,O=0;switch(a.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:a.shiftKey?b=-1:(a.preventDefault(),S=-1);break;case 39:a.shiftKey?b=1:(a.preventDefault(),S=1);break;case 38:a.shiftKey?D=1:(a.preventDefault(),O=-1);break;case 40:a.shiftKey?D=-1:(a.preventDefault(),O=1);break;default:return}return this._rotationDisabled&&(b=0,D=0),{cameraAnimation:N=>{const V=N.getZoom();N.easeTo({duration:300,easeId:"keyboardHandler",easing:Xa,zoom:p?Math.round(V)+p*(a.shiftKey?2:1):V,bearing:N.getBearing()+b*this._bearingStep,pitch:N.getPitch()+D*this._pitchStep,offset:[-S*this._panStep,-O*this._panStep],center:N.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Xa(g){return g*(2-g)}const is=4.000244140625;class ch{constructor(a,p){this._map=a,this._el=a.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,u.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&"center"===a.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(a.ctrlKey||a.metaKey||this.isZooming()||u.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let p=a.deltaMode===u.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const b=u.exported.now(),D=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,0!==p&&p%is==0?this._type="wheel":0!==p&&Math.abs(p)<4?this._type="trackpad":D>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(D*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),a.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=a,this._delta-=p,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=pn(this._el,a);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:p,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;"wheel"===this._type&&a.projection.wrap&&(a._center.lng>=180||a._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const p=()=>a._terrainEnabled()&&this._aroundCoord?a.computeZoomRelativeTo(this._aroundCoord):a.zoom;if(0!==this._delta){const V="wheel"===this._type&&Math.abs(this._delta)>is?this._wheelZoomRate:this._defaultZoomRate;let K=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&0!==K&&(K=1/K);const q=p(),re=Math.pow(2,q),he="number"==typeof this._targetZoom?a.zoomScale(this._targetZoom):re;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(he*K))),"wheel"===this._type&&(this._startZoom=q,this._easing=this._smoothOutEasing(200)),this._delta=0}const b="number"==typeof this._targetZoom?this._targetZoom:p(),D=this._startZoom,S=this._easing;let O,N=!1;if("wheel"===this._type&&D&&S){const V=Math.min((u.exported.now()-this._lastWheelEventTime)/200,1),K=S(V);O=u.number(D,b,K),V<1?this._frameId||(this._frameId=!0):N=!0}else O=b,N=!0;return this._active=!0,N&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!N,zoomDelta:O-p(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let p=u.ease;if(this._prevEase){const b=this._prevEase,D=(u.exported.now()-b.start)/b.duration,S=b.easing(D+.01)-b.easing(D),O=.27/Math.sqrt(S*S+1e-4)*.01,N=Math.sqrt(.0729-O*O);p=u.bezier(O,N,.25,1)}return this._prevEase={start:u.exported.now(),duration:a,easing:p},p}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=de("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(u.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class _d{constructor(a,p){this._clickZoom=a,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class _s{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(a,p){return a.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:b.getZoom()+(a.shiftKey?-1:1),around:b.unproject(p)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cu{constructor(){this._tap=new lh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(a,p,b){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?b.length>0&&(this._swipePoint=p[0],this._swipeTouch=b[0].identifier):this._tap.touchstart(a,p,b))}touchmove(a,p,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const D=p[0],S=D.y-this._swipePoint.y;return this._swipePoint=D,a.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(a,p,b)}touchend(a,p,b){this._tapTime?this._swipePoint&&0===b.length&&this.reset():this._tap.touchend(a,p,b)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rc{constructor(a,p,b){this._el=a,this._mousePan=p,this._touchPan=b}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class uh{constructor(a,p,b){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=p,this._mousePitch=b}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class vf{constructor(a,p,b,D){this._el=a,this._touchZoom=p,this._touchRotate=b,this._tapDragZoom=D,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const so=g=>g.zoom||g.drag||g.pitch||g.rotate;class bf extends u.Event{}class xf{constructor(){this.constants=[1,1,.01],this.radius=0}setup(a,p){const b=u.sub([],p,a);this.radius=u.length(b[2]<0?u.div([],b,this.constants):[b[0],b[1],0])}projectRay(a){u.div(a,a,this.constants),u.normalize(a,a),u.mul$1(a,a,this.constants);const p=u.scale$2([],a,this.radius);if(p[2]>0){const b=u.scale$2([],[0,0,1],u.dot(p,[0,0,1])),D=u.scale$2([],u.normalize([],[p[0],p[1],0]),this.radius),S=u.add([],p,u.scale$2([],u.sub([],u.add([],D,b),p),2));p[0]=S[0],p[1]=S[1]}return p}}function Ao(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class Yo{constructor(a,p){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new hi(a),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new xf,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(p),u.bindAll(["handleEvent","handleWindowEvent"],this);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[u.window.document,"mousemove",{capture:!0}],[u.window.document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[u.window,"blur",void 0]];for(const[D,S,O]of this._listeners)D.addEventListener(S,D===u.window.document?this.handleWindowEvent:this.handleEvent,O)}destroy(){for(const[a,p,b]of this._listeners)a.removeEventListener(p,a===u.window.document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(a){const p=this._map,b=p.getCanvasContainer();this._add("mapEvent",new Fc(p,a));const D=p.boxZoom=new ah(p,a);this._add("boxZoom",D);const S=new Rp,O=new _s;p.doubleClickZoom=new _d(O,S),this._add("tapZoom",S),this._add("clickZoom",O);const N=new Cu;this._add("tapDragZoom",N);const V=p.touchPitch=new Vs(p);this._add("touchPitch",V);const K=new Tu(a),q=new us(a);p.dragRotate=new uh(a,K,q),this._add("mouseRotate",K,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const re=new Eu(a),he=new nc(p,a);p.dragPan=new rc(b,re,he),this._add("mousePan",re),this._add("touchPan",he,["touchZoom","touchRotate"]);const ve=new Fp,we=new Nc;p.touchZoomRotate=new vf(b,we,ve,N),this._add("touchRotate",ve,["touchPan","touchZoom"]),this._add("touchZoom",we,["touchPan","touchRotate"]),this._add("blockableMapEvent",new jo(p));const be=p.scrollZoom=new ch(p,this);this._add("scrollZoom",be,["mousePan"]);const De=p.keyboard=new md;this._add("keyboard",De);for(const oe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[oe]&&p[oe].enable(a[oe])}_add(a,p,b){this._handlers.push({handlerName:a,handler:p,allowed:b}),this._handlersById[a]=p}stop(a){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!so(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(a,p,b){for(const D in a)if(D!==b&&(!p||p.indexOf(D)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const p=[];for(const b of a)this._el.contains(b.target)&&p.push(b);return p}handleEvent(a,p){this._updatingCamera=!0;const b="renderFrame"===a.type,D=b?void 0:a,S={needsRenderFrame:!1},O={},N={},V=a.touches?this._getMapTouches(a.touches):void 0,K=V?Fn(this._el,V):b?void 0:pn(this._el,a);for(const{handlerName:he,handler:ve,allowed:we}of this._handlers){if(!ve.isEnabled())continue;let be;this._blockedByActive(N,we,he)?ve.reset():ve[p||a.type]&&(be=ve[p||a.type](a,K,V),this.mergeHandlerResult(S,O,be,he,D),be&&be.needsRenderFrame&&this._triggerRenderFrame()),(be||ve.isActive())&&(N[he]=ve)}const q={};for(const he in this._previousActiveHandlers)N[he]||(q[he]=D);this._previousActiveHandlers=N,(Object.keys(q).length||Ao(S))&&(this._changes.push([S,O,q]),this._triggerRenderFrame()),(Object.keys(N).length||Ao(S))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:re}=S;re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],re(this._map))}mergeHandlerResult(a,p,b,D,S){if(!b)return;u.extend(a,b);const O={handlerName:D,originalEvent:b.originalEvent||S};void 0!==b.zoomDelta&&(p.zoom=O),void 0!==b.panDelta&&(p.drag=O),void 0!==b.pitchDelta&&(p.pitch=O),void 0!==b.bearingDelta&&(p.rotate=O)}_applyChanges(){const a={},p={},b={};for(const[D,S,O]of this._changes)D.panDelta&&(a.panDelta=(a.panDelta||new u.Point(0,0))._add(D.panDelta)),D.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+D.zoomDelta),D.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+D.bearingDelta),D.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+D.pitchDelta),void 0!==D.around&&(a.around=D.around),void 0!==D.aroundCoord&&(a.aroundCoord=D.aroundCoord),void 0!==D.pinchAround&&(a.pinchAround=D.pinchAround),D.noInertia&&(a.noInertia=D.noInertia),u.extend(p,S),u.extend(b,O);this._updateMapTransform(a,p,b),this._changes=[]}_updateMapTransform(a,p,b){const D=this._map,S=D.transform,O=ye=>[ye.x,ye.y,ye.z];if((ye=>{const Ce=this._eventsInProgress.drag;return Ce&&!this._handlersById[Ce.handlerName].isActive()})()&&!Ao(a)){const ye=S.zoom;S.cameraElevationReference="sea",S.recenterOnTerrain(),S.cameraElevationReference="ground",ye!==S.zoom&&this._map._update(!0)}if(S._isCameraConstrained&&D._stop(!0),!Ao(a))return void this._fireEvents(p,b,!0);let{panDelta:N,zoomDelta:V,bearingDelta:K,pitchDelta:q,around:re,aroundCoord:he,pinchAround:ve}=a;S._isCameraConstrained&&(V>0&&(V=0),S._isCameraConstrained=!1),void 0!==ve&&(re=ve),(V||(ye=>p.drag&&!this._eventsInProgress.drag)())&&re&&(this._dragOrigin=O(S.pointCoordinate3D(re)),this._trackingEllipsoid.setup(S._camera.position,this._dragOrigin)),S.cameraElevationReference="sea",D._stop(!0),re=re||D.transform.centerPoint,K&&(S.bearing+=K),q&&(S.pitch+=q),S._updateCameraState();const we=[0,0,0];if(N)if("mercator"===S.projection.name){const ye=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(re).dir),Ce=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(re.sub(N)).dir);we[0]=Ce[0]-ye[0],we[1]=Ce[1]-ye[1]}else{const ye=S.pointCoordinate(re);if("globe"===S.projection.name){N=N.rotate(-S.angle);const Ce=S._pixelsPerMercatorPixel/S.worldSize;we[0]=-N.x*u.mercatorScale(u.latFromMercatorY(ye.y))*Ce,we[1]=-N.y*u.mercatorScale(S.center.lat)*Ce}else{const Ce=S.pointCoordinate(re.sub(N));ye&&Ce&&(we[0]=Ce.x-ye.x,we[1]=Ce.y-ye.y)}}const be=S.zoom,De=[0,0,0];if(V){const ye=O(he||S.pointCoordinate3D(re)),Ce={dir:u.normalize([],u.sub([],ye,S._camera.position))};if(Ce.dir[2]<0){const Le=S.zoomDeltaToMovement(ye,V);u.scale$2(De,Ce.dir,Le)}}const oe=u.add(we,we,De);S._translateCameraConstrained(oe),V&&Math.abs(S.zoom-be)>1e-4&&S.recenterOnTerrain(),S.cameraElevationReference="ground",this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(p,b,!0)}_fireEvents(a,p,b){const D=so(this._eventsInProgress),S=so(a),O={};for(const q in a){const{originalEvent:re}=a[q];this._eventsInProgress[q]||(O[`${q}start`]=re),this._eventsInProgress[q]=a[q]}!D&&S&&this._fireEvent("movestart",S.originalEvent);for(const q in O)this._fireEvent(q,O[q]);S&&this._fireEvent("move",S.originalEvent);for(const q in a){const{originalEvent:re}=a[q];this._fireEvent(q,re)}const N={};let V;for(const q in this._eventsInProgress){const{handlerName:re,originalEvent:he}=this._eventsInProgress[q];this._handlersById[re].isActive()||(delete this._eventsInProgress[q],V=p[re]||he,N[`${q}end`]=V)}for(const q in N)this._fireEvent(q,N[q]);const K=so(this._eventsInProgress);if(b&&(D||S)&&!K){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),re=he=>0!==he&&-this._bearingSnap<he&&he<this._bearingSnap;q?(re(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:V})):(this._map.fire(new u.Event("moveend",{originalEvent:V})),re(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,p){this._map.fire(new u.Event(a,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{this._frameId=void 0,this.handleEvent(new bf("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const vl="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Lu extends u.Evented{constructor(a,p){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=p.bearingSnap,this._respectPrefersReducedMotion=!1!==p.respectPrefersReducedMotion,u.bindAll(["_renderFrameCallback"],this)}getCenter(){return new u.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,p){return this.jumpTo({center:a},p)}panBy(a,p,b){return a=u.Point.convert(a).mult(-1),this.panTo(this.transform.center,u.extend({offset:a},p),b)}panTo(a,p,b){return this.easeTo(u.extend({center:a},p),b)}getZoom(){return this.transform.zoom}setZoom(a,p){return this.jumpTo({zoom:a},p),this}zoomTo(a,p,b){return this.easeTo(u.extend({zoom:a},p),b)}zoomIn(a,p){return this.zoomTo(this.getZoom()+1,a,p),this}zoomOut(a,p){return this.zoomTo(this.getZoom()-1,a,p),this}getBearing(){return this.transform.bearing}setBearing(a,p){return this.jumpTo({bearing:a},p),this}getPadding(){return this.transform.padding}setPadding(a,p){return this.jumpTo({padding:a},p),this}rotateTo(a,p,b){return this.easeTo(u.extend({bearing:a},p),b)}resetNorth(a,p){return this.rotateTo(0,u.extend({duration:1e3},a),p),this}resetNorthPitch(a,p){return this.easeTo(u.extend({bearing:0,pitch:0,duration:1e3},a),p),this}snapToNorth(a,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,p):this}getPitch(){return this.transform.pitch}setPitch(a,p){return this.jumpTo({pitch:a},p),this}cameraForBounds(a,p){a=u.LngLatBounds.convert(a);const b=p&&p.bearing||0,D=p&&p.pitch||0,S=a.getNorthWest(),O=a.getSouthEast();return this._cameraForBounds(this.transform,S,O,b,D,p)}_extendCameraOptions(a){const p={top:0,bottom:0,right:0,left:0};if("number"==typeof(a=u.extend({padding:p,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding){const b=a.padding;a.padding={top:b,bottom:b,right:b,left:b}}return a.padding=u.extend(p,a.padding),a}_minimumAABBFrustumDistance(a,p){const b=p.max[0]-p.min[0],D=p.max[1]-p.min[1];return b/D>a.aspect?b/(2*Math.tan(.5*a.fovX)*a.aspect):D/(2*Math.tan(.5*a.fovY)*a.aspect)}_cameraForBoundsOnGlobe(a,p,b,D,S,O){const N=a.clone(),V=this._extendCameraOptions(O);N.bearing=D,N.pitch=S;const K=u.LngLat.convert(p),q=u.LngLat.convert(b),re=.5*(K.lat+q.lat),he=.5*(K.lng+q.lng),ve=u.latLngToECEF(re,he),we=u.normalize([],ve),be=u.normalize([],u.cross([],we,[0,1,0])),De=u.cross([],be,we),oe=[be[0],be[1],be[2],0,De[0],De[1],De[2],0,we[0],we[1],we[2],0,0,0,0,1],ye=[ve,u.latLngToECEF(K.lat,K.lng),u.latLngToECEF(q.lat,K.lng),u.latLngToECEF(q.lat,q.lng),u.latLngToECEF(K.lat,q.lng),u.latLngToECEF(re,K.lng),u.latLngToECEF(re,q.lng),u.latLngToECEF(K.lat,he),u.latLngToECEF(q.lat,he)];let Ce=u.Aabb.fromPoints(ye.map(Dt=>[u.dot(be,Dt),u.dot(De,Dt),u.dot(we,Dt)]));const Le=u.transformMat4([],Ce.center,oe);0===u.squaredLength(Le)&&u.set(Le,0,0,1),u.normalize(Le,Le),u.scale$2(Le,Le,u.GLOBE_RADIUS),N.center=u.ecefToLatLng(Le);const Ue=N.getWorldToCameraMatrix(),Ye=u.invert(new Float64Array(16),Ue);Ce=u.Aabb.applyTransform(Ce,u.multiply([],Ue,oe)),u.transformMat4(Le,Le,Ue);const Ve=.5*(Ce.max[2]-Ce.min[2]),Xe=this._minimumAABBFrustumDistance(N,Ce),Ze=u.scale$2([],[0,0,1],Ve),it=u.add(Ze,Le,Ze),Rt=Xe+(0===N.pitch?0:u.distance(Le,it)),Qe=N.globeCenterInViewSpace,Mt=u.sub([],Le,[Qe[0],Qe[1],Qe[2]]);u.normalize(Mt,Mt),u.scale$2(Mt,Mt,Rt);const ut=u.add([],Le,Mt);u.transformMat4(ut,ut,Ye);const Lt=u.earthRadius/u.GLOBE_RADIUS,tt=u.length(ut),bt=u.mercatorZfromAltitude(Math.max(tt*Lt-u.earthRadius,Number.EPSILON),0),$t=Math.min(N.zoomFromMercatorZAdjusted(bt),V.maxZoom);return $t>.5*(u.GLOBE_ZOOM_THRESHOLD_MIN+u.GLOBE_ZOOM_THRESHOLD_MAX)?(N.setProjection({name:"mercator"}),N.zoom=$t,this._cameraForBounds(N,p,b,D,S,O)):{center:N.center,zoom:$t,bearing:D,pitch:S}}queryTerrainElevation(a,p){const b=this.transform.elevation;return b?(p=u.extend({},{exaggerated:!0},p),b.getAtPoint(u.MercatorCoordinate.fromLngLat(a),null,p.exaggerated)):null}_cameraForBounds(a,p,b,D,S,O){if("globe"===a.projection.name)return this._cameraForBoundsOnGlobe(a,p,b,D,S,O);const N=a.clone(),V=this._extendCameraOptions(O),K=N.padding;N.bearing=D,N.pitch=S;const q=u.LngLat.convert(p),re=u.LngLat.convert(b),he=new u.LngLat(q.lng,re.lat),ve=new u.LngLat(re.lng,q.lat),we=N.project(q),be=N.project(re),De=this.queryTerrainElevation(q),oe=this.queryTerrainElevation(re),ye=this.queryTerrainElevation(he),Ce=this.queryTerrainElevation(ve),Le=[[we.x,we.y,Math.min(De||0,oe||0,ye||0,Ce||0)],[be.x,be.y,Math.max(De||0,oe||0,ye||0,Ce||0)]];let Ue=u.Aabb.fromPoints(Le);const Ye=N.getWorldToCameraMatrix(),Ve=u.invert(new Float64Array(16),Ye);Ue=u.Aabb.applyTransform(Ue,Ye);const Xe=u.sub([],Ue.max,Ue.min),Ze=K.left||0,it=K.right||0,Rt=K.bottom||0,Qe=K.top||0,{left:Mt,right:ut,top:Lt,bottom:tt}=V.padding,bt=.5*(Ze+it),$t=.5*(Qe+Rt),Dt=Math.min(N.scaleZoom(N.scale*Math.min((N.width-(Ze+it+Mt+ut))/Xe[0],(N.height-(Rt+Qe+tt+Lt))/Xe[1])),V.maxZoom),Ct=N.scale/N.zoomScale(Dt);Ue=new u.Aabb([Ue.min[0]-(Mt+bt)*Ct,Ue.min[1]-(tt+$t)*Ct,Ue.min[2]],[Ue.max[0]+(ut+bt)*Ct,Ue.max[1]+(Lt+$t)*Ct,Ue.max[2]]);const wn=.5*Xe[2],Wn=this._minimumAABBFrustumDistance(N,Ue),_n=[0,0,1,0];u.transformMat4$1(_n,_n,Ye),u.normalize$2(_n,_n);const In=u.scale$2([],_n,Wn+wn),pi=u.add([],Ue.center,In),jn=("number"==typeof V.offset.x&&"number"==typeof V.offset.y?new u.Point(V.offset.x,V.offset.y):u.Point.convert(V.offset)).rotate(-u.degToRad(D));Ue.center[0]-=jn.x*Ct,Ue.center[1]+=jn.y*Ct,u.transformMat4(Ue.center,Ue.center,Ve),u.transformMat4(pi,pi,Ve);const mn=[Ue.center[0],Ue.center[1],pi[2]*N.pixelsPerMeter];u.scale$2(mn,mn,1/N.worldSize);const Ii=u.lngFromMercatorX(mn[0]),mi=u.latFromMercatorY(mn[1]),On=Math.min(N._zoomFromMercatorZ(mn[2]),V.maxZoom),C=new u.LngLat(Ii,mi);return N.mercatorFromTransition&&On<.5*(u.GLOBE_ZOOM_THRESHOLD_MIN+u.GLOBE_ZOOM_THRESHOLD_MAX)?(N.setProjection({name:"globe"}),N.zoom=On,this._cameraForBounds(N,p,b,D,S,O)):{center:C,zoom:On,bearing:D,pitch:S}}fitBounds(a,p,b){const D=this.cameraForBounds(a,p);return this._fitInternal(D,p,b)}fitScreenCoordinates(a,p,b,D,S){const O=u.Point.convert(a),N=u.Point.convert(p),V=new u.Point(Math.min(O.x,N.x),Math.min(O.y,N.y)),K=new u.Point(Math.max(O.x,N.x),Math.max(O.y,N.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(O,N))return this;const q=this.transform.pointLocation3D(V),re=this.transform.pointLocation3D(K),he=this.transform.pointLocation3D(new u.Point(V.x,K.y)),ve=this.transform.pointLocation3D(new u.Point(K.x,V.y)),we=[Math.min(q.lng,re.lng,he.lng,ve.lng),Math.min(q.lat,re.lat,he.lat,ve.lat)],be=[Math.max(q.lng,re.lng,he.lng,ve.lng),Math.max(q.lat,re.lat,he.lat,ve.lat)],De=D&&D.pitch?D.pitch:this.getPitch(),oe=this._cameraForBounds(this.transform,we,be,b,De,D);return this._fitInternal(oe,D,S)}_fitInternal(a,p,b){return a?(delete(p=u.extend(a,p)).padding,p.linear?this.easeTo(p,b):this.flyTo(p,b)):this}jumpTo(a,p){this.stop();const b=a.preloadOnly?this.transform.clone():this.transform;let D=!1,S=!1,O=!1;return"zoom"in a&&b.zoom!==+a.zoom&&(D=!0,b.zoom=+a.zoom),void 0!==a.center&&(b.center=u.LngLat.convert(a.center)),"bearing"in a&&b.bearing!==+a.bearing&&(S=!0,b.bearing=+a.bearing),"pitch"in a&&b.pitch!==+a.pitch&&(O=!0,b.pitch=+a.pitch),null==a.padding||b.isPaddingEqual(a.padding)||(b.padding=a.padding),a.preloadOnly?(this._preloadTiles(b),this):(this.fire(new u.Event("movestart",p)).fire(new u.Event("move",p)),D&&this.fire(new u.Event("zoomstart",p)).fire(new u.Event("zoom",p)).fire(new u.Event("zoomend",p)),S&&this.fire(new u.Event("rotatestart",p)).fire(new u.Event("rotate",p)).fire(new u.Event("rotateend",p)),O&&this.fire(new u.Event("pitchstart",p)).fire(new u.Event("pitch",p)).fire(new u.Event("pitchend",p)),this.fire(new u.Event("moveend",p)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||u.warnOnce(vl),this.transform.getFreeCameraOptions()}setFreeCameraOptions(a,p){const b=this.transform;if(!b.projection.supportsFreeCamera)return u.warnOnce(vl),this;this.stop();const D=b.zoom,S=b.pitch,O=b.bearing;b.setFreeCameraOptions(a);const N=D!==b.zoom,V=S!==b.pitch,K=O!==b.bearing;return this.fire(new u.Event("movestart",p)).fire(new u.Event("move",p)),N&&this.fire(new u.Event("zoomstart",p)).fire(new u.Event("zoom",p)).fire(new u.Event("zoomend",p)),K&&this.fire(new u.Event("rotatestart",p)).fire(new u.Event("rotate",p)).fire(new u.Event("rotateend",p)),V&&this.fire(new u.Event("pitchstart",p)).fire(new u.Event("pitch",p)).fire(new u.Event("pitchend",p)),this.fire(new u.Event("moveend",p)),this}easeTo(a,p){this._stop(!1,a.easeId),(!1===(a=u.extend({offset:[0,0],duration:500,easing:u.ease},a)).animate||this._prefersReducedMotion(a))&&(a.duration=0);const b=this.transform,D=this.getZoom(),S=this.getBearing(),O=this.getPitch(),N=this.getPadding(),V="zoom"in a?+a.zoom:D,K="bearing"in a?this._normalizeBearing(a.bearing,S):S,q="pitch"in a?+a.pitch:O,re="padding"in a?a.padding:b.padding,he=u.Point.convert(a.offset);let ve,we,be;if("globe"===b.projection.name){const Ze=u.MercatorCoordinate.fromLngLat(b.center),it=he.rotate(-b.angle);Ze.x+=it.x/b.worldSize,Ze.y+=it.y/b.worldSize;const Rt=Ze.toLngLat(),Qe=u.LngLat.convert(a.center||Rt);this._normalizeCenter(Qe),ve=b.centerPoint.add(it),we=new u.Point(Ze.x,Ze.y).mult(b.worldSize),be=new u.Point(u.mercatorXfromLng(Qe.lng),u.mercatorYfromLat(Qe.lat)).mult(b.worldSize).sub(we)}else{ve=b.centerPoint.add(he);const Ze=b.pointLocation(ve),it=u.LngLat.convert(a.center||Ze);this._normalizeCenter(it),we=b.project(Ze),be=b.project(it).sub(we)}const De=b.zoomScale(V-D);let oe,ye;a.around&&(oe=u.LngLat.convert(a.around),ye=b.locationPoint(oe));const Ce=this._zooming||V!==D,Le=this._rotating||S!==K,Ue=this._pitching||q!==O,Ye=!b.isPaddingEqual(re),Ve=Ze=>it=>{if(Ce&&(Ze.zoom=u.number(D,V,it)),Le&&(Ze.bearing=u.number(S,K,it)),Ue&&(Ze.pitch=u.number(O,q,it)),Ye&&(Ze.interpolatePadding(N,re,it),ve=Ze.centerPoint.add(he)),oe)Ze.setLocationAtPoint(oe,ye);else{const Rt=Ze.zoomScale(Ze.zoom-D),Qe=V>D?Math.min(2,De):Math.max(.5,De),Mt=Math.pow(Qe,1-it),ut=Ze.unproject(we.add(be.mult(it*Mt)).mult(Rt));Ze.setLocationAtPoint(Ze.renderWorldCopies?ut.wrap():ut,ve)}return a.preloadOnly||this._fireMoveEvents(p),Ze};if(a.preloadOnly){const Ze=this._emulate(Ve,a.duration,b);return this._preloadTiles(Ze),this}const Xe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Ce,this._rotating=Le,this._pitching=Ue,this._padding=Ye,this._easeId=a.easeId,this._prepareEase(p,a.noMoveStart,Xe),this._ease(Ve(b),Ze=>{b.recenterOnTerrain(),this._afterEase(p,Ze)},a),this}_prepareEase(a,p,b={}){this._moving=!0,this.transform.cameraElevationReference="sea",p||b.moving||this.fire(new u.Event("movestart",a)),this._zooming&&!b.zooming&&this.fire(new u.Event("zoomstart",a)),this._rotating&&!b.rotating&&this.fire(new u.Event("rotatestart",a)),this._pitching&&!b.pitching&&this.fire(new u.Event("pitchstart",a))}_fireMoveEvents(a){this.fire(new u.Event("move",a)),this._zooming&&this.fire(new u.Event("zoom",a)),this._rotating&&this.fire(new u.Event("rotate",a)),this._pitching&&this.fire(new u.Event("pitch",a))}_afterEase(a,p){if(this._easeId&&p&&this._easeId===p)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const b=this._zooming,D=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,b&&this.fire(new u.Event("zoomend",a)),D&&this.fire(new u.Event("rotateend",a)),S&&this.fire(new u.Event("pitchend",a)),this.fire(new u.Event("moveend",a))}flyTo(a,p){if(this._prefersReducedMotion(a)){const Dt=u.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Dt,p)}this.stop(),a=u.extend({offset:[0,0],speed:1.2,curve:1.42,easing:u.ease},a);const b=this.transform,D=this.getZoom(),S=this.getBearing(),O=this.getPitch(),N=this.getPadding(),V="zoom"in a?u.clamp(+a.zoom,b.minZoom,b.maxZoom):D,K="bearing"in a?this._normalizeBearing(a.bearing,S):S,q="pitch"in a?+a.pitch:O,re="padding"in a?a.padding:b.padding,he=b.zoomScale(V-D),ve=u.Point.convert(a.offset);let we=b.centerPoint.add(ve);const be=b.pointLocation(we),De=u.LngLat.convert(a.center||be);this._normalizeCenter(De);const oe=b.project(be),ye=b.project(De).sub(oe);let Ce=a.curve;const Le=Math.max(b.width,b.height),Ue=Le/he,Ye=ye.mag();if("minZoom"in a){const Dt=u.clamp(Math.min(a.minZoom,D,V),b.minZoom,b.maxZoom),Ct=Le/b.zoomScale(Dt-D);Ce=Math.sqrt(Ct/Ye*2)}const Ve=Ce*Ce;function Xe(Dt){const Ct=(Ue*Ue-Le*Le+(Dt?-1:1)*Ve*Ve*Ye*Ye)/(2*(Dt?Ue:Le)*Ve*Ye);return Math.log(Math.sqrt(Ct*Ct+1)-Ct)}function Ze(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function it(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}const Rt=Xe(0);let Qe=function(Dt){return it(Rt)/it(Rt+Ce*Dt)},Mt=function(Dt){return Le*((it(Rt)*(Ze(Ct=Rt+Ce*Dt)/it(Ct))-Ze(Rt))/Ve)/Ye;var Ct},ut=(Xe(1)-Rt)/Ce;if(Math.abs(Ye)<1e-6||!isFinite(ut)){if(Math.abs(Le-Ue)<1e-6)return this.easeTo(a,p);const Dt=Ue<Le?-1:1;ut=Math.abs(Math.log(Ue/Le))/Ce,Mt=function(){return 0},Qe=function(Ct){return Math.exp(Dt*Ce*Ct)}}a.duration="duration"in a?+a.duration:1e3*ut/("screenSpeed"in a?+a.screenSpeed/Ce:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0);const Lt=S!==K,tt=q!==O,bt=!b.isPaddingEqual(re),$t=Dt=>Ct=>{const wn=Ct*ut,Wn=1/Qe(wn);Dt.zoom=1===Ct?V:D+Dt.scaleZoom(Wn),Lt&&(Dt.bearing=u.number(S,K,Ct)),tt&&(Dt.pitch=u.number(O,q,Ct)),bt&&(Dt.interpolatePadding(N,re,Ct),we=Dt.centerPoint.add(ve));const _n=1===Ct?De:Dt.unproject(oe.add(ye.mult(Mt(wn))).mult(Wn));return Dt.setLocationAtPoint(Dt.renderWorldCopies?_n.wrap():_n,we),Dt._updateCameraOnTerrain(),a.preloadOnly||this._fireMoveEvents(p),Dt};if(a.preloadOnly){const Dt=this._emulate($t,a.duration,b);return this._preloadTiles(Dt),this}return this._zooming=!0,this._rotating=Lt,this._pitching=tt,this._padding=bt,this._prepareEase(p,!1),this._ease($t(b),()=>this._afterEase(p),a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const b=this._onEaseEnd;this._onEaseEnd=void 0,b.call(this,p)}if(!a){const b=this.handlers;b&&b.stop(!1)}return this}_ease(a,p,b){!1===b.animate||0===b.duration?(a(1),p()):(this._easeStart=u.exported.now(),this._easeOptions=b,this._onEaseFrame=a,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((u.exported.now()-this._easeStart)/this._easeOptions.duration,1),p=this._onEaseFrame;p&&p(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,p){a=u.wrap(a,-180,180);const b=Math.abs(a-p);return Math.abs(a-360-p)<b&&(a-=360),Math.abs(a+360-p)<b&&(a+=360),a}_normalizeCenter(a){const p=this.transform;if(!p.renderWorldCopies||p.maxBounds)return;const b=a.lng-p.center.lng;a.lng+=b>180?-360:b<-180?360:0}_prefersReducedMotion(a){return this._respectPrefersReducedMotion&&u.exported.prefersReducedMotion&&!(a&&a.essential)}_emulate(a,p,b){const D=Math.ceil(15*p/1e3),S=[],O=a(b.clone());for(let N=0;N<=D;N++){const V=O(N/D);S.push(V.clone())}return S}}class xn{constructor(a={}){this.options=a,u.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){const p=this.options&&this.options.compact;return this._map=a,this._container=de("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=de("button","mapboxgl-ctrl-attrib-button",this._container),de("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=de("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===p&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(a,p){const b=this._map._getUIString(`AttributionControl.${p}`);a.setAttribute("aria-label",b),a.removeAttribute("title"),a.firstElementChild&&a.firstElementChild.setAttribute("title",b)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));const p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||u.config.ACCESS_TOKEN}];if(a){const b=p.reduce((D,S,O)=>(S.value&&(D+=`${S.key}=${S.value}${O<p.length-1?"&":""}`),D),"?");a.href=`${u.config.FEEDBACK_URL}/${b}#${Ql(this._map,!0)}`,a.rel="noopener nofollow",this._setElementTitle(a,"MapFeedback")}}_updateData(a){!a||"metadata"!==a.sourceDataType&&"visibility"!==a.sourceDataType&&"style"!==a.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let a=[];if(this._map.style.stylesheet){const D=this._map.style.stylesheet;this.styleOwner=D.owner,this.styleId=D.id}const p=this._map.style._sourceCaches;for(const D in p){const S=p[D];if(S.used){const O=S.getSource();O.attribution&&a.indexOf(O.attribution)<0&&a.push(O.attribution)}}a.sort((D,S)=>D.length-S.length),a=a.filter((D,S)=>{for(let O=S+1;O<a.length;O++)if(a[O].indexOf(D)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=[...this.options.customAttribution,...a]:a.unshift(this.options.customAttribution));const b=a.join(" | ");b!==this._attribHTML&&(this._attribHTML=b,a.length?(this._innerContainer.innerHTML=b,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Au{constructor(){u.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(a){this._map=a,this._container=de("div","mapboxgl-ctrl");const p=de("a","mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://www.mapbox.com/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(a){a&&"metadata"!==a.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const a=this._map.style._sourceCaches;if(0===Object.entries(a).length)return!0;for(const p in a){const b=a[p].getSource();if(b.hasOwnProperty("mapbox_logo")&&!b.mapbox_logo)return!1}return!0}_updateCompact(){const a=this._container.children;if(a.length){const p=a[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("mapboxgl-compact"):p.classList.remove("mapboxgl-compact")}}}class gd{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const p=++this._id;return this._queue.push({callback:a,id:p,cancelled:!1}),p}remove(a){const p=this._currentlyRunning,b=p?this._queue.concat(p):this._queue;for(const D of b)if(D.id===a)return void(D.cancelled=!0)}run(a=0){const p=this._currentlyRunning=this._queue;this._queue=[];for(const b of p)if(!b.cancelled&&(b.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function bl(g,a,p){if(g=new u.LngLat(g.lng,g.lat),a){const b=new u.LngLat(g.lng-360,g.lat),D=new u.LngLat(g.lng+360,g.lat),S=360*Math.ceil(Math.abs(g.lng-p.center.lng)/360),O=p.locationPoint(g).distSqr(a),N=a.x<0||a.y<0||a.x>p.width||a.y>p.height;p.locationPoint(b).distSqr(a)<O&&(N||Math.abs(b.lng-p.center.lng)<S)?g=b:p.locationPoint(D).distSqr(a)<O&&(N||Math.abs(D.lng-p.center.lng)<S)&&(g=D)}for(;Math.abs(g.lng-p.center.lng)>180;){const b=p.locationPoint(g);if(b.x>=0&&b.y>=0&&b.x<=p.width&&b.y<=p.height)break;g.lng>p.center.lng?g.lng-=360:g.lng+=360}return g}const pr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class an extends u.Evented{constructor(a,p){if(super(),(a instanceof u.window.HTMLElement||p)&&(a=u.extend({element:a},p)),u.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=a&&a.occludedOpacity||.2,a&&a.element)this._element=a.element,this._offset=u.Point.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=de("div");const D=41,S=27,O=Me("svg",{display:"block",height:D*this._scale+"px",width:S*this._scale+"px",viewBox:`0 0 ${S} ${D}`},this._element),N=Me("radialGradient",{id:"shadowGradient"},Me("defs",{},O));Me("stop",{offset:"10%","stop-opacity":.4},N),Me("stop",{offset:"100%","stop-opacity":.05},N),Me("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},O),Me("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},O),Me("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},O),Me("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},O),this._offset=u.Point.convert(a&&a.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",D=>{D.preventDefault()}),this._element.addEventListener("mousedown",D=>{D.preventDefault()});const b=this._element.classList;for(const D in pr)b.remove(`mapboxgl-marker-anchor-${D}`);b.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(a){return a===this._map||(this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._updateMoving),a.on("moveend",this._update),a.on("remove",this._clearFadeTimer),a._addMarker(this),this.setDraggable(this._draggable),this._update(),a.on("click",this._onMapClick)),this}remove(){const a=this._map;return a&&(a.off("click",this._onMapClick),a.off("move",this._updateMoving),a.off("moveend",this._update),a.off("mousedown",this._addDragHandler),a.off("touchstart",this._addDragHandler),a.off("mouseup",this._onUp),a.off("touchend",this._onUp),a.off("mousemove",this._onMove),a.off("touchmove",this._onMove),a.off("remove",this._clearFadeTimer),a._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=u.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const D=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[D,-1*(24.6+D)],"bottom-right":[-D,-1*(24.6+D)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=a,a._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(a){const p=a.code,b=a.charCode||a.keyCode;"Space"!==p&&"Enter"!==p&&32!==b&&13!==b||this.togglePopup()}_onMapClick(a){const p=a.originalEvent.target,b=this._element;this._popup&&(p===b||b.contains(p))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?(a.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(a.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const a=this._map,p=this._pos;if(!a||!p)return!1;const b=a.unproject(p),D=a.getFreeCameraOptions();if(!D.position)return!1;const S=D.position.toLngLat();return S.distanceTo(b)<.9*S.distanceTo(this._lngLat)}_evaluateOpacity(){const a=this._map;if(!a)return;const p=this._pos;if(!p||p.x<0||p.x>a.transform.width||p.y<0||p.y>a.transform.height)return void this._clearFadeTimer();const b=a.unproject(p);let D;a._showingGlobe()&&u.isLngLatBehindGlobe(a.transform,this._lngLat)?D=0:(D=1-a._queryFogOpacity(b),a.transform._terrainEnabled()&&a.getTerrain()&&this._behindTerrain()&&(D*=this._occludedOpacity)),this._element.style.opacity=`${D}`,this._element.style.pointerEvents=D>0?"auto":"none",this._popup&&this._popup._setOpacity(D),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const a=this._pos;if(!a||!this._map)return;const p=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${a.x}px,${a.y}px)\n            ${pr[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${p.x}px,${p.y}px)\n        `}_calculateXYTransform(){const a=this._pos,p=this._map,b=this.getPitchAlignment();if(!p||!a||"map"!==b)return"";if(!p._showingGlobe()){const V=p.getPitch();return V?`rotateX(${V}deg)`:""}const D=u.radToDeg(u.globeTiltAtLngLat(p.transform,this._lngLat)),S=a.sub(u.globeCenterToScreenPoint(p.transform)),O=Math.abs(S.x)+Math.abs(S.y);if(0===O)return"";const N=D/O;return`rotateX(${-S.y*N}deg) rotateY(${S.x*N}deg)`}_calculateZTransform(){const a=this._pos,p=this._map;if(!p||!a)return"";let b=0;const D=this.getRotationAlignment();if("map"===D)if(p._showingGlobe()){const S=p.project(new u.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),O=p.project(new u.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(S);b=u.radToDeg(Math.atan2(O.y,O.x))-90}else b=-p.getBearing();else if("horizon"===D){const S=u.smoothstep(4,6,p.getZoom()),O=u.globeCenterToScreenPoint(p.transform);O.y+=S*p.transform.height;const N=a.sub(O),V=u.radToDeg(Math.atan2(N.y,N.x));b=(V>90?V-270:V+90)*(1-S)}return b+=this._rotation,b?`rotateZ(${b}deg)`:""}_update(a){u.window.cancelAnimationFrame(this._updateFrameId);const p=this._map;p&&(p.transform.renderWorldCopies&&(this._lngLat=bl(this._lngLat,this._pos,p.transform)),this._pos=p.project(this._lngLat),!0===a?this._updateFrameId=u.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),p._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(p._showingGlobe()||p.getTerrain()||p.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(a){return this._offset=u.Point.convert(a),this._update(),this}_onMove(a){const p=this._map;if(!p)return;const b=this._pointerdownPos,D=this._positionDelta;if(b&&D){if(!this._isDragging){const S=this._clickTolerance||p._clickTolerance;if(a.point.dist(b)<S)return;this._isDragging=!0}this._pos=a.point.sub(D),this._lngLat=p.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new u.Event("dragstart"))),this.fire(new u.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const a=this._map;a&&(a.off("mousemove",this._onMove),a.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new u.Event("dragend")),this._state="inactive"}_addDragHandler(a){const p=this._map,b=this._pos;p&&b&&this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(b),this._pointerdownPos=a.point,this._state="pending",p.on("mousemove",this._onMove),p.on("touchmove",this._onMove),p.once("mouseup",this._onUp),p.once("touchend",this._onUp))}setDraggable(a){this._draggable=!!a;const p=this._map;return p&&(a?(p.on("mousedown",this._addDragHandler),p.on("touchstart",this._addDragHandler)):(p.off("mousedown",this._addDragHandler),p.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(a){return this._occludedOpacity=a||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Or={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Np=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function wf(g=new u.Point(0,0),a="bottom"){if("number"==typeof g){const p=Math.round(Math.sqrt(.5*Math.pow(g,2)));switch(a){case"top":return new u.Point(0,g);case"top-left":return new u.Point(p,p);case"top-right":return new u.Point(-p,p);case"bottom":return new u.Point(0,-g);case"bottom-left":return new u.Point(p,-p);case"bottom-right":return new u.Point(-p,-p);case"left":return new u.Point(g,0);case"right":return new u.Point(-g,0)}return new u.Point(0,0)}return g instanceof u.Point||Array.isArray(g)?u.Point.convert(g):u.Point.convert(g[a]||[0,0])}class ln{constructor(a){this.jumpTo(a)}getValue(a){if(a<=this._startTime)return this._start;if(a>=this._endTime)return this._end;const p=u.easeCubicInOut((a-this._startTime)/(this._endTime-this._startTime));return this._start*(1-p)+this._end*p}isEasing(a){return a>=this._startTime&&a<=this._endTime}jumpTo(a){this._startTime=-1/0,this._endTime=-1/0,this._start=a,this._end=a}easeTo(a,p,b){this._start=this.getValue(p),this._end=a,this._startTime=p,this._endTime=p+b}}const Mf={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Hs={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},oo={showCompass:!0,showZoom:!0,visualizePitch:!1};class Vi{constructor(a,p,b=!1){this._clickTolerance=10,this.element=p,this.mouseRotate=new Tu({clickTolerance:a.dragRotate._mouseRotate._clickTolerance}),this.map=a,b&&(this.mousePitch=new us({clickTolerance:a.dragRotate._mousePitch._clickTolerance})),u.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),p.addEventListener("mousedown",this.mousedown),p.addEventListener("touchstart",this.touchstart,{passive:!1}),p.addEventListener("touchmove",this.touchmove),p.addEventListener("touchend",this.touchend),p.addEventListener("touchcancel",this.reset)}down(a,p){this.mouseRotate.mousedown(a,p),this.mousePitch&&this.mousePitch.mousedown(a,p),Xt()}move(a,p){const b=this.map,D=this.mouseRotate.mousemoveWindow(a,p),S=D&&D.bearingDelta;if(S&&b.setBearing(b.getBearing()+S),this.mousePitch){const O=this.mousePitch.mousemoveWindow(a,p),N=O&&O.pitchDelta;N&&b.setPitch(b.getPitch()+N)}}off(){const a=this.element;a.removeEventListener("mousedown",this.mousedown),a.removeEventListener("touchstart",this.touchstart,{passive:!1}),a.removeEventListener("touchmove",this.touchmove),a.removeEventListener("touchend",this.touchend),a.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){_t(),u.window.removeEventListener("mousemove",this.mousemove),u.window.removeEventListener("mouseup",this.mouseup)}mousedown(a){this.down(u.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),pn(this.element,a)),u.window.addEventListener("mousemove",this.mousemove),u.window.addEventListener("mouseup",this.mouseup)}mousemove(a){this.move(a,pn(this.element,a))}mouseup(a){this.mouseRotate.mouseupWindow(a),this.mousePitch&&this.mousePitch.mouseupWindow(a),this.offTemp()}touchstart(a){1!==a.targetTouches.length?this.reset():(this._startPos=this._lastPos=Fn(this.element,a.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>a.preventDefault()},this._startPos))}touchmove(a){1!==a.targetTouches.length?this.reset():(this._lastPos=Fn(this.element,a.targetTouches)[0],this.move({preventDefault:()=>a.preventDefault()},this._lastPos))}touchend(a){0===a.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const or={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Gn={maxWidth:100,unit:"metric"},gs={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Ia={version:u.version,supported:J,setRTLTextPlugin:u.setRTLTextPlugin,getRTLTextPluginStatus:u.getRTLTextPluginStatus,Map:class extends Lu{constructor(g){if(u.LivePerformanceUtils.mark(u.PerformanceMarkers.create),null!=(g=u.extend({},Hs,g)).minZoom&&null!=g.maxZoom&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=g.minPitch&&null!=g.maxPitch&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=g.minPitch&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=g.maxPitch&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(g.antialias&&u.isSafariWithAntialiasingBug(u.window)&&(g.antialias=!1,u.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Xl(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),g),this._interactive=g.interactive,this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._useWebGL2=g.useWebGL2,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=g.crossSourceCollisions,this._collectResourceTiming=g.collectResourceTiming,this._optimizeForTerrain=g.optimizeForTerrain,this._language=this._parseLanguage(g.language),this._worldview=g.worldview,this._renderTaskQueue=new gd,this._domRenderTaskQueue=new gd,this._controls=[],this._markers=[],this._popups=[],this._mapId=u.uniqueId(),this._locale=u.extend({},Mf,g.locale),this._clickTolerance=g.clickTolerance,this._cooperativeGestures=g.cooperativeGestures,this._performanceMetricsCollection=g.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ln(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new u.RequestManager(g.transformRequest,g.accessToken,g.testMode),this._silenceAuthErrors=!!g.testMode,"string"==typeof g.container){if(this._container=u.window.document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof u.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(this._container.childNodes.length>0&&u.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),g.maxBounds&&this.setMaxBounds(g.maxBounds),u.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==u.window&&(u.window.addEventListener("online",this._onWindowOnline,!1),u.window.addEventListener("resize",this._onWindowResize,!1),u.window.addEventListener("orientationchange",this._onWindowResize,!1),u.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),u.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Yo(this,g),this._localFontFamily=g.localFontFamily,this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),g.projection&&this.setProjection(g.projection),this._hash=g.hash&&new aa("string"==typeof g.hash&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,u.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),g.attributionControl&&this.addControl(new xn({customAttribution:g.customAttribution})),this._logoControl=new Au,this.addControl(this._logoControl,g.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update("style"===a.dataType),this.fire(new u.Event(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new u.Event(`${a.dataType}dataloading`,a))})}_getMapId(){return this._mapId}addControl(g,a){if(void 0===a&&(a=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=g.onAdd(this);this._controls.push(g);const b=this._controlPositions[a];return-1!==a.indexOf("bottom")?b.insertBefore(p,b.firstChild):b.appendChild(p),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(g);return a>-1&&this._controls.splice(a,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(g){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const a=!this._moving;return a&&this.fire(new u.Event("movestart",g)).fire(new u.Event("move",g)),this.fire(new u.Event("resize",g)),a&&this.fire(new u.Event("moveend",g)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(g){return this.transform.setMaxBounds(u.LngLatBounds.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g?this.setZoom(g):this.fire(new u.Event("zoomstart")).fire(new u.Event("zoom")).fire(new u.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g?this.setZoom(g):this.fire(new u.Event("zoomstart")).fire(new u.Event("zoom")).fire(new u.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g?this.setPitch(g):this.fire(new u.Event("pitchstart")).fire(new u.Event("pitch")).fire(new u.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g?this.setPitch(g):this.fire(new u.Event("pitchstart")).fire(new u.Event("pitch")).fire(new u.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(g){return"auto"===g?u.window.navigator.language:Array.isArray(g)?0===g.length?void 0:g.map(a=>"auto"===a?u.window.navigator.language:a):g}setLanguage(g){const a=this._parseLanguage(g);if(!this.style||a===this._language)return this;this._language=a,this.style._reloadSources();for(const p of this._controls)p._setLanguage&&p._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(g){return this.style&&g!==this._worldview?(this._worldview=g,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(g){return this._lazyInitEmptyStyle(),g?"string"==typeof g&&(g={name:g}):g=null,this._useExplicitProjection=!!g,this._prioritizeAndUpdateProjection(g,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const g=this.transform,a=g.projection.name;let p;"globe"===a&&g.zoom>=u.GLOBE_ZOOM_THRESHOLD_MAX?(g.setMercatorFromTransition(),p=!0):"mercator"===a&&g.zoom<u.GLOBE_ZOOM_THRESHOLD_MAX&&(g.setProjection({name:"globe"}),p=!0),p&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(g,a){return this._updateProjection(g||a||{name:"mercator"})}_updateProjection(g){let a;if(a="globe"===g.name&&this.transform.zoom>=u.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(g),this.style.applyProjectionUpdate(),a){this.painter.clearBackgroundTiles();for(const p in this.style._sourceCaches)this.style._sourceCaches[p].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(g){return this.transform.locationPoint3D(u.LngLat.convert(g))}unproject(g){return this.transform.pointLocation3D(u.Point.convert(g))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(g,a,p){if("mouseenter"===g||"mouseover"===g){let b=!1;const D=O=>{const N=a.filter(K=>this.getLayer(K)),V=N.length?this.queryRenderedFeatures(O.point,{layers:N}):[];V.length?b||(b=!0,p.call(this,new Kr(g,this,O.originalEvent,{features:V}))):b=!1},S=()=>{b=!1};return{layers:new Set(a),listener:p,delegates:{mousemove:D,mouseout:S}}}if("mouseleave"===g||"mouseout"===g){let b=!1;const D=O=>{const N=a.filter(V=>this.getLayer(V));(N.length?this.queryRenderedFeatures(O.point,{layers:N}):[]).length?b=!0:b&&(b=!1,p.call(this,new Kr(g,this,O.originalEvent)))},S=O=>{b&&(b=!1,p.call(this,new Kr(g,this,O.originalEvent)))};return{layers:new Set(a),listener:p,delegates:{mousemove:D,mouseout:S}}}{const b=D=>{const S=a.filter(N=>this.getLayer(N)),O=S.length?this.queryRenderedFeatures(D.point,{layers:S}):[];O.length&&(D.features=O,p.call(this,D),delete D.features)};return{layers:new Set(a),listener:p,delegates:{[g]:b}}}}on(g,a,p){if(void 0===p)return super.on(g,a);Array.isArray(a)||(a=[a]);const b=this._createDelegatedListener(g,a,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(b);for(const D in b.delegates)this.on(D,b.delegates[D]);return this}once(g,a,p){if(void 0===p)return super.once(g,a);Array.isArray(a)||(a=[a]);const b=this._createDelegatedListener(g,a,p);for(const D in b.delegates)this.once(D,b.delegates[D]);return this}off(g,a,p){if(void 0===p)return super.off(g,a);a=new Set(Array.isArray(a)?a:[a]);const b=(S,O)=>{if(S.size!==O.size)return!1;for(const N of S)if(!O.has(N))return!1;return!0},D=this._delegatedListeners?this._delegatedListeners[g]:void 0;return D&&(S=>{for(let O=0;O<S.length;O++){const N=S[O];if(N.listener===p&&b(N.layers,a)){for(const V in N.delegates)this.off(V,N.delegates[V]);return S.splice(O,1),this}}})(D),this}queryRenderedFeatures(g,a){return this.style?(void 0!==a||void 0===g||g instanceof u.Point||Array.isArray(g)||(a=g,g=void 0),this.style.queryRenderedFeatures(g=g||[[0,0],[this.transform.width,this.transform.height]],a=a||{},this.transform)):[]}querySourceFeatures(g,a){return this.style.querySourceFeatures(g,a)}isPointOnSurface(g){const{name:a}=this.transform.projection;return"globe"!==a&&"mercator"!==a&&u.warnOnce(`${a} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(u.Point.convert(g))}setStyle(g,a){return!1!==(a=u.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},a)).diff&&a.localIdeographFontFamily===this._localIdeographFontFamily&&a.localFontFamily===this._localFontFamily&&this.style&&g?(this._diffStyle(g,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._localFontFamily=a.localFontFamily,this._updateStyle(g,a))}_getUIString(g){const a=this._locale[g];if(null==a)throw new Error(`Missing UI string '${g}'`);return a}_updateStyle(g,a){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),g&&(this.style=new Xn(this,a||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof g?this.style.loadURL(g):this.style.loadJSON(g)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Xn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,a){if("string"==typeof g){const p=this._requestManager.normalizeStyleURL(g),b=this._requestManager.transformRequest(p,u.ResourceType.Style);u.getJSON(b,(D,S)=>{D?this.fire(new u.ErrorEvent(D)):S&&this._updateDiff(S,a)})}else"object"==typeof g&&this._updateDiff(g,a)}_updateDiff(g,a){try{this.style.setState(g)&&this._update(!0)}catch(p){u.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(g,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(u.warnOnce("There is no style added to the map."),!1)}addSource(g,a){return this._lazyInitEmptyStyle(),this.style.addSource(g,a),this._update(!0)}isSourceLoaded(g){return!!this.style&&this.style._isSourceCacheLoaded(g)}areTilesLoaded(){const g=this.style&&this.style._sourceCaches;for(const a in g){const p=g[a]._tiles;for(const b in p){const D=p[b];if("loaded"!==D.state&&"errored"!==D.state)return!1}}return!0}addSourceType(g,a,p){this._lazyInitEmptyStyle(),this.style.addSourceType(g,a,p)}removeSource(g){return this.style.removeSource(g),this._updateTerrain(),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,a,{pixelRatio:p=1,sdf:b=!1,stretchX:D,stretchY:S,content:O}={}){if(this._lazyInitEmptyStyle(),a instanceof u.window.HTMLImageElement||u.window.ImageBitmap&&a instanceof u.window.ImageBitmap){const{width:N,height:V,data:K}=u.exported.getImageData(a);this.style.addImage(g,{data:new u.RGBAImage({width:N,height:V},K),pixelRatio:p,stretchX:D,stretchY:S,content:O,sdf:b,version:0})}else if(void 0===a.width||void 0===a.height)this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:N,height:V}=a,K=a;this.style.addImage(g,{data:new u.RGBAImage({width:N,height:V},new Uint8Array(K.data)),pixelRatio:p,stretchX:D,stretchY:S,content:O,sdf:b,version:0,userImage:K}),K.onAdd&&K.onAdd(this,g)}}updateImage(g,a){const p=this.style.getImage(g);if(!p)return void this.fire(new u.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=a instanceof u.window.HTMLImageElement||u.window.ImageBitmap&&a instanceof u.window.ImageBitmap?u.exported.getImageData(a):a,{width:D,height:S}=b;void 0!==D&&void 0!==S?D===p.data.width&&S===p.data.height?(p.data.replace(b.data,!(a instanceof u.window.HTMLImageElement||u.window.ImageBitmap&&a instanceof u.window.ImageBitmap)),this.style.updateImage(g,p)):this.fire(new u.ErrorEvent(new Error(`The width and height of the updated image (${D}, ${S})\n                must be that same as the previous version of the image\n                (${p.data.width}, ${p.data.height})`))):this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new u.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,a){u.getImage(this._requestManager.transformRequest(g,u.ResourceType.Image),(p,b)=>{a(p,b instanceof u.window.HTMLImageElement?u.exported.getImageData(b):b)})}listImages(){return this.style.listImages()}addLayer(g,a){return this._lazyInitEmptyStyle(),this.style.addLayer(g,a),this._update(!0)}moveLayer(g,a){return this.style.moveLayer(g,a),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}setLayerZoomRange(g,a,p){return this.style.setLayerZoomRange(g,a,p),this._update(!0)}setFilter(g,a,p={}){return this.style.setFilter(g,a,p),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,a,p,b={}){return this.style.setPaintProperty(g,a,p,b),this._update(!0)}getPaintProperty(g,a){return this.style.getPaintProperty(g,a)}setLayoutProperty(g,a,p,b={}){return this.style.setLayoutProperty(g,a,p,b),this._update(!0)}getLayoutProperty(g,a){return this.style.getLayoutProperty(g,a)}setLight(g,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,a),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(g){return this._lazyInitEmptyStyle(),!g&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(g),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(g){return this._lazyInitEmptyStyle(),this.style.setFog(g),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(g){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(u.LngLat.convert(g),this.transform):0}setFeatureState(g,a){return this.style.setFeatureState(g,a),this._update()}removeFeatureState(g,a){return this.style.removeFeatureState(g,a),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}_updateContainerDimensions(){if(!this._container)return;const g=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300;let p,b,D,S=this._container;for(;S&&(!b||!D);){const O=u.window.getComputedStyle(S).transform;O&&"none"!==O&&(p=O.match(/matrix.*\((.+)\)/)[1].split(", "),p[0]&&"0"!==p[0]&&"1"!==p[0]&&(b=p[0]),p[3]&&"0"!==p[3]&&"1"!==p[3]&&(D=p[3])),S=S.parentElement}this._containerWidth=b?Math.abs(g/b):g,this._containerHeight=D?Math.abs(a/D):a}_detectMissingCSS(){"rgb(250, 128, 114)"!==u.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&u.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const g=this._container;g.classList.add("mapboxgl-map"),(this._missingCSSCanary=de("div","mapboxgl-canary",g)).style.visibility="hidden",this._detectMissingCSS();const a=this._canvasContainer=de("div","mapboxgl-canvas-container",g);this._interactive&&a.classList.add("mapboxgl-interactive"),this._canvas=de("canvas","mapboxgl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const p=this._controlContainer=de("div","mapboxgl-control-container",g),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{b[D]=de("div",`mapboxgl-ctrl-${D}`,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,a){const p=u.exported.devicePixelRatio||1;this._canvas.width=p*Math.ceil(g),this._canvas.height=p*Math.ceil(a),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${a}px`}_addMarker(g){this._markers.push(g)}_removeMarker(g){const a=this._markers.indexOf(g);-1!==a&&this._markers.splice(a,1)}_addPopup(g){this._popups.push(g)}_removePopup(g){const a=this._popups.indexOf(g);-1!==a&&this._popups.splice(a,1)}_setupPainter(){const g=u.extend({},J.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),a=this._useWebGL2&&this._canvas.getContext("webgl2",g),p=a||this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);p?(this._useWebGL2&&!a&&u.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),u.storeAuthState(p,!0),this.painter=new Zl(p,this.transform,!!a),this.on("data",b=>{"source"===b.dataType&&this.painter.setTileLoadedFlag(!0)}),u.exported$1.testSupport(p)):this.fire(new u.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.Event("webglcontextlost",{originalEvent:g}))}_contextRestored(g){this._setupPainter(),this.resize(),this._update(),this.fire(new u.Event("webglcontextrestored",{originalEvent:g}))}_onMapScroll(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_requestDomTask(g){!this.loaded()||this.loaded()&&!this.isMoving()?g():this._domRenderTaskQueue.add(g)}_render(g){let a;const p=this.painter.context.extTimerQuery,b=u.exported.now();if(this.listens("gpu-timing-frame")&&(a=p.createQueryEXT(),p.beginQueryEXT(p.TIME_ELAPSED_EXT,a)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],u.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],u.window.performance.now())),this._renderTaskQueue.run(g),this._domRenderTaskQueue.run(g),this._removed)return;this._updateProjectionTransition();const D=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const N=this.transform.zoom,V=this.transform.pitch,K=u.exported.now(),q=new u.EvaluationParameters(N,{now:K,fadeDuration:D,pitch:V,transition:this.style.getTransition()});this.style.update(q)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let S=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),S=this._updateAverageElevation(b),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):S=this._updateAverageElevation(b),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,D,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new u.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new u.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),a){const N=u.exported.now()-b;p.endQueryEXT(p.TIME_ELAPSED_EXT,a),setTimeout(()=>{const V=p.getQueryObjectEXT(a,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(a),this.fire(new u.Event("gpu-timing-frame",{cpuTime:N,gpuTime:V})),u.window.performance.mark("frame-gpu",{startTime:b,detail:{gpuTime:V}})},50)}if(this.listens("gpu-timing-layer")){const N=this.painter.collectGpuTimers();setTimeout(()=>{const V=this.painter.queryGpuTimers(N);this.fire(new u.Event("gpu-timing-layer",{layerTimes:V}))},50)}if(this.listens("gpu-timing-deferred-render")){const N=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const V=this.painter.queryGpuTimeDeferredRender(N);this.fire(new u.Event("gpu-timing-deferred-render",{gpuTime:V}))},50)}const O=this._sourcesDirty||this._styleDirty||this._placementDirty||S;if(O||this._repaint)this.triggerRepaint();else{const N=!this.isMoving()&&this.loaded();if(N&&(S=this._updateAverageElevation(b,!0)),S)this.triggerRepaint();else if(this._triggerFrame(!1),N&&(this.fire(new u.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const V=this._calculateSpeedIndex();this.fire(new u.Event("speedindexcompleted",{speedIndex:V})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||O||(this._fullyLoaded=!0,u.LivePerformanceUtils.mark(u.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&u.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(g){for(const a of this._markers)g&&!this.getRenderWorldCopies()&&(a._lngLat=a._lngLat.wrap()),a._update();for(const a of this._popups)!g||this.getRenderWorldCopies()||a._trackPointer||(a._lngLat=a._lngLat.wrap()),a._update()}_updateAverageElevation(g,a=!1){const p=b=>(this.transform.averageElevation=b,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&p(0);if((a||g-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(g)){const b=this.transform.averageElevation;let D=this.transform.sampleAverageElevation(),S=!1;this.transform.elevation&&(S=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(D)?D=0:this._averageElevationLastSampledAt=g;const O=Math.abs(b-D);if(O>1){if(this._isInitialLoad||S)return this._averageElevation.jumpTo(D),p(D);this._averageElevation.easeTo(D,g,300)}else if(O>1e-4)return this._averageElevation.jumpTo(D),p(D)}return!!this._averageElevation.isEasing(g)&&p(this._averageElevation.getValue(g))}_authenticate(){u.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,g=>{if(g&&(g.message===u.AUTH_ERR_MSG||401===g.status)){const a=this.painter.context.gl;u.storeAuthState(a,!1),this._logoControl instanceof Au&&this._logoControl._updateLogo(),a&&a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT|a.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new u.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),u.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const g=this._isDragging();this.painter.updateTerrain(this.style,g)}_calculateSpeedIndex(){const g=this.painter.canvasCopy(),a=this.painter.getCanvasCopiesAndTimestamps();a.timeStamps.push(performance.now());const p=this.painter.context.gl,b=p.createFramebuffer();function D(S){p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,S,0);const O=new Uint8Array(p.drawingBufferWidth*p.drawingBufferHeight*4);return p.readPixels(0,0,p.drawingBufferWidth,p.drawingBufferHeight,p.RGBA,p.UNSIGNED_BYTE,O),O}return p.bindFramebuffer(p.FRAMEBUFFER,b),this._canvasPixelComparison(D(g),a.canvasCopies.map(D),a.timeStamps)}_canvasPixelComparison(g,a,p){let b=p[1]-p[0];const D=g.length/4;for(let S=0;S<a.length;S++){const O=a[S];let N=0;for(let V=0;V<O.length;V+=4)O[V]===g[V]&&O[V+1]===g[V+1]&&O[V+2]===g[V+2]&&O[V+3]===g[V+3]&&(N+=1);b+=(p[S+2]-p[S+1])*(1-N/D)}return b}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==u.window&&(u.window.removeEventListener("resize",this._onWindowResize,!1),u.window.removeEventListener("orientationchange",this._onWindowResize,!1),u.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),u.window.removeEventListener("online",this._onWindowOnline,!1),u.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),u.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new u.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(g){this._renderNextFrame=this._renderNextFrame||g,this.style&&!this._frame&&(this._frame=u.exported.frame(a=>{const p=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,p&&this._render(a)}))}_preloadTiles(g){const a=this.style?Object.values(this.style._sourceCaches):[];return u.asyncAll(a,(p,b)=>p._preloadTiles(g,b),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(g){this._trackResize&&this.resize({originalEvent:g})._update()}_onVisibilityChange(){"hidden"===u.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(g){this._showTerrainWireframe!==g&&(this._showTerrainWireframe=g,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(g){this._speedIndexTiming!==g&&(this._speedIndexTiming=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(g){this._showTileAABBs!==g&&(this._showTileAABBs=g,g&&this._update())}_setCacheLimits(g,a){u.setCacheLimits(g,a)}get version(){return u.version}},NavigationControl:class{constructor(g){this.options=u.extend({},oo,g),this._container=de("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(u.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",a=>{this._map&&this._map.zoomIn({},{originalEvent:a})}),de("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",a=>{this._map&&this._map.zoomOut({},{originalEvent:a})}),de("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(u.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",a=>{const p=this._map;p&&(this.options.visualizePitch?p.resetNorthPitch({},{originalEvent:a}):p.resetNorth({},{originalEvent:a}))}),this._compassIcon=de("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const g=this._map;if(!g)return;const a=g.getZoom(),p=a===g.getMaxZoom(),b=a===g.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=b,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",b.toString())}_rotateCompassArrow(){const g=this._map;if(!g)return;const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(g.transform.pitch*(Math.PI/180)),.5)}) rotateX(${g.transform.pitch}deg) rotateZ(${g.transform.angle*(180/Math.PI)}deg)`:`rotate(${g.transform.angle*(180/Math.PI)}deg)`;g._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=a)})}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),g.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&g.on("pitch",this._rotateCompassArrow),g.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Vi(g,this._compass,this.options.visualizePitch)),this._container}onRemove(){const g=this._map;g&&(this._container.remove(),this.options.showZoom&&g.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&g.off("pitch",this._rotateCompassArrow),g.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(g,a){const p=de("button",g,this._container);return p.type="button",p.addEventListener("click",a),p}_setButtonTitle(g,a){if(!this._map)return;const p=this._map._getUIString(`NavigationControl.${a}`);g.setAttribute("aria-label",p),g.firstElementChild&&g.firstElementChild.setAttribute("title",p)}},GeolocateControl:class extends u.Evented{constructor(g){super(),this.options=u.extend({geolocation:u.window.navigator.geolocation},or,g),u.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Jl(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(g){return this._map=g,this._container=de("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(g){const a=(p=!!this.options.geolocation)=>{this._supportsGeolocation=p,g(p)};void 0!==this._supportsGeolocation?g(this._supportsGeolocation):void 0!==u.window.navigator.permissions?u.window.navigator.permissions.query({name:"geolocation"}).then(p=>a("denied"!==p.state)).catch(()=>a()):a()}_isOutOfMapMaxBounds(g){const a=this._map.getMaxBounds(),p=g.coords;return!!a&&(p.longitude<a.getWest()||p.longitude>a.getEast()||p.latitude<a.getSouth()||p.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new u.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(g),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new u.Event("geolocate",g)),this._finish()}}_updateCamera(g){const a=new u.LngLat(g.coords.longitude,g.coords.latitude),p=g.coords.accuracy,b=this._map.getBearing(),D=u.extend({bearing:b},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(p),D,{geolocateSource:!0})}_updateMarker(g){if(g){const a=new u.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const g=this._map.transform,a=u.mercatorZfromAltitude(1,g._center.lat)*g.worldSize,p=Math.ceil(2*this._accuracy*a);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(g){if(this._map){if(this.options.trackUserLocation)if(1===g.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===g.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new u.Event("error",g)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(g){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=de("button","mapboxgl-ctrl-geolocate",this._container),de("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===g){u.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=de("div","mapboxgl-user-location"),this._dotElement.appendChild(de("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(de("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new an({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=de("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new an({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||"ACTIVE_LOCK"!==this._watchState||a.originalEvent&&"resize"===a.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new u.Event("trackuserlocationend")))})}}_onDeviceOrientation(g){this._userLocationDotMarker&&(g.webkitCompassHeading?this._heading=g.webkitCompassHeading:!0===g.absolute&&(this._heading=-1*g.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return u.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new u.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let g;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(g={maximumAge:6e5,timeout:0},this._noTimeout=!0):(g=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,g),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const g=()=>{u.window.addEventListener("ondeviceorientationabsolute"in u.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==u.window.DeviceMotionEvent&&"function"==typeof u.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(a=>{"granted"===a&&g()}).catch(console.error):g()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),u.window.removeEventListener("deviceorientation",this._onDeviceOrientation),u.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:xn,ScaleControl:class{constructor(g){this.options=u.extend({},Gn,g),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),u.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const g=this.options.maxWidth||100,a=this._map,p=a._containerHeight/2,b=a._containerWidth/2-g/2,D=a.unproject([b,p]),S=a.unproject([b+g,p]),O=D.distanceTo(S);if("imperial"===this.options.unit){const N=3.2808*O;N>5280?this._setScale(g,N/5280,"mile"):this._setScale(g,N,"foot")}else"nautical"===this.options.unit?this._setScale(g,O/1852,"nautical-mile"):O>=1e3?this._setScale(g,O/1e3,"kilometer"):this._setScale(g,O,"meter")}_setScale(g,a,p){this._map._requestDomTask(()=>{const b=function(S){const O=Math.pow(10,`${Math.floor(S)}`.length-1);let N=S/O;return N=N>=10?10:N>=5?5:N>=3?3:N>=2?2:N>=1?1:function(V){const K=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*K)/K}(N),O*N}(a),D=b/a;this._container.innerHTML=this._isNumberFormatSupported&&"nautical-mile"!==p?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:p}).format(b):`${b}&nbsp;${gs[p]}`,this._container.style.width=g*D+"px"})}onAdd(g){return this._map=g,this._language=g.getLanguage(),this._container=de("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(g){this._language=g,this._update()}setUnit(g){this.options.unit=g,this._update()}},FullscreenControl:class{constructor(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof u.window.HTMLElement?this._container=g.container:u.warnOnce("Full screen control 'container' must be a DOM element.")),u.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in u.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in u.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=de("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",u.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,u.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!u.window.document.fullscreenEnabled&&!u.window.document.webkitFullscreenEnabled)}_setupUI(){const g=this._fullscreenButton=de("button","mapboxgl-ctrl-fullscreen",this._controlContainer);de("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),u.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",g)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(u.window.document.fullscreenElement||u.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?u.window.document.exitFullscreen?u.window.document.exitFullscreen():u.window.document.webkitCancelFullScreen&&u.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends u.Evented{constructor(g){super(),this.options=u.extend(Object.create(Or),g),u.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(g&&g.className?g.className.trim().split(/\s+/):[])}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&g.on("preclick",this._onClose),this.options.closeOnMove&&g.on("move",this._onClose),g.on("remove",this.remove),this._update(),g._addPopup(this),this._focusFirstElement(),this._trackPointer?(g.on("mousemove",this._onMouseEvent),g.on("mouseup",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")):g.on("move",this._update),this.fire(new u.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const g=this._map;return g&&(g.off("move",this._update),g.off("move",this._onClose),g.off("preclick",this._onClose),g.off("click",this._onClose),g.off("remove",this.remove),g.off("mousemove",this._onMouseEvent),g.off("mouseup",this._onMouseEvent),g.off("drag",this._onMouseEvent),g._canvasContainer&&g._canvasContainer.classList.remove("mapboxgl-track-pointer"),g._removePopup(this),this._map=void 0),this.fire(new u.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(g){this._lngLat=u.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update();const a=this._map;return a&&(a.on("move",this._update),a.off("mousemove",this._onMouseEvent),a._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const g=this._map;return g&&(g.off("move",this._update),g.on("mousemove",this._onMouseEvent),g.on("drag",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(u.window.document.createTextNode(g))}setHTML(g){const a=u.window.document.createDocumentFragment(),p=u.window.document.createElement("body");let b;for(p.innerHTML=g;b=p.firstChild,b;)a.appendChild(b);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){let a=this._content;if(a)for(;a.hasChildNodes();)a.firstChild&&a.removeChild(a.firstChild);else a=this._content=de("div","mapboxgl-popup-content",this._container||void 0);if(a.appendChild(g),this.options.closeButton){const p=this._closeButton=de("button","mapboxgl-popup-close-button",a);p.type="button",p.setAttribute("aria-label","Close popup"),p.setAttribute("aria-hidden","true"),p.innerHTML="&#215;",p.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(g){return this._classList.add(g),this._updateClassList(),this}removeClassName(g){return this._classList.delete(g),this._updateClassList(),this}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){let a;return this._classList.delete(g)?a=!1:(this._classList.add(g),a=!0),this._updateClassList(),a}_onMouseEvent(g){this._update(g.point)}_getAnchor(g){if(this.options.anchor)return this.options.anchor;const a=this._map,p=this._container,b=this._pos;if(!a||!p||!b)return"bottom";const D=p.offsetWidth,S=p.offsetHeight,O=b.x<D/2,N=b.x>a.transform.width-D/2;if(b.y+g<S)return O?"top-left":N?"top-right":"top";if(b.y>a.transform.height-S){if(O)return"bottom-left";if(N)return"bottom-right"}return O?"left":N?"right":"bottom"}_updateClassList(){const g=this._container;if(!g)return;const a=[...this._classList];a.push("mapboxgl-popup"),this._anchor&&a.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&a.push("mapboxgl-popup-track-pointer"),g.className=a.join(" ")}_update(g){const a=this._map,p=this._content;if(!a||!this._lngLat&&!this._trackPointer||!p)return;let b=this._container;if(b||(b=this._container=de("div","mapboxgl-popup",a.getContainer()),this._tip=de("div","mapboxgl-popup-tip",b),b.appendChild(p)),this.options.maxWidth&&b.style.maxWidth!==this.options.maxWidth&&(b.style.maxWidth=this.options.maxWidth),a.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=bl(this._lngLat,this._pos,a.transform)),!this._trackPointer||g){const D=this._pos=this._trackPointer&&g?g:a.project(this._lngLat),S=wf(this.options.offset),O=this._anchor=this._getAnchor(S.y),N=wf(this.options.offset,O),V=D.add(N).round();a._requestDomTask(()=>{this._container&&O&&(this._container.style.transform=`${pr[O]} translate(${V.x}px,${V.y}px)`)})}if(!this._marker&&a._showingGlobe()){const D=u.isLngLatBehindGlobe(a.transform,this._lngLat)?0:1;this._setOpacity(D)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(Np);g&&g.focus()}_onClose(){this.remove()}_setOpacity(g){this._container&&(this._container.style.opacity=`${g}`),this._content&&(this._content.style.pointerEvents=g?"auto":"none")}},Marker:an,Style:Xn,LngLat:u.LngLat,LngLatBounds:u.LngLatBounds,Point:u.Point,MercatorCoordinate:u.MercatorCoordinate,FreeCameraOptions:ql,Evented:u.Evented,config:u.config,prewarm:function(){Ss().acquire(as)},clearPrewarmedResources:function(){const g=Gi;g&&(g.isPreloaded()&&1===g.numActive()?(g.release(as),Gi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return u.config.ACCESS_TOKEN},set accessToken(g){u.config.ACCESS_TOKEN=g},get baseApiUrl(){return u.config.API_URL},set baseApiUrl(g){u.config.API_URL=g},get workerCount(){return Lr.workerCount},set workerCount(g){Lr.workerCount=g},get maxParallelImageRequests(){return u.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){u.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage(g){u.clearTileCache(g)},workerUrl:"",workerClass:null,setNow:u.exported.setNow,restoreNow:u.exported.restoreNow};return Ia}),y}()},3274:function(xe,_e,G){!function(y){"use strict";y.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(U){return/^nm$/i.test(U)},meridiem:function(U,u,F){return U<12?F?"vm":"VM":F?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(U){return U+(1===U||8===U||U>=20?"ste":"de")},week:{dow:1,doy:4}})}(G(6676))},1867:function(xe,_e,G){!function(y){"use strict";var R=function(ee){return 0===ee?0:1===ee?1:2===ee?2:ee%100>=3&&ee%100<=10?3:ee%100>=11?4:5},U={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},u=function(ee){return function(ae,de,Me,Fe){var Ge=R(ae),ht=U[ee][R(ae)];return 2===Ge&&(ht=ht[de?0:1]),ht.replace(/%d/i,ae)}},F=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];y.defineLocale("ar-dz",{months:F,monthsShort:F,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ee){return"\u0645"===ee},meridiem:function(ee,ae,de){return ee<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:u("s"),ss:u("s"),m:u("m"),mm:u("m"),h:u("h"),hh:u("h"),d:u("d"),dd:u("d"),M:u("M"),MM:u("M"),y:u("y"),yy:u("y")},postformat:function(ee){return ee.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(G(6676))},7078:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(G(6676))},7776:function(xe,_e,G){!function(y){"use strict";var R={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},U=function(ae){return 0===ae?0:1===ae?1:2===ae?2:ae%100>=3&&ae%100<=10?3:ae%100>=11?4:5},u={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},F=function(ae){return function(de,Me,Fe,Ge){var ht=U(de),Xt=u[ae][U(de)];return 2===ht&&(Xt=Xt[Me?0:1]),Xt.replace(/%d/i,de)}},J=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];y.defineLocale("ar-ly",{months:J,monthsShort:J,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ae){return"\u0645"===ae},meridiem:function(ae,de,Me){return ae<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:F("s"),ss:F("s"),m:F("m"),mm:F("m"),h:F("h"),hh:F("h"),d:F("d"),dd:F("d"),M:F("M"),MM:F("M"),y:F("y"),yy:F("y")},preparse:function(ae){return ae.replace(/\u060c/g,",")},postformat:function(ae){return ae.replace(/\d/g,function(de){return R[de]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(G(6676))},6789:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(G(6676))},6897:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},U={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};y.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(F){return"\u0645"===F},meridiem:function(F,J,ee){return F<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(F){return F.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(J){return U[J]}).replace(/\u060c/g,",")},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(G(6676))},1585:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(G(6676))},2097:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},U={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},u=function(de){return 0===de?0:1===de?1:2===de?2:de%100>=3&&de%100<=10?3:de%100>=11?4:5},F={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},J=function(de){return function(Me,Fe,Ge,ht){var Xt=u(Me),_t=F[de][u(Me)];return 2===Xt&&(_t=_t[Fe?0:1]),_t.replace(/%d/i,Me)}},ee=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];y.defineLocale("ar",{months:ee,monthsShort:ee,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(de){return"\u0645"===de},meridiem:function(de,Me,Fe){return de<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:J("s"),ss:J("s"),m:J("m"),mm:J("m"),h:J("h"),hh:J("h"),d:J("d"),dd:J("d"),M:J("M"),MM:J("M"),y:J("y"),yy:J("y")},preparse:function(de){return de.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Me){return U[Me]}).replace(/\u060c/g,",")},postformat:function(de){return de.replace(/\d/g,function(Me){return R[Me]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(G(6676))},5611:function(xe,_e,G){!function(y){"use strict";var R={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};y.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(u){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(u)},meridiem:function(u,F,J){return u<4?"gec\u0259":u<12?"s\u0259h\u0259r":u<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(u){if(0===u)return u+"-\u0131nc\u0131";var F=u%10;return u+(R[F]||R[u%100-F]||R[u>=100?100:null])},week:{dow:1,doy:7}})}(G(6676))},2459:function(xe,_e,G){!function(y){"use strict";function U(F,J,ee){return"m"===ee?J?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===ee?J?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":F+" "+function R(F,J){var ee=F.split("_");return J%10==1&&J%100!=11?ee[0]:J%10>=2&&J%10<=4&&(J%100<10||J%100>=20)?ee[1]:ee[2]}({ss:J?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:J?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:J?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[ee],+F)}y.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:U,mm:U,h:U,hh:U,d:"\u0434\u0437\u0435\u043d\u044c",dd:U,M:"\u043c\u0435\u0441\u044f\u0446",MM:U,y:"\u0433\u043e\u0434",yy:U},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(F){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(F)},meridiem:function(F,J,ee){return F<4?"\u043d\u043e\u0447\u044b":F<12?"\u0440\u0430\u043d\u0456\u0446\u044b":F<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(F,J){switch(J){case"M":case"d":case"DDD":case"w":case"W":return F%10!=2&&F%10!=3||F%100==12||F%100==13?F+"-\u044b":F+"-\u0456";case"D":return F+"-\u0433\u0430";default:return F}},week:{dow:1,doy:7}})}(G(6676))},1825:function(xe,_e,G){!function(y){"use strict";y.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(U){var u=U%10,F=U%100;return 0===U?U+"-\u0435\u0432":0===F?U+"-\u0435\u043d":F>10&&F<20?U+"-\u0442\u0438":1===u?U+"-\u0432\u0438":2===u?U+"-\u0440\u0438":7===u||8===u?U+"-\u043c\u0438":U+"-\u0442\u0438"},week:{dow:1,doy:7}})}(G(6676))},5918:function(xe,_e,G){!function(y){"use strict";y.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(G(6676))},9683:function(xe,_e,G){!function(y){"use strict";var R={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},U={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};y.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(F){return F.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u09b0\u09be\u09a4"===J?F<4?F:F+12:"\u09ad\u09cb\u09b0"===J||"\u09b8\u0995\u09be\u09b2"===J?F:"\u09a6\u09c1\u09aa\u09c1\u09b0"===J?F>=3?F:F+12:"\u09ac\u09bf\u0995\u09be\u09b2"===J||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===J?F+12:void 0},meridiem:function(F,J,ee){return F<4?"\u09b0\u09be\u09a4":F<6?"\u09ad\u09cb\u09b0":F<12?"\u09b8\u0995\u09be\u09b2":F<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":F<18?"\u09ac\u09bf\u0995\u09be\u09b2":F<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(G(6676))},4065:function(xe,_e,G){!function(y){"use strict";var R={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},U={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};y.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(F){return F.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u09b0\u09be\u09a4"===J&&F>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===J&&F<5||"\u09ac\u09bf\u0995\u09be\u09b2"===J?F+12:F},meridiem:function(F,J,ee){return F<4?"\u09b0\u09be\u09a4":F<10?"\u09b8\u0995\u09be\u09b2":F<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":F<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(G(6676))},1034:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},U={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};y.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(F){return F.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===J&&F>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===J&&F<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===J?F+12:F},meridiem:function(F,J,ee){return F<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":F<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":F<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":F<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(G(6676))},7671:function(xe,_e,G){!function(y){"use strict";function R(_t,Pt,An){return _t+" "+function F(_t,Pt){return 2===Pt?function J(_t){var Pt={m:"v",b:"v",d:"z"};return void 0===Pt[_t.charAt(0)]?_t:Pt[_t.charAt(0)]+_t.substring(1)}(_t):_t}({mm:"munutenn",MM:"miz",dd:"devezh"}[An],_t)}function u(_t){return _t>9?u(_t%10):_t}var ee=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],ae=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,ht=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];y.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:ht,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:ht,monthsRegex:ae,monthsShortRegex:ae,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:ee,longMonthsParse:ee,shortMonthsParse:ee,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:R,h:"un eur",hh:"%d eur",d:"un devezh",dd:R,M:"ur miz",MM:R,y:"ur bloaz",yy:function U(_t){switch(u(_t)){case 1:case 3:case 4:case 5:case 9:return _t+" bloaz";default:return _t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(_t){return _t+(1===_t?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(_t){return"g.m."===_t},meridiem:function(_t,Pt,An){return _t<12?"a.m.":"g.m."}})}(G(6676))},8153:function(xe,_e,G){!function(y){"use strict";function R(u,F,J){var ee=u+" ";switch(J){case"ss":return ee+(1===u?"sekunda":2===u||3===u||4===u?"sekunde":"sekundi");case"m":return F?"jedna minuta":"jedne minute";case"mm":return ee+(1===u?"minuta":2===u||3===u||4===u?"minute":"minuta");case"h":return F?"jedan sat":"jednog sata";case"hh":return ee+(1===u?"sat":2===u||3===u||4===u?"sata":"sati");case"dd":return ee+(1===u?"dan":"dana");case"MM":return ee+(1===u?"mjesec":2===u||3===u||4===u?"mjeseca":"mjeseci");case"yy":return ee+(1===u?"godina":2===u||3===u||4===u?"godine":"godina")}}y.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:R,m:R,mm:R,h:R,hh:R,d:"dan",dd:R,M:"mjesec",MM:R,y:"godinu",yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},4287:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(U,u){var F=1===U?"r":2===U?"n":3===U?"r":4===U?"t":"\xe8";return("w"===u||"W"===u)&&(F="a"),U+F},week:{dow:1,doy:4}})}(G(6676))},2616:function(xe,_e,G){!function(y){"use strict";var R={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},U="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),u=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],F=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function J(de){return de>1&&de<5&&1!=~~(de/10)}function ee(de,Me,Fe,Ge){var ht=de+" ";switch(Fe){case"s":return Me||Ge?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return Me||Ge?ht+(J(de)?"sekundy":"sekund"):ht+"sekundami";case"m":return Me?"minuta":Ge?"minutu":"minutou";case"mm":return Me||Ge?ht+(J(de)?"minuty":"minut"):ht+"minutami";case"h":return Me?"hodina":Ge?"hodinu":"hodinou";case"hh":return Me||Ge?ht+(J(de)?"hodiny":"hodin"):ht+"hodinami";case"d":return Me||Ge?"den":"dnem";case"dd":return Me||Ge?ht+(J(de)?"dny":"dn\xed"):ht+"dny";case"M":return Me||Ge?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Me||Ge?ht+(J(de)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):ht+"m\u011bs\xedci";case"y":return Me||Ge?"rok":"rokem";case"yy":return Me||Ge?ht+(J(de)?"roky":"let"):ht+"lety"}}y.defineLocale("cs",{months:R,monthsShort:U,monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:ee,ss:ee,m:ee,mm:ee,h:ee,hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},7049:function(xe,_e,G){!function(y){"use strict";y.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(U){return U+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(U)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(U)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(G(6676))},9172:function(xe,_e,G){!function(y){"use strict";y.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(U){var F="";return U>20?F=40===U||50===U||60===U||80===U||100===U?"fed":"ain":U>0&&(F=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][U]),U+F},week:{dow:1,doy:4}})}(G(6676))},605:function(xe,_e,G){!function(y){"use strict";y.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},3395:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[u+" Tage",u+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[u+" Monate",u+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[u+" Jahre",u+" Jahren"]};return F?ae[J][0]:ae[J][1]}y.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:R,mm:"%d Minuten",h:R,hh:"%d Stunden",d:R,dd:R,w:R,ww:"%d Wochen",M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},9835:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[u+" Tage",u+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[u+" Monate",u+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[u+" Jahre",u+" Jahren"]};return F?ae[J][0]:ae[J][1]}y.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:R,mm:"%d Minuten",h:R,hh:"%d Stunden",d:R,dd:R,w:R,ww:"%d Wochen",M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},4013:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[u+" Tage",u+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[u+" Monate",u+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[u+" Jahre",u+" Jahren"]};return F?ae[J][0]:ae[J][1]}y.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:R,mm:"%d Minuten",h:R,hh:"%d Stunden",d:R,dd:R,w:R,ww:"%d Wochen",M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},4570:function(xe,_e,G){!function(y){"use strict";var R=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],U=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];y.defineLocale("dv",{months:R,monthsShort:R,weekdays:U,weekdaysShort:U,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(F){return"\u0789\u078a"===F},meridiem:function(F,J,ee){return F<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(F){return F.replace(/\u060c/g,",")},postformat:function(F){return F.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(G(6676))},1859:function(xe,_e,G){!function(y){"use strict";y.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(u,F){return u?"string"==typeof F&&/D/.test(F.substring(0,F.indexOf("MMMM")))?this._monthsGenitiveEl[u.month()]:this._monthsNominativeEl[u.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(u,F,J){return u>11?J?"\u03bc\u03bc":"\u039c\u039c":J?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(u){return"\u03bc"===(u+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(u,F){var J=this._calendarEl[u],ee=F&&F.hours();return function R(u){return typeof Function<"u"&&u instanceof Function||"[object Function]"===Object.prototype.toString.call(u)}(J)&&(J=J.apply(F)),J.replace("{}",ee%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(G(6676))},5785:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:0,doy:4}})}(G(6676))},3792:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")}})}(G(6676))},7651:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:1,doy:4}})}(G(6676))},1929:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:1,doy:4}})}(G(6676))},9818:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")}})}(G(6676))},6612:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:0,doy:6}})}(G(6676))},4900:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:1,doy:4}})}(G(6676))},2721:function(xe,_e,G){!function(y){"use strict";y.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:1,doy:4}})}(G(6676))},5159:function(xe,_e,G){!function(y){"use strict";y.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(U){return"p"===U.charAt(0).toLowerCase()},meridiem:function(U,u,F){return U>11?F?"p.t.m.":"P.T.M.":F?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(G(6676))},1780:function(xe,_e,G){!function(y){"use strict";var R="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),U="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),u=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],F=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;y.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(ee,ae){return ee?/-MMM-/.test(ae)?U[ee.month()]:R[ee.month()]:R},monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},3468:function(xe,_e,G){!function(y){"use strict";var R="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),U="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),u=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],F=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;y.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(ee,ae){return ee?/-MMM-/.test(ae)?U[ee.month()]:R[ee.month()]:R},monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(G(6676))},4938:function(xe,_e,G){!function(y){"use strict";var R="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),U="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),u=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],F=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;y.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(ee,ae){return ee?/-MMM-/.test(ae)?U[ee.month()]:R[ee.month()]:R},monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(G(6676))},1148:function(xe,_e,G){!function(y){"use strict";var R="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),U="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),u=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],F=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;y.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(ee,ae){return ee?/-MMM-/.test(ae)?U[ee.month()]:R[ee.month()]:R},monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(G(6676))},1453:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[u+"sekundi",u+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[u+" minuti",u+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[u+" tunni",u+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[u+" kuu",u+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[u+" aasta",u+" aastat"]};return F?ae[J][2]?ae[J][2]:ae[J][1]:ee?ae[J][0]:ae[J][1]}y.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:"%d p\xe4eva",M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},4697:function(xe,_e,G){!function(y){"use strict";y.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},2900:function(xe,_e,G){!function(y){"use strict";var R={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},U={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};y.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(F){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(F)},meridiem:function(F,J,ee){return F<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(F){return F.replace(/[\u06f0-\u06f9]/g,function(J){return U[J]}).replace(/\u060c/g,",")},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(G(6676))},9775:function(xe,_e,G){!function(y){"use strict";var R="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),U=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",R[7],R[8],R[9]];function u(ee,ae,de,Me){var Fe="";switch(de){case"s":return Me?"muutaman sekunnin":"muutama sekunti";case"ss":Fe=Me?"sekunnin":"sekuntia";break;case"m":return Me?"minuutin":"minuutti";case"mm":Fe=Me?"minuutin":"minuuttia";break;case"h":return Me?"tunnin":"tunti";case"hh":Fe=Me?"tunnin":"tuntia";break;case"d":return Me?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":Fe=Me?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return Me?"kuukauden":"kuukausi";case"MM":Fe=Me?"kuukauden":"kuukautta";break;case"y":return Me?"vuoden":"vuosi";case"yy":Fe=Me?"vuoden":"vuotta"}return function F(ee,ae){return ee<10?ae?U[ee]:R[ee]:ee}(ee,Me)+" "+Fe}y.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},4282:function(xe,_e,G){!function(y){"use strict";y.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(U){return U},week:{dow:1,doy:4}})}(G(6676))},4236:function(xe,_e,G){!function(y){"use strict";y.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},2830:function(xe,_e,G){!function(y){"use strict";y.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(U,u){switch(u){default:case"M":case"Q":case"D":case"DDD":case"d":return U+(1===U?"er":"e");case"w":case"W":return U+(1===U?"re":"e")}}})}(G(6676))},1412:function(xe,_e,G){!function(y){"use strict";y.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(U,u){switch(u){default:case"M":case"Q":case"D":case"DDD":case"d":return U+(1===U?"er":"e");case"w":case"W":return U+(1===U?"re":"e")}},week:{dow:1,doy:4}})}(G(6676))},9361:function(xe,_e,G){!function(y){"use strict";var u=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,F=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];y.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:u,monthsShortRegex:u,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:F,longMonthsParse:F,shortMonthsParse:F,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(ee,ae){switch(ae){case"D":return ee+(1===ee?"er":"");default:case"M":case"Q":case"DDD":case"d":return ee+(1===ee?"er":"e");case"w":case"W":return ee+(1===ee?"re":"e")}},week:{dow:1,doy:4}})}(G(6676))},6984:function(xe,_e,G){!function(y){"use strict";var R="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),U="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");y.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(F,J){return F?/-MMM-/.test(J)?U[F.month()]:R[F.month()]:R},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(F){return F+(1===F||8===F||F>=20?"ste":"de")},week:{dow:1,doy:4}})}(G(6676))},3961:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(ae){return ae+(1===ae?"d":ae%10==2?"na":"mh")},week:{dow:1,doy:4}})}(G(6676))},8849:function(xe,_e,G){!function(y){"use strict";y.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(ae){return ae+(1===ae?"d":ae%10==2?"na":"mh")},week:{dow:1,doy:4}})}(G(6676))},4273:function(xe,_e,G){!function(y){"use strict";y.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(U){return 0===U.indexOf("un")?"n"+U:"en "+U},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},623:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[u+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",u+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[u+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",u+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[u+" \u0935\u0930\u093e\u0902\u0928\u0940",u+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[u+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",u+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[u+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",u+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[u+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",u+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return ee?ae[J][0]:ae[J][1]}y.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(u,F){return"D"===F?u+"\u0935\u0947\u0930":u},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(u,F){return 12===u&&(u=0),"\u0930\u093e\u0924\u0940"===F?u<4?u:u+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===F?u:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===F?u>12?u:u+12:"\u0938\u093e\u0902\u091c\u0947"===F?u+12:void 0},meridiem:function(u,F,J){return u<4?"\u0930\u093e\u0924\u0940":u<12?"\u0938\u0915\u093e\u0933\u0940\u0902":u<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":u<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(G(6676))},2696:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae={s:["thoddea sekondamni","thodde sekond"],ss:[u+" sekondamni",u+" sekond"],m:["eka mintan","ek minut"],mm:[u+" mintamni",u+" mintam"],h:["eka voran","ek vor"],hh:[u+" voramni",u+" voram"],d:["eka disan","ek dis"],dd:[u+" disamni",u+" dis"],M:["eka mhoinean","ek mhoino"],MM:[u+" mhoineamni",u+" mhoine"],y:["eka vorsan","ek voros"],yy:[u+" vorsamni",u+" vorsam"]};return ee?ae[J][0]:ae[J][1]}y.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(u,F){return"D"===F?u+"er":u},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(u,F){return 12===u&&(u=0),"rati"===F?u<4?u:u+12:"sokallim"===F?u:"donparam"===F?u>12?u:u+12:"sanje"===F?u+12:void 0},meridiem:function(u,F,J){return u<4?"rati":u<12?"sokallim":u<16?"donparam":u<20?"sanje":"rati"}})}(G(6676))},6928:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},U={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};y.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(F){return F.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u0ab0\u0abe\u0aa4"===J?F<4?F:F+12:"\u0ab8\u0ab5\u0abe\u0ab0"===J?F:"\u0aac\u0aaa\u0acb\u0ab0"===J?F>=10?F:F+12:"\u0ab8\u0abe\u0a82\u0a9c"===J?F+12:void 0},meridiem:function(F,J,ee){return F<4?"\u0ab0\u0abe\u0aa4":F<10?"\u0ab8\u0ab5\u0abe\u0ab0":F<17?"\u0aac\u0aaa\u0acb\u0ab0":F<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(G(6676))},4804:function(xe,_e,G){!function(y){"use strict";y.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(U){return 2===U?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":U+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(U){return 2===U?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":U+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(U){return 2===U?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":U+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(U){return 2===U?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":U%10==0&&10!==U?U+" \u05e9\u05e0\u05d4":U+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(U){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(U)},meridiem:function(U,u,F){return U<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":U<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":U<12?F?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":U<18?F?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(G(6676))},3015:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},U={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},u=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];y.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:u,longMonthsParse:u,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(ee){return ee.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(ae){return U[ae]})},postformat:function(ee){return ee.replace(/\d/g,function(ae){return R[ae]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(ee,ae){return 12===ee&&(ee=0),"\u0930\u093e\u0924"===ae?ee<4?ee:ee+12:"\u0938\u0941\u092c\u0939"===ae?ee:"\u0926\u094b\u092a\u0939\u0930"===ae?ee>=10?ee:ee+12:"\u0936\u093e\u092e"===ae?ee+12:void 0},meridiem:function(ee,ae,de){return ee<4?"\u0930\u093e\u0924":ee<10?"\u0938\u0941\u092c\u0939":ee<17?"\u0926\u094b\u092a\u0939\u0930":ee<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(G(6676))},7134:function(xe,_e,G){!function(y){"use strict";function R(u,F,J){var ee=u+" ";switch(J){case"ss":return ee+(1===u?"sekunda":2===u||3===u||4===u?"sekunde":"sekundi");case"m":return F?"jedna minuta":"jedne minute";case"mm":return ee+(1===u?"minuta":2===u||3===u||4===u?"minute":"minuta");case"h":return F?"jedan sat":"jednog sata";case"hh":return ee+(1===u?"sat":2===u||3===u||4===u?"sata":"sati");case"dd":return ee+(1===u?"dan":"dana");case"MM":return ee+(1===u?"mjesec":2===u||3===u||4===u?"mjeseca":"mjeseci");case"yy":return ee+(1===u?"godina":2===u||3===u||4===u?"godine":"godina")}}y.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:R,m:R,mm:R,h:R,hh:R,d:"dan",dd:R,M:"mjesec",MM:R,y:"godinu",yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},670:function(xe,_e,G){!function(y){"use strict";var R="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function U(J,ee,ae,de){var Me=J;switch(ae){case"s":return de||ee?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return Me+(de||ee)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(de||ee?" perc":" perce");case"mm":return Me+(de||ee?" perc":" perce");case"h":return"egy"+(de||ee?" \xf3ra":" \xf3r\xe1ja");case"hh":return Me+(de||ee?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(de||ee?" nap":" napja");case"dd":return Me+(de||ee?" nap":" napja");case"M":return"egy"+(de||ee?" h\xf3nap":" h\xf3napja");case"MM":return Me+(de||ee?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(de||ee?" \xe9v":" \xe9ve");case"yy":return Me+(de||ee?" \xe9v":" \xe9ve")}return""}function u(J){return(J?"":"[m\xfalt] ")+"["+R[this.day()]+"] LT[-kor]"}y.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(J){return"u"===J.charAt(1).toLowerCase()},meridiem:function(J,ee,ae){return J<12?!0===ae?"de":"DE":!0===ae?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return u.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return u.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:U,ss:U,m:U,mm:U,h:U,hh:U,d:U,dd:U,M:U,MM:U,y:U,yy:U},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},4523:function(xe,_e,G){!function(y){"use strict";y.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(U){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(U)},meridiem:function(U){return U<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":U<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":U<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(U,u){switch(u){case"DDD":case"w":case"W":case"DDDo":return 1===U?U+"-\u056b\u0576":U+"-\u0580\u0564";default:return U}},week:{dow:1,doy:7}})}(G(6676))},9233:function(xe,_e,G){!function(y){"use strict";y.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(U,u){return 12===U&&(U=0),"pagi"===u?U:"siang"===u?U>=11?U:U+12:"sore"===u||"malam"===u?U+12:void 0},meridiem:function(U,u,F){return U<11?"pagi":U<15?"siang":U<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(G(6676))},4693:function(xe,_e,G){!function(y){"use strict";function R(F){return F%100==11||F%10!=1}function U(F,J,ee,ae){var de=F+" ";switch(ee){case"s":return J||ae?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return R(F)?de+(J||ae?"sek\xfandur":"sek\xfandum"):de+"sek\xfanda";case"m":return J?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return R(F)?de+(J||ae?"m\xedn\xfatur":"m\xedn\xfatum"):J?de+"m\xedn\xfata":de+"m\xedn\xfatu";case"hh":return R(F)?de+(J||ae?"klukkustundir":"klukkustundum"):de+"klukkustund";case"d":return J?"dagur":ae?"dag":"degi";case"dd":return R(F)?J?de+"dagar":de+(ae?"daga":"d\xf6gum"):J?de+"dagur":de+(ae?"dag":"degi");case"M":return J?"m\xe1nu\xf0ur":ae?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return R(F)?J?de+"m\xe1nu\xf0ir":de+(ae?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):J?de+"m\xe1nu\xf0ur":de+(ae?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return J||ae?"\xe1r":"\xe1ri";case"yy":return R(F)?de+(J||ae?"\xe1r":"\xe1rum"):de+(J||ae?"\xe1r":"\xe1ri")}}y.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:U,ss:U,m:U,mm:U,h:"klukkustund",hh:U,d:U,dd:U,M:U,MM:U,y:U,yy:U},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},8118:function(xe,_e,G){!function(y){"use strict";y.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(U){return(/^[0-9].+$/.test(U)?"tra":"in")+" "+U},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},3936:function(xe,_e,G){!function(y){"use strict";y.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},6871:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(U,u){return"\u5143"===u[1]?1:parseInt(u[1]||U,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(U){return"\u5348\u5f8c"===U},meridiem:function(U,u,F){return U<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(U){return U.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(U){return this.week()!==U.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(U,u){switch(u){case"y":return 1===U?"\u5143\u5e74":U+"\u5e74";case"d":case"D":case"DDD":return U+"\u65e5";default:return U}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(G(6676))},8710:function(xe,_e,G){!function(y){"use strict";y.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(U,u){return 12===U&&(U=0),"enjing"===u?U:"siyang"===u?U>=11?U:U+12:"sonten"===u||"ndalu"===u?U+12:void 0},meridiem:function(U,u,F){return U<11?"enjing":U<15?"siyang":U<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(G(6676))},7125:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(U){return U.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(u,F,J){return"\u10d8"===J?F+"\u10e8\u10d8":F+J+"\u10e8\u10d8"})},past:function(U){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(U)?U.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(U)?U.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):U},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(U){return 0===U?U:1===U?U+"-\u10da\u10d8":U<20||U<=100&&U%20==0||U%100==0?"\u10db\u10d4-"+U:U+"-\u10d4"},week:{dow:1,doy:7}})}(G(6676))},2461:function(xe,_e,G){!function(y){"use strict";var R={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};y.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(u){return u+(R[u]||R[u%10]||R[u>=100?100:null])},week:{dow:1,doy:7}})}(G(6676))},7399:function(xe,_e,G){!function(y){"use strict";var R={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},U={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};y.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(F){return"\u179b\u17d2\u1784\u17b6\u1785"===F},meridiem:function(F,J,ee){return F<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(F){return F.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},week:{dow:1,doy:4}})}(G(6676))},8720:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},U={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};y.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(F){return F.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===J?F<4?F:F+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===J?F:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===J?F>=10?F:F+12:"\u0cb8\u0c82\u0c9c\u0cc6"===J?F+12:void 0},meridiem:function(F,J,ee){return F<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":F<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":F<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":F<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(F){return F+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(G(6676))},5306:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(U,u){switch(u){case"d":case"D":case"DDD":return U+"\uc77c";case"M":return U+"\uc6d4";case"w":case"W":return U+"\uc8fc";default:return U}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(U){return"\uc624\ud6c4"===U},meridiem:function(U,u,F){return U<12?"\uc624\uc804":"\uc624\ud6c4"}})}(G(6676))},2995:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},U={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},u=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];y.defineLocale("ku",{months:u,monthsShort:u,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(J){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(J)},meridiem:function(J,ee,ae){return J<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(J){return J.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(ee){return U[ee]}).replace(/\u060c/g,",")},postformat:function(J){return J.replace(/\d/g,function(ee){return R[ee]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(G(6676))},8779:function(xe,_e,G){!function(y){"use strict";var R={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};y.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(u){return u+(R[u]||R[u%10]||R[u>=100?100:null])},week:{dow:1,doy:7}})}(G(6676))},2057:function(xe,_e,G){!function(y){"use strict";function R(ee,ae,de,Me){var Fe={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return ae?Fe[de][0]:Fe[de][1]}function F(ee){if(ee=parseInt(ee,10),isNaN(ee))return!1;if(ee<0)return!0;if(ee<10)return 4<=ee&&ee<=7;if(ee<100){var ae=ee%10;return F(0===ae?ee/10:ae)}if(ee<1e4){for(;ee>=10;)ee/=10;return F(ee)}return F(ee/=1e3)}y.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function U(ee){return F(ee.substr(0,ee.indexOf(" ")))?"a "+ee:"an "+ee},past:function u(ee){return F(ee.substr(0,ee.indexOf(" ")))?"viru "+ee:"virun "+ee},s:"e puer Sekonnen",ss:"%d Sekonnen",m:R,mm:"%d Minutten",h:R,hh:"%d Stonnen",d:R,dd:"%d Deeg",M:R,MM:"%d M\xe9int",y:R,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},7192:function(xe,_e,G){!function(y){"use strict";y.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(U){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===U},meridiem:function(U,u,F){return U<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(U){return"\u0e97\u0eb5\u0ec8"+U}})}(G(6676))},5430:function(xe,_e,G){!function(y){"use strict";var R={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function u(de,Me,Fe,Ge){return Me?J(Fe)[0]:Ge?J(Fe)[1]:J(Fe)[2]}function F(de){return de%10==0||de>10&&de<20}function J(de){return R[de].split("_")}function ee(de,Me,Fe,Ge){var ht=de+" ";return 1===de?ht+u(0,Me,Fe[0],Ge):Me?ht+(F(de)?J(Fe)[1]:J(Fe)[0]):Ge?ht+J(Fe)[1]:ht+(F(de)?J(Fe)[1]:J(Fe)[2])}y.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function U(de,Me,Fe,Ge){return Me?"kelios sekund\u0117s":Ge?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:ee,m:u,mm:ee,h:u,hh:ee,d:u,dd:ee,M:u,MM:ee,y:u,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(de){return de+"-oji"},week:{dow:1,doy:4}})}(G(6676))},3363:function(xe,_e,G){!function(y){"use strict";var R={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function U(ae,de,Me){return Me?de%10==1&&de%100!=11?ae[2]:ae[3]:de%10==1&&de%100!=11?ae[0]:ae[1]}function u(ae,de,Me){return ae+" "+U(R[Me],ae,de)}function F(ae,de,Me){return U(R[Me],ae,de)}y.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function J(ae,de){return de?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:u,m:F,mm:u,h:F,hh:u,d:F,dd:u,M:F,MM:u,y:F,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},2939:function(xe,_e,G){!function(y){"use strict";var R={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(u,F){return 1===u?F[0]:u>=2&&u<=4?F[1]:F[2]},translate:function(u,F,J){var ee=R.words[J];return 1===J.length?F?ee[0]:ee[1]:u+" "+R.correctGrammaticalCase(u,ee)}};y.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:R.translate,m:R.translate,mm:R.translate,h:R.translate,hh:R.translate,d:"dan",dd:R.translate,M:"mjesec",MM:R.translate,y:"godinu",yy:R.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},8212:function(xe,_e,G){!function(y){"use strict";y.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},9718:function(xe,_e,G){!function(y){"use strict";y.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(U){var u=U%10,F=U%100;return 0===U?U+"-\u0435\u0432":0===F?U+"-\u0435\u043d":F>10&&F<20?U+"-\u0442\u0438":1===u?U+"-\u0432\u0438":2===u?U+"-\u0440\u0438":7===u||8===u?U+"-\u043c\u0438":U+"-\u0442\u0438"},week:{dow:1,doy:7}})}(G(6676))},561:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(U,u){return 12===U&&(U=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===u&&U>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===u||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===u?U+12:U},meridiem:function(U,u,F){return U<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":U<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":U<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":U<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(G(6676))},8929:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){switch(J){case"s":return F?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return u+(F?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return u+(F?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return u+(F?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return u+(F?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return u+(F?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return u+(F?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return u}}y.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(u){return"\u04ae\u0425"===u},meridiem:function(u,F,J){return u<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(u,F){switch(F){case"d":case"D":case"DDD":return u+" \u04e9\u0434\u04e9\u0440";default:return u}}})}(G(6676))},4880:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},U={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function u(J,ee,ae,de){var Me="";if(ee)switch(ae){case"s":Me="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":Me="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":Me="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":Me="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":Me="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":Me="%d \u0924\u093e\u0938";break;case"d":Me="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":Me="%d \u0926\u093f\u0935\u0938";break;case"M":Me="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":Me="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":Me="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":Me="%d \u0935\u0930\u094d\u0937\u0947"}else switch(ae){case"s":Me="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":Me="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":Me="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":Me="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":Me="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":Me="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":Me="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":Me="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":Me="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":Me="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":Me="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":Me="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return Me.replace(/%d/i,J)}y.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},preparse:function(J){return J.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(ee){return U[ee]})},postformat:function(J){return J.replace(/\d/g,function(ee){return R[ee]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(J,ee){return 12===J&&(J=0),"\u092a\u0939\u093e\u091f\u0947"===ee||"\u0938\u0915\u093e\u0933\u0940"===ee?J:"\u0926\u0941\u092a\u093e\u0930\u0940"===ee||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===ee||"\u0930\u093e\u0924\u094d\u0930\u0940"===ee?J>=12?J:J+12:void 0},meridiem:function(J,ee,ae){return J>=0&&J<6?"\u092a\u0939\u093e\u091f\u0947":J<12?"\u0938\u0915\u093e\u0933\u0940":J<17?"\u0926\u0941\u092a\u093e\u0930\u0940":J<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(G(6676))},2074:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(U,u){return 12===U&&(U=0),"pagi"===u?U:"tengahari"===u?U>=11?U:U+12:"petang"===u||"malam"===u?U+12:void 0},meridiem:function(U,u,F){return U<11?"pagi":U<15?"tengahari":U<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(G(6676))},3193:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(U,u){return 12===U&&(U=0),"pagi"===u?U:"tengahari"===u?U>=11?U:U+12:"petang"===u||"malam"===u?U+12:void 0},meridiem:function(U,u,F){return U<11?"pagi":U<15?"tengahari":U<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(G(6676))},4082:function(xe,_e,G){!function(y){"use strict";y.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},2261:function(xe,_e,G){!function(y){"use strict";var R={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},U={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};y.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(F){return F.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},week:{dow:1,doy:4}})}(G(6676))},5273:function(xe,_e,G){!function(y){"use strict";y.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},9874:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},U={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};y.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(F){return F.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u0930\u093e\u0924\u093f"===J?F<4?F:F+12:"\u092c\u093f\u0939\u093e\u0928"===J?F:"\u0926\u093f\u0909\u0901\u0938\u094b"===J?F>=10?F:F+12:"\u0938\u093e\u0901\u091d"===J?F+12:void 0},meridiem:function(F,J,ee){return F<3?"\u0930\u093e\u0924\u093f":F<12?"\u092c\u093f\u0939\u093e\u0928":F<16?"\u0926\u093f\u0909\u0901\u0938\u094b":F<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(G(6676))},1484:function(xe,_e,G){!function(y){"use strict";var R="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),U="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),u=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],F=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;y.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(ee,ae){return ee?/-MMM-/.test(ae)?U[ee.month()]:R[ee.month()]:R},monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(ee){return ee+(1===ee||8===ee||ee>=20?"ste":"de")},week:{dow:1,doy:4}})}(G(6676))},1667:function(xe,_e,G){!function(y){"use strict";var R="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),U="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),u=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],F=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;y.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(ee,ae){return ee?/-MMM-/.test(ae)?U[ee.month()]:R[ee.month()]:R},monthsRegex:F,monthsShortRegex:F,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(ee){return ee+(1===ee||8===ee||ee>=20?"ste":"de")},week:{dow:1,doy:4}})}(G(6676))},7262:function(xe,_e,G){!function(y){"use strict";y.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},9679:function(xe,_e,G){!function(y){"use strict";y.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(U,u){var F=1===U?"r":2===U?"n":3===U?"r":4===U?"t":"\xe8";return("w"===u||"W"===u)&&(F="a"),U+F},week:{dow:1,doy:4}})}(G(6676))},6830:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},U={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};y.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(F){return F.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(F,J){return 12===F&&(F=0),"\u0a30\u0a3e\u0a24"===J?F<4?F:F+12:"\u0a38\u0a35\u0a47\u0a30"===J?F:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===J?F>=10?F:F+12:"\u0a38\u0a3c\u0a3e\u0a2e"===J?F+12:void 0},meridiem:function(F,J,ee){return F<4?"\u0a30\u0a3e\u0a24":F<10?"\u0a38\u0a35\u0a47\u0a30":F<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":F<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(G(6676))},3616:function(xe,_e,G){!function(y){"use strict";var R="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),U="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),u=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function F(ae){return ae%10<5&&ae%10>1&&~~(ae/10)%10!=1}function J(ae,de,Me){var Fe=ae+" ";switch(Me){case"ss":return Fe+(F(ae)?"sekundy":"sekund");case"m":return de?"minuta":"minut\u0119";case"mm":return Fe+(F(ae)?"minuty":"minut");case"h":return de?"godzina":"godzin\u0119";case"hh":return Fe+(F(ae)?"godziny":"godzin");case"ww":return Fe+(F(ae)?"tygodnie":"tygodni");case"MM":return Fe+(F(ae)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return Fe+(F(ae)?"lata":"lat")}}y.defineLocale("pl",{months:function(ae,de){return ae?/D MMMM/.test(de)?U[ae.month()]:R[ae.month()]:R},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:u,longMonthsParse:u,shortMonthsParse:u,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:J,m:J,mm:J,h:J,hh:J,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:J,M:"miesi\u0105c",MM:J,y:"rok",yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},2751:function(xe,_e,G){!function(y){"use strict";y.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(G(6676))},5138:function(xe,_e,G){!function(y){"use strict";y.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(G(6676))},7968:function(xe,_e,G){!function(y){"use strict";function R(u,F,J){var ae=" ";return(u%100>=20||u>=100&&u%100==0)&&(ae=" de "),u+ae+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[J]}y.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:R,m:"un minut",mm:R,h:"o or\u0103",hh:R,d:"o zi",dd:R,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:R,M:"o lun\u0103",MM:R,y:"un an",yy:R},week:{dow:1,doy:7}})}(G(6676))},1828:function(xe,_e,G){!function(y){"use strict";function U(J,ee,ae){return"m"===ae?ee?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":J+" "+function R(J,ee){var ae=J.split("_");return ee%10==1&&ee%100!=11?ae[0]:ee%10>=2&&ee%10<=4&&(ee%100<10||ee%100>=20)?ae[1]:ae[2]}({ss:ee?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:ee?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[ae],+J)}var u=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];y.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:u,longMonthsParse:u,shortMonthsParse:u,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(J){if(J.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(J){if(J.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:U,m:U,mm:U,h:"\u0447\u0430\u0441",hh:U,d:"\u0434\u0435\u043d\u044c",dd:U,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:U,M:"\u043c\u0435\u0441\u044f\u0446",MM:U,y:"\u0433\u043e\u0434",yy:U},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(J){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(J)},meridiem:function(J,ee,ae){return J<4?"\u043d\u043e\u0447\u0438":J<12?"\u0443\u0442\u0440\u0430":J<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(J,ee){switch(ee){case"M":case"d":case"DDD":return J+"-\u0439";case"D":return J+"-\u0433\u043e";case"w":case"W":return J+"-\u044f";default:return J}},week:{dow:1,doy:4}})}(G(6676))},2188:function(xe,_e,G){!function(y){"use strict";var R=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],U=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];y.defineLocale("sd",{months:R,monthsShort:R,weekdays:U,weekdaysShort:U,weekdaysMin:U,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(F){return"\u0634\u0627\u0645"===F},meridiem:function(F,J,ee){return F<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(F){return F.replace(/\u060c/g,",")},postformat:function(F){return F.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(G(6676))},6562:function(xe,_e,G){!function(y){"use strict";y.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},7172:function(xe,_e,G){!function(y){"use strict";y.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(U){return U+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(U){return"\u0db4.\u0dc0."===U||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===U},meridiem:function(U,u,F){return U>11?F?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":F?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(G(6676))},9966:function(xe,_e,G){!function(y){"use strict";var R="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),U="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function u(ee){return ee>1&&ee<5}function F(ee,ae,de,Me){var Fe=ee+" ";switch(de){case"s":return ae||Me?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return ae||Me?Fe+(u(ee)?"sekundy":"sek\xfand"):Fe+"sekundami";case"m":return ae?"min\xfata":Me?"min\xfatu":"min\xfatou";case"mm":return ae||Me?Fe+(u(ee)?"min\xfaty":"min\xfat"):Fe+"min\xfatami";case"h":return ae?"hodina":Me?"hodinu":"hodinou";case"hh":return ae||Me?Fe+(u(ee)?"hodiny":"hod\xedn"):Fe+"hodinami";case"d":return ae||Me?"de\u0148":"d\u0148om";case"dd":return ae||Me?Fe+(u(ee)?"dni":"dn\xed"):Fe+"d\u0148ami";case"M":return ae||Me?"mesiac":"mesiacom";case"MM":return ae||Me?Fe+(u(ee)?"mesiace":"mesiacov"):Fe+"mesiacmi";case"y":return ae||Me?"rok":"rokom";case"yy":return ae||Me?Fe+(u(ee)?"roky":"rokov"):Fe+"rokmi"}}y.defineLocale("sk",{months:R,monthsShort:U,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:F,ss:F,m:F,mm:F,h:F,hh:F,d:F,dd:F,M:F,MM:F,y:F,yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},7520:function(xe,_e,G){!function(y){"use strict";function R(u,F,J,ee){var ae=u+" ";switch(J){case"s":return F||ee?"nekaj sekund":"nekaj sekundami";case"ss":return ae+(1===u?F?"sekundo":"sekundi":2===u?F||ee?"sekundi":"sekundah":u<5?F||ee?"sekunde":"sekundah":"sekund");case"m":return F?"ena minuta":"eno minuto";case"mm":return ae+(1===u?F?"minuta":"minuto":2===u?F||ee?"minuti":"minutama":u<5?F||ee?"minute":"minutami":F||ee?"minut":"minutami");case"h":return F?"ena ura":"eno uro";case"hh":return ae+(1===u?F?"ura":"uro":2===u?F||ee?"uri":"urama":u<5?F||ee?"ure":"urami":F||ee?"ur":"urami");case"d":return F||ee?"en dan":"enim dnem";case"dd":return ae+(1===u?F||ee?"dan":"dnem":2===u?F||ee?"dni":"dnevoma":F||ee?"dni":"dnevi");case"M":return F||ee?"en mesec":"enim mesecem";case"MM":return ae+(1===u?F||ee?"mesec":"mesecem":2===u?F||ee?"meseca":"mesecema":u<5?F||ee?"mesece":"meseci":F||ee?"mesecev":"meseci");case"y":return F||ee?"eno leto":"enim letom";case"yy":return ae+(1===u?F||ee?"leto":"letom":2===u?F||ee?"leti":"letoma":u<5?F||ee?"leta":"leti":F||ee?"let":"leti")}}y.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},5291:function(xe,_e,G){!function(y){"use strict";y.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(U){return"M"===U.charAt(0)},meridiem:function(U,u,F){return U<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},7603:function(xe,_e,G){!function(y){"use strict";var R={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(u,F){return u%10>=1&&u%10<=4&&(u%100<10||u%100>=20)?u%10==1?F[0]:F[1]:F[2]},translate:function(u,F,J,ee){var de,ae=R.words[J];return 1===J.length?"y"===J&&F?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":ee||F?ae[0]:ae[1]:(de=R.correctGrammaticalCase(u,ae),"yy"===J&&F&&"\u0433\u043e\u0434\u0438\u043d\u0443"===de?u+" \u0433\u043e\u0434\u0438\u043d\u0430":u+" "+de)}};y.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:R.translate,m:R.translate,mm:R.translate,h:R.translate,hh:R.translate,d:R.translate,dd:R.translate,M:R.translate,MM:R.translate,y:R.translate,yy:R.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},450:function(xe,_e,G){!function(y){"use strict";var R={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(u,F){return u%10>=1&&u%10<=4&&(u%100<10||u%100>=20)?u%10==1?F[0]:F[1]:F[2]},translate:function(u,F,J,ee){var de,ae=R.words[J];return 1===J.length?"y"===J&&F?"jedna godina":ee||F?ae[0]:ae[1]:(de=R.correctGrammaticalCase(u,ae),"yy"===J&&F&&"godinu"===de?u+" godina":u+" "+de)}};y.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:R.translate,m:R.translate,mm:R.translate,h:R.translate,hh:R.translate,d:R.translate,dd:R.translate,M:R.translate,MM:R.translate,y:R.translate,yy:R.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(G(6676))},383:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(U,u,F){return U<11?"ekuseni":U<15?"emini":U<19?"entsambama":"ebusuku"},meridiemHour:function(U,u){return 12===U&&(U=0),"ekuseni"===u?U:"emini"===u?U>=11?U:U+12:"entsambama"===u||"ebusuku"===u?0===U?0:U+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(G(6676))},7221:function(xe,_e,G){!function(y){"use strict";y.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?":e":1===u||2===u?":a":":e")},week:{dow:1,doy:4}})}(G(6676))},1743:function(xe,_e,G){!function(y){"use strict";y.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(G(6676))},6351:function(xe,_e,G){!function(y){"use strict";var R={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},U={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};y.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(F){return F+"\u0bb5\u0ba4\u0bc1"},preparse:function(F){return F.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(J){return U[J]})},postformat:function(F){return F.replace(/\d/g,function(J){return R[J]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(F,J,ee){return F<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":F<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":F<10?" \u0b95\u0bbe\u0bb2\u0bc8":F<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":F<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":F<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(F,J){return 12===F&&(F=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===J?F<2?F:F+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===J||"\u0b95\u0bbe\u0bb2\u0bc8"===J||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===J&&F>=10?F:F+12},week:{dow:0,doy:6}})}(G(6676))},9620:function(xe,_e,G){!function(y){"use strict";y.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(U,u){return 12===U&&(U=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===u?U<4?U:U+12:"\u0c09\u0c26\u0c2f\u0c02"===u?U:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===u?U>=10?U:U+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===u?U+12:void 0},meridiem:function(U,u,F){return U<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":U<10?"\u0c09\u0c26\u0c2f\u0c02":U<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":U<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(G(6676))},6278:function(xe,_e,G){!function(y){"use strict";y.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:1,doy:4}})}(G(6676))},6987:function(xe,_e,G){!function(y){"use strict";var R={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};y.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(u,F){return 12===u&&(u=0),"\u0448\u0430\u0431"===F?u<4?u:u+12:"\u0441\u0443\u0431\u04b3"===F?u:"\u0440\u04ef\u0437"===F?u>=11?u:u+12:"\u0431\u0435\u0433\u043e\u04b3"===F?u+12:void 0},meridiem:function(u,F,J){return u<4?"\u0448\u0430\u0431":u<11?"\u0441\u0443\u0431\u04b3":u<16?"\u0440\u04ef\u0437":u<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(u){return u+(R[u]||R[u%10]||R[u>=100?100:null])},week:{dow:1,doy:7}})}(G(6676))},9325:function(xe,_e,G){!function(y){"use strict";y.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(U){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===U},meridiem:function(U,u,F){return U<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(G(6676))},3485:function(xe,_e,G){!function(y){"use strict";var R={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};y.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(u,F){switch(F){case"d":case"D":case"Do":case"DD":return u;default:if(0===u)return u+"'unjy";var J=u%10;return u+(R[J]||R[u%100-J]||R[u>=100?100:null])}},week:{dow:1,doy:7}})}(G(6676))},8148:function(xe,_e,G){!function(y){"use strict";y.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(U){return U},week:{dow:1,doy:4}})}(G(6676))},9616:function(xe,_e,G){!function(y){"use strict";var R="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function F(ae,de,Me,Fe){var Ge=function J(ae){var de=Math.floor(ae%1e3/100),Me=Math.floor(ae%100/10),Fe=ae%10,Ge="";return de>0&&(Ge+=R[de]+"vatlh"),Me>0&&(Ge+=(""!==Ge?" ":"")+R[Me]+"maH"),Fe>0&&(Ge+=(""!==Ge?" ":"")+R[Fe]),""===Ge?"pagh":Ge}(ae);switch(Me){case"ss":return Ge+" lup";case"mm":return Ge+" tup";case"hh":return Ge+" rep";case"dd":return Ge+" jaj";case"MM":return Ge+" jar";case"yy":return Ge+" DIS"}}y.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function U(ae){var de=ae;return-1!==ae.indexOf("jaj")?de.slice(0,-3)+"leS":-1!==ae.indexOf("jar")?de.slice(0,-3)+"waQ":-1!==ae.indexOf("DIS")?de.slice(0,-3)+"nem":de+" pIq"},past:function u(ae){var de=ae;return-1!==ae.indexOf("jaj")?de.slice(0,-3)+"Hu\u2019":-1!==ae.indexOf("jar")?de.slice(0,-3)+"wen":-1!==ae.indexOf("DIS")?de.slice(0,-3)+"ben":de+" ret"},s:"puS lup",ss:F,m:"wa\u2019 tup",mm:F,h:"wa\u2019 rep",hh:F,d:"wa\u2019 jaj",dd:F,M:"wa\u2019 jar",MM:F,y:"wa\u2019 DIS",yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},4040:function(xe,_e,G){!function(y){"use strict";var R={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};y.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(u,F,J){return u<12?J?"\xf6\xf6":"\xd6\xd6":J?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(u){return"\xf6s"===u||"\xd6S"===u},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(u,F){switch(F){case"d":case"D":case"Do":case"DD":return u;default:if(0===u)return u+"'\u0131nc\u0131";var J=u%10;return u+(R[J]||R[u%100-J]||R[u>=100?100:null])}},week:{dow:1,doy:7}})}(G(6676))},594:function(xe,_e,G){!function(y){"use strict";function U(u,F,J,ee){var ae={s:["viensas secunds","'iensas secunds"],ss:[u+" secunds",u+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[u+" m\xeduts",u+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[u+" \xfeoras",u+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[u+" ziuas",u+" ziuas"],M:["'n mes","'iens mes"],MM:[u+" mesen",u+" mesen"],y:["'n ar","'iens ar"],yy:[u+" ars",u+" ars"]};return ee||F?ae[J][0]:ae[J][1]}y.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(u){return"d'o"===u.toLowerCase()},meridiem:function(u,F,J){return u>11?J?"d'o":"D'O":J?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:U,ss:U,m:U,mm:U,h:U,hh:U,d:U,dd:U,M:U,MM:U,y:U,yy:U},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(G(6676))},3226:function(xe,_e,G){!function(y){"use strict";y.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(G(6676))},673:function(xe,_e,G){!function(y){"use strict";y.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(G(6676))},9580:function(xe,_e,G){!function(y){"use strict";y.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(U,u){return 12===U&&(U=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===u||"\u0633\u06d5\u06be\u06d5\u0631"===u||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===u?U:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===u||"\u0643\u06d5\u0686"===u?U+12:U>=11?U:U+12},meridiem:function(U,u,F){var J=100*U+u;return J<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":J<900?"\u0633\u06d5\u06be\u06d5\u0631":J<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":J<1230?"\u0686\u06c8\u0634":J<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(U,u){switch(u){case"d":case"D":case"DDD":return U+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return U+"-\u06be\u06d5\u067e\u062a\u06d5";default:return U}},preparse:function(U){return U.replace(/\u060c/g,",")},postformat:function(U){return U.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(G(6676))},7270:function(xe,_e,G){!function(y){"use strict";function U(ee,ae,de){return"m"===de?ae?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===de?ae?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":ee+" "+function R(ee,ae){var de=ee.split("_");return ae%10==1&&ae%100!=11?de[0]:ae%10>=2&&ae%10<=4&&(ae%100<10||ae%100>=20)?de[1]:de[2]}({ss:ae?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:ae?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:ae?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[de],+ee)}function F(ee){return function(){return ee+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}y.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function u(ee,ae){var de={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===ee?de.nominative.slice(1,7).concat(de.nominative.slice(0,1)):ee?de[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(ae)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(ae)?"genitive":"nominative"][ee.day()]:de.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:F("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:F("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:F("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:F("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return F("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return F("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:U,m:U,mm:U,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:U,d:"\u0434\u0435\u043d\u044c",dd:U,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:U,y:"\u0440\u0456\u043a",yy:U},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(ee){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(ee)},meridiem:function(ee,ae,de){return ee<4?"\u043d\u043e\u0447\u0456":ee<12?"\u0440\u0430\u043d\u043a\u0443":ee<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(ee,ae){switch(ae){case"M":case"d":case"DDD":case"w":case"W":return ee+"-\u0439";case"D":return ee+"-\u0433\u043e";default:return ee}},week:{dow:1,doy:7}})}(G(6676))},1656:function(xe,_e,G){!function(y){"use strict";var R=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],U=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];y.defineLocale("ur",{months:R,monthsShort:R,weekdays:U,weekdaysShort:U,weekdaysMin:U,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(F){return"\u0634\u0627\u0645"===F},meridiem:function(F,J,ee){return F<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(F){return F.replace(/\u060c/g,",")},postformat:function(F){return F.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(G(6676))},8744:function(xe,_e,G){!function(y){"use strict";y.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(G(6676))},8364:function(xe,_e,G){!function(y){"use strict";y.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(G(6676))},5049:function(xe,_e,G){!function(y){"use strict";y.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(U){return/^ch$/i.test(U)},meridiem:function(U,u,F){return U<12?F?"sa":"SA":F?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(U){return U},week:{dow:1,doy:4}})}(G(6676))},5106:function(xe,_e,G){!function(y){"use strict";y.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(U){var u=U%10;return U+(1==~~(U%100/10)?"th":1===u?"st":2===u?"nd":3===u?"rd":"th")},week:{dow:1,doy:4}})}(G(6676))},6199:function(xe,_e,G){!function(y){"use strict";y.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(G(6676))},7280:function(xe,_e,G){!function(y){"use strict";y.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(U,u){return 12===U&&(U=0),"\u51cc\u6668"===u||"\u65e9\u4e0a"===u||"\u4e0a\u5348"===u?U:"\u4e0b\u5348"===u||"\u665a\u4e0a"===u?U+12:U>=11?U:U+12},meridiem:function(U,u,F){var J=100*U+u;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(U){return U.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(U){return this.week()!==U.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(U,u){switch(u){case"d":case"D":case"DDD":return U+"\u65e5";case"M":return U+"\u6708";case"w":case"W":return U+"\u5468";default:return U}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(G(6676))},6860:function(xe,_e,G){!function(y){"use strict";y.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(U,u){return 12===U&&(U=0),"\u51cc\u6668"===u||"\u65e9\u4e0a"===u||"\u4e0a\u5348"===u?U:"\u4e2d\u5348"===u?U>=11?U:U+12:"\u4e0b\u5348"===u||"\u665a\u4e0a"===u?U+12:void 0},meridiem:function(U,u,F){var J=100*U+u;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1200?"\u4e0a\u5348":1200===J?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(U,u){switch(u){case"d":case"D":case"DDD":return U+"\u65e5";case"M":return U+"\u6708";case"w":case"W":return U+"\u9031";default:return U}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(G(6676))},2335:function(xe,_e,G){!function(y){"use strict";y.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(U,u){return 12===U&&(U=0),"\u51cc\u6668"===u||"\u65e9\u4e0a"===u||"\u4e0a\u5348"===u?U:"\u4e2d\u5348"===u?U>=11?U:U+12:"\u4e0b\u5348"===u||"\u665a\u4e0a"===u?U+12:void 0},meridiem:function(U,u,F){var J=100*U+u;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(U,u){switch(u){case"d":case"D":case"DDD":return U+"\u65e5";case"M":return U+"\u6708";case"w":case"W":return U+"\u9031";default:return U}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(G(6676))},482:function(xe,_e,G){!function(y){"use strict";y.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(U,u){return 12===U&&(U=0),"\u51cc\u6668"===u||"\u65e9\u4e0a"===u||"\u4e0a\u5348"===u?U:"\u4e2d\u5348"===u?U>=11?U:U+12:"\u4e0b\u5348"===u||"\u665a\u4e0a"===u?U+12:void 0},meridiem:function(U,u,F){var J=100*U+u;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(U,u){switch(u){case"d":case"D":case"DDD":return U+"\u65e5";case"M":return U+"\u6708";case"w":case"W":return U+"\u9031";default:return U}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(G(6676))},6676:function(xe,_e,G){(xe=G.nmd(xe)).exports=function(){"use strict";var y,Pt;function R(){return y.apply(null,arguments)}function u(C){return C instanceof Array||"[object Array]"===Object.prototype.toString.call(C)}function F(C){return null!=C&&"[object Object]"===Object.prototype.toString.call(C)}function J(C,B){return Object.prototype.hasOwnProperty.call(C,B)}function ee(C){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(C).length;var B;for(B in C)if(J(C,B))return!1;return!0}function ae(C){return void 0===C}function de(C){return"number"==typeof C||"[object Number]"===Object.prototype.toString.call(C)}function Me(C){return C instanceof Date||"[object Date]"===Object.prototype.toString.call(C)}function Fe(C,B){var ne,X=[],me=C.length;for(ne=0;ne<me;++ne)X.push(B(C[ne],ne));return X}function Ge(C,B){for(var X in B)J(B,X)&&(C[X]=B[X]);return J(B,"toString")&&(C.toString=B.toString),J(B,"valueOf")&&(C.valueOf=B.valueOf),C}function ht(C,B,X,ne){return ih(C,B,X,ne,!0).utc()}function _t(C){return null==C._pf&&(C._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),C._pf}function An(C){if(null==C._isValid){var B=_t(C),X=Pt.call(B.parsedDateParts,function(me){return null!=me}),ne=!isNaN(C._d.getTime())&&B.overflow<0&&!B.empty&&!B.invalidEra&&!B.invalidMonth&&!B.invalidWeekday&&!B.weekdayMismatch&&!B.nullInput&&!B.invalidFormat&&!B.userInvalidated&&(!B.meridiem||B.meridiem&&X);if(C._strict&&(ne=ne&&0===B.charsLeftOver&&0===B.unusedTokens.length&&void 0===B.bigHour),null!=Object.isFrozen&&Object.isFrozen(C))return ne;C._isValid=ne}return C._isValid}function pn(C){var B=ht(NaN);return null!=C?Ge(_t(B),C):_t(B).userInvalidated=!0,B}Pt=Array.prototype.some?Array.prototype.some:function(C){var ne,B=Object(this),X=B.length>>>0;for(ne=0;ne<X;ne++)if(ne in B&&C.call(this,B[ne],ne,B))return!0;return!1};var Fn=R.momentProperties=[],Mn=!1;function ct(C,B){var X,ne,me,Ne=Fn.length;if(ae(B._isAMomentObject)||(C._isAMomentObject=B._isAMomentObject),ae(B._i)||(C._i=B._i),ae(B._f)||(C._f=B._f),ae(B._l)||(C._l=B._l),ae(B._strict)||(C._strict=B._strict),ae(B._tzm)||(C._tzm=B._tzm),ae(B._isUTC)||(C._isUTC=B._isUTC),ae(B._offset)||(C._offset=B._offset),ae(B._pf)||(C._pf=_t(B)),ae(B._locale)||(C._locale=B._locale),Ne>0)for(X=0;X<Ne;X++)ae(me=B[ne=Fn[X]])||(C[ne]=me);return C}function qe(C){ct(this,C),this._d=new Date(null!=C._d?C._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mn&&(Mn=!0,R.updateOffset(this),Mn=!1)}function zt(C){return C instanceof qe||null!=C&&null!=C._isAMomentObject}function Jt(C){!1===R.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+C)}function Nt(C,B){var X=!0;return Ge(function(){if(null!=R.deprecationHandler&&R.deprecationHandler(null,C),X){var me,Ne,lt,ne=[],on=arguments.length;for(Ne=0;Ne<on;Ne++){if(me="","object"==typeof arguments[Ne]){for(lt in me+="\n["+Ne+"] ",arguments[0])J(arguments[0],lt)&&(me+=lt+": "+arguments[0][lt]+", ");me=me.slice(0,-2)}else me=arguments[Ne];ne.push(me)}Jt(C+"\nArguments: "+Array.prototype.slice.call(ne).join("")+"\n"+(new Error).stack),X=!1}return B.apply(this,arguments)},B)}var co,rn={};function wi(C,B){null!=R.deprecationHandler&&R.deprecationHandler(C,B),rn[C]||(Jt(B),rn[C]=!0)}function fi(C){return typeof Function<"u"&&C instanceof Function||"[object Function]"===Object.prototype.toString.call(C)}function ws(C,B){var ne,X=Ge({},C);for(ne in B)J(B,ne)&&(F(C[ne])&&F(B[ne])?(X[ne]={},Ge(X[ne],C[ne]),Ge(X[ne],B[ne])):null!=B[ne]?X[ne]=B[ne]:delete X[ne]);for(ne in C)J(C,ne)&&!J(B,ne)&&F(C[ne])&&(X[ne]=Ge({},X[ne]));return X}function ei(C){null!=C&&this.set(C)}R.suppressDeprecationWarnings=!1,R.deprecationHandler=null,co=Object.keys?Object.keys:function(C){var B,X=[];for(B in C)J(C,B)&&X.push(B);return X};function es(C,B,X){var ne=""+Math.abs(C);return(C>=0?X?"+":"":"-")+Math.pow(10,Math.max(0,B-ne.length)).toString().substr(1)+ne}var dt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,At={},St={};function mt(C,B,X,ne){var me=ne;"string"==typeof ne&&(me=function(){return this[ne]()}),C&&(St[C]=me),B&&(St[B[0]]=function(){return es(me.apply(this,arguments),B[1],B[2])}),X&&(St[X]=function(){return this.localeData().ordinal(me.apply(this,arguments),C)})}function Et(C){return C.match(/\[[\s\S]/)?C.replace(/^\[|\]$/g,""):C.replace(/\\/g,"")}function wt(C,B){return C.isValid()?(B=vn(B,C.localeData()),At[B]=At[B]||function Tt(C){var X,ne,B=C.match(dt);for(X=0,ne=B.length;X<ne;X++)B[X]=St[B[X]]?St[B[X]]:Et(B[X]);return function(me){var lt,Ne="";for(lt=0;lt<ne;lt++)Ne+=fi(B[lt])?B[lt].call(me,C):B[lt];return Ne}}(B),At[B](C)):C.localeData().invalidDate()}function vn(C,B){var X=5;function ne(me){return B.longDateFormat(me)||me}for(gt.lastIndex=0;X>=0&&gt.test(C);)C=C.replace(gt,ne),gt.lastIndex=0,X-=1;return C}var Js={};function Ki(C,B){var X=C.toLowerCase();Js[X]=Js[X+"s"]=Js[B]=C}function yr(C){return"string"==typeof C?Js[C]||Js[C.toLowerCase()]:void 0}function wa(C){var X,ne,B={};for(ne in C)J(C,ne)&&(X=yr(ne))&&(B[X]=C[ne]);return B}var Kn={};function Nn(C,B){Kn[C]=B}function Nr(C){return C%4==0&&C%100!=0||C%400==0}function vr(C){return C<0?Math.ceil(C)||0:Math.floor(C)}function ti(C){var B=+C,X=0;return 0!==B&&isFinite(B)&&(X=vr(B)),X}function ji(C,B){return function(X){return null!=X?(Qs(this,C,X),R.updateOffset(this,B),this):$r(this,C)}}function $r(C,B){return C.isValid()?C._d["get"+(C._isUTC?"UTC":"")+B]():NaN}function Qs(C,B,X){C.isValid()&&!isNaN(X)&&("FullYear"===B&&Nr(C.year())&&1===C.month()&&29===C.date()?(X=ti(X),C._d["set"+(C._isUTC?"UTC":"")+B](X,C.month(),Ma(X,C.month()))):C._d["set"+(C._isUTC?"UTC":"")+B](X))}var ni,ki=/\d/,Gr=/\d\d/,ke=/\d{3}/,ue=/\d{4}/,fe=/[+-]?\d{6}/,Se=/\d\d?/,Be=/\d\d\d\d?/,We=/\d\d\d\d\d\d?/,et=/\d{1,3}/,Je=/\d{1,4}/,He=/[+-]?\d{1,6}/,at=/\d+/,qt=/[+-]?\d+/,nn=/Z|[+-]\d\d:?\d\d/gi,Wt=/Z|[+-]\d\d(?::?\d\d)?/gi,Un=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ut(C,B,X){ni[C]=fi(B)?B:function(ne,me){return ne&&X?X:B}}function gi(C,B){return J(ni,C)?ni[C](B._strict,B._locale):new RegExp(function _i(C){return Ri(C.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(B,X,ne,me,Ne){return X||ne||me||Ne}))}(C))}function Ri(C){return C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ni={};var vi={};function Zn(C,B){var X,me,ne=B;for("string"==typeof C&&(C=[C]),de(B)&&(ne=function(Ne,lt){lt[B]=ti(Ne)}),me=C.length,X=0;X<me;X++)vi[C[X]]=ne}function as(C,B){Zn(C,function(X,ne,me,Ne){me._w=me._w||{},B(X,me._w,me,Ne)})}function Lr(C,B,X){null!=B&&J(vi,C)&&vi[C](B,X._a,X,C)}var Ni,Gi=0,Ss=1,wo=2,er=3,ai=4,ts=5,Ar=6,Fi=7,No=8;function Ma(C,B){if(isNaN(C)||isNaN(B))return NaN;var X=function Cs(C,B){return(C%B+B)%B}(B,12);return C+=(B-X)/12,1===X?Nr(C)?29:28:31-X%7%2}Ni=Array.prototype.indexOf?Array.prototype.indexOf:function(C){var B;for(B=0;B<this.length;++B)if(this[B]===C)return B;return-1},mt("M",["MM",2],"Mo",function(){return this.month()+1}),mt("MMM",0,0,function(C){return this.localeData().monthsShort(this,C)}),mt("MMMM",0,0,function(C){return this.localeData().months(this,C)}),Ki("month","M"),Nn("month",8),Ut("M",Se),Ut("MM",Se,Gr),Ut("MMM",function(C,B){return B.monthsShortRegex(C)}),Ut("MMMM",function(C,B){return B.monthsRegex(C)}),Zn(["M","MM"],function(C,B){B[Ss]=ti(C)-1}),Zn(["MMM","MMMM"],function(C,B,X,ne){var me=X._locale.monthsParse(C,ne,X._strict);null!=me?B[Ss]=me:_t(X).invalidMonth=C});var eo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ls="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Da=Un,vt=Un;function Ir(C,B,X){var ne,me,Ne,lt=C.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ne=0;ne<12;++ne)Ne=ht([2e3,ne]),this._shortMonthsParse[ne]=this.monthsShort(Ne,"").toLocaleLowerCase(),this._longMonthsParse[ne]=this.months(Ne,"").toLocaleLowerCase();return X?"MMM"===B?-1!==(me=Ni.call(this._shortMonthsParse,lt))?me:null:-1!==(me=Ni.call(this._longMonthsParse,lt))?me:null:"MMM"===B?-1!==(me=Ni.call(this._shortMonthsParse,lt))||-1!==(me=Ni.call(this._longMonthsParse,lt))?me:null:-1!==(me=Ni.call(this._longMonthsParse,lt))||-1!==(me=Ni.call(this._shortMonthsParse,lt))?me:null}function As(C,B){var X;if(!C.isValid())return C;if("string"==typeof B)if(/^\d+$/.test(B))B=ti(B);else if(!de(B=C.localeData().monthsParse(B)))return C;return X=Math.min(C.date(),Ma(C.year(),B)),C._d["set"+(C._isUTC?"UTC":"")+"Month"](B,X),C}function Dc(C){return null!=C?(As(this,C),R.updateOffset(this,!0),this):$r(this,"Month")}function $n(){function C(lt,on){return on.length-lt.length}var me,Ne,B=[],X=[],ne=[];for(me=0;me<12;me++)Ne=ht([2e3,me]),B.push(this.monthsShort(Ne,"")),X.push(this.months(Ne,"")),ne.push(this.months(Ne,"")),ne.push(this.monthsShort(Ne,""));for(B.sort(C),X.sort(C),ne.sort(C),me=0;me<12;me++)B[me]=Ri(B[me]),X[me]=Ri(X[me]);for(me=0;me<24;me++)ne[me]=Ri(ne[me]);this._monthsRegex=new RegExp("^("+ne.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+B.join("|")+")","i")}function li(C){return Nr(C)?366:365}mt("Y",0,0,function(){var C=this.year();return C<=9999?es(C,4):"+"+C}),mt(0,["YY",2],0,function(){return this.year()%100}),mt(0,["YYYY",4],0,"year"),mt(0,["YYYYY",5],0,"year"),mt(0,["YYYYYY",6,!0],0,"year"),Ki("year","y"),Nn("year",1),Ut("Y",qt),Ut("YY",Se,Gr),Ut("YYYY",Je,ue),Ut("YYYYY",He,fe),Ut("YYYYYY",He,fe),Zn(["YYYYY","YYYYYY"],Gi),Zn("YYYY",function(C,B){B[Gi]=2===C.length?R.parseTwoDigitYear(C):ti(C)}),Zn("YY",function(C,B){B[Gi]=R.parseTwoDigitYear(C)}),Zn("Y",function(C,B){B[Gi]=parseInt(C,10)}),R.parseTwoDigitYear=function(C){return ti(C)+(ti(C)>68?1900:2e3)};var Is=ji("FullYear",!0);function Di(C,B,X,ne,me,Ne,lt){var on;return C<100&&C>=0?(on=new Date(C+400,B,X,ne,me,Ne,lt),isFinite(on.getFullYear())&&on.setFullYear(C)):on=new Date(C,B,X,ne,me,Ne,lt),on}function Wr(C){var B,X;return C<100&&C>=0?((X=Array.prototype.slice.call(arguments))[0]=C+400,B=new Date(Date.UTC.apply(null,X)),isFinite(B.getUTCFullYear())&&B.setUTCFullYear(C)):B=new Date(Date.UTC.apply(null,arguments)),B}function Bo(C,B,X){var ne=7+B-X;return-(7+Wr(C,0,ne).getUTCDay()-B)%7+ne-1}function zo(C,B,X,ne,me){var Bn,ii,on=1+7*(B-1)+(7+X-ne)%7+Bo(C,ne,me);return on<=0?ii=li(Bn=C-1)+on:on>li(C)?(Bn=C+1,ii=on-li(C)):(Bn=C,ii=on),{year:Bn,dayOfYear:ii}}function Ms(C,B,X){var Ne,lt,ne=Bo(C.year(),B,X),me=Math.floor((C.dayOfYear()-ne-1)/7)+1;return me<1?Ne=me+Yi(lt=C.year()-1,B,X):me>Yi(C.year(),B,X)?(Ne=me-Yi(C.year(),B,X),lt=C.year()+1):(lt=C.year(),Ne=me),{week:Ne,year:lt}}function Yi(C,B,X){var ne=Bo(C,B,X),me=Bo(C+1,B,X);return(li(C)-ne+me)/7}mt("w",["ww",2],"wo","week"),mt("W",["WW",2],"Wo","isoWeek"),Ki("week","w"),Ki("isoWeek","W"),Nn("week",5),Nn("isoWeek",5),Ut("w",Se),Ut("ww",Se,Gr),Ut("W",Se),Ut("WW",Se,Gr),as(["w","ww","W","WW"],function(C,B,X,ne){B[ne.substr(0,1)]=ti(C)});function dr(C,B){return C.slice(B,7).concat(C.slice(0,B))}mt("d",0,"do","day"),mt("dd",0,0,function(C){return this.localeData().weekdaysMin(this,C)}),mt("ddd",0,0,function(C){return this.localeData().weekdaysShort(this,C)}),mt("dddd",0,0,function(C){return this.localeData().weekdays(this,C)}),mt("e",0,0,"weekday"),mt("E",0,0,"isoWeekday"),Ki("day","d"),Ki("weekday","e"),Ki("isoWeekday","E"),Nn("day",11),Nn("weekday",11),Nn("isoWeekday",11),Ut("d",Se),Ut("e",Se),Ut("E",Se),Ut("dd",function(C,B){return B.weekdaysMinRegex(C)}),Ut("ddd",function(C,B){return B.weekdaysShortRegex(C)}),Ut("dddd",function(C,B){return B.weekdaysRegex(C)}),as(["dd","ddd","dddd"],function(C,B,X,ne){var me=X._locale.weekdaysParse(C,ne,X._strict);null!=me?B.d=me:_t(X).invalidWeekday=C}),as(["d","e","E"],function(C,B,X,ne){B[ne]=ti(C)});var rr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),tr=Un,no=Un,sr=Un;function Br(C,B,X){var ne,me,Ne,lt=C.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ne=0;ne<7;++ne)Ne=ht([2e3,1]).day(ne),this._minWeekdaysParse[ne]=this.weekdaysMin(Ne,"").toLocaleLowerCase(),this._shortWeekdaysParse[ne]=this.weekdaysShort(Ne,"").toLocaleLowerCase(),this._weekdaysParse[ne]=this.weekdays(Ne,"").toLocaleLowerCase();return X?"dddd"===B?-1!==(me=Ni.call(this._weekdaysParse,lt))?me:null:"ddd"===B?-1!==(me=Ni.call(this._shortWeekdaysParse,lt))?me:null:-1!==(me=Ni.call(this._minWeekdaysParse,lt))?me:null:"dddd"===B?-1!==(me=Ni.call(this._weekdaysParse,lt))||-1!==(me=Ni.call(this._shortWeekdaysParse,lt))||-1!==(me=Ni.call(this._minWeekdaysParse,lt))?me:null:"ddd"===B?-1!==(me=Ni.call(this._shortWeekdaysParse,lt))||-1!==(me=Ni.call(this._weekdaysParse,lt))||-1!==(me=Ni.call(this._minWeekdaysParse,lt))?me:null:-1!==(me=Ni.call(this._minWeekdaysParse,lt))||-1!==(me=Ni.call(this._weekdaysParse,lt))||-1!==(me=Ni.call(this._shortWeekdaysParse,lt))?me:null}function kr(){function C(yi,Vr){return Vr.length-yi.length}var Ne,lt,on,Bn,ii,B=[],X=[],ne=[],me=[];for(Ne=0;Ne<7;Ne++)lt=ht([2e3,1]).day(Ne),on=Ri(this.weekdaysMin(lt,"")),Bn=Ri(this.weekdaysShort(lt,"")),ii=Ri(this.weekdays(lt,"")),B.push(on),X.push(Bn),ne.push(ii),me.push(on),me.push(Bn),me.push(ii);B.sort(C),X.sort(C),ne.sort(C),me.sort(C),this._weekdaysRegex=new RegExp("^("+me.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ne.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+B.join("|")+")","i")}function ea(){return this.hours()%12||12}function Do(C,B){mt(C,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),B)})}function Eo(C,B){return B._meridiemParse}mt("H",["HH",2],0,"hour"),mt("h",["hh",2],0,ea),mt("k",["kk",2],0,function Pr(){return this.hours()||24}),mt("hmm",0,0,function(){return""+ea.apply(this)+es(this.minutes(),2)}),mt("hmmss",0,0,function(){return""+ea.apply(this)+es(this.minutes(),2)+es(this.seconds(),2)}),mt("Hmm",0,0,function(){return""+this.hours()+es(this.minutes(),2)}),mt("Hmmss",0,0,function(){return""+this.hours()+es(this.minutes(),2)+es(this.seconds(),2)}),Do("a",!0),Do("A",!1),Ki("hour","h"),Nn("hour",13),Ut("a",Eo),Ut("A",Eo),Ut("H",Se),Ut("h",Se),Ut("k",Se),Ut("HH",Se,Gr),Ut("hh",Se,Gr),Ut("kk",Se,Gr),Ut("hmm",Be),Ut("hmmss",We),Ut("Hmm",Be),Ut("Hmmss",We),Zn(["H","HH"],er),Zn(["k","kk"],function(C,B,X){var ne=ti(C);B[er]=24===ne?0:ne}),Zn(["a","A"],function(C,B,X){X._isPm=X._locale.isPM(C),X._meridiem=C}),Zn(["h","hh"],function(C,B,X){B[er]=ti(C),_t(X).bigHour=!0}),Zn("hmm",function(C,B,X){var ne=C.length-2;B[er]=ti(C.substr(0,ne)),B[ai]=ti(C.substr(ne)),_t(X).bigHour=!0}),Zn("hmmss",function(C,B,X){var ne=C.length-4,me=C.length-2;B[er]=ti(C.substr(0,ne)),B[ai]=ti(C.substr(ne,2)),B[ts]=ti(C.substr(me)),_t(X).bigHour=!0}),Zn("Hmm",function(C,B,X){var ne=C.length-2;B[er]=ti(C.substr(0,ne)),B[ai]=ti(C.substr(ne))}),Zn("Hmmss",function(C,B,X){var ne=C.length-4,me=C.length-2;B[er]=ti(C.substr(0,ne)),B[ai]=ti(C.substr(ne,2)),B[ts]=ti(C.substr(me))});var Va=ji("Hours",!0);var ls,Er={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:eo,monthsShort:Ls,week:{dow:0,doy:6},weekdays:rr,weekdaysMin:kn,weekdaysShort:Pn,meridiemParse:/[ap]\.?m?\.?/i},Ui={},To={};function Ta(C,B){var X,ne=Math.min(C.length,B.length);for(X=0;X<ne;X+=1)if(C[X]!==B[X])return X;return ne}function uu(C){return C&&C.toLowerCase().replace("_","-")}function Ha(C){var B=null;if(void 0===Ui[C]&&xe&&xe.exports&&function So(C){return null!=C.match("^[^/\\\\]*$")}(C))try{B=ls._abbr,G(6700)("./"+C),ms(B)}catch{Ui[C]=null}return Ui[C]}function ms(C,B){var X;return C&&((X=ae(B)?ho(C):Dn(C,B))?ls=X:typeof console<"u"&&console.warn&&console.warn("Locale "+C+" not found. Did you forget to load it?")),ls._abbr}function Dn(C,B){if(null!==B){var X,ne=Er;if(B.abbr=C,null!=Ui[C])wi("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ne=Ui[C]._config;else if(null!=B.parentLocale)if(null!=Ui[B.parentLocale])ne=Ui[B.parentLocale]._config;else{if(null==(X=Ha(B.parentLocale)))return To[B.parentLocale]||(To[B.parentLocale]=[]),To[B.parentLocale].push({name:C,config:B}),null;ne=X._config}return Ui[C]=new ei(ws(ne,B)),To[C]&&To[C].forEach(function(me){Dn(me.name,me.config)}),ms(C),Ui[C]}return delete Ui[C],null}function ho(C){var B;if(C&&C._locale&&C._locale._abbr&&(C=C._locale._abbr),!C)return ls;if(!u(C)){if(B=Ha(C))return B;C=[C]}return function ta(C){for(var X,ne,me,Ne,B=0;B<C.length;){for(X=(Ne=uu(C[B]).split("-")).length,ne=(ne=uu(C[B+1]))?ne.split("-"):null;X>0;){if(me=Ha(Ne.slice(0,X).join("-")))return me;if(ne&&ne.length>=X&&Ta(Ne,ne)>=X-1)break;X--}B++}return ls}(C)}function Ds(C){var B,X=C._a;return X&&-2===_t(C).overflow&&(B=X[Ss]<0||X[Ss]>11?Ss:X[wo]<1||X[wo]>Ma(X[Gi],X[Ss])?wo:X[er]<0||X[er]>24||24===X[er]&&(0!==X[ai]||0!==X[ts]||0!==X[Ar])?er:X[ai]<0||X[ai]>59?ai:X[ts]<0||X[ts]>59?ts:X[Ar]<0||X[Ar]>999?Ar:-1,_t(C)._overflowDayOfYear&&(B<Gi||B>wo)&&(B=wo),_t(C)._overflowWeeks&&-1===B&&(B=Fi),_t(C)._overflowWeekday&&-1===B&&(B=No),_t(C).overflow=B),C}var Tc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ml=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,na=/Z|[+-]\d\d(?::?\d\d)?/,zr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ul=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Zr=/^\/?Date\((-?\d+)/i,qr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vl={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Sa(C){var B,X,Ne,lt,on,Bn,ne=C._i,me=Tc.exec(ne)||ml.exec(ne),ii=zr.length,yi=Ul.length;if(me){for(_t(C).iso=!0,B=0,X=ii;B<X;B++)if(zr[B][1].exec(me[1])){lt=zr[B][0],Ne=!1!==zr[B][2];break}if(null==lt)return void(C._isValid=!1);if(me[3]){for(B=0,X=yi;B<X;B++)if(Ul[B][1].exec(me[3])){on=(me[2]||" ")+Ul[B][0];break}if(null==on)return void(C._isValid=!1)}if(!Ne&&null!=on)return void(C._isValid=!1);if(me[4]){if(!na.exec(me[4]))return void(C._isValid=!1);Bn="Z"}C._f=lt+(on||"")+(Bn||""),gl(C)}else C._isValid=!1}function Co(C){var B=parseInt(C,10);return B<=49?2e3+B:B<=999?1900+B:B}function th(C){var X,B=qr.exec(function Sc(C){return C.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(C._i));if(B){if(X=function _l(C,B,X,ne,me,Ne){var lt=[Co(C),Ls.indexOf(B),parseInt(X,10),parseInt(ne,10),parseInt(me,10)];return Ne&&lt.push(parseInt(Ne,10)),lt}(B[4],B[3],B[2],B[5],B[6],B[7]),!function du(C,B,X){return!C||Pn.indexOf(C)===new Date(B[0],B[1],B[2]).getDay()||(_t(X).weekdayMismatch=!0,X._isValid=!1,!1)}(B[1],X,C))return;C._a=X,C._tzm=function hu(C,B,X){if(C)return Vl[C];if(B)return 0;var ne=parseInt(X,10),me=ne%100;return(ne-me)/100*60+me}(B[8],B[9],B[10]),C._d=Wr.apply(null,C._a),C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),_t(C).rfc2822=!0}else C._isValid=!1}function ia(C,B,X){return C??B??X}function fu(C){var B,X,me,Ne,lt,ne=[];if(!C._d){for(me=function ff(C){var B=new Date(R.now());return C._useUTC?[B.getUTCFullYear(),B.getUTCMonth(),B.getUTCDate()]:[B.getFullYear(),B.getMonth(),B.getDate()]}(C),C._w&&null==C._a[wo]&&null==C._a[Ss]&&function kp(C){var B,X,ne,me,Ne,lt,on,Bn,ii;null!=(B=C._w).GG||null!=B.W||null!=B.E?(Ne=1,lt=4,X=ia(B.GG,C._a[Gi],Ms(xr(),1,4).year),ne=ia(B.W,1),((me=ia(B.E,1))<1||me>7)&&(Bn=!0)):(Ne=C._locale._week.dow,lt=C._locale._week.doy,ii=Ms(xr(),Ne,lt),X=ia(B.gg,C._a[Gi],ii.year),ne=ia(B.w,ii.week),null!=B.d?((me=B.d)<0||me>6)&&(Bn=!0):null!=B.e?(me=B.e+Ne,(B.e<0||B.e>6)&&(Bn=!0)):me=Ne),ne<1||ne>Yi(X,Ne,lt)?_t(C)._overflowWeeks=!0:null!=Bn?_t(C)._overflowWeekday=!0:(on=zo(X,ne,me,Ne,lt),C._a[Gi]=on.year,C._dayOfYear=on.dayOfYear)}(C),null!=C._dayOfYear&&(lt=ia(C._a[Gi],me[Gi]),(C._dayOfYear>li(lt)||0===C._dayOfYear)&&(_t(C)._overflowDayOfYear=!0),X=Wr(lt,0,C._dayOfYear),C._a[Ss]=X.getUTCMonth(),C._a[wo]=X.getUTCDate()),B=0;B<3&&null==C._a[B];++B)C._a[B]=ne[B]=me[B];for(;B<7;B++)C._a[B]=ne[B]=null==C._a[B]?2===B?1:0:C._a[B];24===C._a[er]&&0===C._a[ai]&&0===C._a[ts]&&0===C._a[Ar]&&(C._nextDay=!0,C._a[er]=0),C._d=(C._useUTC?Wr:Di).apply(null,ne),Ne=C._useUTC?C._d.getUTCDay():C._d.getDay(),null!=C._tzm&&C._d.setUTCMinutes(C._d.getUTCMinutes()-C._tzm),C._nextDay&&(C._a[er]=24),C._w&&typeof C._w.d<"u"&&C._w.d!==Ne&&(_t(C).weekdayMismatch=!0)}}function gl(C){if(C._f!==R.ISO_8601)if(C._f!==R.RFC_2822){C._a=[],_t(C).empty=!0;var X,ne,me,Ne,lt,ii,yi,B=""+C._i,on=B.length,Bn=0;for(yi=(me=vn(C._f,C._locale).match(dt)||[]).length,X=0;X<yi;X++)(ne=(B.match(gi(Ne=me[X],C))||[])[0])&&((lt=B.substr(0,B.indexOf(ne))).length>0&&_t(C).unusedInput.push(lt),B=B.slice(B.indexOf(ne)+ne.length),Bn+=ne.length),St[Ne]?(ne?_t(C).empty=!1:_t(C).unusedTokens.push(Ne),Lr(Ne,ne,C)):C._strict&&!ne&&_t(C).unusedTokens.push(Ne);_t(C).charsLeftOver=on-Bn,B.length>0&&_t(C).unusedInput.push(B),C._a[er]<=12&&!0===_t(C).bigHour&&C._a[er]>0&&(_t(C).bigHour=void 0),_t(C).parsedDateParts=C._a.slice(0),_t(C).meridiem=C._meridiem,C._a[er]=function jr(C,B,X){var ne;return null==X?B:null!=C.meridiemHour?C.meridiemHour(B,X):(null!=C.isPM&&((ne=C.isPM(X))&&B<12&&(B+=12),!ne&&12===B&&(B=0)),B)}(C._locale,C._a[er],C._meridiem),null!==(ii=_t(C).era)&&(C._a[Gi]=C._locale.erasConvertYear(ii,C._a[Gi])),fu(C),Ds(C)}else th(C);else Sa(C)}function nh(C){var B=C._i,X=C._f;return C._locale=C._locale||ho(C._l),null===B||void 0===X&&""===B?pn({nullInput:!0}):("string"==typeof B&&(C._i=B=C._locale.preparse(B)),zt(B)?new qe(Ds(B)):(Me(B)?C._d=B:u(X)?function p_(C){var B,X,ne,me,Ne,lt,on=!1,Bn=C._f.length;if(0===Bn)return _t(C).invalidFormat=!0,void(C._d=new Date(NaN));for(me=0;me<Bn;me++)Ne=0,lt=!1,B=ct({},C),null!=C._useUTC&&(B._useUTC=C._useUTC),B._f=C._f[me],gl(B),An(B)&&(lt=!0),Ne+=_t(B).charsLeftOver,Ne+=10*_t(B).unusedTokens.length,_t(B).score=Ne,on?Ne<ne&&(ne=Ne,X=B):(null==ne||Ne<ne||lt)&&(ne=Ne,X=B,lt&&(on=!0));Ge(C,X||B)}(C):X?gl(C):function pf(C){var B=C._i;ae(B)?C._d=new Date(R.now()):Me(B)?C._d=new Date(B.valueOf()):"string"==typeof B?function Bi(C){var B=Zr.exec(C._i);null===B?(Sa(C),!1===C._isValid&&(delete C._isValid,th(C),!1===C._isValid&&(delete C._isValid,C._strict?C._isValid=!1:R.createFromInputFallback(C)))):C._d=new Date(+B[1])}(C):u(B)?(C._a=Fe(B.slice(0),function(X){return parseInt(X,10)}),fu(C)):F(B)?function m_(C){if(!C._d){var B=wa(C._i);C._a=Fe([B.year,B.month,void 0===B.day?B.date:B.day,B.hour,B.minute,B.second,B.millisecond],function(ne){return ne&&parseInt(ne,10)}),fu(C)}}(C):de(B)?C._d=new Date(B):R.createFromInputFallback(C)}(C),An(C)||(C._d=null),C))}function ih(C,B,X,ne,me){var Ne={};return(!0===B||!1===B)&&(ne=B,B=void 0),(!0===X||!1===X)&&(ne=X,X=void 0),(F(C)&&ee(C)||u(C)&&0===C.length)&&(C=void 0),Ne._isAMomentObject=!0,Ne._useUTC=Ne._isUTC=me,Ne._l=X,Ne._i=C,Ne._f=B,Ne._strict=ne,function __(C){var B=new qe(Ds(nh(C)));return B._nextDay&&(B.add(1,"d"),B._nextDay=void 0),B}(Ne)}function xr(C,B,X,ne){return ih(C,B,X,ne,!1)}R.createFromInputFallback=Nt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(C){C._d=new Date(C._i+(C._useUTC?" UTC":""))}),R.ISO_8601=function(){},R.RFC_2822=function(){};var dd=Nt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=xr.apply(null,arguments);return this.isValid()&&C.isValid()?C<this?this:C:pn()}),rh=Nt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var C=xr.apply(null,arguments);return this.isValid()&&C.isValid()?C>this?this:C:pn()});function Pp(C,B){var X,ne;if(1===B.length&&u(B[0])&&(B=B[0]),!B.length)return xr();for(X=B[0],ne=1;ne<B.length;++ne)(!B[ne].isValid()||B[ne][C](X))&&(X=B[ne]);return X}var ra=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Cc(C){var B=wa(C),X=B.year||0,ne=B.quarter||0,me=B.month||0,Ne=B.week||B.isoWeek||0,lt=B.day||0,on=B.hour||0,Bn=B.minute||0,ii=B.second||0,yi=B.millisecond||0;this._isValid=function pu(C){var B,ne,X=!1,me=ra.length;for(B in C)if(J(C,B)&&(-1===Ni.call(ra,B)||null!=C[B]&&isNaN(C[B])))return!1;for(ne=0;ne<me;++ne)if(C[ra[ne]]){if(X)return!1;parseFloat(C[ra[ne]])!==ti(C[ra[ne]])&&(X=!0)}return!0}(B),this._milliseconds=+yi+1e3*ii+6e4*Bn+1e3*on*60*60,this._days=+lt+7*Ne,this._months=+me+3*ne+12*X,this._data={},this._locale=ho(),this._bubble()}function $a(C){return C instanceof Cc}function Lc(C){return C<0?-1*Math.round(-1*C):Math.round(C)}function _f(C,B){mt(C,0,0,function(){var X=this.utcOffset(),ne="+";return X<0&&(X=-X,ne="-"),ne+es(~~(X/60),2)+B+es(~~X%60,2)})}_f("Z",":"),_f("ZZ",""),Ut("Z",Wt),Ut("ZZ",Wt),Zn(["Z","ZZ"],function(C,B,X){X._useUTC=!0,X._tzm=sa(Wt,C)});var Lo=/([\+\-]|\d\d)/gi;function sa(C,B){var me,Ne,X=(B||"").match(C);return null===X?null:0===(Ne=60*(me=((X[X.length-1]||[])+"").match(Lo)||["-",0,0])[1]+ti(me[2]))?0:"+"===me[0]?Ne:-Ne}function Yr(C,B){var X,ne;return B._isUTC?(X=B.clone(),ne=(zt(C)||Me(C)?C.valueOf():xr(C).valueOf())-X.valueOf(),X._d.setTime(X._d.valueOf()+ne),R.updateOffset(X,!1),X):xr(C).local()}function $l(C){return-Math.round(C._d.getTimezoneOffset())}function yf(){return!!this.isValid()&&this._isUTC&&0===this._offset}R.updateOffset=function(){};var Op=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,g_=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oa(C,B){var me,Ne,lt,X=C,ne=null;return $a(C)?X={ms:C._milliseconds,d:C._days,M:C._months}:de(C)||!isNaN(+C)?(X={},B?X[B]=+C:X.milliseconds=+C):(ne=Op.exec(C))?(me="-"===ne[1]?-1:1,X={y:0,d:ti(ne[wo])*me,h:ti(ne[er])*me,m:ti(ne[ai])*me,s:ti(ne[ts])*me,ms:ti(Lc(1e3*ne[Ar]))*me}):(ne=g_.exec(C))?X={y:Ga(ne[2],me="-"===ne[1]?-1:1),M:Ga(ne[3],me),w:Ga(ne[4],me),d:Ga(ne[5],me),h:Ga(ne[6],me),m:Ga(ne[7],me),s:Ga(ne[8],me)}:null==X?X={}:"object"==typeof X&&("from"in X||"to"in X)&&(lt=function Ic(C,B){var X;return C.isValid()&&B.isValid()?(B=Yr(B,C),C.isBefore(B)?X=bu(C,B):((X=bu(B,C)).milliseconds=-X.milliseconds,X.months=-X.months),X):{milliseconds:0,months:0}}(xr(X.from),xr(X.to)),(X={}).ms=lt.milliseconds,X.M=lt.months),Ne=new Cc(X),$a(C)&&J(C,"_locale")&&(Ne._locale=C._locale),$a(C)&&J(C,"_isValid")&&(Ne._isValid=C._isValid),Ne}function Ga(C,B){var X=C&&parseFloat(C.replace(",","."));return(isNaN(X)?0:X)*B}function bu(C,B){var X={};return X.months=B.month()-C.month()+12*(B.year()-C.year()),C.clone().add(X.months,"M").isAfter(B)&&--X.months,X.milliseconds=+B-+C.clone().add(X.months,"M"),X}function xu(C,B){return function(X,ne){var Ne;return null!==ne&&!isNaN(+ne)&&(wi(B,"moment()."+B+"(period, number) is deprecated. Please use moment()."+B+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ne=X,X=ne,ne=Ne),pd(this,oa(X,ne),C),this}}function pd(C,B,X,ne){var me=B._milliseconds,Ne=Lc(B._days),lt=Lc(B._months);C.isValid()&&(ne=ne??!0,lt&&As(C,$r(C,"Month")+lt*X),Ne&&Qs(C,"Date",$r(C,"Date")+Ne*X),me&&C._d.setTime(C._d.valueOf()+me*X),ne&&R.updateOffset(C,Ne||lt))}oa.fn=Cc.prototype,oa.invalid=function mu(){return oa(NaN)};var Wa=xu(1,"add"),yl=xu(-1,"subtract");function fo(C){return"string"==typeof C||C instanceof String}function Wl(C){return zt(C)||Me(C)||fo(C)||de(C)||function po(C){var B=u(C),X=!1;return B&&(X=0===C.filter(function(ne){return!de(ne)&&fo(C)}).length),B&&X}(C)||function wu(C){var me,B=F(C)&&!ee(C),X=!1,ne=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],lt=ne.length;for(me=0;me<lt;me+=1)X=X||J(C,ne[me]);return B&&X}(C)||null==C}function cs(C,B){if(C.date()<B.date())return-cs(B,C);var X=12*(B.year()-C.year())+(B.month()-C.month()),ne=C.clone().add(X,"months");return-(X+(B-ne<0?(B-ne)/(ne-C.clone().add(X-1,"months")):(B-ne)/(C.clone().add(X+1,"months")-ne)))||0}function hn(C){var B;return void 0===C?this._locale._abbr:(null!=(B=ho(C))&&(this._locale=B),this)}R.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",R.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var io=Nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(C){return void 0===C?this.localeData():this.locale(C)});function hi(){return this._locale}var la=6e4,Kr=60*la,Ka=3506328*Kr;function ca(C,B){return(C%B+B)%B}function Fc(C,B,X){return C<100&&C>=0?new Date(C+400,B,X)-Ka:new Date(C,B,X).valueOf()}function jo(C,B,X){return C<100&&C>=0?Date.UTC(C+400,B,X)-Ka:Date.UTC(C,B,X)}function is(C,B){return B.erasAbbrRegex(C)}function Cu(){var me,Ne,C=[],B=[],X=[],ne=[],lt=this.eras();for(me=0,Ne=lt.length;me<Ne;++me)B.push(Ri(lt[me].name)),C.push(Ri(lt[me].abbr)),X.push(Ri(lt[me].narrow)),ne.push(Ri(lt[me].name)),ne.push(Ri(lt[me].abbr)),ne.push(Ri(lt[me].narrow));this._erasRegex=new RegExp("^("+ne.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+B.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+C.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+X.join("|")+")","i")}function rc(C,B){mt(0,[C,C.length],0,B)}function Yo(C,B,X,ne,me){var Ne;return null==C?Ms(this,ne,me).year:(B>(Ne=Yi(C,ne,me))&&(B=Ne),vl.call(this,C,B,X,ne,me))}function vl(C,B,X,ne,me){var Ne=zo(C,B,X,ne,me),lt=Wr(Ne.year,0,Ne.dayOfYear);return this.year(lt.getUTCFullYear()),this.month(lt.getUTCMonth()),this.date(lt.getUTCDate()),this}mt("N",0,0,"eraAbbr"),mt("NN",0,0,"eraAbbr"),mt("NNN",0,0,"eraAbbr"),mt("NNNN",0,0,"eraName"),mt("NNNNN",0,0,"eraNarrow"),mt("y",["y",1],"yo","eraYear"),mt("y",["yy",2],0,"eraYear"),mt("y",["yyy",3],0,"eraYear"),mt("y",["yyyy",4],0,"eraYear"),Ut("N",is),Ut("NN",is),Ut("NNN",is),Ut("NNNN",function ch(C,B){return B.erasNameRegex(C)}),Ut("NNNNN",function _d(C,B){return B.erasNarrowRegex(C)}),Zn(["N","NN","NNN","NNNN","NNNNN"],function(C,B,X,ne){var me=X._locale.erasParse(C,ne,X._strict);me?_t(X).era=me:_t(X).invalidEra=C}),Ut("y",at),Ut("yy",at),Ut("yyy",at),Ut("yyyy",at),Ut("yo",function _s(C,B){return B._eraYearOrdinalRegex||at}),Zn(["y","yy","yyy","yyyy"],Gi),Zn(["yo"],function(C,B,X,ne){var me;X._locale._eraYearOrdinalRegex&&(me=C.match(X._locale._eraYearOrdinalRegex)),B[Gi]=X._locale.eraYearOrdinalParse?X._locale.eraYearOrdinalParse(C,me):parseInt(C,10)}),mt(0,["gg",2],0,function(){return this.weekYear()%100}),mt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rc("gggg","weekYear"),rc("ggggg","weekYear"),rc("GGGG","isoWeekYear"),rc("GGGGG","isoWeekYear"),Ki("weekYear","gg"),Ki("isoWeekYear","GG"),Nn("weekYear",1),Nn("isoWeekYear",1),Ut("G",qt),Ut("g",qt),Ut("GG",Se,Gr),Ut("gg",Se,Gr),Ut("GGGG",Je,ue),Ut("gggg",Je,ue),Ut("GGGGG",He,fe),Ut("ggggg",He,fe),as(["gggg","ggggg","GGGG","GGGGG"],function(C,B,X,ne){B[ne.substr(0,2)]=ti(C)}),as(["gg","GG"],function(C,B,X,ne){B[ne]=R.parseTwoDigitYear(C)}),mt("Q",0,"Qo","quarter"),Ki("quarter","Q"),Nn("quarter",7),Ut("Q",ki),Zn("Q",function(C,B){B[Ss]=3*(ti(C)-1)}),mt("D",["DD",2],"Do","date"),Ki("date","D"),Nn("date",9),Ut("D",Se),Ut("DD",Se,Gr),Ut("Do",function(C,B){return C?B._dayOfMonthOrdinalParse||B._ordinalParse:B._dayOfMonthOrdinalParseLenient}),Zn(["D","DD"],wo),Zn("Do",function(C,B){B[wo]=ti(C.match(Se)[0])});var xn=ji("Date",!0);mt("DDD",["DDDD",3],"DDDo","dayOfYear"),Ki("dayOfYear","DDD"),Nn("dayOfYear",4),Ut("DDD",et),Ut("DDDD",ke),Zn(["DDD","DDDD"],function(C,B,X){X._dayOfYear=ti(C)}),mt("m",["mm",2],0,"minute"),Ki("minute","m"),Nn("minute",14),Ut("m",Se),Ut("mm",Se,Gr),Zn(["m","mm"],ai);var gd=ji("Minutes",!1);mt("s",["ss",2],0,"second"),Ki("second","s"),Nn("second",15),Ut("s",Se),Ut("ss",Se,Gr),Zn(["s","ss"],ts);var pr,an,bl=ji("Seconds",!1);for(mt("S",0,0,function(){return~~(this.millisecond()/100)}),mt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),mt(0,["SSS",3],0,"millisecond"),mt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),mt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),mt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),mt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),mt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),mt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ki("millisecond","ms"),Nn("millisecond",16),Ut("S",et,ki),Ut("SS",et,Gr),Ut("SSS",et,ke),pr="SSSS";pr.length<=9;pr+="S")Ut(pr,at);function Or(C,B){B[Ar]=ti(1e3*("0."+C))}for(pr="S";pr.length<=9;pr+="S")Zn(pr,Or);an=ji("Milliseconds",!1),mt("z",0,0,"zoneAbbr"),mt("zz",0,0,"zoneName");var ln=qe.prototype;function oo(C){return C}ln.add=Wa,ln.calendar=function kc(C,B){1===arguments.length&&(arguments[0]?Wl(arguments[0])?(C=arguments[0],B=void 0):function Zl(C){var me,B=F(C)&&!ee(C),X=!1,ne=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(me=0;me<ne.length;me+=1)X=X||J(C,ne[me]);return B&&X}(arguments[0])&&(B=arguments[0],C=void 0):(C=void 0,B=void 0));var X=C||xr(),ne=Yr(X,this).startOf("day"),me=R.calendarFormat(this,ne)||"sameElse",Ne=B&&(fi(B[me])?B[me].call(this,X):B[me]);return this.format(Ne||this.localeData().calendar(me,this,xr(X)))},ln.clone=function Pi(){return new qe(this)},ln.diff=function Rs(C,B,X){var ne,me,Ne;if(!this.isValid())return NaN;if(!(ne=Yr(C,this)).isValid())return NaN;switch(me=6e4*(ne.utcOffset()-this.utcOffset()),B=yr(B)){case"year":Ne=cs(this,ne)/12;break;case"month":Ne=cs(this,ne);break;case"quarter":Ne=cs(this,ne)/3;break;case"second":Ne=(this-ne)/1e3;break;case"minute":Ne=(this-ne)/6e4;break;case"hour":Ne=(this-ne)/36e5;break;case"day":Ne=(this-ne-me)/864e5;break;case"week":Ne=(this-ne-me)/6048e5;break;default:Ne=this-ne}return X?Ne:vr(Ne)},ln.endOf=function Du(C){var B,X;if(void 0===(C=yr(C))||"millisecond"===C||!this.isValid())return this;switch(X=this._isUTC?jo:Fc,C){case"year":B=X(this.year()+1,0,1)-1;break;case"quarter":B=X(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":B=X(this.year(),this.month()+1,1)-1;break;case"week":B=X(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":B=X(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":B=X(this.year(),this.month(),this.date()+1)-1;break;case"hour":B=this._d.valueOf(),B+=Kr-ca(B+(this._isUTC?0:this.utcOffset()*la),Kr)-1;break;case"minute":B=this._d.valueOf(),B+=la-ca(B,la)-1;break;case"second":B=this._d.valueOf(),B+=1e3-ca(B,1e3)-1}return this._d.setTime(B),R.updateOffset(this,!0),this},ln.format=function aa(C){C||(C=this.isUtc()?R.defaultFormatUtc:R.defaultFormat);var B=wt(this,C);return this.localeData().postformat(B)},ln.from=function Ql(C,B){return this.isValid()&&(zt(C)&&C.isValid()||xr(C).isValid())?oa({to:this,from:C}).locale(this.locale()).humanize(!B):this.localeData().invalidDate()},ln.fromNow=function Oc(C){return this.from(xr(),C)},ln.to=function Rc(C,B){return this.isValid()&&(zt(C)&&C.isValid()||xr(C).isValid())?oa({from:this,to:C}).locale(this.locale()).humanize(!B):this.localeData().invalidDate()},ln.toNow=function ec(C){return this.to(xr(),C)},ln.get=function Qi(C){return fi(this[C=yr(C)])?this[C]():this},ln.invalidAt=function nc(){return _t(this).overflow},ln.isAfter=function nr(C,B){var X=zt(C)?C:xr(C);return!(!this.isValid()||!X.isValid())&&("millisecond"===(B=yr(B)||"millisecond")?this.valueOf()>X.valueOf():X.valueOf()<this.clone().startOf(B).valueOf())},ln.isBefore=function ql(C,B){var X=zt(C)?C:xr(C);return!(!this.isValid()||!X.isValid())&&("millisecond"===(B=yr(B)||"millisecond")?this.valueOf()<X.valueOf():this.clone().endOf(B).valueOf()<X.valueOf())},ln.isBetween=function Za(C,B,X,ne){var me=zt(C)?C:xr(C),Ne=zt(B)?B:xr(B);return!!(this.isValid()&&me.isValid()&&Ne.isValid())&&("("===(ne=ne||"()")[0]?this.isAfter(me,X):!this.isBefore(me,X))&&(")"===ne[1]?this.isBefore(Ne,X):!this.isAfter(Ne,X))},ln.isSame=function ns(C,B){var ne,X=zt(C)?C:xr(C);return!(!this.isValid()||!X.isValid())&&("millisecond"===(B=yr(B)||"millisecond")?this.valueOf()===X.valueOf():(ne=X.valueOf(),this.clone().startOf(B).valueOf()<=ne&&ne<=this.clone().endOf(B).valueOf()))},ln.isSameOrAfter=function Mu(C,B){return this.isSame(C,B)||this.isAfter(C,B)},ln.isSameOrBefore=function Kl(C,B){return this.isSame(C,B)||this.isBefore(C,B)},ln.isValid=function Tu(){return An(this)},ln.lang=io,ln.locale=hn,ln.localeData=hi,ln.max=rh,ln.min=dd,ln.parsingFlags=function us(){return Ge({},_t(this))},ln.set=function Fo(C,B){if("object"==typeof C){var ne,X=function bi(C){var X,B=[];for(X in C)J(C,X)&&B.push({unit:X,priority:Kn[X]});return B.sort(function(ne,me){return ne.priority-me.priority}),B}(C=wa(C)),me=X.length;for(ne=0;ne<me;ne++)this[X[ne].unit](C[X[ne].unit])}else if(fi(this[C=yr(C)]))return this[C](B);return this},ln.startOf=function ah(C){var B,X;if(void 0===(C=yr(C))||"millisecond"===C||!this.isValid())return this;switch(X=this._isUTC?jo:Fc,C){case"year":B=X(this.year(),0,1);break;case"quarter":B=X(this.year(),this.month()-this.month()%3,1);break;case"month":B=X(this.year(),this.month(),1);break;case"week":B=X(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":B=X(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":B=X(this.year(),this.month(),this.date());break;case"hour":B=this._d.valueOf(),B-=ca(B+(this._isUTC?0:this.utcOffset()*la),Kr);break;case"minute":B=this._d.valueOf(),B-=ca(B,la);break;case"second":B=this._d.valueOf(),B-=ca(B,1e3)}return this._d.setTime(B),R.updateOffset(this,!0),this},ln.subtract=yl,ln.toArray=function Zt(){var C=this;return[C.year(),C.month(),C.date(),C.hour(),C.minute(),C.second(),C.millisecond()]},ln.toObject=function Ai(){var C=this;return{years:C.year(),months:C.month(),date:C.date(),hours:C.hours(),minutes:C.minutes(),seconds:C.seconds(),milliseconds:C.milliseconds()}},ln.toDate=function Rp(){return new Date(this.valueOf())},ln.toISOString=function Xl(C){if(!this.isValid())return null;var B=!0!==C,X=B?this.clone().utc():this;return X.year()<0||X.year()>9999?wt(X,B?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fi(Date.prototype.toISOString)?B?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",wt(X,"Z")):wt(X,B?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ln.inspect=function Jl(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var X,ne,C="moment",B="";return this.isLocal()||(C=0===this.utcOffset()?"moment.utc":"moment.parseZone",B="Z"),X="["+C+'("]',ne=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(X+ne+"-MM-DD[T]HH:mm:ss.SSS"+B+'[")]')},typeof Symbol<"u"&&null!=Symbol.for&&(ln[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ln.toJSON=function Eu(){return this.isValid()?this.toISOString():null},ln.toString=function Pc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ln.unix=function lh(){return Math.floor(this.valueOf()/1e3)},ln.valueOf=function tc(){return this._d.valueOf()-6e4*(this._offset||0)},ln.creationData=function La(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ln.eraName=function Su(){var C,B,X,ne=this.localeData().eras();for(C=0,B=ne.length;C<B;++C)if(X=this.clone().startOf("day").valueOf(),ne[C].since<=X&&X<=ne[C].until||ne[C].until<=X&&X<=ne[C].since)return ne[C].name;return""},ln.eraNarrow=function Fp(){var C,B,X,ne=this.localeData().eras();for(C=0,B=ne.length;C<B;++C)if(X=this.clone().startOf("day").valueOf(),ne[C].since<=X&&X<=ne[C].until||ne[C].until<=X&&X<=ne[C].since)return ne[C].narrow;return""},ln.eraAbbr=function Aa(){var C,B,X,ne=this.localeData().eras();for(C=0,B=ne.length;C<B;++C)if(X=this.clone().startOf("day").valueOf(),ne[C].since<=X&&X<=ne[C].until||ne[C].until<=X&&X<=ne[C].since)return ne[C].abbr;return""},ln.eraYear=function Vs(){var C,B,X,ne,me=this.localeData().eras();for(C=0,B=me.length;C<B;++C)if(X=me[C].since<=me[C].until?1:-1,ne=this.clone().startOf("day").valueOf(),me[C].since<=ne&&ne<=me[C].until||me[C].until<=ne&&ne<=me[C].since)return(this.year()-R(me[C].since).year())*X+me[C].offset;return this.year()},ln.year=Is,ln.isLeapYear=function uo(){return Nr(this.year())},ln.weekYear=function uh(C){return Yo.call(this,C,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ln.isoWeekYear=function vf(C){return Yo.call(this,C,this.isoWeek(),this.isoWeekday(),1,4)},ln.quarter=ln.quarters=function Lu(C){return null==C?Math.ceil((this.month()+1)/3):this.month(3*(C-1)+this.month()%3)},ln.month=Dc,ln.daysInMonth=function Ea(){return Ma(this.year(),this.month())},ln.week=ln.weeks=function nt(C){var B=this.localeData().week(this);return null==C?B:this.add(7*(C-B),"d")},ln.isoWeek=ln.isoWeeks=function Kt(C){var B=Ms(this,1,4).week;return null==C?B:this.add(7*(C-B),"d")},ln.weeksInYear=function xf(){var C=this.localeData()._week;return Yi(this.year(),C.dow,C.doy)},ln.weeksInWeekYear=function Ao(){var C=this.localeData()._week;return Yi(this.weekYear(),C.dow,C.doy)},ln.isoWeeksInYear=function so(){return Yi(this.year(),1,4)},ln.isoWeeksInISOWeekYear=function bf(){return Yi(this.isoWeekYear(),1,4)},ln.date=xn,ln.day=ln.days=function Dr(C){if(!this.isValid())return null!=C?this:NaN;var B=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=C?(C=function dn(C,B){return"string"!=typeof C?C:isNaN(C)?"number"==typeof(C=B.weekdaysParse(C))?C:null:parseInt(C,10)}(C,this.localeData()),this.add(C-B,"d")):B},ln.weekday=function bn(C){if(!this.isValid())return null!=C?this:NaN;var B=(this.day()+7-this.localeData()._week.dow)%7;return null==C?B:this.add(C-B,"d")},ln.isoWeekday=function zn(C){if(!this.isValid())return null!=C?this:NaN;if(null!=C){var B=function ri(C,B){return"string"==typeof C?B.weekdaysParse(C)%7||7:isNaN(C)?null:C}(C,this.localeData());return this.day(this.day()%7?B:B-7)}return this.day()||7},ln.dayOfYear=function Au(C){var B=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==C?B:this.add(C-B,"d")},ln.hour=ln.hours=Va,ln.minute=ln.minutes=gd,ln.second=ln.seconds=bl,ln.millisecond=ln.milliseconds=an,ln.utcOffset=function sh(C,B,X){var me,ne=this._offset||0;if(!this.isValid())return null!=C?this:NaN;if(null!=C){if("string"==typeof C){if(null===(C=sa(Wt,C)))return this}else Math.abs(C)<16&&!X&&(C*=60);return!this._isUTC&&B&&(me=$l(this)),this._offset=C,this._isUTC=!0,null!=me&&this.add(me,"m"),ne!==C&&(!B||this._changeInProgress?pd(this,oa(C-ne,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,R.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?ne:$l(this)},ln.utc=function _u(C){return this.utcOffset(0,C)},ln.local=function gu(C){return this._isUTC&&(this.utcOffset(0,C),this._isUTC=!1,C&&this.subtract($l(this),"m")),this},ln.parseZone=function yu(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var C=sa(nn,this._i);null!=C?this.utcOffset(C):this.utcOffset(0,!0)}return this},ln.hasAlignedHourOffset=function gf(C){return!!this.isValid()&&(C=C?xr(C).utcOffset():0,(this.utcOffset()-C)%60==0)},ln.isDST=function Ac(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ln.isLocal=function Gl(){return!!this.isValid()&&!this._isUTC},ln.isUtcOffset=function vu(){return!!this.isValid()&&this._isUTC},ln.isUtc=yf,ln.isUTC=yf,ln.zoneAbbr=function Np(){return this._isUTC?"UTC":""},ln.zoneName=function wf(){return this._isUTC?"Coordinated Universal Time":""},ln.dates=Nt("dates accessor is deprecated. Use date instead.",xn),ln.months=Nt("months accessor is deprecated. Use month instead",Dc),ln.years=Nt("years accessor is deprecated. Use year instead",Is),ln.zone=Nt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function oh(C,B){return null!=C?("string"!=typeof C&&(C=-C),this.utcOffset(C,B),this):-this.utcOffset()}),ln.isDSTShifted=Nt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function fd(){if(!ae(this._isDSTShifted))return this._isDSTShifted;var B,C={};return ct(C,this),(C=nh(C))._a?(B=C._isUTC?ht(C._a):xr(C._a),this._isDSTShifted=this.isValid()&&function mf(C,B,X){var lt,ne=Math.min(C.length,B.length),me=Math.abs(C.length-B.length),Ne=0;for(lt=0;lt<ne;lt++)(X&&C[lt]!==B[lt]||!X&&ti(C[lt])!==ti(B[lt]))&&Ne++;return Ne+me}(C._a,B.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Vi=ei.prototype;function or(C,B,X,ne){var me=ho(),Ne=ht().set(ne,B);return me[X](Ne,C)}function Gn(C,B,X){if(de(C)&&(B=C,C=void 0),C=C||"",null!=B)return or(C,B,X,"month");var ne,me=[];for(ne=0;ne<12;ne++)me[ne]=or(C,ne,X,"month");return me}function gs(C,B,X,ne){"boolean"==typeof C?(de(B)&&(X=B,B=void 0),B=B||""):(X=B=C,C=!1,de(B)&&(X=B,B=void 0),B=B||"");var lt,me=ho(),Ne=C?me._week.dow:0,on=[];if(null!=X)return or(B,(X+Ne)%7,ne,"day");for(lt=0;lt<7;lt++)on[lt]=or(B,(lt+Ne)%7,ne,"day");return on}Vi.calendar=function Mr(C,B,X){var ne=this._calendar[C]||this._calendar.sameElse;return fi(ne)?ne.call(B,X):ne},Vi.longDateFormat=function Mi(C){var B=this._longDateFormat[C],X=this._longDateFormat[C.toUpperCase()];return B||!X?B:(this._longDateFormat[C]=X.match(dt).map(function(ne){return"MMMM"===ne||"MM"===ne||"DD"===ne||"dddd"===ne?ne.slice(1):ne}).join(""),this._longDateFormat[C])},Vi.invalidDate=function di(){return this._invalidDate},Vi.ordinal=function $i(C){return this._ordinal.replace("%d",C)},Vi.preparse=oo,Vi.postformat=oo,Vi.relativeTime=function Xs(C,B,X,ne){var me=this._relativeTime[X];return fi(me)?me(C,B,X,ne):me.replace(/%d/i,C)},Vi.pastFuture=function xo(C,B){var X=this._relativeTime[C>0?"future":"past"];return fi(X)?X(B):X.replace(/%s/i,B)},Vi.set=function _r(C){var B,X;for(X in C)J(C,X)&&(fi(B=C[X])?this[X]=B:this["_"+X]=B);this._config=C,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Vi.eras=function ro(C,B){var X,ne,me,Ne=this._eras||ho("en")._eras;for(X=0,ne=Ne.length;X<ne;++X)switch("string"==typeof Ne[X].since&&(me=R(Ne[X].since).startOf("day"),Ne[X].since=me.valueOf()),typeof Ne[X].until){case"undefined":Ne[X].until=1/0;break;case"string":me=R(Ne[X].until).startOf("day").valueOf(),Ne[X].until=me.valueOf()}return Ne},Vi.erasParse=function ic(C,B,X){var ne,me,lt,on,Bn,Ne=this.eras();for(C=C.toUpperCase(),ne=0,me=Ne.length;ne<me;++ne)if(lt=Ne[ne].name.toUpperCase(),on=Ne[ne].abbr.toUpperCase(),Bn=Ne[ne].narrow.toUpperCase(),X)switch(B){case"N":case"NN":case"NNN":if(on===C)return Ne[ne];break;case"NNNN":if(lt===C)return Ne[ne];break;case"NNNNN":if(Bn===C)return Ne[ne]}else if([lt,on,Bn].indexOf(C)>=0)return Ne[ne]},Vi.erasConvertYear=function Nc(C,B){var X=C.since<=C.until?1:-1;return void 0===B?R(C.since).year():R(C.since).year()+(B-C.offset)*X},Vi.erasAbbrRegex=function md(C){return J(this,"_erasAbbrRegex")||Cu.call(this),C?this._erasAbbrRegex:this._erasRegex},Vi.erasNameRegex=function ua(C){return J(this,"_erasNameRegex")||Cu.call(this),C?this._erasNameRegex:this._erasRegex},Vi.erasNarrowRegex=function Xa(C){return J(this,"_erasNarrowRegex")||Cu.call(this),C?this._erasNarrowRegex:this._erasRegex},Vi.months=function Mo(C,B){return C?u(this._months)?this._months[C.month()]:this._months[(this._months.isFormat||zs).test(B)?"format":"standalone"][C.month()]:u(this._months)?this._months:this._months.standalone},Vi.monthsShort=function fr(C,B){return C?u(this._monthsShort)?this._monthsShort[C.month()]:this._monthsShort[zs.test(B)?"format":"standalone"][C.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Vi.monthsParse=function Yl(C,B,X){var ne,me,Ne;if(this._monthsParseExact)return Ir.call(this,C,B,X);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ne=0;ne<12;ne++){if(me=ht([2e3,ne]),X&&!this._longMonthsParse[ne]&&(this._longMonthsParse[ne]=new RegExp("^"+this.months(me,"").replace(".","")+"$","i"),this._shortMonthsParse[ne]=new RegExp("^"+this.monthsShort(me,"").replace(".","")+"$","i")),!X&&!this._monthsParse[ne]&&(Ne="^"+this.months(me,"")+"|^"+this.monthsShort(me,""),this._monthsParse[ne]=new RegExp(Ne.replace(".",""),"i")),X&&"MMMM"===B&&this._longMonthsParse[ne].test(C))return ne;if(X&&"MMM"===B&&this._shortMonthsParse[ne].test(C))return ne;if(!X&&this._monthsParse[ne].test(C))return ne}},Vi.monthsRegex=function cn(C){return this._monthsParseExact?(J(this,"_monthsRegex")||$n.call(this),C?this._monthsStrictRegex:this._monthsRegex):(J(this,"_monthsRegex")||(this._monthsRegex=vt),this._monthsStrictRegex&&C?this._monthsStrictRegex:this._monthsRegex)},Vi.monthsShortRegex=function fl(C){return this._monthsParseExact?(J(this,"_monthsRegex")||$n.call(this),C?this._monthsShortStrictRegex:this._monthsShortRegex):(J(this,"_monthsShortRegex")||(this._monthsShortRegex=Da),this._monthsShortStrictRegex&&C?this._monthsShortStrictRegex:this._monthsShortRegex)},Vi.week=function to(C){return Ms(C,this._week.dow,this._week.doy).week},Vi.firstDayOfYear=function Ot(){return this._week.doy},Vi.firstDayOfWeek=function pt(){return this._week.dow},Vi.weekdays=function ks(C,B){var X=u(this._weekdays)?this._weekdays:this._weekdays[C&&!0!==C&&this._weekdays.isFormat.test(B)?"format":"standalone"];return!0===C?dr(X,this._week.dow):C?X[C.day()]:X},Vi.weekdaysMin=function Ua(C){return!0===C?dr(this._weekdaysMin,this._week.dow):C?this._weekdaysMin[C.day()]:this._weekdaysMin},Vi.weekdaysShort=function cd(C){return!0===C?dr(this._weekdaysShort,this._week.dow):C?this._weekdaysShort[C.day()]:this._weekdaysShort},Vi.weekdaysParse=function Ec(C,B,X){var ne,me,Ne;if(this._weekdaysParseExact)return Br.call(this,C,B,X);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ne=0;ne<7;ne++){if(me=ht([2e3,1]).day(ne),X&&!this._fullWeekdaysParse[ne]&&(this._fullWeekdaysParse[ne]=new RegExp("^"+this.weekdays(me,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ne]=new RegExp("^"+this.weekdaysShort(me,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ne]=new RegExp("^"+this.weekdaysMin(me,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ne]||(Ne="^"+this.weekdays(me,"")+"|^"+this.weekdaysShort(me,"")+"|^"+this.weekdaysMin(me,""),this._weekdaysParse[ne]=new RegExp(Ne.replace(".",""),"i")),X&&"dddd"===B&&this._fullWeekdaysParse[ne].test(C))return ne;if(X&&"ddd"===B&&this._shortWeekdaysParse[ne].test(C))return ne;if(X&&"dd"===B&&this._minWeekdaysParse[ne].test(C))return ne;if(!X&&this._weekdaysParse[ne].test(C))return ne}},Vi.weekdaysRegex=function br(C){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||kr.call(this),C?this._weekdaysStrictRegex:this._weekdaysRegex):(J(this,"_weekdaysRegex")||(this._weekdaysRegex=tr),this._weekdaysStrictRegex&&C?this._weekdaysStrictRegex:this._weekdaysRegex)},Vi.weekdaysShortRegex=function js(C){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||kr.call(this),C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(J(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=no),this._weekdaysShortStrictRegex&&C?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Vi.weekdaysMinRegex=function Ys(C){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||kr.call(this),C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(J(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sr),this._weekdaysMinStrictRegex&&C?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Vi.isPM=function Xn(C){return"p"===(C+"").toLowerCase().charAt(0)},Vi.meridiem=function Us(C,B,X){return C>11?X?"pm":"PM":X?"am":"AM"},ms("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(C){var B=C%10;return C+(1===ti(C%100/10)?"th":1===B?"st":2===B?"nd":3===B?"rd":"th")}}),R.lang=Nt("moment.lang is deprecated. Use moment.locale instead.",ms),R.langData=Nt("moment.langData is deprecated. Use moment.localeData instead.",ho);var D=Math.abs;function O(C,B,X,ne){var me=oa(B,X);return C._milliseconds+=ne*me._milliseconds,C._days+=ne*me._days,C._months+=ne*me._months,C._bubble()}function K(C){return C<0?Math.floor(C):Math.ceil(C)}function re(C){return 4800*C/146097}function he(C){return 146097*C/4800}function be(C){return function(){return this.as(C)}}var De=be("ms"),oe=be("s"),ye=be("m"),Ce=be("h"),Le=be("d"),Ue=be("w"),Ye=be("M"),Ve=be("Q"),Xe=be("y");function Rt(C){return function(){return this.isValid()?this._data[C]:NaN}}var Qe=Rt("milliseconds"),Mt=Rt("seconds"),ut=Rt("minutes"),Lt=Rt("hours"),tt=Rt("days"),bt=Rt("months"),$t=Rt("years");var Ct=Math.round,wn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wn(C,B,X,ne,me){return me.relativeTime(B||1,!!X,C,ne)}var mn=Math.abs;function Ii(C){return(C>0)-(C<0)||+C}function mi(){if(!this.isValid())return this.localeData().invalidDate();var ne,me,Ne,lt,Bn,ii,yi,Vr,C=mn(this._milliseconds)/1e3,B=mn(this._days),X=mn(this._months),on=this.asSeconds();return on?(ne=vr(C/60),me=vr(ne/60),C%=60,ne%=60,Ne=vr(X/12),X%=12,lt=C?C.toFixed(3).replace(/\.?0+$/,""):"",Bn=on<0?"-":"",ii=Ii(this._months)!==Ii(on)?"-":"",yi=Ii(this._days)!==Ii(on)?"-":"",Vr=Ii(this._milliseconds)!==Ii(on)?"-":"",Bn+"P"+(Ne?ii+Ne+"Y":"")+(X?ii+X+"M":"")+(B?yi+B+"D":"")+(me||ne||C?"T":"")+(me?Vr+me+"H":"")+(ne?Vr+ne+"M":"")+(C?Vr+lt+"S":"")):"P0D"}var On=Cc.prototype;return On.isValid=function Ps(){return this._isValid},On.abs=function S(){var C=this._data;return this._milliseconds=D(this._milliseconds),this._days=D(this._days),this._months=D(this._months),C.milliseconds=D(C.milliseconds),C.seconds=D(C.seconds),C.minutes=D(C.minutes),C.hours=D(C.hours),C.months=D(C.months),C.years=D(C.years),this},On.add=function N(C,B){return O(this,C,B,1)},On.subtract=function V(C,B){return O(this,C,B,-1)},On.as=function ve(C){if(!this.isValid())return NaN;var B,X,ne=this._milliseconds;if("month"===(C=yr(C))||"quarter"===C||"year"===C)switch(B=this._days+ne/864e5,X=this._months+re(B),C){case"month":return X;case"quarter":return X/3;case"year":return X/12}else switch(B=this._days+Math.round(he(this._months)),C){case"week":return B/7+ne/6048e5;case"day":return B+ne/864e5;case"hour":return 24*B+ne/36e5;case"minute":return 1440*B+ne/6e4;case"second":return 86400*B+ne/1e3;case"millisecond":return Math.floor(864e5*B)+ne;default:throw new Error("Unknown unit "+C)}},On.asMilliseconds=De,On.asSeconds=oe,On.asMinutes=ye,On.asHours=Ce,On.asDays=Le,On.asWeeks=Ue,On.asMonths=Ye,On.asQuarters=Ve,On.asYears=Xe,On.valueOf=function we(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ti(this._months/12):NaN},On._bubble=function q(){var me,Ne,lt,on,Bn,C=this._milliseconds,B=this._days,X=this._months,ne=this._data;return C>=0&&B>=0&&X>=0||C<=0&&B<=0&&X<=0||(C+=864e5*K(he(X)+B),B=0,X=0),ne.milliseconds=C%1e3,me=vr(C/1e3),ne.seconds=me%60,Ne=vr(me/60),ne.minutes=Ne%60,lt=vr(Ne/60),ne.hours=lt%24,B+=vr(lt/24),X+=Bn=vr(re(B)),B-=K(he(Bn)),on=vr(X/12),X%=12,ne.days=B,ne.months=X,ne.years=on,this},On.clone=function Ze(){return oa(this)},On.get=function it(C){return C=yr(C),this.isValid()?this[C+"s"]():NaN},On.milliseconds=Qe,On.seconds=Mt,On.minutes=ut,On.hours=Lt,On.days=tt,On.weeks=function Dt(){return vr(this.days()/7)},On.months=bt,On.years=$t,On.humanize=function jn(C,B){if(!this.isValid())return this.localeData().invalidDate();var me,Ne,X=!1,ne=wn;return"object"==typeof C&&(B=C,C=!1),"boolean"==typeof C&&(X=C),"object"==typeof B&&(ne=Object.assign({},wn,B),null!=B.s&&null==B.ss&&(ne.ss=B.s-1)),Ne=function _n(C,B,X,ne){var me=oa(C).abs(),Ne=Ct(me.as("s")),lt=Ct(me.as("m")),on=Ct(me.as("h")),Bn=Ct(me.as("d")),ii=Ct(me.as("M")),yi=Ct(me.as("w")),Vr=Ct(me.as("y")),ys=Ne<=X.ss&&["s",Ne]||Ne<X.s&&["ss",Ne]||lt<=1&&["m"]||lt<X.m&&["mm",lt]||on<=1&&["h"]||on<X.h&&["hh",on]||Bn<=1&&["d"]||Bn<X.d&&["dd",Bn];return null!=X.w&&(ys=ys||yi<=1&&["w"]||yi<X.w&&["ww",yi]),(ys=ys||ii<=1&&["M"]||ii<X.M&&["MM",ii]||Vr<=1&&["y"]||["yy",Vr])[2]=B,ys[3]=+C>0,ys[4]=ne,Wn.apply(null,ys)}(this,!X,ne,me=this.localeData()),X&&(Ne=me.pastFuture(+this,Ne)),me.postformat(Ne)},On.toISOString=mi,On.toString=mi,On.toJSON=mi,On.locale=hn,On.localeData=hi,On.toIsoString=Nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mi),On.lang=io,mt("X",0,0,"unix"),mt("x",0,0,"valueOf"),Ut("x",qt),Ut("X",/[+-]?\d+(\.\d{1,3})?/),Zn("X",function(C,B,X){X._d=new Date(1e3*parseFloat(C))}),Zn("x",function(C,B,X){X._d=new Date(ti(C))}),R.version="2.29.4",function U(C){y=C}(xr),R.fn=ln,R.min=function hd(){return Pp("isBefore",[].slice.call(arguments,0))},R.max=function Hl(){return Pp("isAfter",[].slice.call(arguments,0))},R.now=function(){return Date.now?Date.now():+new Date},R.utc=ht,R.unix=function Mf(C){return xr(1e3*C)},R.months=function Ia(C,B){return Gn(C,B,"months")},R.isDate=Me,R.locale=ms,R.invalid=pn,R.duration=oa,R.isMoment=zt,R.weekdays=function a(C,B,X){return gs(C,B,X,"weekdays")},R.parseZone=function Hs(){return xr.apply(null,arguments).parseZone()},R.localeData=ho,R.isDuration=$a,R.monthsShort=function g(C,B){return Gn(C,B,"monthsShort")},R.weekdaysMin=function b(C,B,X){return gs(C,B,X,"weekdaysMin")},R.defineLocale=Dn,R.updateLocale=function Ip(C,B){if(null!=B){var X,ne,me=Er;null!=Ui[C]&&null!=Ui[C].parentLocale?Ui[C].set(ws(Ui[C]._config,B)):(null!=(ne=Ha(C))&&(me=ne._config),B=ws(me,B),null==ne&&(B.abbr=C),(X=new ei(B)).parentLocale=Ui[C],Ui[C]=X),ms(C)}else null!=Ui[C]&&(null!=Ui[C].parentLocale?(Ui[C]=Ui[C].parentLocale,C===ms()&&ms(C)):null!=Ui[C]&&delete Ui[C]);return Ui[C]},R.locales=function ud(){return co(Ui)},R.weekdaysShort=function p(C,B,X){return gs(C,B,X,"weekdaysShort")},R.normalizeUnits=yr,R.relativeTimeRounding=function In(C){return void 0===C?Ct:"function"==typeof C&&(Ct=C,!0)},R.relativeTimeThreshold=function pi(C,B){return void 0!==wn[C]&&(void 0===B?wn[C]:(wn[C]=B,"s"===C&&(wn.ss=B-1),!0))},R.calendarFormat=function Os(C,B){var X=C.diff(B,"days",!0);return X<-6?"sameElse":X<-1?"lastWeek":X<0?"lastDay":X<1?"sameDay":X<2?"nextDay":X<7?"nextWeek":"sameElse"},R.prototype=ln,R.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},R}()},5619:(xe,_e,G)=>{"use strict";G.d(_e,{X:()=>R});var y=G(8645);class R extends y.x{constructor(u){super(),this._value=u}get value(){return this.getValue()}_subscribe(u){const F=super._subscribe(u);return!F.closed&&u.next(this._value),F}getValue(){const{hasError:u,thrownError:F,_value:J}=this;if(u)throw F;return this._throwIfClosed(),J}next(u){super.next(this._value=u)}}},5592:(xe,_e,G)=>{"use strict";G.d(_e,{y:()=>ae});var y=G(305),R=G(7394),U=G(4850),u=G(8407),F=G(2653),J=G(4674),ee=G(1441);let ae=(()=>{class Ge{constructor(Xt){Xt&&(this._subscribe=Xt)}lift(Xt){const _t=new Ge;return _t.source=this,_t.operator=Xt,_t}subscribe(Xt,_t,Pt){const An=function Fe(Ge){return Ge&&Ge instanceof y.Lv||function Me(Ge){return Ge&&(0,J.m)(Ge.next)&&(0,J.m)(Ge.error)&&(0,J.m)(Ge.complete)}(Ge)&&(0,R.Nn)(Ge)}(Xt)?Xt:new y.Hp(Xt,_t,Pt);return(0,ee.x)(()=>{const{operator:pn,source:Fn}=this;An.add(pn?pn.call(An,Fn):Fn?this._subscribe(An):this._trySubscribe(An))}),An}_trySubscribe(Xt){try{return this._subscribe(Xt)}catch(_t){Xt.error(_t)}}forEach(Xt,_t){return new(_t=de(_t))((Pt,An)=>{const pn=new y.Hp({next:Fn=>{try{Xt(Fn)}catch(Mn){An(Mn),pn.unsubscribe()}},error:An,complete:Pt});this.subscribe(pn)})}_subscribe(Xt){var _t;return null===(_t=this.source)||void 0===_t?void 0:_t.subscribe(Xt)}[U.L](){return this}pipe(...Xt){return(0,u.U)(Xt)(this)}toPromise(Xt){return new(Xt=de(Xt))((_t,Pt)=>{let An;this.subscribe(pn=>An=pn,pn=>Pt(pn),()=>_t(An))})}}return Ge.create=ht=>new Ge(ht),Ge})();function de(Ge){var ht;return null!==(ht=Ge??F.config.Promise)&&void 0!==ht?ht:Promise}},7328:(xe,_e,G)=>{"use strict";G.d(_e,{t:()=>U});var y=G(8645),R=G(4552);class U extends y.x{constructor(F=1/0,J=1/0,ee=R.l){super(),this._bufferSize=F,this._windowTime=J,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,F),this._windowTime=Math.max(1,J)}next(F){const{isStopped:J,_buffer:ee,_infiniteTimeWindow:ae,_timestampProvider:de,_windowTime:Me}=this;J||(ee.push(F),!ae&&ee.push(de.now()+Me)),this._trimBuffer(),super.next(F)}_subscribe(F){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(F),{_infiniteTimeWindow:ee,_buffer:ae}=this,de=ae.slice();for(let Me=0;Me<de.length&&!F.closed;Me+=ee?1:2)F.next(de[Me]);return this._checkFinalizedStatuses(F),J}_trimBuffer(){const{_bufferSize:F,_timestampProvider:J,_buffer:ee,_infiniteTimeWindow:ae}=this,de=(ae?1:2)*F;if(F<1/0&&de<ee.length&&ee.splice(0,ee.length-de),!ae){const Me=J.now();let Fe=0;for(let Ge=1;Ge<ee.length&&ee[Ge]<=Me;Ge+=2)Fe=Ge;Fe&&ee.splice(0,Fe+1)}}}},8645:(xe,_e,G)=>{"use strict";G.d(_e,{x:()=>ee});var y=G(5592),R=G(7394);const u=(0,G(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=G(9039),J=G(1441);let ee=(()=>{class de extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Fe){const Ge=new ae(this,this);return Ge.operator=Fe,Ge}_throwIfClosed(){if(this.closed)throw new u}next(Fe){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ge of this.currentObservers)Ge.next(Fe)}})}error(Fe){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Fe;const{observers:Ge}=this;for(;Ge.length;)Ge.shift().error(Fe)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Fe;return(null===(Fe=this.observers)||void 0===Fe?void 0:Fe.length)>0}_trySubscribe(Fe){return this._throwIfClosed(),super._trySubscribe(Fe)}_subscribe(Fe){return this._throwIfClosed(),this._checkFinalizedStatuses(Fe),this._innerSubscribe(Fe)}_innerSubscribe(Fe){const{hasError:Ge,isStopped:ht,observers:Xt}=this;return Ge||ht?R.Lc:(this.currentObservers=null,Xt.push(Fe),new R.w0(()=>{this.currentObservers=null,(0,F.P)(Xt,Fe)}))}_checkFinalizedStatuses(Fe){const{hasError:Ge,thrownError:ht,isStopped:Xt}=this;Ge?Fe.error(ht):Xt&&Fe.complete()}asObservable(){const Fe=new y.y;return Fe.source=this,Fe}}return de.create=(Me,Fe)=>new ae(Me,Fe),de})();class ae extends ee{constructor(Me,Fe){super(),this.destination=Me,this.source=Fe}next(Me){var Fe,Ge;null===(Ge=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.next)||void 0===Ge||Ge.call(Fe,Me)}error(Me){var Fe,Ge;null===(Ge=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.error)||void 0===Ge||Ge.call(Fe,Me)}complete(){var Me,Fe;null===(Fe=null===(Me=this.destination)||void 0===Me?void 0:Me.complete)||void 0===Fe||Fe.call(Me)}_subscribe(Me){var Fe,Ge;return null!==(Ge=null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Me))&&void 0!==Ge?Ge:R.Lc}}},305:(xe,_e,G)=>{"use strict";G.d(_e,{Hp:()=>Pt,Lv:()=>Ge});var y=G(4674),R=G(7394),U=G(2653),u=G(3894),F=G(2420);const J=de("C",void 0,void 0);function de(ct,qe,zt){return{kind:ct,value:qe,error:zt}}var Me=G(7599),Fe=G(1441);class Ge extends R.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,R.Nn)(qe)&&qe.add(this)):this.destination=Mn}static create(qe,zt,Jt){return new Pt(qe,zt,Jt)}next(qe){this.isStopped?Fn(function ae(ct){return de("N",ct,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?Fn(function ee(ct){return de("E",void 0,ct)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?Fn(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function Xt(ct,qe){return ht.call(ct,qe)}class _t{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:zt}=this;if(zt.next)try{zt.next(qe)}catch(Jt){An(Jt)}}error(qe){const{partialObserver:zt}=this;if(zt.error)try{zt.error(qe)}catch(Jt){An(Jt)}else An(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(zt){An(zt)}}}class Pt extends Ge{constructor(qe,zt,Jt){let Nt;if(super(),(0,y.m)(qe)||!qe)Nt={next:qe??void 0,error:zt??void 0,complete:Jt??void 0};else{let rn;this&&U.config.useDeprecatedNextContext?(rn=Object.create(qe),rn.unsubscribe=()=>this.unsubscribe(),Nt={next:qe.next&&Xt(qe.next,rn),error:qe.error&&Xt(qe.error,rn),complete:qe.complete&&Xt(qe.complete,rn)}):Nt=qe}this.destination=new _t(Nt)}}function An(ct){U.config.useDeprecatedSynchronousErrorHandling?(0,Fe.O)(ct):(0,u.h)(ct)}function Fn(ct,qe){const{onStoppedNotification:zt}=U.config;zt&&Me.z.setTimeout(()=>zt(ct,qe))}const Mn={closed:!0,next:F.Z,error:function pn(ct){throw ct},complete:F.Z}},7394:(xe,_e,G)=>{"use strict";G.d(_e,{Lc:()=>J,w0:()=>F,Nn:()=>ee});var y=G(4674);const U=(0,G(2306).d)(de=>function(Fe){de(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((Ge,ht)=>`${ht+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe});var u=G(9039);class F{constructor(Me){this.initialTeardown=Me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Me;if(!this.closed){this.closed=!0;const{_parentage:Fe}=this;if(Fe)if(this._parentage=null,Array.isArray(Fe))for(const Xt of Fe)Xt.remove(this);else Fe.remove(this);const{initialTeardown:Ge}=this;if((0,y.m)(Ge))try{Ge()}catch(Xt){Me=Xt instanceof U?Xt.errors:[Xt]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const Xt of ht)try{ae(Xt)}catch(_t){Me=Me??[],_t instanceof U?Me=[...Me,..._t.errors]:Me.push(_t)}}if(Me)throw new U(Me)}}add(Me){var Fe;if(Me&&Me!==this)if(this.closed)ae(Me);else{if(Me instanceof F){if(Me.closed||Me._hasParent(this))return;Me._addParent(this)}(this._finalizers=null!==(Fe=this._finalizers)&&void 0!==Fe?Fe:[]).push(Me)}}_hasParent(Me){const{_parentage:Fe}=this;return Fe===Me||Array.isArray(Fe)&&Fe.includes(Me)}_addParent(Me){const{_parentage:Fe}=this;this._parentage=Array.isArray(Fe)?(Fe.push(Me),Fe):Fe?[Fe,Me]:Me}_removeParent(Me){const{_parentage:Fe}=this;Fe===Me?this._parentage=null:Array.isArray(Fe)&&(0,u.P)(Fe,Me)}remove(Me){const{_finalizers:Fe}=this;Fe&&(0,u.P)(Fe,Me),Me instanceof F&&Me._removeParent(this)}}F.EMPTY=(()=>{const de=new F;return de.closed=!0,de})();const J=F.EMPTY;function ee(de){return de instanceof F||de&&"closed"in de&&(0,y.m)(de.remove)&&(0,y.m)(de.add)&&(0,y.m)(de.unsubscribe)}function ae(de){(0,y.m)(de)?de():de.unsubscribe()}},2653:(xe,_e,G)=>{"use strict";G.d(_e,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(xe,_e,G)=>{"use strict";G.d(_e,{E:()=>R});const R=new(G(5592).y)(F=>F.complete())},9666:(xe,_e,G)=>{"use strict";G.d(_e,{D:()=>zt});var y=G(4829),R=G(3093),U=G(9360);function u(Jt,Nt=0){return(0,U.e)((rn,wi)=>{wi.add(Jt.schedule(()=>rn.subscribe(wi),Nt))})}var ee=G(5592),de=G(4971),Me=G(4674),Fe=G(7103);function ht(Jt,Nt){if(!Jt)throw new Error("Iterable cannot be null");return new ee.y(rn=>{(0,Fe.f)(rn,Nt,()=>{const wi=Jt[Symbol.asyncIterator]();(0,Fe.f)(rn,Nt,()=>{wi.next().then(fi=>{fi.done?rn.complete():rn.next(fi.value)})},0,!0)})})}var Xt=G(8382),_t=G(4026),Pt=G(4266),An=G(3664),pn=G(5726),Fn=G(9853),Mn=G(541);function zt(Jt,Nt){return Nt?function qe(Jt,Nt){if(null!=Jt){if((0,Xt.c)(Jt))return function F(Jt,Nt){return(0,y.Xf)(Jt).pipe(u(Nt),(0,R.Q)(Nt))}(Jt,Nt);if((0,Pt.z)(Jt))return function ae(Jt,Nt){return new ee.y(rn=>{let wi=0;return Nt.schedule(function(){wi===Jt.length?rn.complete():(rn.next(Jt[wi++]),rn.closed||this.schedule())})})}(Jt,Nt);if((0,_t.t)(Jt))return function J(Jt,Nt){return(0,y.Xf)(Jt).pipe(u(Nt),(0,R.Q)(Nt))}(Jt,Nt);if((0,pn.D)(Jt))return ht(Jt,Nt);if((0,An.T)(Jt))return function Ge(Jt,Nt){return new ee.y(rn=>{let wi;return(0,Fe.f)(rn,Nt,()=>{wi=Jt[de.h](),(0,Fe.f)(rn,Nt,()=>{let fi,_r;try{({value:fi,done:_r}=wi.next())}catch(ws){return void rn.error(ws)}_r?rn.complete():rn.next(fi)},0,!0)}),()=>(0,Me.m)(wi?.return)&&wi.return()})}(Jt,Nt);if((0,Mn.L)(Jt))return function ct(Jt,Nt){return ht((0,Mn.Q)(Jt),Nt)}(Jt,Nt)}throw(0,Fn.z)(Jt)}(Jt,Nt):(0,y.Xf)(Jt)}},4829:(xe,_e,G)=>{"use strict";G.d(_e,{Xf:()=>ht});var y=G(7582),R=G(4266),U=G(4026),u=G(5592),F=G(8382),J=G(5726),ee=G(9853),ae=G(3664),de=G(541),Me=G(4674),Fe=G(3894),Ge=G(4850);function ht(ct){if(ct instanceof u.y)return ct;if(null!=ct){if((0,F.c)(ct))return function Xt(ct){return new u.y(qe=>{const zt=ct[Ge.L]();if((0,Me.m)(zt.subscribe))return zt.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,R.z)(ct))return function _t(ct){return new u.y(qe=>{for(let zt=0;zt<ct.length&&!qe.closed;zt++)qe.next(ct[zt]);qe.complete()})}(ct);if((0,U.t)(ct))return function Pt(ct){return new u.y(qe=>{ct.then(zt=>{qe.closed||(qe.next(zt),qe.complete())},zt=>qe.error(zt)).then(null,Fe.h)})}(ct);if((0,J.D)(ct))return pn(ct);if((0,ae.T)(ct))return function An(ct){return new u.y(qe=>{for(const zt of ct)if(qe.next(zt),qe.closed)return;qe.complete()})}(ct);if((0,de.L)(ct))return function Fn(ct){return pn((0,de.Q)(ct))}(ct)}throw(0,ee.z)(ct)}function pn(ct){return new u.y(qe=>{(function Mn(ct,qe){var zt,Jt,Nt,rn;return(0,y.mG)(this,void 0,void 0,function*(){try{for(zt=(0,y.KL)(ct);!(Jt=yield zt.next()).done;)if(qe.next(Jt.value),qe.closed)return}catch(wi){Nt={error:wi}}finally{try{Jt&&!Jt.done&&(rn=zt.return)&&(yield rn.call(zt))}finally{if(Nt)throw Nt.error}}qe.complete()})})(ct,qe).catch(zt=>qe.error(zt))})}},3019:(xe,_e,G)=>{"use strict";G.d(_e,{T:()=>J});var y=G(7537),R=G(4829),U=G(6232),u=G(9940),F=G(9666);function J(...ee){const ae=(0,u.yG)(ee),de=(0,u._6)(ee,1/0),Me=ee;return Me.length?1===Me.length?(0,R.Xf)(Me[0]):(0,y.J)(de)((0,F.D)(Me,ae)):U.E}},2096:(xe,_e,G)=>{"use strict";G.d(_e,{of:()=>U});var y=G(9940),R=G(9666);function U(...u){const F=(0,y.yG)(u);return(0,R.D)(u,F)}},8251:(xe,_e,G)=>{"use strict";G.d(_e,{Q:()=>U,x:()=>R});var y=G(305);function R(u,F,J,ee,ae){return new U(u,F,J,ee,ae)}class U extends y.Lv{constructor(F,J,ee,ae,de,Me){super(F),this.onFinalize=de,this.shouldUnsubscribe=Me,this._next=J?function(Fe){try{J(Fe)}catch(Ge){F.error(Ge)}}:super._next,this._error=ae?function(Fe){try{ae(Fe)}catch(Ge){F.error(Ge)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(Fe){F.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var F;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(F=this.onFinalize)||void 0===F||F.call(this))}}}},6306:(xe,_e,G)=>{"use strict";G.d(_e,{K:()=>u});var y=G(4829),R=G(8251),U=G(9360);function u(F){return(0,U.e)((J,ee)=>{let Me,ae=null,de=!1;ae=J.subscribe((0,R.x)(ee,void 0,void 0,Fe=>{Me=(0,y.Xf)(F(Fe,u(F)(J))),ae?(ae.unsubscribe(),ae=null,Me.subscribe(ee)):de=!0})),de&&(ae.unsubscribe(),ae=null,Me.subscribe(ee))})}},6328:(xe,_e,G)=>{"use strict";G.d(_e,{b:()=>U});var y=G(1631),R=G(4674);function U(u,F){return(0,R.m)(F)?(0,y.z)(u,F,1):(0,y.z)(u,1)}},3620:(xe,_e,G)=>{"use strict";G.d(_e,{b:()=>u});var y=G(6321),R=G(9360),U=G(8251);function u(F,J=y.z){return(0,R.e)((ee,ae)=>{let de=null,Me=null,Fe=null;const Ge=()=>{if(de){de.unsubscribe(),de=null;const Xt=Me;Me=null,ae.next(Xt)}};function ht(){const Xt=Fe+F,_t=J.now();if(_t<Xt)return de=this.schedule(void 0,Xt-_t),void ae.add(de);Ge()}ee.subscribe((0,U.x)(ae,Xt=>{Me=Xt,Fe=J.now(),de||(de=J.schedule(ht,F),ae.add(de))},()=>{Ge(),ae.complete()},void 0,()=>{Me=de=null}))})}},3997:(xe,_e,G)=>{"use strict";G.d(_e,{x:()=>u});var y=G(2737),R=G(9360),U=G(8251);function u(J,ee=y.y){return J=J??F,(0,R.e)((ae,de)=>{let Me,Fe=!0;ae.subscribe((0,U.x)(de,Ge=>{const ht=ee(Ge);(Fe||!J(Me,ht))&&(Fe=!1,Me=ht,de.next(Ge))}))})}function F(J,ee){return J===ee}},2181:(xe,_e,G)=>{"use strict";G.d(_e,{h:()=>U});var y=G(9360),R=G(8251);function U(u,F){return(0,y.e)((J,ee)=>{let ae=0;J.subscribe((0,R.x)(ee,de=>u.call(F,de,ae++)&&ee.next(de)))})}},7398:(xe,_e,G)=>{"use strict";G.d(_e,{U:()=>U});var y=G(9360),R=G(8251);function U(u,F){return(0,y.e)((J,ee)=>{let ae=0;J.subscribe((0,R.x)(ee,de=>{ee.next(u.call(F,de,ae++))}))})}},7537:(xe,_e,G)=>{"use strict";G.d(_e,{J:()=>U});var y=G(1631),R=G(2737);function U(u=1/0){return(0,y.z)(R.y,u)}},1631:(xe,_e,G)=>{"use strict";G.d(_e,{z:()=>ae});var y=G(7398),R=G(4829),U=G(9360),u=G(7103),F=G(8251),ee=G(4674);function ae(de,Me,Fe=1/0){return(0,ee.m)(Me)?ae((Ge,ht)=>(0,y.U)((Xt,_t)=>Me(Ge,Xt,ht,_t))((0,R.Xf)(de(Ge,ht))),Fe):("number"==typeof Me&&(Fe=Me),(0,U.e)((Ge,ht)=>function J(de,Me,Fe,Ge,ht,Xt,_t,Pt){const An=[];let pn=0,Fn=0,Mn=!1;const ct=()=>{Mn&&!An.length&&!pn&&Me.complete()},qe=Jt=>pn<Ge?zt(Jt):An.push(Jt),zt=Jt=>{Xt&&Me.next(Jt),pn++;let Nt=!1;(0,R.Xf)(Fe(Jt,Fn++)).subscribe((0,F.x)(Me,rn=>{ht?.(rn),Xt?qe(rn):Me.next(rn)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(pn--;An.length&&pn<Ge;){const rn=An.shift();_t?(0,u.f)(Me,_t,()=>zt(rn)):zt(rn)}ct()}catch(rn){Me.error(rn)}}))};return de.subscribe((0,F.x)(Me,qe,()=>{Mn=!0,ct()})),()=>{Pt?.()}}(Ge,ht,de,Fe)))}},3093:(xe,_e,G)=>{"use strict";G.d(_e,{Q:()=>u});var y=G(7103),R=G(9360),U=G(8251);function u(F,J=0){return(0,R.e)((ee,ae)=>{ee.subscribe((0,U.x)(ae,de=>(0,y.f)(ae,F,()=>ae.next(de),J),()=>(0,y.f)(ae,F,()=>ae.complete(),J),de=>(0,y.f)(ae,F,()=>ae.error(de),J)))})}},6699:(xe,_e,G)=>{"use strict";G.d(_e,{R:()=>u});var y=G(9360),R=G(8251);function u(F,J){return(0,y.e)(function U(F,J,ee,ae,de){return(Me,Fe)=>{let Ge=ee,ht=J,Xt=0;Me.subscribe((0,R.x)(Fe,_t=>{const Pt=Xt++;ht=Ge?F(ht,_t,Pt):(Ge=!0,_t),ae&&Fe.next(ht)},de&&(()=>{Ge&&Fe.next(ht),Fe.complete()})))}}(F,J,arguments.length>=2,!0))}},3020:(xe,_e,G)=>{"use strict";G.d(_e,{B:()=>F});var y=G(4829),R=G(8645),U=G(305),u=G(9360);function F(ee={}){const{connector:ae=(()=>new R.x),resetOnError:de=!0,resetOnComplete:Me=!0,resetOnRefCountZero:Fe=!0}=ee;return Ge=>{let ht,Xt,_t,Pt=0,An=!1,pn=!1;const Fn=()=>{Xt?.unsubscribe(),Xt=void 0},Mn=()=>{Fn(),ht=_t=void 0,An=pn=!1},ct=()=>{const qe=ht;Mn(),qe?.unsubscribe()};return(0,u.e)((qe,zt)=>{Pt++,!pn&&!An&&Fn();const Jt=_t=_t??ae();zt.add(()=>{Pt--,0===Pt&&!pn&&!An&&(Xt=J(ct,Fe))}),Jt.subscribe(zt),!ht&&Pt>0&&(ht=new U.Hp({next:Nt=>Jt.next(Nt),error:Nt=>{pn=!0,Fn(),Xt=J(Mn,de,Nt),Jt.error(Nt)},complete:()=>{An=!0,Fn(),Xt=J(Mn,Me),Jt.complete()}}),(0,y.Xf)(qe).subscribe(ht))})(Ge)}}function J(ee,ae,...de){if(!0===ae)return void ee();if(!1===ae)return;const Me=new U.Hp({next:()=>{Me.unsubscribe(),ee()}});return(0,y.Xf)(ae(...de)).subscribe(Me)}},836:(xe,_e,G)=>{"use strict";G.d(_e,{T:()=>R});var y=G(2181);function R(U){return(0,y.h)((u,F)=>U<=F)}},4664:(xe,_e,G)=>{"use strict";G.d(_e,{w:()=>u});var y=G(4829),R=G(9360),U=G(8251);function u(F,J){return(0,R.e)((ee,ae)=>{let de=null,Me=0,Fe=!1;const Ge=()=>Fe&&!de&&ae.complete();ee.subscribe((0,U.x)(ae,ht=>{de?.unsubscribe();let Xt=0;const _t=Me++;(0,y.Xf)(F(ht,_t)).subscribe(de=(0,U.x)(ae,Pt=>ae.next(J?J(ht,Pt,_t,Xt++):Pt),()=>{de=null,Ge()}))},()=>{Fe=!0,Ge()}))})}},8180:(xe,_e,G)=>{"use strict";G.d(_e,{q:()=>u});var y=G(6232),R=G(9360),U=G(8251);function u(F){return F<=0?()=>y.E:(0,R.e)((J,ee)=>{let ae=0;J.subscribe((0,U.x)(ee,de=>{++ae<=F&&(ee.next(de),F<=ae&&ee.complete())}))})}},9773:(xe,_e,G)=>{"use strict";G.d(_e,{R:()=>F});var y=G(9360),R=G(8251),U=G(4829),u=G(2420);function F(J){return(0,y.e)((ee,ae)=>{(0,U.Xf)(J).subscribe((0,R.x)(ae,()=>ae.complete(),u.Z)),!ae.closed&&ee.subscribe(ae)})}},5178:(xe,_e,G)=>{"use strict";G.d(_e,{V:()=>de});var y=G(6321),R=G(93),U=G(9360),u=G(4829),F=G(2306),J=G(8251),ee=G(7103);const ae=(0,F.d)(Fe=>function(ht=null){Fe(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ht});function de(Fe,Ge){const{first:ht,each:Xt,with:_t=Me,scheduler:Pt=Ge??y.z,meta:An=null}=(0,R.q)(Fe)?{first:Fe}:"number"==typeof Fe?{each:Fe}:Fe;if(null==ht&&null==Xt)throw new TypeError("No timeout provided.");return(0,U.e)((pn,Fn)=>{let Mn,ct,qe=null,zt=0;const Jt=Nt=>{ct=(0,ee.f)(Fn,Pt,()=>{try{Mn.unsubscribe(),(0,u.Xf)(_t({meta:An,lastValue:qe,seen:zt})).subscribe(Fn)}catch(rn){Fn.error(rn)}},Nt)};Mn=pn.subscribe((0,J.x)(Fn,Nt=>{ct?.unsubscribe(),zt++,Fn.next(qe=Nt),Xt>0&&Jt(Xt)},void 0,void 0,()=>{ct?.closed||ct?.unsubscribe(),qe=null})),!zt&&Jt(null!=ht?"number"==typeof ht?ht:+ht-Pt.now():Xt)})}function Me(Fe){throw new ae(Fe)}},2460:(xe,_e,G)=>{"use strict";G.d(_e,{M:()=>ee});var y=G(9360),R=G(8251),U=G(4829),u=G(2737),F=G(2420),J=G(9940);function ee(...ae){const de=(0,J.jO)(ae);return(0,y.e)((Me,Fe)=>{const Ge=ae.length,ht=new Array(Ge);let Xt=ae.map(()=>!1),_t=!1;for(let Pt=0;Pt<Ge;Pt++)(0,U.Xf)(ae[Pt]).subscribe((0,R.x)(Fe,An=>{ht[Pt]=An,!_t&&!Xt[Pt]&&(Xt[Pt]=!0,(_t=Xt.every(u.y))&&(Xt=null))},F.Z));Me.subscribe((0,R.x)(Fe,Pt=>{if(_t){const An=[Pt,...ht];Fe.next(de?de(...An):An)}}))})}},1954:(xe,_e,G)=>{"use strict";G.d(_e,{o:()=>F});var y=G(7394);class R extends y.w0{constructor(ee,ae){super()}schedule(ee,ae=0){return this}}const U={setInterval(J,ee,...ae){const{delegate:de}=U;return de?.setInterval?de.setInterval(J,ee,...ae):setInterval(J,ee,...ae)},clearInterval(J){const{delegate:ee}=U;return(ee?.clearInterval||clearInterval)(J)},delegate:void 0};var u=G(9039);class F extends R{constructor(ee,ae){super(ee,ae),this.scheduler=ee,this.work=ae,this.pending=!1}schedule(ee,ae=0){var de;if(this.closed)return this;this.state=ee;const Me=this.id,Fe=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(Fe,Me,ae)),this.pending=!0,this.delay=ae,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(Fe,this.id,ae),this}requestAsyncId(ee,ae,de=0){return U.setInterval(ee.flush.bind(ee,this),de)}recycleAsyncId(ee,ae,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ae;null!=ae&&U.clearInterval(ae)}execute(ee,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ee,ae);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,ae){let Me,de=!1;try{this.work(ee)}catch(Fe){de=!0,Me=Fe||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),Me}unsubscribe(){if(!this.closed){const{id:ee,scheduler:ae}=this,{actions:de}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,u.P)(de,this),null!=ee&&(this.id=this.recycleAsyncId(ae,ee,null)),this.delay=null,super.unsubscribe()}}}},2631:(xe,_e,G)=>{"use strict";G.d(_e,{v:()=>U});var y=G(4552);class R{constructor(F,J=R.now){this.schedulerActionCtor=F,this.now=J}schedule(F,J=0,ee){return new this.schedulerActionCtor(this,F).schedule(ee,J)}}R.now=y.l.now;class U extends R{constructor(F,J=R.now){super(F,J),this.actions=[],this._active=!1}flush(F){const{actions:J}=this;if(this._active)return void J.push(F);let ee;this._active=!0;do{if(ee=F.execute(F.state,F.delay))break}while(F=J.shift());if(this._active=!1,ee){for(;F=J.shift();)F.unsubscribe();throw ee}}}},6321:(xe,_e,G)=>{"use strict";G.d(_e,{P:()=>u,z:()=>U});var y=G(1954);const U=new(G(2631).v)(y.o),u=U},4552:(xe,_e,G)=>{"use strict";G.d(_e,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},2381:(xe,_e,G)=>{"use strict";G.d(_e,{N:()=>F});var y=G(1954),U=G(2631);const F=new class u extends U.v{}(class R extends y.o{constructor(ae,de){super(ae,de),this.scheduler=ae,this.work=de}schedule(ae,de=0){return de>0?super.schedule(ae,de):(this.delay=de,this.state=ae,this.scheduler.flush(this),this)}execute(ae,de){return de>0||this.closed?super.execute(ae,de):this._execute(ae,de)}requestAsyncId(ae,de,Me=0){return null!=Me&&Me>0||null==Me&&this.delay>0?super.requestAsyncId(ae,de,Me):(ae.flush(this),0)}})},7599:(xe,_e,G)=>{"use strict";G.d(_e,{z:()=>y});const y={setTimeout(R,U,...u){const{delegate:F}=y;return F?.setTimeout?F.setTimeout(R,U,...u):setTimeout(R,U,...u)},clearTimeout(R){const{delegate:U}=y;return(U?.clearTimeout||clearTimeout)(R)},delegate:void 0}},4971:(xe,_e,G)=>{"use strict";G.d(_e,{h:()=>R});const R=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(xe,_e,G)=>{"use strict";G.d(_e,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(xe,_e,G)=>{"use strict";G.d(_e,{_6:()=>J,jO:()=>u,yG:()=>F});var y=G(4674),R=G(671);function U(ee){return ee[ee.length-1]}function u(ee){return(0,y.m)(U(ee))?ee.pop():void 0}function F(ee){return(0,R.K)(U(ee))?ee.pop():void 0}function J(ee,ae){return"number"==typeof U(ee)?ee.pop():ae}},9039:(xe,_e,G)=>{"use strict";function y(R,U){if(R){const u=R.indexOf(U);0<=u&&R.splice(u,1)}}G.d(_e,{P:()=>y})},2306:(xe,_e,G)=>{"use strict";function y(R){const u=R(F=>{Error.call(F),F.stack=(new Error).stack});return u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u}G.d(_e,{d:()=>y})},1441:(xe,_e,G)=>{"use strict";G.d(_e,{O:()=>u,x:()=>U});var y=G(2653);let R=null;function U(F){if(y.config.useDeprecatedSynchronousErrorHandling){const J=!R;if(J&&(R={errorThrown:!1,error:null}),F(),J){const{errorThrown:ee,error:ae}=R;if(R=null,ee)throw ae}}else F()}function u(F){y.config.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=F)}},7103:(xe,_e,G)=>{"use strict";function y(R,U,u,F=0,J=!1){const ee=U.schedule(function(){u(),J?R.add(this.schedule(null,F)):this.unsubscribe()},F);if(R.add(ee),!J)return ee}G.d(_e,{f:()=>y})},2737:(xe,_e,G)=>{"use strict";function y(R){return R}G.d(_e,{y:()=>y})},4266:(xe,_e,G)=>{"use strict";G.d(_e,{z:()=>y});const y=R=>R&&"number"==typeof R.length&&"function"!=typeof R},5726:(xe,_e,G)=>{"use strict";G.d(_e,{D:()=>R});var y=G(4674);function R(U){return Symbol.asyncIterator&&(0,y.m)(U?.[Symbol.asyncIterator])}},93:(xe,_e,G)=>{"use strict";function y(R){return R instanceof Date&&!isNaN(R)}G.d(_e,{q:()=>y})},4674:(xe,_e,G)=>{"use strict";function y(R){return"function"==typeof R}G.d(_e,{m:()=>y})},8382:(xe,_e,G)=>{"use strict";G.d(_e,{c:()=>U});var y=G(4850),R=G(4674);function U(u){return(0,R.m)(u[y.L])}},3664:(xe,_e,G)=>{"use strict";G.d(_e,{T:()=>U});var y=G(4971),R=G(4674);function U(u){return(0,R.m)(u?.[y.h])}},4026:(xe,_e,G)=>{"use strict";G.d(_e,{t:()=>R});var y=G(4674);function R(U){return(0,y.m)(U?.then)}},541:(xe,_e,G)=>{"use strict";G.d(_e,{L:()=>u,Q:()=>U});var y=G(7582),R=G(4674);function U(F){return(0,y.FC)(this,arguments,function*(){const ee=F.getReader();try{for(;;){const{value:ae,done:de}=yield(0,y.qq)(ee.read());if(de)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(ae)}}finally{ee.releaseLock()}})}function u(F){return(0,R.m)(F?.getReader)}},671:(xe,_e,G)=>{"use strict";G.d(_e,{K:()=>R});var y=G(4674);function R(U){return U&&(0,y.m)(U.schedule)}},9360:(xe,_e,G)=>{"use strict";G.d(_e,{A:()=>R,e:()=>U});var y=G(4674);function R(u){return(0,y.m)(u?.lift)}function U(u){return F=>{if(R(F))return F.lift(function(J){try{return u(J,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(xe,_e,G)=>{"use strict";function y(){}G.d(_e,{Z:()=>y})},8407:(xe,_e,G)=>{"use strict";G.d(_e,{U:()=>U,z:()=>R});var y=G(2737);function R(...u){return U(u)}function U(u){return 0===u.length?y.y:1===u.length?u[0]:function(J){return u.reduce((ee,ae)=>ae(ee),J)}}},3894:(xe,_e,G)=>{"use strict";G.d(_e,{h:()=>U});var y=G(2653),R=G(7599);function U(u){R.z.setTimeout(()=>{const{onUnhandledError:F}=y.config;if(!F)throw u;F(u)})}},9853:(xe,_e,G)=>{"use strict";function y(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(_e,{z:()=>y})},6700:(xe,_e,G)=>{var y={"./af":3274,"./af.js":3274,"./ar":2097,"./ar-dz":1867,"./ar-dz.js":1867,"./ar-kw":7078,"./ar-kw.js":7078,"./ar-ly":7776,"./ar-ly.js":7776,"./ar-ma":6789,"./ar-ma.js":6789,"./ar-sa":6897,"./ar-sa.js":6897,"./ar-tn":1585,"./ar-tn.js":1585,"./ar.js":2097,"./az":5611,"./az.js":5611,"./be":2459,"./be.js":2459,"./bg":1825,"./bg.js":1825,"./bm":5918,"./bm.js":5918,"./bn":4065,"./bn-bd":9683,"./bn-bd.js":9683,"./bn.js":4065,"./bo":1034,"./bo.js":1034,"./br":7671,"./br.js":7671,"./bs":8153,"./bs.js":8153,"./ca":4287,"./ca.js":4287,"./cs":2616,"./cs.js":2616,"./cv":7049,"./cv.js":7049,"./cy":9172,"./cy.js":9172,"./da":605,"./da.js":605,"./de":4013,"./de-at":3395,"./de-at.js":3395,"./de-ch":9835,"./de-ch.js":9835,"./de.js":4013,"./dv":4570,"./dv.js":4570,"./el":1859,"./el.js":1859,"./en-au":5785,"./en-au.js":5785,"./en-ca":3792,"./en-ca.js":3792,"./en-gb":7651,"./en-gb.js":7651,"./en-ie":1929,"./en-ie.js":1929,"./en-il":9818,"./en-il.js":9818,"./en-in":6612,"./en-in.js":6612,"./en-nz":4900,"./en-nz.js":4900,"./en-sg":2721,"./en-sg.js":2721,"./eo":5159,"./eo.js":5159,"./es":1148,"./es-do":1780,"./es-do.js":1780,"./es-mx":3468,"./es-mx.js":3468,"./es-us":4938,"./es-us.js":4938,"./es.js":1148,"./et":1453,"./et.js":1453,"./eu":4697,"./eu.js":4697,"./fa":2900,"./fa.js":2900,"./fi":9775,"./fi.js":9775,"./fil":4282,"./fil.js":4282,"./fo":4236,"./fo.js":4236,"./fr":9361,"./fr-ca":2830,"./fr-ca.js":2830,"./fr-ch":1412,"./fr-ch.js":1412,"./fr.js":9361,"./fy":6984,"./fy.js":6984,"./ga":3961,"./ga.js":3961,"./gd":8849,"./gd.js":8849,"./gl":4273,"./gl.js":4273,"./gom-deva":623,"./gom-deva.js":623,"./gom-latn":2696,"./gom-latn.js":2696,"./gu":6928,"./gu.js":6928,"./he":4804,"./he.js":4804,"./hi":3015,"./hi.js":3015,"./hr":7134,"./hr.js":7134,"./hu":670,"./hu.js":670,"./hy-am":4523,"./hy-am.js":4523,"./id":9233,"./id.js":9233,"./is":4693,"./is.js":4693,"./it":3936,"./it-ch":8118,"./it-ch.js":8118,"./it.js":3936,"./ja":6871,"./ja.js":6871,"./jv":8710,"./jv.js":8710,"./ka":7125,"./ka.js":7125,"./kk":2461,"./kk.js":2461,"./km":7399,"./km.js":7399,"./kn":8720,"./kn.js":8720,"./ko":5306,"./ko.js":5306,"./ku":2995,"./ku.js":2995,"./ky":8779,"./ky.js":8779,"./lb":2057,"./lb.js":2057,"./lo":7192,"./lo.js":7192,"./lt":5430,"./lt.js":5430,"./lv":3363,"./lv.js":3363,"./me":2939,"./me.js":2939,"./mi":8212,"./mi.js":8212,"./mk":9718,"./mk.js":9718,"./ml":561,"./ml.js":561,"./mn":8929,"./mn.js":8929,"./mr":4880,"./mr.js":4880,"./ms":3193,"./ms-my":2074,"./ms-my.js":2074,"./ms.js":3193,"./mt":4082,"./mt.js":4082,"./my":2261,"./my.js":2261,"./nb":5273,"./nb.js":5273,"./ne":9874,"./ne.js":9874,"./nl":1667,"./nl-be":1484,"./nl-be.js":1484,"./nl.js":1667,"./nn":7262,"./nn.js":7262,"./oc-lnc":9679,"./oc-lnc.js":9679,"./pa-in":6830,"./pa-in.js":6830,"./pl":3616,"./pl.js":3616,"./pt":5138,"./pt-br":2751,"./pt-br.js":2751,"./pt.js":5138,"./ro":7968,"./ro.js":7968,"./ru":1828,"./ru.js":1828,"./sd":2188,"./sd.js":2188,"./se":6562,"./se.js":6562,"./si":7172,"./si.js":7172,"./sk":9966,"./sk.js":9966,"./sl":7520,"./sl.js":7520,"./sq":5291,"./sq.js":5291,"./sr":450,"./sr-cyrl":7603,"./sr-cyrl.js":7603,"./sr.js":450,"./ss":383,"./ss.js":383,"./sv":7221,"./sv.js":7221,"./sw":1743,"./sw.js":1743,"./ta":6351,"./ta.js":6351,"./te":9620,"./te.js":9620,"./tet":6278,"./tet.js":6278,"./tg":6987,"./tg.js":6987,"./th":9325,"./th.js":9325,"./tk":3485,"./tk.js":3485,"./tl-ph":8148,"./tl-ph.js":8148,"./tlh":9616,"./tlh.js":9616,"./tr":4040,"./tr.js":4040,"./tzl":594,"./tzl.js":594,"./tzm":673,"./tzm-latn":3226,"./tzm-latn.js":3226,"./tzm.js":673,"./ug-cn":9580,"./ug-cn.js":9580,"./uk":7270,"./uk.js":7270,"./ur":1656,"./ur.js":1656,"./uz":8364,"./uz-latn":8744,"./uz-latn.js":8744,"./uz.js":8364,"./vi":5049,"./vi.js":5049,"./x-pseudo":5106,"./x-pseudo.js":5106,"./yo":6199,"./yo.js":6199,"./zh-cn":7280,"./zh-cn.js":7280,"./zh-hk":6860,"./zh-hk.js":6860,"./zh-mo":2335,"./zh-mo.js":2335,"./zh-tw":482,"./zh-tw.js":482};function R(u){var F=U(u);return G(F)}function U(u){if(!G.o(y,u)){var F=new Error("Cannot find module '"+u+"'");throw F.code="MODULE_NOT_FOUND",F}return y[u]}R.keys=function(){return Object.keys(y)},R.resolve=U,xe.exports=R,R.id=6700},5879:(xe,_e,G)=>{"use strict";G.d(_e,{$8M:()=>me,$WT:()=>no,$Z:()=>Rm,AFp:()=>my,ALo:()=>lw,AaK:()=>Ge,CHM:()=>Eu,CRH:()=>WM,EJc:()=>XE,EpF:()=>sd,F4k:()=>wg,FYo:()=>Sm,FiY:()=>Cf,Flj:()=>sh,GfV:()=>eg,Gpc:()=>_t,HDt:()=>dD,JOm:()=>ju,Jf7:()=>Bh,KtG:()=>Tu,LFG:()=>_i,LSH:()=>Y_,Lbi:()=>mm,Lck:()=>bM,MMx:()=>vv,MR2:()=>qf,NdJ:()=>Jb,Ojb:()=>Na,OlP:()=>ar,Oqu:()=>z0,P3R:()=>ly,PXZ:()=>MT,Q6J:()=>Zb,QGY:()=>xg,QbO:()=>_m,Qsj:()=>J_,R0b:()=>bs,RDi:()=>iy,Rgc:()=>l_,SBq:()=>ip,Sil:()=>eT,Suo:()=>Cw,TTD:()=>xu,TgZ:()=>Ky,VuI:()=>h_,X6Q:()=>DD,XFs:()=>Kn,Xpm:()=>Ie,Xq5:()=>st,Xts:()=>kh,Y36:()=>Vd,YKP:()=>ew,YNc:()=>x0,Yjl:()=>rr,Yz7:()=>Yn,Z0I:()=>$i,ZZ4:()=>Jw,_Bn:()=>Ig,_UZ:()=>M0,_Vd:()=>zd,_c5:()=>e1,_uU:()=>vx,aQg:()=>Qw,c2e:()=>uD,cJS:()=>Ji,cg1:()=>$0,dDg:()=>bT,dqk:()=>ji,eFA:()=>qs,eJc:()=>_b,ekj:()=>Eg,eoX:()=>gD,f3M:()=>vi,g9A:()=>ep,gHi:()=>mc,h0i:()=>Mp,hGG:()=>t1,hij:()=>ov,iGM:()=>Fg,ifc:()=>ts,ip1:()=>Rw,jDz:()=>tw,kL8:()=>Px,ktI:()=>sl,lG2:()=>dr,lcZ:()=>uw,lqb:()=>kl,lri:()=>mD,n5z:()=>C,oAB:()=>Kt,oxw:()=>g1,qFp:()=>KT,qLn:()=>Ol,qOj:()=>k,qZA:()=>Xy,rWj:()=>_D,rg0:()=>oa,s9C:()=>Qb,sBO:()=>AT,s_b:()=>Og,soG:()=>yb,tBr:()=>b_,tb:()=>Yw,tdS:()=>Op,tp0:()=>Lf,uIk:()=>Qt,vHH:()=>ct,vpe:()=>Jc,wAp:()=>Qm,xp6:()=>Om,z2F:()=>d_,zSh:()=>hm,zs3:()=>rl});var y=G(8645),R=G(7394),U=G(5592),u=G(3019),F=G(5619),J=G(2096),ee=G(3020),ae=G(4664),de=G(3997);function Me(n){for(let l in n)if(n[l]===Me)return l;throw Error("Could not find renamed property on target object.")}function Fe(n,l){for(const h in l)l.hasOwnProperty(h)&&!n.hasOwnProperty(h)&&(n[h]=l[h])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const l=n.toString();if(null==l)return""+l;const h=l.indexOf("\n");return-1===h?l:l.substring(0,h)}function ht(n,l){return null==n||""===n?null===l?"":l:null==l||""===l?n:n+" "+l}const Xt=Me({__forward_ref__:Me});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return Ge(this())},n}function Pt(n){return An(n)?n():n}function An(n){return"function"==typeof n&&n.hasOwnProperty(Xt)&&n.__forward_ref__===_t}function pn(n){return n&&!!n.\u0275providers}const Mn="https://g.co/ng/security#xss";class ct extends Error{constructor(l,h){super(function qe(n,l){return`NG0${Math.abs(n)}${l?": "+l:""}`}(l,h)),this.code=l}}function zt(n){return"string"==typeof n?n:null==n?"":String(n)}function fi(n,l){throw new ct(-201,!1)}function Tt(n,l){null==n&&function wt(n,l,h,_){throw new Error(`ASSERTION ERROR: ${n}`+(null==_?"":` [Expected=> ${h} ${_} ${l} <=Actual]`))}(l,n,null,"!=")}function Yn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ji(n){return{providers:n.providers||[],imports:n.imports||[]}}function ps(n){return gr(n,Js)||gr(n,yr)}function $i(n){return null!==ps(n)}function gr(n,l){return n.hasOwnProperty(l)?n[l]:null}function xo(n){return n&&(n.hasOwnProperty(Ki)||n.hasOwnProperty(wa))?n[Ki]:null}const Js=Me({\u0275prov:Me}),Ki=Me({\u0275inj:Me}),yr=Me({ngInjectableDef:Me}),wa=Me({ngInjectorDef:Me});var Kn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Kn||{});let Nn;function bi(){return Nn}function Nr(n){const l=Nn;return Nn=n,l}function vr(n,l,h){const _=ps(n);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:h&Kn.Optional?null:void 0!==l?l:void fi(Ge(n))}const ji=globalThis,Je={},He="__NG_DI_FLAG__",at="ngTempTokenPath",nn=/\n/gm,oi="__source";let Un;function Ut(n){const l=Un;return Un=n,l}function gi(n,l=Kn.Default){if(void 0===Un)throw new ct(-203,!1);return null===Un?vr(n,void 0,l):Un.get(n,l&Kn.Optional?null:void 0,l)}function _i(n,l=Kn.Default){return(bi()||gi)(Pt(n),l)}function vi(n,l=Kn.Default){return _i(n,Zn(l))}function Zn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function as(n){const l=[];for(let h=0;h<n.length;h++){const _=Pt(n[h]);if(Array.isArray(_)){if(0===_.length)throw new ct(900,!1);let x,T=Kn.Default;for(let P=0;P<_.length;P++){const z=_[P],$=Gi(z);"number"==typeof $?-1===$?x=z.token:T|=$:x=z}l.push(_i(x,T))}else l.push(_i(_))}return l}function Lr(n,l){return n[He]=l,n.prototype[He]=l,n}function Gi(n){return n[He]}function er(n){return{toString:n}.toString()}var ai=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ai||{}),ts=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ts||{});const Ar={},Fi=[],No=Me({\u0275cmp:Me}),Cs=Me({\u0275dir:Me}),Ni=Me({\u0275pipe:Me}),Ma=Me({\u0275mod:Me}),eo=Me({\u0275fac:Me}),Ls=Me({__NG_ELEMENT_ID__:Me}),zs=Me({__NG_ENV_ID__:Me});function Da(n,l,h){let _=n.length;for(;;){const x=n.indexOf(l,h);if(-1===x)return x;if(0===x||n.charCodeAt(x-1)<=32){const T=l.length;if(x+T===_||n.charCodeAt(x+T)<=32)return x}h=x+1}}function vt(n,l,h){let _=0;for(;_<h.length;){const x=h[_];if("number"==typeof x){if(0!==x)break;_++;const T=h[_++],P=h[_++],z=h[_++];n.setAttribute(l,P,z,T)}else{const T=x,P=h[++_];fr(T)?n.setProperty(l,T,P):n.setAttribute(l,T,P),_++}}return _}function Mo(n){return 3===n||4===n||6===n}function fr(n){return 64===n.charCodeAt(0)}function Ir(n,l){if(null!==l&&0!==l.length)if(null===n||0===n.length)n=l.slice();else{let h=-1;for(let _=0;_<l.length;_++){const x=l[_];"number"==typeof x?h=x:0===h||Yl(n,h,x,null,-1===h||2===h?l[++_]:null)}}return n}function Yl(n,l,h,_,x){let T=0,P=n.length;if(-1===l)P=-1;else for(;T<n.length;){const z=n[T++];if("number"==typeof z){if(z===l){P=-1;break}if(z>l){P=T-1;break}}}for(;T<n.length;){const z=n[T];if("number"==typeof z)break;if(z===h){if(null===_)return void(null!==x&&(n[T+1]=x));if(_===n[T+1])return void(n[T+2]=x)}T++,null!==_&&T++,null!==x&&T++}-1!==P&&(n.splice(P,0,l),T=P+1),n.splice(T++,0,h),null!==_&&n.splice(T++,0,_),null!==x&&n.splice(T++,0,x)}const As="ng-template";function Dc(n,l,h){let _=0,x=!0;for(;_<n.length;){let T=n[_++];if("string"==typeof T&&x){const P=n[_++];if(h&&"class"===T&&-1!==Da(P.toLowerCase(),l,0))return!0}else{if(1===T){for(;_<n.length&&"string"==typeof(T=n[_++]);)if(T.toLowerCase()===l)return!0;return!1}"number"==typeof T&&(x=!1)}}return!1}function Ea(n){return 4===n.type&&n.value!==As}function fl(n,l,h){return l===(4!==n.type||h?n.value:As)}function cn(n,l,h){let _=4;const x=n.attrs||[],T=function Di(n){for(let l=0;l<n.length;l++)if(Mo(n[l]))return l;return n.length}(x);let P=!1;for(let z=0;z<l.length;z++){const $=l[z];if("number"!=typeof $){if(!P)if(4&_){if(_=2|1&_,""!==$&&!fl(n,$,h)||""===$&&1===l.length){if($n(_))return!1;P=!0}}else{const ie=8&_?$:l[++z];if(8&_&&null!==n.attrs){if(!Dc(n.attrs,ie,h)){if($n(_))return!1;P=!0}continue}const Ae=li(8&_?"class":$,x,Ea(n),h);if(-1===Ae){if($n(_))return!1;P=!0;continue}if(""!==ie){let Ke;Ke=Ae>T?"":x[Ae+1].toLowerCase();const rt=8&_?Ke:null;if(rt&&-1!==Da(rt,ie,0)||2&_&&ie!==Ke){if($n(_))return!1;P=!0}}}}else{if(!P&&!$n(_)&&!$n($))return!1;if(P&&$n($))continue;P=!1,_=$|1&_}}return $n(_)||P}function $n(n){return 0==(1&n)}function li(n,l,h,_){if(null===l)return-1;let x=0;if(_||!h){let T=!1;for(;x<l.length;){const P=l[x];if(P===n)return x;if(3===P||6===P)T=!0;else{if(1===P||2===P){let z=l[++x];for(;"string"==typeof z;)z=l[++x];continue}if(4===P)break;if(0===P){x+=4;continue}}x+=T?1:2}return-1}return function Wr(n,l){let h=n.indexOf(4);if(h>-1)for(h++;h<n.length;){const _=n[h];if("number"==typeof _)return-1;if(_===l)return h;h++}return-1}(l,n)}function Is(n,l,h=!1){for(let _=0;_<l.length;_++)if(cn(n,l[_],h))return!0;return!1}function zo(n,l){return n?":not("+l.trim()+")":l}function Ms(n){let l=n[0],h=1,_=2,x="",T=!1;for(;h<n.length;){let P=n[h];if("string"==typeof P)if(2&_){const z=n[++h];x+="["+P+(z.length>0?'="'+z+'"':"")+"]"}else 8&_?x+="."+P:4&_&&(x+=" "+P);else""!==x&&!$n(P)&&(l+=zo(T,x),x=""),_=P,T=T||!$n(_);h++}return""!==x&&(l+=zo(T,x)),l}function Ie(n){return er(()=>{const l=ks(n),h={...l,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ts.Emulated,styles:n.styles||Fi,_:null,schemas:n.schemas||null,tView:null,id:""};cd(h);const _=n.dependencies;return h.directiveDefs=Ua(_,!1),h.pipeDefs=Ua(_,!0),h.id=function Ec(n){let l=0;const h=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const x of h)l=Math.imul(31,l)+x.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(h),h})}function Ot(n){return Pn(n)||kn(n)}function nt(n){return null!==n}function Kt(n){return er(()=>({type:n.type,bootstrap:n.bootstrap||Fi,declarations:n.declarations||Fi,imports:n.imports||Fi,exports:n.exports||Fi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ri(n,l){if(null==n)return Ar;const h={};for(const _ in n)if(n.hasOwnProperty(_)){let x=n[_],T=x;Array.isArray(x)&&(T=x[1],x=x[0]),h[x]=_,l&&(l[x]=T)}return h}function dr(n){return er(()=>{const l=ks(n);return cd(l),l})}function rr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Pn(n){return n[No]||null}function kn(n){return n[Cs]||null}function tr(n){return n[Ni]||null}function no(n){const l=Pn(n)||kn(n)||tr(n);return null!==l&&l.standalone}function sr(n,l){const h=n[Ma]||null;if(!h&&!0===l)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return h}function ks(n){const l={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:n.inputs||Ar,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Fi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ri(n.inputs,l),outputs:ri(n.outputs)}}function cd(n){n.features?.forEach(l=>l(n))}function Ua(n,l){if(!n)return null;const h=l?tr:Ot;return()=>("function"==typeof n?n():n).map(_=>h(_)).filter(nt)}const Dr=0,bn=1,zn=2,br=3,js=4,Ys=5,kr=6,ea=7,Pr=8,Do=9,Eo=10,Xn=11,pl=12,Va=13,Us=14,Er=15,Ui=16,To=17,ls=18,Ta=19,uu=20,ta=21,So=22,Ha=23,ms=24,Dn=25,ho=1,ud=2,Ds=7,ml=9,zr=11;function Zr(n){return Array.isArray(n)&&"object"==typeof n[ho]}function qr(n){return Array.isArray(n)&&!0===n[ho]}function Vl(n){return 0!=(4&n.flags)}function Sa(n){return n.componentOffset>-1}function _l(n){return 1==(1&n.flags)}function Co(n){return!!n.template}function Sc(n){return 0!=(512&n[zn])}function Ca(n,l){return n.hasOwnProperty(eo)?n[eo]:null}const ra=Symbol("SIGNAL");function Ps(n,l,h={}){return l[ra]=n,Object.assign(l,h)}function mu(n,l){return(null===n||"object"!=typeof n)&&Object.is(n,l)}let $a=ji.WeakRef??class Cc{constructor(l){this.ref=l}deref(){return this.ref}},_f=0,Lo=null,sa=!1;function Yr(n){const l=Lo;return Lo=n,l}class $l{constructor(){this.id=_f++,this.ref=function Lc(n){return new $a(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[l,h]of this.producers){const _=h.producerNode.deref();if(null!=_&&h.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(h.seenValueVersion))return!0}else this.producers.delete(l),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const l=sa;sa=!0;try{for(const[h,_]of this.consumers){const x=_.consumerNode.deref();null!=x&&x.trackingVersion===_.atTrackingVersion?x.onConsumerDependencyMayHaveChanged():(this.consumers.delete(h),x?.producers.delete(this.id))}}finally{sa=l}}producerAccessed(){if(sa)throw new Error("");if(null===Lo)return;let l=Lo.producers.get(this.id);void 0===l?(l={consumerNode:Lo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Lo.trackingVersion},Lo.producers.set(this.id,l),this.consumers.set(Lo.id,l)):(l.seenValueVersion=this.valueVersion,l.atTrackingVersion=Lo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Lo?.consumerAllowSignalWrites}producerPollStatus(l){return this.valueVersion!==l||(this.onProducerUpdateValueVersion(),this.valueVersion!==l)}}function sh(n,l){const h=new yu(n,l?.equal??mu);return Ps(h,h.signal.bind(h))}const oh=Symbol("UNSET"),_u=Symbol("COMPUTING"),gu=Symbol("ERRORED");class yu extends $l{constructor(l,h){super(),this.computation=l,this.equal=h,this.value=oh,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==oh&&this.value!==_u&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===_u)throw new Error("Detected cycle in computations.");const l=this.value;this.value=_u,this.trackingVersion++;const h=Yr(this);let _;try{_=this.computation()}catch(x){_=gu,this.error=x}finally{Yr(h)}this.stale=!1,l!==oh&&l!==gu&&_!==gu&&this.equal(l,_)?this.value=l:(this.value=_,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===gu)throw this.error;return this.value}}let Ac=function gf(){throw new Error};function fd(){Ac()}class yf extends $l{constructor(l,h){super(),this.value=l,this.equal=h,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(l){this.producerUpdatesAllowed||fd(),this.equal(this.value,l)||(this.value=l,this.valueVersion++,this.producerMayHaveChanged())}update(l){this.producerUpdatesAllowed||fd(),this.set(l(this.value))}mutate(l){this.producerUpdatesAllowed||fd(),l(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=Ps(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function Op(n,l){const h=new yf(n,l?.equal??mu);return Ps(h,h.signal.bind(h),{set:h.set.bind(h),update:h.update.bind(h),mutate:h.mutate.bind(h),asReadonly:h.asReadonly.bind(h)})}function oa(n){const l=Yr(null);try{return n()}finally{Yr(l)}}const Ga=()=>{};class bu extends $l{constructor(l,h,_){super(),this.watch=l,this.schedule=h,this.dirty=!1,this.cleanupFn=Ga,this.registerOnCleanup=x=>{this.cleanupFn=x},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const l=Yr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ga,this.watch(this.registerOnCleanup)}finally{Yr(l)}}cleanup(){this.cleanupFn()}}class Ic{constructor(l,h,_){this.previousValue=l,this.currentValue=h,this.firstChange=_}isFirstChange(){return this.firstChange}}function xu(){return pd}function pd(n){return n.type.prototype.ngOnChanges&&(n.setInput=yl),Wa}function Wa(){const n=Wl(this),l=n?.current;if(l){const h=n.previous;if(h===Ar)n.previous=l;else for(let _ in l)h[_]=l[_];n.current=null,this.ngOnChanges(l)}}function yl(n,l,h,_){const x=this.declaredInputs[h],T=Wl(n)||function wu(n,l){return n[fo]=l}(n,{previous:Ar,current:null}),P=T.current||(T.current={}),z=T.previous,$=z[x];P[x]=new Ic($&&$.currentValue,l,z===Ar),n[_]=l}xu.ngInherit=!0;const fo="__ngSimpleChanges__";function Wl(n){return n[fo]||null}const Os=function(n,l,h){};function nr(n){for(;Array.isArray(n);)n=n[Dr];return n}function Za(n,l){return nr(l[n])}function ns(n,l){return nr(l[n.index])}function Kl(n,l){return n.data[l]}function cs(n,l){const h=l[n];return Zr(h)?h:h[Dr]}function aa(n,l){return null==l?null:n[l]}function Ql(n){n[To]=0}function Oc(n){1024&n[zn]||(n[zn]|=1024,ec(n,1))}function Rc(n){1024&n[zn]&&(n[zn]&=-1025,ec(n,-1))}function ec(n,l){let h=n[br];if(null===h)return;h[Ys]+=l;let _=h;for(h=h[br];null!==h&&(1===l&&1===_[Ys]||-1===l&&0===_[Ys]);)h[Ys]+=l,_=h,h=h[br]}function hn(n,l){if(256==(256&n[zn]))throw new ct(911,!1);null===n[ta]&&(n[ta]=[]),n[ta].push(l)}const hi={lFrame:vl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fc(){return hi.bindingsEnabled}function Zt(){return hi.lFrame.lView}function Ai(){return hi.lFrame.tView}function Eu(n){return hi.lFrame.contextLView=n,n[Pr]}function Tu(n){return hi.lFrame.contextLView=null,n}function us(){let n=nc();for(;null!==n&&64===n.type;)n=n.parent;return n}function nc(){return hi.lFrame.currentTNode}function ro(n,l){const h=hi.lFrame;h.currentTNode=n,h.isParent=l}function ic(){return hi.lFrame.isParent}function Xa(){return hi.lFrame.bindingIndex++}function _s(n,l){const h=hi.lFrame;h.bindingIndex=h.bindingRootIndex=n,rc(l)}function rc(n){hi.lFrame.currentDirectiveIndex=n}function vf(){return hi.lFrame.currentQueryIndex}function so(n){hi.lFrame.currentQueryIndex=n}function bf(n){const l=n[bn];return 2===l.type?l.declTNode:1===l.type?n[kr]:null}function xf(n,l,h){if(h&Kn.SkipSelf){let x=l,T=n;for(;!(x=x.parent,null!==x||h&Kn.Host||(x=bf(T),null===x||(T=T[Us],10&x.type))););if(null===x)return!1;l=x,n=T}const _=hi.lFrame=Yo();return _.currentTNode=l,_.lView=n,!0}function Ao(n){const l=Yo(),h=n[bn];hi.lFrame=l,l.currentTNode=h.firstChild,l.lView=n,l.tView=h,l.contextLView=n,l.bindingIndex=h.bindingStartIndex,l.inI18n=!1}function Yo(){const n=hi.lFrame,l=null===n?null:n.child;return null===l?vl(n):l}function vl(n){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=l),l}function Lu(){const n=hi.lFrame;return hi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const xn=Lu;function Au(){const n=Lu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pr(){return hi.lFrame.selectedIndex}function an(n){hi.lFrame.selectedIndex=n}function Or(){const n=hi.lFrame;return Kl(n.tView,n.selectedIndex)}let oo=!0;function Vi(){return oo}function or(n){oo=n}function gs(n,l){for(let h=l.directiveStart,_=l.directiveEnd;h<_;h++){const T=n.data[h].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:z,ngAfterViewInit:$,ngAfterViewChecked:ie,ngOnDestroy:pe}=T;P&&(n.contentHooks??=[]).push(-h,P),z&&((n.contentHooks??=[]).push(h,z),(n.contentCheckHooks??=[]).push(h,z)),$&&(n.viewHooks??=[]).push(-h,$),ie&&((n.viewHooks??=[]).push(h,ie),(n.viewCheckHooks??=[]).push(h,ie)),null!=pe&&(n.destroyHooks??=[]).push(h,pe)}}function Ia(n,l,h){p(n,l,3,h)}function g(n,l,h,_){(3&n[zn])===h&&p(n,l,h,_)}function a(n,l){let h=n[zn];(3&h)===l&&(h&=8191,h+=1,n[zn]=h)}function p(n,l,h,_){const T=_??-1,P=l.length-1;let z=0;for(let $=void 0!==_?65535&n[To]:0;$<P;$++)if("number"==typeof l[$+1]){if(z=l[$],null!=_&&z>=_)break}else l[$]<0&&(n[To]+=65536),(z<T||-1==T)&&(D(n,h,l,$),n[To]=(4294901760&n[To])+$+2),$++}function b(n,l){Os(4,n,l);const h=Yr(null);try{l.call(n)}finally{Yr(h),Os(5,n,l)}}function D(n,l,h,_){const x=h[_]<0,T=h[_+1],z=n[x?-h[_]:h[_]];x?n[zn]>>13<n[To]>>16&&(3&n[zn])===l&&(n[zn]+=8192,b(z,T)):b(z,T)}const S=-1;class O{constructor(l,h,_){this.factory=l,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=_}}function be(n){return n!==S}function De(n){return 32767&n}function ye(n,l){let h=function oe(n){return n>>16}(n),_=l;for(;h>0;)_=_[Us],h--;return _}let Ce=!0;function Le(n){const l=Ce;return Ce=n,l}const Ye=255,Ve=5;let Xe=0;const Ze={};function Rt(n,l){const h=Mt(n,l);if(-1!==h)return h;const _=l[bn];_.firstCreatePass&&(n.injectorIndex=l.length,Qe(_.data,n),Qe(l,null),Qe(_.blueprint,null));const x=ut(n,l),T=n.injectorIndex;if(be(x)){const P=De(x),z=ye(x,l),$=z[bn].data;for(let ie=0;ie<8;ie++)l[T+ie]=z[P+ie]|$[P+ie]}return l[T+8]=x,T}function Qe(n,l){n.push(0,0,0,0,0,0,0,0,l)}function Mt(n,l){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===l[n.injectorIndex+8]?-1:n.injectorIndex}function ut(n,l){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let h=0,_=null,x=l;for(;null!==x;){if(_=ne(x),null===_)return S;if(h++,x=x[Us],-1!==_.injectorIndex)return _.injectorIndex|h<<16}return S}function Lt(n,l,h){!function it(n,l,h){let _;"string"==typeof h?_=h.charCodeAt(0)||0:h.hasOwnProperty(Ls)&&(_=h[Ls]),null==_&&(_=h[Ls]=Xe++);const x=_&Ye;l.data[n+(x>>Ve)]|=1<<x}(n,l,h)}function bt(n,l,h){if(h&Kn.Optional||void 0!==n)return n;fi()}function $t(n,l,h,_){if(h&Kn.Optional&&void 0===_&&(_=null),!(h&(Kn.Self|Kn.Host))){const x=n[Do],T=Nr(void 0);try{return x?x.get(l,_,h&Kn.Optional):vr(l,_,h&Kn.Optional)}finally{Nr(T)}}return bt(_,0,h)}function Dt(n,l,h,_=Kn.Default,x){if(null!==n){if(2048&l[zn]&&!(_&Kn.Self)){const P=function X(n,l,h,_,x){let T=n,P=l;for(;null!==T&&null!==P&&2048&P[zn]&&!(512&P[zn]);){const z=Ct(T,P,h,_|Kn.Self,Ze);if(z!==Ze)return z;let $=T.parent;if(!$){const ie=P[uu];if(ie){const pe=ie.get(h,Ze,_);if(pe!==Ze)return pe}$=ne(P),P=P[Us]}T=$}return x}(n,l,h,_,Ze);if(P!==Ze)return P}const T=Ct(n,l,h,_,Ze);if(T!==Ze)return T}return $t(l,h,_,x)}function Ct(n,l,h,_,x){const T=function In(n){if("string"==typeof n)return n.charCodeAt(0)||0;const l=n.hasOwnProperty(Ls)?n[Ls]:void 0;return"number"==typeof l?l>=0?l&Ye:On:l}(h);if("function"==typeof T){if(!xf(l,n,_))return _&Kn.Host?bt(x,0,_):$t(l,h,_,x);try{let P;if(P=T(_),null!=P||_&Kn.Optional)return P;fi()}finally{xn()}}else if("number"==typeof T){let P=null,z=Mt(n,l),$=S,ie=_&Kn.Host?l[Er][kr]:null;for((-1===z||_&Kn.SkipSelf)&&($=-1===z?ut(n,l):l[z+8],$!==S&&jn(_,!1)?(P=l[bn],z=De($),l=ye($,l)):z=-1);-1!==z;){const pe=l[bn];if(pi(T,z,pe.data)){const Ae=wn(z,l,h,P,_,ie);if(Ae!==Ze)return Ae}$=l[z+8],$!==S&&jn(_,l[bn].data[z+8]===ie)&&pi(T,z,l)?(P=pe,z=De($),l=ye($,l)):z=-1}}return x}function wn(n,l,h,_,x,T){const P=l[bn],z=P.data[n+8],pe=Wn(z,P,h,null==_?Sa(z)&&Ce:_!=P&&0!=(3&z.type),x&Kn.Host&&T===z);return null!==pe?_n(l,P,pe,z):Ze}function Wn(n,l,h,_,x){const T=n.providerIndexes,P=l.data,z=1048575&T,$=n.directiveStart,pe=T>>20,Ke=x?z+pe:n.directiveEnd;for(let rt=_?z:z+pe;rt<Ke;rt++){const Bt=P[rt];if(rt<$&&h===Bt||rt>=$&&Bt.type===h)return rt}if(x){const rt=P[$];if(rt&&Co(rt)&&rt.type===h)return $}return null}function _n(n,l,h,_){let x=n[h];const T=l.data;if(function N(n){return n instanceof O}(x)){const P=x;P.resolving&&function Nt(n,l){const h=l?`. Dependency path: ${l.join(" > ")} > ${n}`:"";throw new ct(-200,`Circular dependency in DI detected for ${n}${h}`)}(function Jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():zt(n)}(T[h]));const z=Le(P.canSeeViewProviders);P.resolving=!0;const ie=P.injectImpl?Nr(P.injectImpl):null;xf(n,_,Kn.Default);try{x=n[h]=P.factory(void 0,T,n,_),l.firstCreatePass&&h>=_.directiveStart&&function Gn(n,l,h){const{ngOnChanges:_,ngOnInit:x,ngDoCheck:T}=l.type.prototype;if(_){const P=pd(l);(h.preOrderHooks??=[]).push(n,P),(h.preOrderCheckHooks??=[]).push(n,P)}x&&(h.preOrderHooks??=[]).push(0-n,x),T&&((h.preOrderHooks??=[]).push(n,T),(h.preOrderCheckHooks??=[]).push(n,T))}(h,T[h],l)}finally{null!==ie&&Nr(ie),Le(z),P.resolving=!1,xn()}}return x}function pi(n,l,h){return!!(h[l+(n>>Ve)]&1<<n)}function jn(n,l){return!(n&Kn.Self||n&Kn.Host&&l)}class mi{constructor(l,h){this._tNode=l,this._lView=h}get(l,h,_){return Dt(this._tNode,this._lView,l,Zn(_),h)}}function On(){return new mi(us(),Zt())}function C(n){return er(()=>{const l=n.prototype.constructor,h=l[eo]||B(l),_=Object.prototype;let x=Object.getPrototypeOf(n.prototype).constructor;for(;x&&x!==_;){const T=x[eo]||B(x);if(T&&T!==h)return T;x=Object.getPrototypeOf(x)}return T=>new T})}function B(n){return An(n)?()=>{const l=B(Pt(n));return l&&l()}:Ca(n)}function ne(n){const l=n[bn],h=l.type;return 2===h?l.declTNode:1===h?n[kr]:null}function me(n){return function tt(n,l){if("class"===l)return n.classes;if("style"===l)return n.styles;const h=n.attrs;if(h){const _=h.length;let x=0;for(;x<_;){const T=h[x];if(Mo(T))break;if(0===T)x+=2;else if("number"==typeof T)for(x++;x<_&&"string"==typeof h[x];)x++;else{if(T===l)return h[x+1];x+=2}}}return null}(us(),n)}const lt="__parameters__";function yi(n,l,h){return er(()=>{const _=function ii(n){return function(...h){if(n){const _=n(...h);for(const x in _)this[x]=_[x]}}}(l);function x(...T){if(this instanceof x)return _.apply(this,T),this;const P=new x(...T);return z.annotation=P,z;function z($,ie,pe){const Ae=$.hasOwnProperty(lt)?$[lt]:Object.defineProperty($,lt,{value:[]})[lt];for(;Ae.length<=pe;)Ae.push(null);return(Ae[pe]=Ae[pe]||[]).push(P),$}}return h&&(x.prototype=Object.create(h.prototype)),x.prototype.ngMetadataName=n,x.annotationCls=x,x})}function ku(n,l){n.forEach(h=>Array.isArray(h)?ku(h,l):l(h))}function jc(n,l,h){l>=n.length?n.push(h):n.splice(l,0,h)}function da(n,l){return l>=n.length-1?n.pop():n.splice(l,1)[0]}function Pa(n,l,h){let _=Oa(n,l);return _>=0?n[1|_]=h:(_=~_,function Ug(n,l,h,_){let x=n.length;if(x==l)n.push(h,_);else if(1===x)n.push(_,n[0]),n[0]=h;else{for(x--,n.push(n[x-1],n[x]);x>l;)n[x]=n[x-2],x--;n[l]=h,n[l+1]=_}}(n,_,l,h)),_}function vd(n,l){const h=Oa(n,l);if(h>=0)return n[1|h]}function Oa(n,l){return function Ml(n,l,h){let _=0,x=n.length>>h;for(;x!==_;){const T=_+(x-_>>1),P=n[T<<h];if(l===P)return T<<h;P>l?x=T:_=T+1}return~(x<<h)}(n,l,1)}const b_=Lr(yi("Inject",n=>({token:n})),-1),Cf=Lr(yi("Optional"),8),Lf=Lr(yi("SkipSelf"),4);function Wp(n){return 128==(128&n.flags)}var ju=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ju||{});const oc=new Map;let Kp=0;const Ho="__ngContext__";function ao(n,l){Zr(l)?(n[Ho]=l[Ta],function E_(n){oc.set(n[Ta],n)}(l)):n[Ho]=l}let Hc;function Uu(n,l){return Hc(n,l)}function $c(n){const l=n[br];return qr(l)?l[br]:l}function T_(n){return xh(n[pl])}function Xg(n){return xh(n[js])}function xh(n){for(;null!==n&&!qr(n);)n=n[js];return n}function Dd(n,l,h,_,x){if(null!=_){let T,P=!1;qr(_)?T=_:Zr(_)&&(P=!0,_=_[Dr]);const z=nr(_);0===n&&null!==h?null==x?Sd(l,h,z):Ra(l,h,z,x||null,!0):1===n&&null!==h?Ra(l,h,z,x||null,!0):2===n?function Mh(n,l,h){const _=Rf(n,l);_&&function jv(n,l,h,_){n.removeChild(l,h,_)}(n,_,l,h)}(l,z,P):3===n&&l.destroyNode(z),null!=T&&function k_(n,l,h,_,x){const T=h[Ds];T!==nr(h)&&Dd(l,n,_,T,x);for(let z=zr;z<h.length;z++){const $=h[z];Dh($[bn],$,n,l,_,T)}}(l,n,T,h,x)}}function wh(n,l,h){return n.createElement(l,h)}function nl(n,l){const h=n[ml],_=h.indexOf(l);Rc(l),h.splice(_,1)}function go(n,l){if(n.length<=zr)return;const h=zr+l,_=n[h];if(_){const x=_[Ui];null!==x&&x!==n&&nl(x,_),l>0&&(n[h-1][js]=_[js]);const T=da(n,zr+l);!function $o(n,l){Dh(n,l,l[Xn],2,null,null),l[Dr]=null,l[kr]=null}(_[bn],_);const P=T[ls];null!==P&&P.detachView(T[bn]),_[br]=null,_[js]=null,_[zn]&=-129}return _}function Go(n,l){if(!(256&l[zn])){const h=l[Xn];l[Ha]?.destroy(),l[ms]?.destroy(),h.destroyNode&&Dh(n,l,h,3,null,null),function mr(n){let l=n[pl];if(!l)return Fs(n[bn],n);for(;l;){let h=null;if(Zr(l))h=l[pl];else{const _=l[zr];_&&(h=_)}if(!h){for(;l&&!l[js]&&l!==n;)Zr(l)&&Fs(l[bn],l),l=l[br];null===l&&(l=n),Zr(l)&&Fs(l[bn],l),h=l&&l[js]}l=h}}(l)}}function Fs(n,l){if(!(256&l[zn])){l[zn]&=-129,l[zn]|=256,function vs(n,l){let h;if(null!=n&&null!=(h=n.destroyHooks))for(let _=0;_<h.length;_+=2){const x=l[h[_]];if(!(x instanceof O)){const T=h[_+1];if(Array.isArray(T))for(let P=0;P<T.length;P+=2){const z=x[T[P]],$=T[P+1];Os(4,z,$);try{$.call(z)}finally{Os(5,z,$)}}else{Os(4,x,T);try{T.call(x)}finally{Os(5,x,T)}}}}}(n,l),function Ed(n,l){const h=n.cleanup,_=l[ea];if(null!==h)for(let T=0;T<h.length-1;T+=2)if("string"==typeof h[T]){const P=h[T+3];P>=0?_[P]():_[-P].unsubscribe(),T+=2}else h[T].call(_[h[T+1]]);null!==_&&(l[ea]=null);const x=l[ta];if(null!==x){l[ta]=null;for(let T=0;T<x.length;T++)(0,x[T])()}}(n,l),1===l[bn].type&&l[Xn].destroy();const h=l[Ui];if(null!==h&&qr(l[br])){h!==l[br]&&nl(h,l);const _=l[ls];null!==_&&_.detachView(n)}!function Il(n){oc.delete(n[Ta])}(l)}}function Qp(n,l,h){return function Td(n,l,h){let _=l;for(;null!==_&&40&_.type;)_=(l=_).parent;if(null===_)return h[Dr];{const{componentOffset:x}=_;if(x>-1){const{encapsulation:T}=n.data[_.directiveStart+x];if(T===ts.None||T===ts.Emulated)return null}return ns(_,h)}}(n,l.parent,h)}function Ra(n,l,h,_,x){n.insertBefore(l,h,_,x)}function Sd(n,l,h){n.appendChild(l,h)}function em(n,l,h,_,x){null!==_?Ra(n,l,h,_,x):Sd(n,l,h)}function Rf(n,l){return n.parentNode(l)}let Ld,tm,zf,Ff=function Cd(n,l,h){return 40&n.type?ns(n,h):null};function uc(n,l,h,_){const x=Qp(n,_,l),T=l[Xn],z=function cc(n,l,h){return Ff(n,l,h)}(_.parent||l[kr],_,l);if(null!=x)if(Array.isArray(h))for(let $=0;$<h.length;$++)em(T,x,h[$],z,!1);else em(T,x,h,z,!1);void 0!==Ld&&Ld(T,_,l,h,x)}function Nf(n,l){if(null!==l){const h=l.type;if(3&h)return ns(l,n);if(4&h)return I_(-1,n[l.index]);if(8&h){const _=l.child;if(null!==_)return Nf(n,_);{const x=n[l.index];return qr(x)?I_(-1,x):nr(x)}}if(32&h)return Uu(l,n)()||nr(n[l.index]);{const _=A_(n,l);return null!==_?Array.isArray(_)?_[0]:Nf($c(n[Er]),_):Nf(n,l.next)}}return null}function A_(n,l){return null!==l?n[Er][kr].projection[l.projection]:null}function I_(n,l){const h=zr+n+1;if(h<l.length){const _=l[h],x=_[bn].firstChild;if(null!==x)return Nf(_,x)}return l[Ds]}function Bf(n,l,h,_,x,T,P){for(;null!=h;){const z=_[h.index],$=h.type;if(P&&0===l&&(z&&ao(nr(z),_),h.flags|=2),32!=(32&h.flags))if(8&$)Bf(n,l,h.child,_,x,T,!1),Dd(l,n,x,z,T);else if(32&$){const ie=Uu(h,_);let pe;for(;pe=ie();)Dd(l,n,x,pe,T);Dd(l,n,x,z,T)}else 16&$?Vu(n,l,_,h,x,T):Dd(l,n,x,z,T);h=P?h.projectionNext:h.next}}function Dh(n,l,h,_,x,T){Bf(h,_,n.firstChild,l,x,T,!1)}function Vu(n,l,h,_,x,T){const P=h[Er],$=P[kr].projection[_.projection];if(Array.isArray($))for(let ie=0;ie<$.length;ie++)Dd(l,n,x,$[ie],T);else{let ie=$;const pe=P[br];Wp(_)&&(ie.flags|=128),Bf(n,l,ie,pe,x,T,!0)}}function Eh(n,l,h){""===h?n.removeAttribute(l,"class"):n.setAttribute(l,"class",h)}function Hu(n,l,h){const{mergedAttrs:_,classes:x,styles:T}=h;null!==_&&vt(n,l,_),null!==x&&Eh(n,l,x),null!==T&&function Gc(n,l,h){n.setAttribute(l,"style",h)}(n,l,T)}function iy(n){tm=n}function ry(n){return function jf(){if(void 0===zf&&(zf=null,ji.trustedTypes))try{zf=ji.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zf}()?.createScriptURL(n)||n}class nm{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mn})`}}function dc(n){return n instanceof nm?n.changingThisBreaksApplicationSecurity:n}function il(n,l){const h=function Yf(n){return n instanceof nm&&n.getTypeName()||null}(n);if(null!=h&&h!==l){if("ResourceURL"===h&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${h} (see ${Mn})`)}return h===l}const Ch=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Od=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Od||{});function Y_(n){const l=Wf();return l?l.sanitize(Od.URL,n)||"":il(n,"URL")?dc(n):function rm(n){return(n=String(n)).match(Ch)?n:"unsafe:"+n}(zt(n))}function lm(n){const l=Wf();if(l)return ry(l.sanitize(Od.RESOURCE_URL,n)||"");if(il(n,"ResourceURL"))return ry(dc(n));throw new ct(904,!1)}function ly(n,l,h){return function fa(n,l){return"src"===l&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===l&&("base"===n||"link"===n)?lm:Y_}(l,h)(n)}function Wf(){const n=Zt();return n&&n[Eo].sanitizer}class ar{constructor(l,h){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Yn({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const kh=new ar("ENVIRONMENT_INITIALIZER"),cm=new ar("INJECTOR",-1),cy=new ar("INJECTOR_DEF_TYPES");class Zf{get(l,h=Je){if(h===Je){const _=new Error(`NullInjectorError: No provider for ${Ge(l)}!`);throw _.name="NullInjectorError",_}return h}}function qf(n){return{\u0275providers:n}}function Kf(...n){return{\u0275providers:uy(0,n),\u0275fromNgModule:!0}}function uy(n,...l){const h=[],_=new Set;let x;const T=P=>{h.push(P)};return ku(l,P=>{const z=P;Rd(z,T,[],_)&&(x||=[],x.push(z))}),void 0!==x&&Kv(x,T),h}function Kv(n,l){for(let h=0;h<n.length;h++){const{ngModule:_,providers:x}=n[h];um(x,T=>{l(T,_)})}}function Rd(n,l,h,_){if(!(n=Pt(n)))return!1;let x=null,T=xo(n);const P=!T&&Pn(n);if(T||P){if(P&&!P.standalone)return!1;x=n}else{const $=n.ngModule;if(T=xo($),!T)return!1;x=$}const z=_.has(x);if(P){if(z)return!1;if(_.add(x),P.dependencies){const $="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const ie of $)Rd(ie,l,h,_)}}else{if(!T)return!1;{if(null!=T.imports&&!z){let ie;_.add(x);try{ku(T.imports,pe=>{Rd(pe,l,h,_)&&(ie||=[],ie.push(pe))})}finally{}void 0!==ie&&Kv(ie,l)}if(!z){const ie=Ca(x)||(()=>new x);l({provide:x,useFactory:ie,deps:Fi},x),l({provide:cy,useValue:x,multi:!0},x),l({provide:kh,useValue:()=>_i(x),multi:!0},x)}const $=T.providers;if(null!=$&&!z){const ie=n;um($,pe=>{l(pe,ie)})}}}return x!==n&&void 0!==n.providers}function um(n,l){for(let h of n)pn(h)&&(h=h.\u0275providers),Array.isArray(h)?um(h,l):l(h)}const dm=Me({provide:String,useValue:Me});function Xf(n){return null!==n&&"object"==typeof n&&dm in n}function hc(n){return"function"==typeof n}const hm=new ar("Set Injector scope."),Jf={},fy={};let $_;function Qf(){return void 0===$_&&($_=new Zf),$_}class kl{}class Ph extends kl{get destroyed(){return this._destroyed}constructor(l,h,_,x){super(),this.parent=h,this.source=_,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,W_(l,P=>this.processProvider(P)),this.records.set(cm,Zc(void 0,this)),x.has("environment")&&this.records.set(kl,Zc(void 0,this));const T=this.records.get(hm);null!=T&&"string"==typeof T.value&&this.scopes.add(T.value),this.injectorDefTypes=new Set(this.get(cy.multi,Fi,Kn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of l)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const h=Ut(this),_=Nr(void 0);try{return l()}finally{Ut(h),Nr(_)}}get(l,h=Je,_=Kn.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(zs))return l[zs](this);_=Zn(_);const T=Ut(this),P=Nr(void 0);try{if(!(_&Kn.SkipSelf)){let $=this.records.get(l);if(void 0===$){const ie=function py(n){return"function"==typeof n||"object"==typeof n&&n instanceof ar}(l)&&ps(l);$=ie&&this.injectableDefInScope(ie)?Zc(G_(l),Jf):null,this.records.set(l,$)}if(null!=$)return this.hydrate(l,$)}return(_&Kn.Self?Qf():this.parent).get(l,h=_&Kn.Optional&&h===Je?null:h)}catch(z){if("NullInjectorError"===z.name){if((z[at]=z[at]||[]).unshift(Ge(l)),T)throw z;return function Ss(n,l,h,_){const x=n[at];throw l[oi]&&x.unshift(l[oi]),n.message=function wo(n,l,h,_=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let x=Ge(l);if(Array.isArray(l))x=l.map(Ge).join(" -> ");else if("object"==typeof l){let T=[];for(let P in l)if(l.hasOwnProperty(P)){let z=l[P];T.push(P+":"+("string"==typeof z?JSON.stringify(z):Ge(z)))}x=`{${T.join(", ")}}`}return`${h}${_?"("+_+")":""}[${x}]: ${n.replace(nn,"\n  ")}`}("\n"+n.message,x,h,_),n.ngTokenPath=x,n[at]=null,n}(z,l,"R3InjectorError",this.source)}throw z}finally{Nr(P),Ut(T)}}resolveInjectorInitializers(){const l=Ut(this),h=Nr(void 0);try{const x=this.get(kh.multi,Fi,Kn.Self);for(const T of x)T()}finally{Ut(l),Nr(h)}}toString(){const l=[],h=this.records;for(const _ of h.keys())l.push(Ge(_));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(l){let h=hc(l=Pt(l))?l:Pt(l&&l.provide);const _=function fm(n){return Xf(n)?Zc(void 0,n.useValue):Zc(Oh(n),Jf)}(l);if(hc(l)||!0!==l.multi)this.records.get(h);else{let x=this.records.get(h);x||(x=Zc(void 0,Jf,!0),x.factory=()=>as(x.multi),this.records.set(h,x)),h=l,x.multi.push(l)}this.records.set(h,_)}hydrate(l,h){return h.value===Jf&&(h.value=fy,h.value=h.factory()),"object"==typeof h.value&&h.value&&function pm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(l){if(!l.providedIn)return!1;const h=Pt(l.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}removeOnDestroy(l){const h=this._onDestroyHooks.indexOf(l);-1!==h&&this._onDestroyHooks.splice(h,1)}}function G_(n){const l=ps(n),h=null!==l?l.factory:Ca(n);if(null!==h)return h;if(n instanceof ar)throw new ct(204,!1);if(n instanceof Function)return function Zo(n){const l=n.length;if(l>0)throw function Pu(n,l){const h=[];for(let _=0;_<n;_++)h.push(l);return h}(l,"?"),new ct(204,!1);const h=function Xs(n){return n&&(n[Js]||n[yr])||null}(n);return null!==h?()=>h.factory(n):()=>new n}(n);throw new ct(204,!1)}function Oh(n,l,h){let _;if(hc(n)){const x=Pt(n);return Ca(x)||G_(x)}if(Xf(n))_=()=>Pt(n.useValue);else if(function H_(n){return!(!n||!n.useFactory)}(n))_=()=>n.useFactory(...as(n.deps||[]));else if(function dy(n){return!(!n||!n.useExisting)}(n))_=()=>_i(Pt(n.useExisting));else{const x=Pt(n&&(n.useClass||n.provide));if(!function yn(n){return!!n.deps}(n))return Ca(x)||G_(x);_=()=>new x(...as(n.deps))}return _}function Zc(n,l,h=!1){return{factory:n,value:l,multi:h?[]:void 0}}function W_(n,l){for(const h of n)Array.isArray(h)?W_(h,l):h&&pn(h)?W_(h.\u0275providers,l):l(h)}const my=new ar("AppId",{providedIn:"root",factory:()=>Yb}),Yb="ng",ep=new ar("Platform Initializer"),mm=new ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_m=new ar("AnimationModuleType"),Na=new ar("CSP nonce",{providedIn:"root",factory:()=>function Id(){if(void 0!==tm)return tm;if(typeof document<"u")return document;throw new ct(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vm=(n,l,h)=>null;function xm(n,l,h=!1){return vm(n,l,h)}class yy{}class vy{}class n0{resolveComponentFactory(l){throw function by(n){const l=Error(`No component factory found for ${Ge(n)}.`);return l.ngComponent=n,l}(l)}}let zd=(()=>{class l{}return l.NULL=new n0,l})();function xy(){return np(us(),Zt())}function np(n,l){return new ip(ns(n,l))}let ip=(()=>{class l{constructor(_){this.nativeElement=_}}return l.__NG_ELEMENT_ID__=xy,l})();function r0(n){return n instanceof ip?n.nativeElement:n}class Sm{}let J_=(()=>{class l{constructor(){this.destroyNode=null}}return l.__NG_ELEMENT_ID__=()=>function ma(){const n=Zt(),h=cs(us().index,n);return(Zr(h)?h:n)[Xn]}(),l})(),Q_=(()=>{var n;class l{}return(n=l).\u0275prov=Yn({token:n,providedIn:"root",factory:()=>null}),l})();class eg{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const _a=new eg("16.2.3"),Nh={};function mc(n){if(!bi()&&!function ni(){return Un}())throw new ct(-203,!1)}function Ey(n,l=null,h=null,_){const x=ng(n,l,h,_);return x.resolveInjectorInitializers(),x}function ng(n,l=null,h=null,_,x=new Set){const T=[h||Fi,Kf(n)];return _=_||("object"==typeof n?void 0:Ge(n)),new Ph(T,l||Qf(),_||null,x)}let rl=(()=>{var n;class l{static create(_,x){if(Array.isArray(_))return Ey({name:""},x,_,"");{const T=_.name??"";return Ey({name:T},_.parent,_.providers,T)}}}return(n=l).THROW_IF_NOT_FOUND=Je,n.NULL=new Zf,n.\u0275prov=Yn({token:n,providedIn:"any",factory:()=>_i(cm)}),n.__NG_ELEMENT_ID__=-1,l})(),sl=(()=>{var n;class l{}return(n=l).__NG_ELEMENT_ID__=a0,n.__NG_ENV_ID__=h=>h,l})();class o0 extends sl{constructor(l){super(),this._lView=l}onDestroy(l){return hn(this._lView,l),()=>function io(n,l){if(null===n[ta])return;const h=n[ta].indexOf(l);-1!==h&&n[ta].splice(h,1)}(this._lView,l)}}function a0(){return new o0(Zt())}function ig(n){return l=>{setTimeout(n,void 0,l)}}const Jc=class l0 extends y.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,h,_){let x=l,T=h||(()=>null),P=_;if(l&&"object"==typeof l){const $=l;x=$.next?.bind($),T=$.error?.bind($),P=$.complete?.bind($)}this.__isAsync&&(T=ig(T),x&&(x=ig(x)),P&&(P=ig(P)));const z=super.subscribe({next:x,error:T,complete:P});return l instanceof R.w0&&l.add(z),z}};function rg(...n){}class bs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jc(!1),this.onMicrotaskEmpty=new Jc(!1),this.onStable=new Jc(!1),this.onError=new Jc(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const x=this;x._nesting=0,x._outer=x._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!_&&h,x.shouldCoalesceRunChangeDetection=_,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function c0(){const n="function"==typeof ji.requestAnimationFrame;let l=ji[n?"requestAnimationFrame":"setTimeout"],h=ji[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&h){const _=l[Zone.__symbol__("OriginalDelegate")];_&&(l=_);const x=h[Zone.__symbol__("OriginalDelegate")];x&&(h=x)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function sg(n){const l=()=>{!function Pl(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ji,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jd(n),n.isCheckStableRunning=!0,Im(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,_,x,T,P,z)=>{try{return qu(n),h.invokeTask(x,T,P,z)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||n.shouldCoalesceRunChangeDetection)&&l(),og(n)}},onInvoke:(h,_,x,T,P,z,$)=>{try{return qu(n),h.invoke(x,T,P,z,$)}finally{n.shouldCoalesceRunChangeDetection&&l(),og(n)}},onHasTask:(h,_,x,T)=>{h.hasTask(x,T),_===x&&("microTask"==T.change?(n._hasPendingMicrotasks=T.microTask,jd(n),Im(n)):"macroTask"==T.change&&(n.hasPendingMacrotasks=T.macroTask))},onHandleError:(h,_,x,T)=>(h.handleError(x,T),n.runOutsideAngular(()=>n.onError.emit(T)),!1)})}(x)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bs.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(bs.isInAngularZone())throw new ct(909,!1)}run(l,h,_){return this._inner.run(l,h,_)}runTask(l,h,_,x){const T=this._inner,P=T.scheduleEventTask("NgZoneEvent: "+x,l,Ty,rg,rg);try{return T.runTask(P,h,_)}finally{T.cancelTask(P)}}runGuarded(l,h,_){return this._inner.runGuarded(l,h,_)}runOutsideAngular(l){return this._outer.run(l)}}const Ty={};function Im(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qu(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function og(n){n._nesting--,Im(n)}class km{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jc,this.onMicrotaskEmpty=new Jc,this.onStable=new Jc,this.onError=new Jc}run(l,h,_){return l.apply(h,_)}runGuarded(l,h,_){return l.apply(h,_)}runOutsideAngular(l){return l()}runTask(l,h,_,x){return l.apply(h,_)}}const ag=new ar("",{providedIn:"root",factory:sp});function sp(){const n=vi(bs);let l=!0;const h=new U.y(x=>{l=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{x.next(l),x.complete()})}),_=new U.y(x=>{let T;n.runOutsideAngular(()=>{T=n.onStable.subscribe(()=>{bs.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(l=!0,x.next(!0))})})});const P=n.onUnstable.subscribe(()=>{bs.assertInAngularZone(),l&&(l=!1,n.runOutsideAngular(()=>{x.next(!1)}))});return()=>{T.unsubscribe(),P.unsubscribe()}});return(0,u.T)(h,_.pipe((0,ee.B)()))}function Bh(n){return n.ownerDocument.defaultView}function _c(n){return n instanceof Function?n():n}let cg=(()=>{var n;class l{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ct(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const _ of this.callbacks)_.invoke()}finally{this.runningCallbacks=!1;for(const _ of this.deferredCallbacks)this.callbacks.add(_);this.deferredCallbacks.clear()}}register(_){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(_)}unregister(_){this.callbacks.delete(_),this.deferredCallbacks.delete(_)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(n=l).\u0275prov=Yn({token:n,providedIn:"root",factory:()=>new n}),l})();function Yh(n){for(;n;){n[zn]|=64;const l=$c(n);if(Sc(n)&&!l)return n;n=l}return null}function gc(n){return n.ngOriginalError}class Ol{constructor(){this._console=console}handleError(l){const h=this._findOriginalError(l);this._console.error("ERROR",l),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(l){let h=l&&gc(l);for(;h&&gc(h);)h=gc(h);return h||null}}const ug=new ar("",{providedIn:"root",factory:()=>!1});class Uh extends $l{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(l){this._lView=l}onConsumerDependencyMayHaveChanged(){Yh(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(l,h,_){const x=Yr(this);this.trackingVersion++;try{l(h,_)}finally{Yr(x)}}destroy(){this.trackingVersion++}}let cp=null;function Ay(){return cp??=new Uh,cp}function Ku(n,l){return n[l]??Ay()}function Vh(n,l){const h=Ay();h.hasReadASignal&&(n[l]=cp,h.lView=n,cp=new Uh)}const Ei={};function Om(n){up(Ai(),Zt(),pr()+n,!1)}function up(n,l,h,_){if(!_)if(3==(3&l[zn])){const T=n.preOrderCheckHooks;null!==T&&Ia(l,T,h)}else{const T=n.preOrderHooks;null!==T&&g(l,T,0,h)}an(h)}function Vd(n,l=Kn.Default){const h=Zt();return null===h?_i(n,l):Dt(us(),h,Pt(n),l)}function Rm(){throw new Error("invalid")}function Hd(n,l,h,_,x,T,P,z,$,ie,pe){const Ae=l.blueprint.slice();return Ae[Dr]=x,Ae[zn]=140|_,(null!==ie||n&&2048&n[zn])&&(Ae[zn]|=2048),Ql(Ae),Ae[br]=Ae[Us]=n,Ae[Pr]=h,Ae[Eo]=P||n&&n[Eo],Ae[Xn]=z||n&&n[Xn],Ae[Do]=$||n&&n[Do]||null,Ae[kr]=T,Ae[Ta]=function _o(){return Kp++}(),Ae[So]=pe,Ae[uu]=ie,Ae[Er]=2==l.type?n[Er]:Ae,Ae}function nu(n,l,h,_,x){let T=n.data[l];if(null===T)T=function dp(n,l,h,_,x){const T=nc(),P=ic(),$=n.data[l]=function Vb(n,l,h,_,x,T){let P=l?l.injectorIndex:-1,z=0;return function jo(){return null!==hi.skipHydrationRootTNode}()&&(z|=128),{type:h,index:_,insertBeforeIndex:null,injectorIndex:P,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:z,providerIndexes:0,value:x,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?T:T&&T.parent,h,l,_,x);return null===n.firstChild&&(n.firstChild=$),null!==T&&(P?null==T.child&&null!==$.parent&&(T.child=$):null===T.next&&(T.next=$,$.prev=T)),$}(n,l,h,_,x),function ch(){return hi.lFrame.inI18n}()&&(T.flags|=32);else if(64&T.type){T.type=h,T.value=_,T.attrs=x;const P=function La(){const n=hi.lFrame,l=n.currentTNode;return n.isParent?l:l.parent}();T.injectorIndex=null===P?-1:P.injectorIndex}return ro(T,!0),T}function Hh(n,l,h,_){if(0===h)return-1;const x=l.length;for(let T=0;T<h;T++)l.push(_),n.blueprint.push(_),n.data.push(null);return x}function hg(n,l,h,_,x){const T=Ku(l,Ha),P=pr(),z=2&_;try{if(an(-1),z&&l.length>Dn&&up(n,l,Dn,!1),Os(z?2:0,x),z)T.runInContext(h,_,x);else{const ie=Yr(null);try{h(_,x)}finally{Yr(ie)}}}finally{z&&null===l[Ha]&&Vh(l,Ha),an(P),Os(z?3:1,x)}}function Ns(n,l,h){if(Vl(l)){const _=Yr(null);try{const T=l.directiveEnd;for(let P=l.directiveStart;P<T;P++){const z=n.data[P];z.contentQueries&&z.contentQueries(1,h[P],P)}}finally{Yr(_)}}}function Ba(n,l,h){Fc()&&(function Nl(n,l,h,_){const x=h.directiveStart,T=h.directiveEnd;Sa(h)&&function pg(n,l,h){const _=ns(l,n),x=h0(h);let P=16;h.signals?P=4096:h.onPush&&(P=64);const z=ru(n,Hd(n,x,null,P,_,l,null,n[Eo].rendererFactory.createRenderer(_,h),null,null,null));n[l.index]=z}(l,h,n.data[x+h.componentOffset]),n.firstCreatePass||Rt(h,l),ao(_,l);const P=h.initialInputs;for(let z=x;z<T;z++){const $=n.data[z],ie=_n(l,n,z,h);ao(ie,l),null!==P&&g0(0,z-x,ie,$,0,P),Co($)&&(cs(h.index,l)[Pr]=_n(l,n,z,h))}}(n,l,h,ns(h,l)),64==(64&h.flags)&&Po(n,l,h))}function $d(n,l,h=ns){const _=l.localNames;if(null!==_){let x=l.index+1;for(let T=0;T<_.length;T+=2){const P=_[T+1],z=-1===P?h(l,n):n[P];n[x++]=z}}}function h0(n){const l=n.tView;return null===l||l.incompleteFirstPass?n.tView=Fm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):l}function Fm(n,l,h,_,x,T,P,z,$,ie,pe){const Ae=Dn+_,Ke=Ae+x,rt=function $h(n,l){const h=[];for(let _=0;_<l;_++)h.push(_<n?null:Ei);return h}(Ae,Ke),Bt="function"==typeof ie?ie():ie;return rt[bn]={type:n,blueprint:rt,template:h,queries:null,viewQuery:z,declTNode:l,data:rt.slice().fill(null,Ae),bindingStartIndex:Ae,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:$,consts:Bt,incompleteFirstPass:!1,ssrId:pe}}let Gd=n=>null;function p0(n,l,h,_){for(let x in n)if(n.hasOwnProperty(x)){h=null===h?{}:h;const T=n[x];null===_?m0(h,l,x,T):_.hasOwnProperty(x)&&m0(h,l,_[x],T)}return h}function m0(n,l,h,_){n.hasOwnProperty(h)?n[h].push(l,_):n[h]=[l,_]}function ko(n,l,h,_,x,T,P,z){const $=ns(l,h);let pe,ie=l.inputs;!z&&null!=ie&&(pe=ie[_])?(Ju(n,h,pe,_,x),Sa(l)&&function $b(n,l){const h=cs(l,n);16&h[zn]||(h[zn]|=64)}(h,l.index)):3&l.type&&(_=function Hb(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(_),x=null!=P?P(x,l.value||"",_):x,T.setProperty($,_,x))}function Ry(n,l,h,_){if(Fc()){const x=null===_?null:{"":-1},T=function Wh(n,l){const h=n.directiveRegistry;let _=null,x=null;if(h)for(let T=0;T<h.length;T++){const P=h[T];if(Is(l,P.selectors,!1))if(_||(_=[]),Co(P))if(null!==P.findHostDirectiveDefs){const z=[];x=x||new Map,P.findHostDirectiveDefs(P,z,x),_.unshift(...z,P),Nm(n,l,z.length)}else _.unshift(P),Nm(n,l,0);else x=x||new Map,P.findHostDirectiveDefs?.(P,_,x),_.push(P)}return null===_?null:[_,x]}(n,h);let P,z;null===T?P=z=null:[P,z]=T,null!==P&&Fy(n,l,h,P,x,z),x&&function Bm(n,l,h){if(l){const _=n.localNames=[];for(let x=0;x<l.length;x+=2){const T=h[l[x+1]];if(null==T)throw new ct(-301,!1);_.push(l[x],T)}}}(h,_,x)}h.mergedAttrs=Ir(h.mergedAttrs,h.attrs)}function Fy(n,l,h,_,x,T){for(let ie=0;ie<_.length;ie++)Lt(Rt(h,l),n,_[ie].type);!function Zh(n,l,h){n.flags|=1,n.directiveStart=l,n.directiveEnd=l+h,n.providerIndexes=l}(h,n.data.length,_.length);for(let ie=0;ie<_.length;ie++){const pe=_[ie];pe.providersResolver&&pe.providersResolver(pe)}let P=!1,z=!1,$=Hh(n,l,_.length,null);for(let ie=0;ie<_.length;ie++){const pe=_[ie];h.mergedAttrs=Ir(h.mergedAttrs,pe.hostAttrs),By(n,h,l,$,pe),Ny($,pe,x),null!==pe.contentQueries&&(h.flags|=4),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(h.flags|=64);const Ae=pe.type.prototype;!P&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((n.preOrderHooks??=[]).push(h.index),P=!0),!z&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(h.index),z=!0),$++}!function Py(n,l,h){const x=l.directiveEnd,T=n.data,P=l.attrs,z=[];let $=null,ie=null;for(let pe=l.directiveStart;pe<x;pe++){const Ae=T[pe],Ke=h?h.get(Ae):null,Bt=Ke?Ke.outputs:null;$=p0(Ae.inputs,pe,$,Ke?Ke.inputs:null),ie=p0(Ae.outputs,pe,ie,Bt);const sn=null===$||null===P||Ea(l)?null:jy($,pe,P);z.push(sn)}null!==$&&($.hasOwnProperty("class")&&(l.flags|=8),$.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=z,l.inputs=$,l.outputs=ie}(n,h,T)}function Po(n,l,h){const _=h.directiveStart,x=h.directiveEnd,T=h.index,P=function Cu(){return hi.lFrame.currentDirectiveIndex}();try{an(T);for(let z=_;z<x;z++){const $=n.data[z],ie=l[z];rc(z),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&al($,ie)}}finally{an(-1),rc(P)}}function al(n,l){null!==n.hostBindings&&n.hostBindings(1,l)}function Nm(n,l,h){l.componentOffset=h,(n.components??=[]).push(l.index)}function Ny(n,l,h){if(h){if(l.exportAs)for(let _=0;_<l.exportAs.length;_++)h[l.exportAs[_]]=n;Co(l)&&(h[""]=n)}}function By(n,l,h,_,x){n.data[_]=x;const T=x.factory||(x.factory=Ca(x.type)),P=new O(T,Co(x),Vd);n.blueprint[_]=P,h[_]=P,function Fl(n,l,h,_,x){const T=x.hostBindings;if(T){let P=n.hostBindingOpCodes;null===P&&(P=n.hostBindingOpCodes=[]);const z=~l.index;(function ya(n){let l=n.length;for(;l>0;){const h=n[--l];if("number"==typeof h&&h<0)return h}return 0})(P)!=z&&P.push(z),P.push(h,_,T)}}(n,l,_,Hh(n,h,x.hostVars,Ei),x)}function ll(n,l,h,_,x,T){const P=ns(n,l);!function iu(n,l,h,_,x,T,P){if(null==T)n.removeAttribute(l,x,h);else{const z=null==P?zt(T):P(T,_||"",x);n.setAttribute(l,x,z,h)}}(l[Xn],P,T,n.value,h,_,x)}function g0(n,l,h,_,x,T){const P=T[l];if(null!==P)for(let z=0;z<P.length;)zy(_,h,P[z++],P[z++],P[z++])}function zy(n,l,h,_,x){const T=Yr(null);try{const P=n.inputTransforms;null!==P&&P.hasOwnProperty(_)&&(x=P[_].call(l,x)),null!==n.setInput?n.setInput(l,x,h,_):l[_]=x}finally{Yr(T)}}function jy(n,l,h){let _=null,x=0;for(;x<h.length;){const T=h[x];if(0!==T)if(5!==T){if("number"==typeof T)break;if(n.hasOwnProperty(T)){null===_&&(_=[]);const P=n[T];for(let z=0;z<P.length;z+=2)if(P[z]===l){_.push(T,P[z+1],h[x+1]);break}}x+=2}else x+=2;else x+=4}return _}function Yy(n,l,h,_){return[n,!0,!1,l,null,0,_,h,null,null,null]}function Xo(n,l){const h=n.contentQueries;if(null!==h)for(let _=0;_<h.length;_+=2){const T=h[_+1];if(-1!==T){const P=n.data[T];so(h[_]),P.contentQueries(2,l[T],T)}}}function ru(n,l){return n[pl]?n[Va][js]=l:n[pl]=l,n[Va]=l,l}function qh(n,l,h){so(0);const _=Yr(null);try{l(n,h)}finally{Yr(_)}}function Xu(n){return n[ea]||(n[ea]=[])}function hp(n){return n.cleanup||(n.cleanup=[])}function Kh(n,l){const h=n[Do],_=h?h.get(Ol,null):null;_&&_.handleError(l)}function Ju(n,l,h,_,x){for(let T=0;T<h.length;){const P=h[T++],z=h[T++];zy(n.data[P],l[P],_,z,x)}}function mg(n,l){const h=cs(l,n),_=h[bn];!function jm(n,l){for(let h=l.length;h<n.blueprint.length;h++)l.push(n.blueprint[h])}(_,h);const x=h[Dr];null!==x&&null===h[So]&&(h[So]=xm(x,h[Do])),za(_,h,h[Pr])}function za(n,l,h){Ao(l);try{const _=n.viewQuery;null!==_&&qh(1,_,h);const x=n.template;null!==x&&hg(n,l,x,1,h),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Xo(n,l),n.staticViewQueries&&qh(2,n.viewQuery,h);const T=n.components;null!==T&&function Qu(n,l){for(let h=0;h<l.length;h++)mg(n,l[h])}(l,T)}catch(_){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),_}finally{l[zn]&=-5,Au()}}let _g=(()=>{var n;class l{constructor(){this.all=new Set,this.queue=new Map}create(_,x,T){const P=typeof Zone>"u"?null:Zone.current,z=new bu(_,pe=>{this.all.has(pe)&&this.queue.set(pe,P)},T);let $;this.all.add(z),z.notify();const ie=()=>{z.cleanup(),$?.(),this.all.delete(z),this.queue.delete(z)};return $=x?.onDestroy(ie),{destroy:ie}}flush(){if(0!==this.queue.size)for(const[_,x]of this.queue)this.queue.delete(_),x?x.run(()=>_.run()):_.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=l).\u0275prov=Yn({token:n,providedIn:"root",factory:()=>new n}),l})();function ed(n,l,h){let _=h?n.styles:null,x=h?n.classes:null,T=0;if(null!==l)for(let P=0;P<l.length;P++){const z=l[P];"number"==typeof z?T=z:1==T?x=ht(x,z):2==T&&(_=ht(_,z+": "+l[++P]+";"))}h?n.styles=_:n.stylesWithoutHost=_,h?n.classes=x:n.classesWithoutHost=x}function vc(n,l,h,_,x=!1){for(;null!==h;){const T=l[h.index];null!==T&&_.push(nr(T)),qr(T)&&Uy(T,_);const P=h.type;if(8&P)vc(n,l,h.child,_);else if(32&P){const z=Uu(h,l);let $;for(;$=z();)_.push($)}else if(16&P){const z=A_(l,h);if(Array.isArray(z))_.push(...z);else{const $=$c(l[Er]);vc($[bn],$,z,_,!0)}}h=x?h.projectionNext:h.next}return _}function Uy(n,l){for(let h=zr;h<n.length;h++){const _=n[h],x=_[bn].firstChild;null!==x&&vc(_[bn],_,x,l)}n[Ds]!==n[Dr]&&l.push(n[Ds])}function Ym(n,l,h,_=!0){const x=l[Eo],T=x.rendererFactory,P=x.afterRenderEventManager;T.begin?.(),P?.begin();try{Um(n,l,n.template,h)}catch($){throw _&&Kh(l,$),$}finally{T.end?.(),x.effectManager?.flush(),P?.end()}}function Um(n,l,h,_){const x=l[zn];if(256!=(256&x)){l[Eo].effectManager?.flush(),Ao(l);try{Ql(l),function md(n){return hi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==h&&hg(n,l,h,2,_);const P=3==(3&x);if(P){const ie=n.preOrderCheckHooks;null!==ie&&Ia(l,ie,null)}else{const ie=n.preOrderHooks;null!==ie&&g(l,ie,0,null),a(l,0)}if(function v0(n){for(let l=T_(n);null!==l;l=Xg(l)){if(!l[ud])continue;const h=l[ml];for(let _=0;_<h.length;_++){Oc(h[_])}}}(l),fp(l,2),null!==n.contentQueries&&Xo(n,l),P){const ie=n.contentCheckHooks;null!==ie&&Ia(l,ie)}else{const ie=n.contentHooks;null!==ie&&g(l,ie,1),a(l,1)}!function Iy(n,l){const h=n.hostBindingOpCodes;if(null===h)return;const _=Ku(l,ms);try{for(let x=0;x<h.length;x++){const T=h[x];if(T<0)an(~T);else{const P=T,z=h[++x],$=h[++x];_s(z,P),_.runInContext($,2,l[P])}}}finally{null===l[ms]&&Vh(l,ms),an(-1)}}(n,l);const z=n.components;null!==z&&Zd(l,z,0);const $=n.viewQuery;if(null!==$&&qh(2,$,_),P){const ie=n.viewCheckHooks;null!==ie&&Ia(l,ie)}else{const ie=n.viewHooks;null!==ie&&g(l,ie,2),a(l,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),l[zn]&=-73,Rc(l)}finally{Au()}}}function fp(n,l){for(let h=T_(n);null!==h;h=Xg(h))for(let _=zr;_<h.length;_++)gg(h[_],l)}function $y(n,l,h){gg(cs(l,n),h)}function gg(n,l){if(!function Xl(n){return 128==(128&n[zn])}(n))return;const h=n[bn];if(80&n[zn]&&0===l||1024&n[zn]||2===l)Um(h,n,h.template,n[Pr]);else if(n[Ys]>0){fp(n,1);const x=n[bn].components;null!==x&&Zd(n,x,1)}}function Zd(n,l,h){for(let _=0;_<l.length;_++)$y(n,l[_],h)}class td{get rootNodes(){const l=this._lView,h=l[bn];return vc(h,l,h.firstChild,[])}constructor(l,h){this._lView=l,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pr]}set context(l){this._lView[Pr]=l}get destroyed(){return 256==(256&this._lView[zn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[br];if(qr(l)){const h=l[8],_=h?h.indexOf(this):-1;_>-1&&(go(l,_),da(h,_))}this._attachedToViewContainer=!1}Go(this._lView[bn],this._lView)}onDestroy(l){hn(this._lView,l)}markForCheck(){Yh(this._cdRefInjectingView||this._lView)}detach(){this._lView[zn]&=-129}reattach(){this._lView[zn]|=128}detectChanges(){Ym(this._lView[bn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tl(n,l){Dh(n,l,l[Xn],2,null,null)}(this._lView[bn],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=l}}class Vm extends td{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Ym(l[bn],l,l[Pr],!1)}checkNoChanges(){}get context(){return null}}class pp extends zd{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const h=Pn(l);return new qd(h,this.ngModule)}}function Bl(n){const l=[];for(let h in n)n.hasOwnProperty(h)&&l.push({propName:n[h],templateName:h});return l}class yg{constructor(l,h){this.injector=l,this.parentInjector=h}get(l,h,_){_=Zn(_);const x=this.injector.get(l,Nh,_);return x!==Nh||h===Nh?x:this.parentInjector.get(l,h,_)}}class qd extends vy{get inputs(){const l=this.componentDef,h=l.inputTransforms,_=Bl(l.inputs);if(null!==h)for(const x of _)h.hasOwnProperty(x.propName)&&(x.transform=h[x.propName]);return _}get outputs(){return Bl(this.componentDef.outputs)}constructor(l,h){super(),this.componentDef=l,this.ngModule=h,this.componentType=l.type,this.selector=function Yi(n){return n.map(Ms).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!h}create(l,h,_,x){let T=(x=x||this.ngModule)instanceof kl?x:x?.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const P=T?new yg(l,T):l,z=P.get(Sm,null);if(null===z)throw new ct(407,!1);const Ae={rendererFactory:z,sanitizer:P.get(Q_,null),effectManager:P.get(_g,null),afterRenderEventManager:P.get(cg,null)},Ke=z.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",Bt=_?function Rl(n,l,h,_){const T=_.get(ug,!1)||h===ts.ShadowDom,P=n.selectRootElement(l,T);return function fg(n){Gd(n)}(P),P}(Ke,_,this.componentDef.encapsulation,P):wh(Ke,rt,function Hm(n){const l=n.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(rt)),Jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==Bt&&(en=xm(Bt,P,!0));const Ti=Fm(0,null,null,1,0,null,null,null,null,null,null),Oi=Hd(null,Ti,null,Jn,null,null,Ae,Ke,P,null,en);let Ur,jl;Ao(Oi);try{const cf=this.componentDef;let Lp,o1=null;cf.findHostDirectiveDefs?(Lp=[],o1=new Map,cf.findHostDirectiveDefs(cf,Lp,o1),Lp.push(cf)):Lp=[cf];const XT=function e(n,l){const h=n[bn],_=Dn;return n[_]=l,nu(h,_,2,"#host",null)}(Oi,Bt),JT=function o(n,l,h,_,x,T,P){const z=x[bn];!function d(n,l,h,_){for(const x of n)l.mergedAttrs=Ir(l.mergedAttrs,x.hostAttrs);null!==l.mergedAttrs&&(ed(l,l.mergedAttrs,!0),null!==h&&Hu(_,h,l))}(_,n,l,P);let $=null;null!==l&&($=xm(l,x[Do]));const ie=T.rendererFactory.createRenderer(l,h);let pe=16;h.signals?pe=4096:h.onPush&&(pe=64);const Ae=Hd(x,h0(h),null,pe,x[n.index],n,T,ie,null,null,$);return z.firstCreatePass&&Nm(z,n,_.length-1),ru(x,Ae),x[n.index]=Ae}(XT,Bt,cf,Lp,Oi,Ae,Ke);jl=Kl(Ti,Dn),Bt&&function v(n,l,h,_){if(_)vt(n,h,["ng-version",_a.full]);else{const{attrs:x,classes:T}=function to(n){const l=[],h=[];let _=1,x=2;for(;_<n.length;){let T=n[_];if("string"==typeof T)2===x?""!==T&&l.push(T,n[++_]):8===x&&h.push(T);else{if(!$n(x))break;x=T}_++}return{attrs:l,classes:h}}(l.selectors[0]);x&&vt(n,h,x),T&&T.length>0&&Eh(n,h,T.join(" "))}}(Ke,cf,Bt,_),void 0!==h&&function w(n,l,h){const _=n.projection=[];for(let x=0;x<l.length;x++){const T=h[x];_.push(null!=T?Array.from(T):null)}}(jl,this.ngContentSelectors,h),Ur=function m(n,l,h,_,x,T){const P=us(),z=x[bn],$=ns(P,x);Fy(z,x,P,h,null,_);for(let pe=0;pe<h.length;pe++)ao(_n(x,z,P.directiveStart+pe,P),x);Po(z,x,P),$&&ao($,x);const ie=_n(x,z,P.directiveStart+P.componentOffset,P);if(n[Pr]=x[Pr]=ie,null!==T)for(const pe of T)pe(ie,l);return Ns(z,P,n),ie}(JT,cf,Lp,o1,Oi,[E]),za(Ti,Oi,null)}finally{Au()}return new r(this.componentType,Ur,np(jl,Oi),Oi,jl)}}class r extends yy{constructor(l,h,_,x,T){super(),this.location=_,this._rootLView=x,this._tNode=T,this.previousInputValues=null,this.instance=h,this.hostView=this.changeDetectorRef=new Vm(x),this.componentType=l}setInput(l,h){const _=this._tNode.inputs;let x;if(null!==_&&(x=_[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),h))return;const T=this._rootLView;Ju(T[bn],T,x,l,h),this.previousInputValues.set(l,h),Yh(cs(this._tNode.index,T))}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function E(){const n=us();gs(Zt()[bn],n)}function k(n){let l=function L(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),h=!0;const _=[n];for(;l;){let x;if(Co(n))x=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ct(903,!1);x=l.\u0275dir}if(x){if(h){_.push(x);const P=n;P.inputs=H(n.inputs),P.inputTransforms=H(n.inputTransforms),P.declaredInputs=H(n.declaredInputs),P.outputs=H(n.outputs);const z=x.hostBindings;z&&te(n,z);const $=x.viewQuery,ie=x.contentQueries;if($&&W(n,$),ie&&Q(n,ie),Fe(n.inputs,x.inputs),Fe(n.declaredInputs,x.declaredInputs),Fe(n.outputs,x.outputs),null!==x.inputTransforms&&(null===P.inputTransforms&&(P.inputTransforms={}),Fe(P.inputTransforms,x.inputTransforms)),Co(x)&&x.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(x.data.animation)}}const T=x.features;if(T)for(let P=0;P<T.length;P++){const z=T[P];z&&z.ngInherit&&z(n),z===k&&(h=!1)}}l=Object.getPrototypeOf(l)}!function j(n){let l=0,h=null;for(let _=n.length-1;_>=0;_--){const x=n[_];x.hostVars=l+=x.hostVars,x.hostAttrs=Ir(x.hostAttrs,h=Ir(h,x.hostAttrs))}}(_)}function H(n){return n===Ar?{}:n===Fi?[]:n}function W(n,l){const h=n.viewQuery;n.viewQuery=h?(_,x)=>{l(_,x),h(_,x)}:l}function Q(n,l){const h=n.contentQueries;n.contentQueries=h?(_,x,T)=>{l(_,x,T),h(_,x,T)}:l}function te(n,l){const h=n.hostBindings;n.hostBindings=h?(_,x)=>{l(_,x),h(_,x)}:l}function st(n){const l=n.inputConfig,h={};for(const _ in l)if(l.hasOwnProperty(_)){const x=l[_];Array.isArray(x)&&x[2]&&(h[_]=x[2])}n.inputTransforms=h}function Gt(n){return!!It(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function It(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function tn(n,l,h){return!Object.is(n[l],h)&&(n[l]=h,!0)}function Qt(n,l,h,_){const x=Zt();return tn(x,Xa(),l)&&(Ai(),ll(Or(),x,n,l,h,_)),Qt}function ci(n,l,h,_){return tn(n,Xa(),h)?l+zt(h)+_:Ei}function x0(n,l,h,_,x,T,P,z){const $=Zt(),ie=Ai(),pe=n+Dn,Ae=ie.firstCreatePass?function h1(n,l,h,_,x,T,P,z,$){const ie=l.consts,pe=nu(l,n,4,P||null,aa(ie,z));Ry(l,h,pe,aa(ie,$)),gs(l,pe);const Ae=pe.tView=Fm(2,pe,_,x,T,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ie,null);return null!==l.queries&&(l.queries.template(l,pe),Ae.queries=l.queries.embeddedTView(pe)),pe}(pe,ie,$,l,h,_,x,T,P):ie.data[pe];ro(Ae,!1);const Ke=Zy(ie,$,Ae,n);Vi()&&uc(ie,$,Ke,Ae),ao(Ke,$),ru($,$[pe]=Yy(Ke,$,Ke,Ae)),_l(Ae)&&Ba(ie,$,Ae),null!=P&&$d($,Ae,z)}let Zy=function qy(n,l,h,_){return or(!0),l[Xn].createComment("")};function Zb(n,l,h){const _=Zt();return tn(_,Xa(),l)&&ko(Ai(),Or(),_,n,l,_[Xn],h,!1),Zb}function w0(n,l,h,_,x){const P=x?"class":"style";Ju(n,h,l.inputs[P],P,_)}function Ky(n,l,h,_){const x=Zt(),T=Ai(),P=Dn+n,z=x[Xn],$=T.firstCreatePass?function p1(n,l,h,_,x,T){const P=l.consts,$=nu(l,n,2,_,aa(P,x));return Ry(l,h,$,aa(P,T)),null!==$.attrs&&ed($,$.attrs,!1),null!==$.mergedAttrs&&ed($,$.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,$),$}(P,T,x,l,h,_):T.data[P],ie=qb(T,x,$,z,l,n);x[P]=ie;const pe=_l($);return ro($,!0),Hu(z,ie,$),32!=(32&$.flags)&&Vi()&&uc(T,x,ie,$),0===function Kr(){return hi.lFrame.elementDepthCount}()&&ao(ie,x),function Ka(){hi.lFrame.elementDepthCount++}(),pe&&(Ba(T,x,$),Ns(T,$,x)),null!==_&&$d(x,$),Ky}function Xy(){let n=us();ic()?function Nc(){hi.lFrame.isParent=!1}():(n=n.parent,ro(n,!1));const l=n;(function ah(n){return hi.skipHydrationRootTNode===n})(l)&&function Rp(){hi.skipHydrationRootTNode=null}(),function ca(){hi.lFrame.elementDepthCount--}();const h=Ai();return h.firstCreatePass&&(gs(h,n),Vl(n)&&h.queries.elementEnd(n)),null!=l.classesWithoutHost&&function re(n){return 0!=(8&n.flags)}(l)&&w0(h,l,Zt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function he(n){return 0!=(16&n.flags)}(l)&&w0(h,l,Zt(),l.stylesWithoutHost,!1),Xy}function M0(n,l,h,_){return Ky(n,l,h,_),Xy(),M0}let qb=(n,l,h,_,x,T)=>(or(!0),wh(_,x,function Hs(){return hi.lFrame.currentNamespace}()));function sd(){return Zt()}function xg(n){return!!n&&"function"==typeof n.then}function wg(n){return!!n&&"function"==typeof n.subscribe}function Jb(n,l,h,_){const x=Zt(),T=Ai(),P=us();return function Mg(n,l,h,_,x,T,P){const z=_l(_),ie=n.firstCreatePass&&hp(n),pe=l[Pr],Ae=Xu(l);let Ke=!0;if(3&_.type||P){const sn=ns(_,l),En=P?P(sn):sn,Jn=Ae.length,en=P?Oi=>P(nr(Oi[_.index])):_.index;let Ti=null;if(!P&&z&&(Ti=function Xd(n,l,h,_){const x=n.cleanup;if(null!=x)for(let T=0;T<x.length-1;T+=2){const P=x[T];if(P===h&&x[T+1]===_){const z=l[ea],$=x[T+2];return z.length>$?z[$]:null}"string"==typeof P&&(T+=2)}return null}(n,l,x,_.index)),null!==Ti)(Ti.__ngLastListenerFn__||Ti).__ngNextListenerFn__=T,Ti.__ngLastListenerFn__=T,Ke=!1;else{T=Dg(_,l,pe,T,!1);const Oi=h.listen(En,x,T);Ae.push(T,Oi),ie&&ie.push(x,en,Jn,Jn+1)}}else T=Dg(_,l,pe,T,!1);const rt=_.outputs;let Bt;if(Ke&&null!==rt&&(Bt=rt[x])){const sn=Bt.length;if(sn)for(let En=0;En<sn;En+=2){const Ur=l[Bt[En]][Bt[En+1]].subscribe(T),jl=Ae.length;Ae.push(T,Ur),ie&&ie.push(x,_.index,jl,-(jl+1))}}}(T,x,x[Xn],P,n,l,_),Jb}function _1(n,l,h,_){try{return Os(6,l,h),!1!==h(_)}catch(x){return Kh(n,x),!1}finally{Os(7,l,h)}}function Dg(n,l,h,_,x){return function T(P){if(P===Function)return _;Yh(n.componentOffset>-1?cs(n.index,l):l);let $=_1(l,h,_,P),ie=T.__ngNextListenerFn__;for(;ie;)$=_1(l,h,ie,P)&&$,ie=ie.__ngNextListenerFn__;return x&&!1===$&&P.preventDefault(),$}}function g1(n=1){return function gd(n){return(hi.lFrame.contextLView=function bl(n,l){for(;n>0;)l=l[Us],n--;return l}(n,hi.lFrame.contextLView))[Pr]}(n)}function Qb(n,l,h){return gp(n,"",l,"",h),Qb}function gp(n,l,h,_,x){const T=Zt(),P=ci(T,l,h,_);return P!==Ei&&ko(Ai(),Or(),T,n,P,T[Xn],x,!1),gp}function nv(n,l){return n<<17|l<<2}function ef(n){return n>>17&32767}function L0(n){return 2|n}function yp(n){return(131068&n)>>2}function A0(n,l){return-131069&n|l<<2}function ox(n){return 1|n}function ax(n,l,h,_,x){const T=n[h+1],P=null===l;let z=_?ef(T):yp(T),$=!1;for(;0!==z&&(!1===$||P);){const pe=n[z+1];x1(n[z],l)&&($=!0,n[z+1]=_?ox(pe):L0(pe)),z=_?ef(pe):yp(pe)}$&&(n[h+1]=_?L0(T):ox(T))}function x1(n,l){return null===n||null==l||(Array.isArray(n)?n[1]:n)===l||!(!Array.isArray(n)||"string"!=typeof l)&&Oa(n,l)>=0}function Eg(n,l){return function ja(n,l,h,_){const x=Zt(),T=Ai(),P=function is(n){const l=hi.lFrame,h=l.bindingIndex;return l.bindingIndex=l.bindingIndex+n,h}(2);T.firstUpdatePass&&function Tg(n,l,h,_){const x=n.data;if(null===x[h+1]){const T=x[pr()],P=function O0(n,l){return l>=n.expandoStartIndex}(n,h);(function yx(n,l){return 0!=(n.flags&(l?8:16))})(T,_)&&null===l&&!P&&(l=!1),l=function R0(n,l,h,_){const x=function uh(n){const l=hi.lFrame.currentDirectiveIndex;return-1===l?null:n[l]}(n);let T=_?l.residualClasses:l.residualStyles;if(null===x)0===(_?l.classBindings:l.styleBindings)&&(h=Km(h=F0(null,n,l,h,_),l.attrs,_),T=null);else{const P=l.directiveStylingLast;if(-1===P||n[P]!==x)if(h=F0(x,n,l,h,_),null===T){let $=function hx(n,l,h){const _=h?l.classBindings:l.styleBindings;if(0!==yp(_))return n[ef(_)]}(n,l,_);void 0!==$&&Array.isArray($)&&($=F0(null,n,l,$[1],_),$=Km($,l.attrs,_),function fx(n,l,h,_){n[ef(h?l.classBindings:l.styleBindings)]=_}(n,l,_,$))}else T=function px(n,l,h){let _;const x=l.directiveEnd;for(let T=1+l.directiveStylingLast;T<x;T++)_=Km(_,n[T].hostAttrs,h);return Km(_,l.attrs,h)}(n,l,_)}return void 0!==T&&(_?l.residualClasses=T:l.residualStyles=T),h}(x,T,l,_),function b1(n,l,h,_,x,T){let P=T?l.classBindings:l.styleBindings,z=ef(P),$=yp(P);n[_]=h;let pe,ie=!1;if(Array.isArray(h)?(pe=h[1],(null===pe||Oa(h,pe)>0)&&(ie=!0)):pe=h,x)if(0!==$){const Ke=ef(n[z+1]);n[_+1]=nv(Ke,z),0!==Ke&&(n[Ke+1]=A0(n[Ke+1],_)),n[z+1]=function v1(n,l){return 131071&n|l<<17}(n[z+1],_)}else n[_+1]=nv(z,0),0!==z&&(n[z+1]=A0(n[z+1],_)),z=_;else n[_+1]=nv($,0),0===z?z=_:n[$+1]=A0(n[$+1],_),$=_;ie&&(n[_+1]=L0(n[_+1])),ax(n,pe,_,!0),ax(n,pe,_,!1),function I0(n,l,h,_,x){const T=x?n.residualClasses:n.residualStyles;null!=T&&"string"==typeof l&&Oa(T,l)>=0&&(h[_+1]=ox(h[_+1]))}(l,pe,n,_,T),P=nv(z,$),T?l.classBindings=P:l.styleBindings=P}(x,T,l,h,P,_)}}(T,n,P,_),l!==Ei&&tn(x,P,l)&&function _x(n,l,h,_,x,T,P,z){if(!(3&l.type))return;const $=n.data,ie=$[z+1],pe=function nE(n){return 1==(1&n)}(ie)?gx($,l,h,x,yp(ie),P):void 0;sv(pe)||(sv(T)||function y1(n){return 2==(2&n)}(ie)&&(T=gx($,null,h,x,z,P)),function Uv(n,l,h,_,x){if(l)x?n.addClass(h,_):n.removeClass(h,_);else{let T=-1===_.indexOf("-")?void 0:ju.DashCase;null==x?n.removeStyle(h,_,T):("string"==typeof x&&x.endsWith("!important")&&(x=x.slice(0,-10),T|=ju.Important),n.setStyle(h,_,x,T))}}(_,P,Za(pr(),h),x,T))}(T,T.data[pr()],x,x[Xn],n,x[P+1]=function A1(n,l){return null==n||""===n||("string"==typeof l?n+=l:"object"==typeof n&&(n=Ge(dc(n)))),n}(l,h),_,P)}(n,l,null,!0),Eg}function F0(n,l,h,_,x){let T=null;const P=h.directiveEnd;let z=h.directiveStylingLast;for(-1===z?z=h.directiveStart:z++;z<P&&(T=l[z],_=Km(_,T.hostAttrs,x),T!==n);)z++;return null!==n&&(h.directiveStylingLast=z),_}function Km(n,l,h){const _=h?1:2;let x=-1;if(null!==l)for(let T=0;T<l.length;T++){const P=l[T];"number"==typeof P?x=P:x===_&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Pa(n,P,!!h||l[++T]))}return void 0===n?null:n}function gx(n,l,h,_,x,T){const P=null===l;let z;for(;x>0;){const $=n[x],ie=Array.isArray($),pe=ie?$[1]:$,Ae=null===pe;let Ke=h[x+1];Ke===Ei&&(Ke=Ae?Fi:void 0);let rt=Ae?vd(Ke,_):pe===_?Ke:void 0;if(ie&&!sv(rt)&&(rt=vd($,_)),sv(rt)&&(z=rt,P))return z;const Bt=n[x+1];x=P?ef(Bt):yp(Bt)}if(null!==l){let $=T?l.residualClasses:l.residualStyles;null!=$&&(z=vd($,_))}return z}function sv(n){return void 0!==n}function vx(n,l=""){const h=Zt(),_=Ai(),x=n+Dn,T=_.firstCreatePass?nu(_,x,1,l,null):_.data[x],P=bx(_,h,T,l,n);h[x]=P,Vi()&&uc(_,h,P,T),ro(T,!1)}let bx=(n,l,h,_,x)=>(or(!0),function Of(n,l){return n.createText(l)}(l[Xn],_));function z0(n){return ov("",n,""),z0}function ov(n,l,h){const _=Zt(),x=ci(_,n,l,h);return x!==Ei&&function lo(n,l,h){const _=Za(l,n);!function S_(n,l,h){n.setValue(l,h)}(n[Xn],_,h)}(_,pr(),x),ov}const vp=void 0;var Z1=["en",[["a","p"],["AM","PM"],vp],[["AM","PM"],vp,vp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vp,"{1} 'at' {0}",vp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function W1(n){const h=Math.floor(Math.abs(n)),_=n.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===_?1:5}];let Jm={};function $0(n){const l=function K1(n){return n.toLowerCase().replace(/_/g,"-")}(n);let h=q1(l);if(h)return h;const _=l.split("-")[0];if(h=q1(_),h)return h;if("en"===_)return Z1;throw new ct(701,!1)}function Px(n){return $0(n)[Qm.PluralCase]}function q1(n){return n in Jm||(Jm[n]=ji.ng&&ji.ng.common&&ji.ng.common.locales&&ji.ng.common.locales[n]),Jm[n]}var Qm=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qm||{});const e_="en-US";let Ox=e_;function ib(n,l,h,_,x){if(n=Pt(n),Array.isArray(n))for(let T=0;T<n.length;T++)ib(n[T],l,h,_,x);else{const T=Ai(),P=Zt(),z=us();let $=hc(n)?n:Pt(n.provide);const ie=Oh(n),pe=1048575&z.providerIndexes,Ae=z.directiveStart,Ke=z.providerIndexes>>20;if(hc(n)||!n.multi){const rt=new O(ie,x,Vd),Bt=sb($,l,x?pe:pe+Ke,Ae);-1===Bt?(Lt(Rt(z,P),T,$),rb(T,n,l.length),l.push($),z.directiveStart++,z.directiveEnd++,x&&(z.providerIndexes+=1048576),h.push(rt),P.push(rt)):(h[Bt]=rt,P[Bt]=rt)}else{const rt=sb($,l,pe+Ke,Ae),Bt=sb($,l,pe,pe+Ke),En=Bt>=0&&h[Bt];if(x&&!En||!x&&!(rt>=0&&h[rt])){Lt(Rt(z,P),T,$);const Jn=function ob(n,l,h,_,x){const T=new O(n,h,Vd);return T.multi=[],T.index=l,T.componentProviders=0,Qx(T,x,_&&!h),T}(x?wp:vM,h.length,x,_,ie);!x&&En&&(h[Bt].providerFactory=Jn),rb(T,n,l.length,0),l.push($),z.directiveStart++,z.directiveEnd++,x&&(z.providerIndexes+=1048576),h.push(Jn),P.push(Jn)}else rb(T,n,rt>-1?rt:Bt,Qx(h[x?Bt:rt],ie,!x&&_));!x&&_&&En&&h[Bt].componentProviders++}}}function rb(n,l,h,_){const x=hc(l),T=function hy(n){return!!n.useClass}(l);if(x||T){const $=(T?Pt(l.useClass):l).prototype.ngOnDestroy;if($){const ie=n.destroyHooks||(n.destroyHooks=[]);if(!x&&l.multi){const pe=ie.indexOf(h);-1===pe?ie.push(h,[_,$]):ie[pe+1].push(_,$)}else ie.push(h,$)}}}function Qx(n,l,h){return h&&n.componentProviders++,n.multi.push(l)-1}function sb(n,l,h,_){for(let x=h;x<_;x++)if(l[x]===n)return x;return-1}function vM(n,l,h,_){return Ag(this.multi,[])}function wp(n,l,h,_){const x=this.multi;let T;if(this.providerFactory){const P=this.providerFactory.componentProviders,z=_n(h,h[bn],this.providerFactory.index,_);T=z.slice(0,P),Ag(x,T);for(let $=P;$<z.length;$++)T.push(z[$])}else T=[],Ag(x,T);return T}function Ag(n,l){for(let h=0;h<n.length;h++)l.push((0,n[h])());return l}function Ig(n,l=[]){return h=>{h.providersResolver=(_,x)=>function yM(n,l,h){const _=Ai();if(_.firstCreatePass){const x=Co(n);ib(h,_.data,_.blueprint,x,!0),ib(l,_.data,_.blueprint,x,!1)}}(_,x?x(n):n,l)}}class Mp{}class ew{}function bM(n,l){return new ab(n,l??null,[])}class ab extends Mp{constructor(l,h,_){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pp(this);const x=sr(l);this._bootstrapComponents=_c(x.bootstrap),this._r3Injector=ng(l,h,[{provide:Mp,useValue:this},{provide:zd,useValue:this.componentFactoryResolver},..._],Ge(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class kg extends ew{constructor(l){super(),this.moduleType=l}create(l){return new ab(this.moduleType,l,[])}}class Pg extends Mp{constructor(l){super(),this.componentFactoryResolver=new pp(this),this.instance=null;const h=new Ph([...l.providers,{provide:Mp,useValue:this},{provide:zd,useValue:this.componentFactoryResolver}],l.parent||Qf(),l.debugName,new Set(["environment"]));this.injector=h,l.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function vv(n,l,h=null){return new Pg({providers:n,parent:l,debugName:h,runEnvironmentInitializers:!0}).injector}let bv=(()=>{var n;class l{constructor(_){this._injector=_,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(_){if(!_.standalone)return null;if(!this.cachedInjectors.has(_)){const x=uy(0,_.type),T=x.length>0?vv([x],this._injector,`Standalone[${_.type.name}]`):null;this.cachedInjectors.set(_,T)}return this.cachedInjectors.get(_)}ngOnDestroy(){try{for(const _ of this.cachedInjectors.values())null!==_&&_.destroy()}finally{this.cachedInjectors.clear()}}}return(n=l).\u0275prov=Yn({token:n,providedIn:"environment",factory:()=>new n(_i(kl))}),l})();function tw(n){n.getStandaloneInjector=l=>l.get(bv).getOrCreateStandaloneInjector(n)}function aw(n,l,h,_,x,T){const P=l+h;return tn(n,P,x)?function Ht(n,l,h){return n[l]=h}(n,P+1,T?_.call(T,x):_(x)):function s_(n,l){const h=n[l];return h===Ei?void 0:h}(n,P+1)}function lw(n,l){const h=Ai();let _;const x=n+Dn;h.firstCreatePass?(_=function NM(n,l){if(l)for(let h=l.length-1;h>=0;h--){const _=l[h];if(n===_.name)return _}}(l,h.pipeRegistry),h.data[x]=_,_.onDestroy&&(h.destroyHooks??=[]).push(x,_.onDestroy)):_=h.data[x];const T=_.factory||(_.factory=Ca(_.type)),z=Nr(Vd);try{const $=Le(!1),ie=T();return Le($),function Wb(n,l,h,_){h>=n.data.length&&(n.data[h]=null,n.blueprint[h]=null),l[h]=_}(h,Zt(),x,ie),ie}finally{Nr(z)}}function uw(n,l,h){const _=n+Dn,x=Zt(),T=function Rs(n,l){return n[l]}(x,_);return function a_(n,l){return n[bn].data[l].pure}(x,_)?aw(x,function Vs(){const n=hi.lFrame;let l=n.bindingRootIndex;return-1===l&&(l=n.bindingRootIndex=n.tView.bindingStartIndex),l}(),l,T.transform,h,T):T.transform(h)}function Mc(){return this._results[Symbol.iterator]()}class af{get changes(){return this._changes||(this._changes=new Jc)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=af.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=Mc)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,h){return this._results.reduce(l,h)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,h){const _=this;_.dirty=!1;const x=function $s(n){return n.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Bp(n,l,h){if(n.length!==l.length)return!1;for(let _=0;_<n.length;_++){let x=n[_],T=l[_];if(h&&(x=h(x),T=h(T)),T!==x)return!1}return!0}(_._results,x,h))&&(_._results=x,_.length=x.length,_.last=x[this.length-1],_.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fw(n,l,h,_=!0){const x=l[bn];if(function L_(n,l,h,_){const x=zr+_,T=h.length;_>0&&(h[x-1][js]=l),_<T-zr?(l[js]=h[x],jc(h,zr+_,l)):(h.push(l),l[js]=null),l[br]=h;const P=l[Ui];null!==P&&h!==P&&function lc(n,l){const h=n[ml];l[Er]!==l[br][br][Er]&&(n[ud]=!0),null===h?n[ml]=[l]:h.push(l)}(P,l);const z=l[ls];null!==z&&z.insertView(n),l[zn]|=128}(x,l,n,h),_){const T=I_(h,n),P=l[Xn],z=Rf(P,n[Ds]);null!==z&&function Jg(n,l,h,_,x,T){_[Dr]=x,_[kr]=l,Dh(n,_,h,1,x,T)}(x,n[kr],P,l,z,T)}}let l_=(()=>{class l{}return l.__NG_ELEMENT_ID__=YM,l})();const Tv=l_,jM=class extends Tv{constructor(l,h,_){super(),this._declarationLView=l,this._declarationTContainer=h,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,h){return this.createEmbeddedViewImpl(l,h)}createEmbeddedViewImpl(l,h,_){const x=function zM(n,l,h,_){const x=l.tView,z=Hd(n,x,h,4096&n[zn]?4096:16,null,l,null,null,null,_?.injector??null,_?.hydrationInfo??null);z[Ui]=n[l.index];const ie=n[ls];return null!==ie&&(z[ls]=ie.createEmbeddedView(x)),za(x,z,h),z}(this._declarationLView,this._declarationTContainer,l,{injector:h,hydrationInfo:_});return new td(x)}};function YM(){return c_(us(),Zt())}function c_(n,l){return 4&n.type?new jM(l,n,np(n,l)):null}let Og=(()=>{class l{}return l.__NG_ELEMENT_ID__=HM,l})();function HM(){return xw(us(),Zt())}const $M=Og,vw=class extends $M{constructor(l,h,_){super(),this._lContainer=l,this._hostTNode=h,this._hostLView=_}get element(){return np(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){const l=ut(this._hostTNode,this._hostLView);if(be(l)){const h=ye(l,this._hostLView),_=De(l);return new mi(h[bn].data[_+8],h)}return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const h=bw(this._lContainer);return null!==h&&h[l]||null}get length(){return this._lContainer.length-zr}createEmbeddedView(l,h,_){let x,T;"number"==typeof _?x=_:null!=_&&(x=_.index,T=_.injector);const z=l.createEmbeddedViewImpl(h||{},T,null);return this.insertImpl(z,x,false),z}createComponent(l,h,_,x,T){const P=l&&!function wl(n){return"function"==typeof n}(l);let z;if(P)z=h;else{const sn=h||{};z=sn.index,_=sn.injector,x=sn.projectableNodes,T=sn.environmentInjector||sn.ngModuleRef}const $=P?l:new qd(Pn(l)),ie=_||this.parentInjector;if(!T&&null==$.ngModule){const En=(P?ie:this.parentInjector).get(kl,null);En&&(T=En)}Pn($.componentType??{});const rt=$.create(ie,x,null,T);return this.insertImpl(rt.hostView,z,false),rt}insert(l,h){return this.insertImpl(l,h,!1)}insertImpl(l,h,_){const x=l._lView;if(function Jl(n){return qr(n[br])}(x)){const $=this.indexOf(l);if(-1!==$)this.detach($);else{const ie=x[br],pe=new vw(ie,ie[kr],ie[br]);pe.detach(pe.indexOf(l))}}const P=this._adjustIndex(h),z=this._lContainer;return fw(z,x,P,!_),l.attachToViewContainerRef(),jc(hb(z),P,l),l}move(l,h){return this.insert(l,h)}indexOf(l){const h=bw(this._lContainer);return null!==h?h.indexOf(l):-1}remove(l){const h=this._adjustIndex(l,-1),_=go(this._lContainer,h);_&&(da(hb(this._lContainer),h),Go(_[bn],_))}detach(l){const h=this._adjustIndex(l,-1),_=go(this._lContainer,h);return _&&null!=da(hb(this._lContainer),h)?new td(_):null}_adjustIndex(l,h=0){return l??this.length+h}};function bw(n){return n[8]}function hb(n){return n[8]||(n[8]=[])}function xw(n,l){let h;const _=l[n.index];return qr(_)?h=_:(h=Yy(_,l,null,n),l[n.index]=h,ru(l,h)),Lv(h,l,n,_),new vw(h,n,l)}let Lv=function fb(n,l,h,_){if(n[Ds])return;let x;x=8&h.type?nr(_):function ww(n,l){const h=n[Xn],_=h.createComment(""),x=ns(l,n);return Ra(h,Rf(h,x),_,function Yv(n,l){return n.nextSibling(l)}(h,x),!1),_}(l,h),n[Ds]=x};class Mw{constructor(l){this.queryList=l,this.matches=null}clone(){return new Mw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const h=l.queries;if(null!==h){const _=null!==l.contentQueries?l.contentQueries[0]:h.length,x=[];for(let T=0;T<_;T++){const P=h.getByIndex(T);x.push(this.queries[P.indexInDeclarationView].clone())}return new Dw(x)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let h=0;h<this.queries.length;h++)null!==Iv(l,h).matches&&this.queries[h].setDirty()}}class Av{constructor(l,h,_=null){this.predicate=l,this.flags=h,this.read=_}}class eh{constructor(l=[]){this.queries=l}elementStart(l,h){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(l,h)}elementEnd(l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(l)}embeddedTView(l){let h=null;for(let _=0;_<this.length;_++){const x=null!==h?h.length:0,T=this.getByIndex(_).embeddedTView(l,x);T&&(T.indexInDeclarationView=_,null!==h?h.push(T):h=[T])}return null!==h?new eh(h):null}template(l,h){for(let _=0;_<this.queries.length;_++)this.queries[_].template(l,h)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Ew{constructor(l,h=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(l,h){this.isApplyingToNode(h)&&this.matchTNode(l,h)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,h){this.elementStart(l,h)}embeddedTView(l,h){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,h),new Ew(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let _=l.parent;for(;null!==_&&8&_.type&&_.index!==h;)_=_.parent;return h===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(l,h){const _=this.metadata.predicate;if(Array.isArray(_))for(let x=0;x<_.length;x++){const T=_[x];this.matchTNodeWithReadOption(l,h,u_(h,T)),this.matchTNodeWithReadOption(l,h,Wn(h,l,T,!1,!1))}else _===l_?4&h.type&&this.matchTNodeWithReadOption(l,h,-1):this.matchTNodeWithReadOption(l,h,Wn(h,l,_,!1,!1))}matchTNodeWithReadOption(l,h,_){if(null!==_){const x=this.metadata.read;if(null!==x)if(x===ip||x===Og||x===l_&&4&h.type)this.addMatch(h.index,-2);else{const T=Wn(h,l,x,!1,!1);null!==T&&this.addMatch(h.index,T)}else this.addMatch(h.index,_)}}addMatch(l,h){null===this.matches?this.matches=[l,h]:this.matches.push(l,h)}}function u_(n,l){const h=n.localNames;if(null!==h)for(let _=0;_<h.length;_+=2)if(h[_]===l)return h[_+1];return null}function SE(n,l,h,_){return-1===h?function Tw(n,l){return 11&n.type?np(n,l):4&n.type?c_(n,l):null}(l,n):-2===h?function Rg(n,l,h){return h===ip?np(l,n):h===l_?c_(l,n):h===Og?xw(l,n):void 0}(n,l,_):_n(n,n[bn],h,l)}function Sw(n,l,h,_){const x=l[ls].queries[_];if(null===x.matches){const T=n.data,P=h.matches,z=[];for(let $=0;$<P.length;$+=2){const ie=P[$];z.push(ie<0?null:SE(l,T[ie],P[$+1],h.metadata.read))}x.matches=z}return x.matches}function Dp(n,l,h,_){const x=n.queries.getByIndex(h),T=x.matches;if(null!==T){const P=Sw(n,l,x,h);for(let z=0;z<T.length;z+=2){const $=T[z];if($>0)_.push(P[z/2]);else{const ie=T[z+1],pe=l[-$];for(let Ae=zr;Ae<pe.length;Ae++){const Ke=pe[Ae];Ke[Ui]===Ke[br]&&Dp(Ke[bn],Ke,ie,_)}if(null!==pe[ml]){const Ae=pe[ml];for(let Ke=0;Ke<Ae.length;Ke++){const rt=Ae[Ke];Dp(rt[bn],rt,ie,_)}}}}}return _}function Fg(n){const l=Zt(),h=Ai(),_=vf();so(_+1);const x=Iv(h,_);if(n.dirty&&function Pc(n){return 4==(4&n[zn])}(l)===(2==(2&x.metadata.flags))){if(null===x.matches)n.reset([]);else{const T=x.crossesNgTemplate?Dp(h,l,_,[]):Sw(h,l,x,_);n.reset(T,r0),n.notifyOnChanges()}return!0}return!1}function Cw(n,l,h,_){const x=Ai();if(x.firstCreatePass){const T=us();(function ZM(n,l,h){null===n.queries&&(n.queries=new eh),n.queries.track(new Ew(l,h))})(x,new Av(l,h,_),T.index),function CE(n,l){const h=n.contentQueries||(n.contentQueries=[]);l!==(h.length?h[h.length-1]:-1)&&h.push(n.queries.length-1,l)}(x,n),2==(2&h)&&(x.staticContentQueries=!0)}!function Lw(n,l,h){const _=new af(4==(4&h));(function f0(n,l,h,_){const x=Xu(l);x.push(h),n.firstCreatePass&&hp(n).push(_,x.length-1)})(n,l,_,_.destroy),null===l[ls]&&(l[ls]=new Dw),l[ls].queries.push(new Mw(_))}(x,Zt(),h)}function WM(){return function pb(n,l){return n[ls].queries[l].queryList}(Zt(),vf())}function Iv(n,l){return n.queries.getByIndex(l)}function _b(n){return!!sr(n)}const Rw=new ar("Application Initializer");let Fw=(()=>{var n;class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,x)=>{this.resolve=_,this.reject=x}),this.appInits=vi(Rw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const _=[];for(const T of this.appInits){const P=T();if(xg(P))_.push(P);else if(wg(P)){const z=new Promise(($,ie)=>{P.subscribe({complete:$,error:ie})});_.push(z)}}const x=()=>{this.done=!0,this.resolve()};Promise.all(_).then(()=>{x()}).catch(T=>{this.reject(T)}),0===_.length&&x(),this.initialized=!0}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"root"}),l})(),uD=(()=>{var n;class l{log(_){console.log(_)}warn(_){console.warn(_)}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"platform"}),l})();const yb=new ar("LocaleId",{providedIn:"root",factory:()=>vi(yb,Kn.Optional|Kn.SkipSelf)||function KE(){return typeof $localize<"u"&&$localize.locale||e_}()}),XE=new ar("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let dD=(()=>{var n;class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new F.X(!1)}add(){this.hasPendingTasks.next(!0);const _=this.taskId++;return this.pendingTasks.add(_),_}remove(_){this.pendingTasks.delete(_),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"root"}),l})();class QE{constructor(l,h){this.ngModuleFactory=l,this.componentFactories=h}}let eT=(()=>{var n;class l{compileModuleSync(_){return new kg(_)}compileModuleAsync(_){return Promise.resolve(this.compileModuleSync(_))}compileModuleAndAllComponentsSync(_){const x=this.compileModuleSync(_),P=_c(sr(_).declarations).reduce((z,$)=>{const ie=Pn($);return ie&&z.push(new qd(ie)),z},[]);return new QE(x,P)}compileModuleAndAllComponentsAsync(_){return Promise.resolve(this.compileModuleAndAllComponentsSync(_))}clearCache(){}clearCacheFor(_){}getModuleId(_){}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"root"}),l})();const mD=new ar(""),_D=new ar("");let zw,bT=(()=>{var n;class l{constructor(_,x,T){this._ngZone=_,this.registry=x,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zw||(function xT(n){zw=n}(T),T.addToWindow(x)),this._watchAngularEvents(),_.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let _=this._callbacks.pop();clearTimeout(_.timeoutId),_.doneCb(this._didWork)}this._didWork=!1});else{let _=this.getPendingTasks();this._callbacks=this._callbacks.filter(x=>!x.updateCb||!x.updateCb(_)||(clearTimeout(x.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(_=>({source:_.source,creationLocation:_.creationLocation,data:_.data})):[]}addCallback(_,x,T){let P=-1;x&&x>0&&(P=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==P),_(this._didWork,this.getPendingTasks())},x)),this._callbacks.push({doneCb:_,timeoutId:P,updateCb:T})}whenStable(_,x,T){if(T&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(_,x,T),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(_){this.registry.registerApplication(_,this)}unregisterApplication(_){this.registry.unregisterApplication(_)}findProviders(_,x,T){return[]}}return(n=l).\u0275fac=function(_){return new(_||n)(_i(bs),_i(gD),_i(_D))},n.\u0275prov=Yn({token:n,factory:n.\u0275fac}),l})(),gD=(()=>{var n;class l{constructor(){this._applications=new Map}registerApplication(_,x){this._applications.set(_,x)}unregisterApplication(_){this._applications.delete(_)}unregisterAllApplications(){this._applications.clear()}getTestability(_){return this._applications.get(_)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(_,x=!0){return zw?.findTestabilityInTree(this,_,x)??null}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"platform"}),l})(),Tp=null;const yD=new ar("AllowMultipleToken"),jw=new ar("PlatformDestroyListeners"),Yw=new ar("appBootstrapListener");class MT{constructor(l,h){this.name=l,this.token=h}}function qs(n,l,h=[]){const _=`Platform: ${l}`,x=new ar(_);return(T=[])=>{let P=wb();if(!P||P.injector.get(yD,!1)){const z=[...h,...T,{provide:x,useValue:!0}];n?n(z):function DT(n){if(Tp&&!Tp.get(yD,!1))throw new ct(400,!1);(function vD(){!function Gl(n){Ac=n}(()=>{throw new ct(600,!1)})})(),Tp=n;const l=n.get(wD);(function Uw(n){n.get(ep,null)?.forEach(h=>h())})(n)}(function xD(n=[],l){return rl.create({name:l,providers:[{provide:hm,useValue:"platform"},{provide:jw,useValue:new Set([()=>Tp=null])},...n]})}(z,_))}return function xb(n){const l=wb();if(!l)throw new ct(401,!1);return l}()}}function wb(){return Tp?.get(wD)??null}let wD=(()=>{var n;class l{constructor(_){this._injector=_,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(_,x){const T=function Sp(n="zone.js",l){return"noop"===n?new km:"zone.js"===n?new bs(l):n}(x?.ngZone,function Mb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:x?.ngZoneEventCoalescing,runCoalescing:x?.ngZoneRunCoalescing}));return T.run(()=>{const P=function xM(n,l,h){return new ab(n,l,h)}(_.moduleType,this.injector,function Eb(n){return[{provide:bs,useFactory:n},{provide:kh,multi:!0,useFactory:()=>{const l=vi(ST,{optional:!0});return()=>l.initialize()}},{provide:MD,useFactory:$w},{provide:ag,useFactory:sp}]}(()=>T)),z=P.injector.get(Ol,null);return T.runOutsideAngular(()=>{const $=T.onError.subscribe({next:ie=>{z.handleError(ie)}});P.onDestroy(()=>{Ov(this._modules,P),$.unsubscribe()})}),function Vw(n,l,h){try{const _=h();return xg(_)?_.catch(x=>{throw l.runOutsideAngular(()=>n.handleError(x)),x}):_}catch(_){throw l.runOutsideAngular(()=>n.handleError(_)),_}}(z,T,()=>{const $=P.injector.get(Fw);return $.runInitializers(),$.donePromise.then(()=>(function Rx(n){Tt(n,"Expected localeId to be defined"),"string"==typeof n&&(Ox=n.toLowerCase().replace(/_/g,"-"))}(P.injector.get(yb,e_)||e_),this._moduleDoBootstrap(P),P))})})}bootstrapModule(_,x=[]){const T=Hw({},x);return function wT(n,l,h){const _=new kg(h);return Promise.resolve(_)}(0,0,_).then(P=>this.bootstrapModuleFactory(P,T))}_moduleDoBootstrap(_){const x=_.injector.get(d_);if(_._bootstrapComponents.length>0)_._bootstrapComponents.forEach(T=>x.bootstrap(T));else{if(!_.instance.ngDoBootstrap)throw new ct(-403,!1);_.instance.ngDoBootstrap(x)}this._modules.push(_)}onDestroy(_){this._destroyListeners.push(_)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(x=>x.destroy()),this._destroyListeners.forEach(x=>x());const _=this._injector.get(jw,null);_&&(_.forEach(x=>x()),_.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(n=l).\u0275fac=function(_){return new(_||n)(_i(rl))},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"platform"}),l})();function Hw(n,l){return Array.isArray(l)?l.reduce(Hw,n):{...n,...l}}let d_=(()=>{var n;class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vi(MD),this.zoneIsStable=vi(ag),this.componentTypes=[],this.components=[],this.isStable=vi(dD).hasPendingTasks.pipe((0,ae.w)(_=>_?(0,J.of)(!1):this.zoneIsStable),(0,de.x)(),(0,ee.B)()),this._injector=vi(kl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(_,x){const T=_ instanceof vy;if(!this._injector.get(Fw).done)throw!T&&no(_),new ct(405,!1);let z;z=T?_:this._injector.get(zd).resolveComponentFactory(_),this.componentTypes.push(z.componentType);const $=function bD(n){return n.isBoundToModule}(z)?void 0:this._injector.get(Mp),pe=z.create(rl.NULL,[],x||z.selector,$),Ae=pe.location.nativeElement,Ke=pe.injector.get(mD,null);return Ke?.registerApplication(Ae),pe.onDestroy(()=>{this.detachView(pe.hostView),Ov(this.components,pe),Ke?.unregisterApplication(Ae)}),this._loadComponent(pe),pe}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let _ of this._views)_.detectChanges()}catch(_){this.internalErrorHandler(_)}finally{this._runningTick=!1}}attachView(_){const x=_;this._views.push(x),x.attachToAppRef(this)}detachView(_){const x=_;Ov(this._views,x),x.detachFromAppRef()}_loadComponent(_){this.attachView(_.hostView),this.tick(),this.components.push(_);const x=this._injector.get(Yw,[]);x.push(...this._bootstrapListeners),x.forEach(T=>T(_))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(_=>_()),this._views.slice().forEach(_=>_.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(_){return this._destroyListeners.push(_),()=>Ov(this._destroyListeners,_)}destroy(){if(this._destroyed)throw new ct(406,!1);const _=this._injector;_.destroy&&!_.destroyed&&_.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"root"}),l})();function Ov(n,l){const h=n.indexOf(l);h>-1&&n.splice(h,1)}const MD=new ar("",{providedIn:"root",factory:()=>vi(Ol).handleError.bind(void 0)});function $w(){const n=vi(bs),l=vi(Ol);return h=>n.runOutsideAngular(()=>l.handleError(h))}let ST=(()=>{var n;class l{constructor(){this.zone=vi(bs),this.applicationRef=vi(d_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(n=l).\u0275fac=function(_){return new(_||n)},n.\u0275prov=Yn({token:n,factory:n.\u0275fac,providedIn:"root"}),l})();function DD(){return!1}let AT=(()=>{class l{}return l.__NG_ELEMENT_ID__=IT,l})();function IT(n){return function kT(n,l,h){if(Sa(n)&&!h){const _=cs(n.index,l);return new td(_,_)}return 47&n.type?new td(l[Er],l):null}(us(),Zt(),16==(16&n))}class AD{constructor(){}supports(l){return Gt(l)}create(l){return new ID(l)}}const OT=(n,l)=>l;class ID{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||OT}forEachItem(l){let h;for(h=this._itHead;null!==h;h=h._next)l(h)}forEachOperation(l){let h=this._itHead,_=this._removalsHead,x=0,T=null;for(;h||_;){const P=!_||h&&h.currentIndex<OD(_,x,T)?h:_,z=OD(P,x,T),$=P.currentIndex;if(P===_)x--,_=_._nextRemoved;else if(h=h._next,null==P.previousIndex)x++;else{T||(T=[]);const ie=z-x,pe=$-x;if(ie!=pe){for(let Ke=0;Ke<ie;Ke++){const rt=Ke<T.length?T[Ke]:T[Ke]=0,Bt=rt+Ke;pe<=Bt&&Bt<ie&&(T[Ke]=rt+1)}T[P.previousIndex]=pe-ie}}z!==$&&l(P,z,$)}}forEachPreviousItem(l){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachMovedItem(l){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}forEachIdentityChange(l){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)l(h)}diff(l){if(null==l&&(l=[]),!Gt(l))throw new ct(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let x,T,P,h=this._itHead,_=!1;if(Array.isArray(l)){this.length=l.length;for(let z=0;z<this.length;z++)T=l[z],P=this._trackByFn(z,T),null!==h&&Object.is(h.trackById,P)?(_&&(h=this._verifyReinsertion(h,T,P,z)),Object.is(h.item,T)||this._addIdentityChange(h,T)):(h=this._mismatch(h,T,P,z),_=!0),h=h._next}else x=0,function kt(n,l){if(Array.isArray(n))for(let h=0;h<n.length;h++)l(n[h]);else{const h=n[Symbol.iterator]();let _;for(;!(_=h.next()).done;)l(_.value)}}(l,z=>{P=this._trackByFn(x,z),null!==h&&Object.is(h.trackById,P)?(_&&(h=this._verifyReinsertion(h,z,P,x)),Object.is(h.item,z)||this._addIdentityChange(h,z)):(h=this._mismatch(h,z,P,x),_=!0),h=h._next,x++}),this.length=x;return this._truncate(h),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,h,_,x){let T;return null===l?T=this._itTail:(T=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._reinsertAfter(l,T,x)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(_,x))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._moveAfter(l,T,x)):l=this._addAfter(new kD(h,_),T,x),l}_verifyReinsertion(l,h,_,x){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==T?l=this._reinsertAfter(T,l._prev,x):l.currentIndex!=x&&(l.currentIndex=x,this._addToMoves(l,x)),l}_truncate(l){for(;null!==l;){const h=l._next;this._addToRemovals(this._unlink(l)),l=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,h,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const x=l._prevRemoved,T=l._nextRemoved;return null===x?this._removalsHead=T:x._nextRemoved=T,null===T?this._removalsTail=x:T._prevRemoved=x,this._insertAfter(l,h,_),this._addToMoves(l,_),l}_moveAfter(l,h,_){return this._unlink(l),this._insertAfter(l,h,_),this._addToMoves(l,_),l}_addAfter(l,h,_){return this._insertAfter(l,h,_),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,h,_){const x=null===h?this._itHead:h._next;return l._next=x,l._prev=h,null===x?this._itTail=l:x._prev=l,null===h?this._itHead=l:h._next=l,null===this._linkedRecords&&(this._linkedRecords=new PD),this._linkedRecords.put(l),l.currentIndex=_,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const h=l._prev,_=l._next;return null===h?this._itHead=_:h._next=_,null===_?this._itTail=h:_._prev=h,l}_addToMoves(l,h){return l.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,h){return l.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class kD{constructor(l,h){this.item=l,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RT{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,h){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===h||h<=_.currentIndex)&&Object.is(_.trackById,l))return _;return null}remove(l){const h=l._prevDup,_=l._nextDup;return null===h?this._head=_:h._nextDup=_,null===_?this._tail=h:_._prevDup=h,null===this._head}}class PD{constructor(){this.map=new Map}put(l){const h=l.trackById;let _=this.map.get(h);_||(_=new RT,this.map.set(h,_)),_.add(l)}get(l,h){const x=this.map.get(l);return x?x.get(l,h):null}remove(l){const h=l.trackById;return this.map.get(h).remove(l)&&this.map.delete(h),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OD(n,l,h){const _=n.previousIndex;if(null===_)return _;let x=0;return h&&_<h.length&&(x=h[_]),_+l+x}class RD{constructor(){}supports(l){return l instanceof Map||It(l)}create(){return new FT}}class FT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let h;for(h=this._mapHead;null!==h;h=h._next)l(h)}forEachPreviousItem(l){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)l(h)}forEachChangedItem(l){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}diff(l){if(l){if(!(l instanceof Map||It(l)))throw new ct(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(l,(_,x)=>{if(h&&h.key===x)this._maybeAddToChanges(h,_),this._appendAfter=h,h=h._next;else{const T=this._getOrCreateRecordForKey(x,_);h=this._insertBeforeOrAppend(h,T)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let _=h;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,h){if(l){const _=l._prev;return h._next=l,h._prev=_,l._prev=h,_&&(_._next=h),l===this._mapHead&&(this._mapHead=h),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(l,h){if(this._records.has(l)){const x=this._records.get(l);this._maybeAddToChanges(x,h);const T=x._prev,P=x._next;return T&&(T._next=P),P&&(P._prev=T),x._next=null,x._prev=null,x}const _=new NT(l);return this._records.set(l,_),_.currentValue=h,this._addToAdditions(_),_}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,h){Object.is(h,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=h,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,h){l instanceof Map?l.forEach(h):Object.keys(l).forEach(_=>h(l[_],_))}}class NT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xw(){return new Jw([new AD])}let Jw=(()=>{var n;class l{constructor(_){this.factories=_}static create(_,x){if(null!=x){const T=x.factories.slice();_=_.concat(T)}return new l(_)}static extend(_){return{provide:l,useFactory:x=>l.create(_,x||Xw()),deps:[[l,new Lf,new Cf]]}}find(_){const x=this.factories.find(T=>T.supports(_));if(null!=x)return x;throw new ct(901,!1)}}return(n=l).\u0275prov=Yn({token:n,providedIn:"root",factory:Xw}),l})();function FD(){return new Qw([new RD])}let Qw=(()=>{var n;class l{constructor(_){this.factories=_}static create(_,x){if(x){const T=x.factories.slice();_=_.concat(T)}return new l(_)}static extend(_){return{provide:l,useFactory:x=>l.create(_,x||FD()),deps:[[l,new Lf,new Cf]]}}find(_){const x=this.factories.find(T=>T.supports(_));if(x)return x;throw new ct(901,!1)}}return(n=l).\u0275prov=Yn({token:n,providedIn:"root",factory:FD}),l})();const e1=qs(null,"core",[]);let t1=(()=>{var n;class l{constructor(_){}}return(n=l).\u0275fac=function(_){return new(_||n)(_i(d_))},n.\u0275mod=Kt({type:n}),n.\u0275inj=Ji({}),l})();function h_(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function KT(n){const l=Pn(n);if(!l)return null;const h=new qd(l);return{get selector(){return h.selector},get type(){return h.componentType},get inputs(){return h.inputs},get outputs(){return h.outputs},get ngContentSelectors(){return h.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}},1993:(xe,_e,G)=>{"use strict";G.d(_e,{O4:()=>mt});var y=G(5879);class J extends Error{constructor(Tt,wt){super(function ee(Et,Tt){return`NG0${Math.abs(Et)}${Tt?": "+Tt:""}`}(Tt,wt)),this.code=Tt}}function mt(Et,Tt){const wt=!Tt?.manualCleanup;wt&&!Tt?.injector&&(0,y.gHi)(mt);const vn=wt?Tt?.injector?.get(y.ktI)??(0,y.f3M)(y.ktI):null;let Sn;Sn=(0,y.tdS)(Tt?.requireSync?{kind:0}:{kind:1,value:Tt?.initialValue});const Mi=Et.subscribe({next:Yn=>Sn.set({kind:1,value:Yn}),error:Yn=>Sn.set({kind:2,error:Yn})});return vn?.onDestroy(Mi.unsubscribe.bind(Mi)),(0,y.Flj)(()=>{const Yn=Sn();switch(Yn.kind){case 1:return Yn.value;case 2:throw Yn.error;case 0:throw new J(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}globalThis},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(_e,G){if(this.action=_e,this.timestamp=G,this.type=PERFORM_ACTION,typeof _e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(_e){this.timestamp=_e,this.type=RESET}}class Rollback{constructor(_e){this.timestamp=_e,this.type=ROLLBACK}}class Commit{constructor(_e){this.timestamp=_e,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(_e){this.id=_e,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(_e,G,y=!0){this.start=_e,this.end=G,this.active=y,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(_e){this.index=_e,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(_e){this.actionId=_e,this.type=JUMP_TO_ACTION}}class ImportState{constructor(_e){this.nextLiftedState=_e,this.type=IMPORT_STATE}}class LockChanges{constructor(_e){this.status=_e,this.type=LOCK_CHANGES}}class PauseRecording{constructor(_e){this.status=_e,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(xe){const _e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectOutsideZone:!1},G="function"==typeof xe?xe():xe,R=G.features||!!G.logOnly&&{pause:!0,export:!0,test:!0}||_e.features;!0===R.import&&(R.import="custom");const U=Object.assign({},_e,{features:R},G);if(U.maxAge&&U.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${U.maxAge}`);return U}function difference(xe,_e){return xe.filter(G=>_e.indexOf(G)<0)}function unliftState(xe){const{computedStates:_e,currentStateIndex:G}=xe;if(G>=_e.length){const{state:R}=_e[_e.length-1];return R}const{state:y}=_e[G];return y}function unliftAction(xe){return xe.actionsById[xe.nextActionId-1]}function liftAction(xe){return new PerformAction(xe,+Date.now())}function sanitizeActions(xe,_e){return Object.keys(_e).reduce((G,y)=>{const R=Number(y);return G[R]=sanitizeAction(xe,_e[R],R),G},{})}function sanitizeAction(xe,_e,G){return{..._e,action:xe(_e.action,G)}}function sanitizeStates(xe,_e){return _e.map((G,y)=>({state:sanitizeState(xe,G.state,y),error:G.error}))}function sanitizeState(xe,_e,G){return xe(_e,G)}function shouldFilterActions(xe){return xe.predicate||xe.actionsSafelist||xe.actionsBlocklist}function filterLiftedState(xe,_e,G,y){const R=[],U={},u=[];return xe.stagedActionIds.forEach((F,J)=>{const ee=xe.actionsById[F];ee&&(J&&isActionFiltered(xe.computedStates[J],ee,_e,G,y)||(U[F]=ee,R.push(F),u.push(xe.computedStates[J])))}),{...xe,stagedActionIds:R,actionsById:U,computedStates:u}}function isActionFiltered(xe,_e,G,y,R){const U=G&&!G(xe,_e.action),u=y&&!_e.action.type.match(y.map(J=>escapeRegExp(J)).join("|")),F=R&&_e.action.type.match(R.map(J=>escapeRegExp(J)).join("|"));return U||u||F}function escapeRegExp(xe){return xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(xe){return{ngZone:xe?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectOutsideZone:xe}}let DevtoolsDispatcher=(()=>{var xe;class _e extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return(xe=_e).\u0275fac=function(){let G;return function(R){return(G||(G=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(xe)))(R||xe)}}(),xe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:xe,factory:xe.\u0275fac}),_e})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{var _class2;class DevtoolsExtension{constructor(xe,_e,G){this.config=_e,this.dispatcher=G,this.zoneConfig=injectZoneConfig(this.config.connectOutsideZone),this.devtoolsExtension=xe,this.createActionStreams()}notify(xe,_e){if(this.devtoolsExtension)if(xe.type===PERFORM_ACTION){if(_e.isLocked||_e.isPaused)return;const G=unliftState(_e);if(shouldFilterActions(this.config)&&isActionFiltered(G,xe,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const y=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,G,_e.currentStateIndex):G,R=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,xe,_e.nextActionId):xe;this.sendToReduxDevtools(()=>this.extensionConnection.send(R,y))}else{const G={..._e,stagedActionIds:_e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,_e.actionsById):_e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,_e.computedStates):_e.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,G,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(xe=>{const _e=this.zoneConfig.connectOutsideZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=_e,_e.init(),_e.subscribe(G=>xe.next(G)),_e.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const xe=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),_e=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.START)),G=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.STOP)),y=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(F=>this.unwrapAction(F.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(F=>F.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(J=>J.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>F),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(F)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(F))),U=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(F=>this.unwrapAction(F.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(G)),u=y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(G));this.start$=_e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(G)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>U)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>u))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(xe){const _e={name:xe.name,features:xe.features,serialize:xe.serialize,autoPause:xe.autoPause??!1,trace:xe.trace??!1,traceLimit:xe.traceLimit??75};return!1!==xe.maxAge&&(_e.maxAge=xe.maxAge),_e}sendToReduxDevtools(xe){try{xe()}catch(_e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",_e)}}}return _class2=DevtoolsExtension,_class2.\u0275fac=function xe(_e){return new(_e||_class2)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},_class2.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:_class2,factory:_class2.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(xe,_e,G,y,R){if(y)return{state:G,error:"Interrupted by an error up the chain"};let u,U=G;try{U=xe(G,_e)}catch(F){u=F.toString(),R.handleError(F)}return{state:U,error:u}}function recomputeStates(xe,_e,G,y,R,U,u,F,J){if(_e>=xe.length&&xe.length===U.length)return xe;const ee=xe.slice(0,_e),ae=U.length-(J?1:0);for(let de=_e;de<ae;de++){const Me=U[de],Fe=R[Me].action,Ge=ee[de-1],ht=Ge?Ge.state:y,Xt=Ge?Ge.error:void 0,Pt=u.indexOf(Me)>-1?Ge:computeNextEntry(G,Fe,ht,Xt,F);ee.push(Pt)}return J&&ee.push(xe[xe.length-1]),ee}function liftInitialState(xe,_e){return{monitorState:_e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:xe,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(xe,_e,G,y,R={}){return U=>(u,F)=>{let{monitorState:J,actionsById:ee,nextActionId:ae,stagedActionIds:de,skippedActionIds:Me,committedState:Fe,currentStateIndex:Ge,computedStates:ht,isLocked:Xt,isPaused:_t}=u||_e;function Pt(Fn){let Mn=Fn,ct=de.slice(1,Mn+1);for(let qe=0;qe<ct.length;qe++){if(ht[qe+1].error){Mn=qe,ct=de.slice(1,Mn+1);break}delete ee[ct[qe]]}Me=Me.filter(qe=>-1===ct.indexOf(qe)),de=[0,...de.slice(Mn+1)],Fe=ht[Mn].state,ht=ht.slice(Mn),Ge=Ge>Mn?Ge-Mn:0}function An(){ee={0:liftAction(INIT_ACTION)},ae=1,de=[0],Me=[],Fe=ht[Ge].state,Ge=0,ht=[]}u||(ee=Object.create(ee));let pn=0;switch(F.type){case LOCK_CHANGES:Xt=F.status,pn=1/0;break;case PAUSE_RECORDING:_t=F.status,_t?(de=[...de,ae],ee[ae]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ae++,pn=de.length-1,ht=ht.concat(ht[ht.length-1]),Ge===de.length-2&&Ge++,pn=1/0):An();break;case RESET:ee={0:liftAction(INIT_ACTION)},ae=1,de=[0],Me=[],Fe=xe,Ge=0,ht=[];break;case COMMIT:An();break;case ROLLBACK:ee={0:liftAction(INIT_ACTION)},ae=1,de=[0],Me=[],Ge=0,ht=[];break;case TOGGLE_ACTION:{const{id:Fn}=F;Me=-1===Me.indexOf(Fn)?[Fn,...Me]:Me.filter(ct=>ct!==Fn),pn=de.indexOf(Fn);break}case SET_ACTIONS_ACTIVE:{const{start:Fn,end:Mn,active:ct}=F,qe=[];for(let zt=Fn;zt<Mn;zt++)qe.push(zt);Me=ct?difference(Me,qe):[...Me,...qe],pn=de.indexOf(Fn);break}case JUMP_TO_STATE:Ge=F.index,pn=1/0;break;case JUMP_TO_ACTION:{const Fn=de.indexOf(F.actionId);-1!==Fn&&(Ge=Fn),pn=1/0;break}case SWEEP:de=difference(de,Me),Me=[],Ge=Math.min(Ge,de.length-1);break;case PERFORM_ACTION:{if(Xt)return u||_e;if(_t||u&&isActionFiltered(u.computedStates[Ge],F,R.predicate,R.actionsSafelist,R.actionsBlocklist)){const Mn=ht[ht.length-1];ht=[...ht.slice(0,-1),computeNextEntry(U,F.action,Mn.state,Mn.error,G)],pn=1/0;break}R.maxAge&&de.length===R.maxAge&&Pt(1),Ge===de.length-1&&Ge++;const Fn=ae++;ee[Fn]=F,de=[...de,Fn],pn=de.length-1;break}case IMPORT_STATE:({monitorState:J,actionsById:ee,nextActionId:ae,stagedActionIds:de,skippedActionIds:Me,committedState:Fe,currentStateIndex:Ge,computedStates:ht,isLocked:Xt,isPaused:_t}=F.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:pn=0,R.maxAge&&de.length>R.maxAge&&(ht=recomputeStates(ht,pn,U,Fe,ee,de,Me,G,_t),Pt(de.length-R.maxAge),pn=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ht.filter(Mn=>Mn.error).length>0)pn=0,R.maxAge&&de.length>R.maxAge&&(ht=recomputeStates(ht,pn,U,Fe,ee,de,Me,G,_t),Pt(de.length-R.maxAge),pn=1/0);else{if(!_t&&!Xt){Ge===de.length-1&&Ge++;const Mn=ae++;ee[Mn]=new PerformAction(F,+Date.now()),de=[...de,Mn],pn=de.length-1,ht=recomputeStates(ht,pn,U,Fe,ee,de,Me,G,_t)}ht=ht.map(Mn=>({...Mn,state:U(Mn.state,RECOMPUTE_ACTION)})),Ge=de.length-1,R.maxAge&&de.length>R.maxAge&&Pt(de.length-R.maxAge),pn=1/0}break;default:pn=1/0}return ht=recomputeStates(ht,pn,U,Fe,ee,de,Me,G,_t),J=y(J,F),{monitorState:J,actionsById:ee,nextActionId:ae,stagedActionIds:de,skippedActionIds:Me,committedState:Fe,currentStateIndex:Ge,computedStates:ht,isLocked:Xt,isPaused:_t}}}let StoreDevtools=(()=>{var xe;class _e{constructor(y,R,U,u,F,J,ee,ae){const de=liftInitialState(ee,ae.monitor),Me=liftReducerWith(ee,de,J,ae.monitor,ae),Fe=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(R.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),u.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),y,u.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),Ge=U.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Me)),ht=injectZoneConfig(ae.connectOutsideZone),Xt=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=Fe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(Ge),emitInZone(ht),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:An},[pn,Fn])=>{let Mn=Fn(An,pn);return pn.type!==PERFORM_ACTION&&shouldFilterActions(ae)&&(Mn=filterLiftedState(Mn,ae.predicate,ae.actionsSafelist,ae.actionsBlocklist)),u.notify(pn,Mn),{state:Mn,action:pn}},{state:de,action:null})).subscribe(({state:An,action:pn})=>{Xt.next(An),pn.type===PERFORM_ACTION&&F.next(pn.action)}),this.extensionStartSubscription=u.start$.pipe(emitInZone(ht)).subscribe(()=>{this.refresh()});const _t=Xt.asObservable(),Pt=_t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(Pt,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(Pt,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=y,this.liftedState=_t,this.state=Pt}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(y){this.dispatcher.next(y)}next(y){this.dispatcher.next(y)}error(y){}complete(){}performAction(y){this.dispatch(new PerformAction(y,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(y){this.dispatch(new ToggleAction(y))}jumpToAction(y){this.dispatch(new JumpToAction(y))}jumpToState(y){this.dispatch(new JumpToState(y))}importState(y){this.dispatch(new ImportState(y))}lockChanges(y){this.dispatch(new LockChanges(y))}pauseRecording(y){this.dispatch(new PauseRecording(y))}}return(xe=_e).\u0275fac=function(y){return new(y||xe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},xe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:xe,factory:xe.\u0275fac}),_e})();function emitInZone({ngZone:xe,connectOutsideZone:_e}){return G=>_e?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(y=>G.subscribe({next:R=>xe.run(()=>y.next(R)),error:R=>xe.run(()=>y.error(R)),complete:()=>xe.run(()=>y.complete())})):G}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(xe,_e){return!!xe||_e.monitor!==noMonitor}function createReduxDevtoolsExtension(){const xe="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[xe]<"u"?window[xe]:null}function provideStoreDevtools(xe={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:xe},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(xe){return xe.state}let StoreDevtoolsModule=(()=>{var xe;class _e{static instrument(y={}){return{ngModule:_e,providers:[provideStoreDevtools(y)]}}}return(xe=_e).\u0275fac=function(y){return new(y||xe)},xe.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:xe}),xe.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),_e})()},4221:(xe,_e,G)=>{"use strict";G.d(_e,{UO:()=>rn,qg:()=>Nt,Y6:()=>ws,mK:()=>yr,n$:()=>Ki,Y$:()=>bi,FR:()=>vr,yh:()=>Qs,CK:()=>zo,Aw:()=>Ms,cr:()=>Bo,wb:()=>wa,PH:()=>_t,ZF:()=>Zn,Lq:()=>to,P1:()=>_i,on:()=>Yi,Ky:()=>Pt});var y=G(5879),R=G(5619),U=G(5592),u=G(8645),F=G(2381),J=G(3093),ee=G(2460),ae=G(6699),de=G(7398),Fe=G(3997),Ge=G(1993);const ht={};function _t(Ie,pt){if(ht[Ie]=(ht[Ie]||0)+1,"function"==typeof pt)return pn(Ie,(...nt)=>({...pt(...nt),type:Ie}));switch(pt?pt._as:"empty"){case"empty":return pn(Ie,()=>({type:Ie}));case"props":return pn(Ie,nt=>({...nt,type:Ie}));default:throw new Error("Unexpected config.")}}function Pt(){return{_as:"props",_p:void 0}}function pn(Ie,pt){return Object.defineProperty(pt,"type",{value:Ie,writable:!1})}const Nt="@ngrx/store/init";let rn=(()=>{var Ie;class pt extends R.X{constructor(){super({type:Nt})}next(nt){if("function"==typeof nt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof nt>"u")throw new TypeError("Actions must be objects");if(typeof nt.type>"u")throw new TypeError("Actions must have a type property");super.next(nt)}complete(){}ngOnDestroy(){super.complete()}}return(Ie=pt).\u0275fac=function(nt){return new(nt||Ie)},Ie.\u0275prov=y.Yz7({token:Ie,factory:Ie.\u0275fac}),pt})();const wi=[rn],fi=new y.OlP("@ngrx/store Internal Root Guard"),_r=new y.OlP("@ngrx/store Internal Initial State"),ws=new y.OlP("@ngrx/store Initial State"),ei=new y.OlP("@ngrx/store Reducer Factory"),co=new y.OlP("@ngrx/store Internal Reducer Factory Provider"),zi=new y.OlP("@ngrx/store Initial Reducers"),Mr=new y.OlP("@ngrx/store Internal Initial Reducers"),es=new y.OlP("@ngrx/store Store Features"),dt=new y.OlP("@ngrx/store Internal Store Reducers"),gt=new y.OlP("@ngrx/store Internal Feature Reducers"),At=new y.OlP("@ngrx/store Internal Feature Configs"),St=new y.OlP("@ngrx/store Internal Store Features"),mt=new y.OlP("@ngrx/store Internal Feature Reducers Token"),Et=new y.OlP("@ngrx/store Feature Reducers"),Tt=new y.OlP("@ngrx/store User Provided Meta Reducers"),wt=new y.OlP("@ngrx/store Meta Reducers"),vn=new y.OlP("@ngrx/store Internal Resolved Meta Reducers"),Sn=new y.OlP("@ngrx/store User Runtime Checks Config"),Mi=new y.OlP("@ngrx/store Internal User Runtime Checks Config"),Yn=new y.OlP("@ngrx/store Internal Runtime Checks"),di=new y.OlP("@ngrx/store Check if Action types are unique");function $i(Ie,pt={}){const Ot=Object.keys(Ie),nt={};for(let dn=0;dn<Ot.length;dn++){const ri=Ot[dn];"function"==typeof Ie[ri]&&(nt[ri]=Ie[ri])}const Kt=Object.keys(nt);return function(ri,dr){ri=void 0===ri?pt:ri;let rr=!1;const Pn={};for(let kn=0;kn<Kt.length;kn++){const tr=Kt[kn],sr=ri[tr],ks=(0,nt[tr])(sr,dr);Pn[tr]=ks,rr=rr||ks!==sr}return rr?Pn:ri}}function Xs(...Ie){return function(pt){if(0===Ie.length)return pt;const Ot=Ie[Ie.length-1];return Ie.slice(0,-1).reduceRight((Kt,dn)=>dn(Kt),Ot(pt))}}function xo(Ie,pt){return Array.isArray(pt)&&pt.length>0&&(Ie=Xs.apply(null,[...pt,Ie])),(Ot,nt)=>{const Kt=Ie(Ot);return(dn,ri)=>Kt(dn=void 0===dn?nt:dn,ri)}}new y.OlP("@ngrx/store Root Store Provider"),new y.OlP("@ngrx/store Feature State Provider");class Ki extends U.y{}class yr extends rn{}const wa="@ngrx/store/update-reducers";let Kn=(()=>{var Ie;class pt extends R.X{get currentReducers(){return this.reducers}constructor(nt,Kt,dn,ri){super(ri(dn,Kt)),this.dispatcher=nt,this.initialState=Kt,this.reducers=dn,this.reducerFactory=ri}addFeature(nt){this.addFeatures([nt])}addFeatures(nt){const Kt=nt.reduce((dn,{reducers:ri,reducerFactory:dr,metaReducers:rr,initialState:Pn,key:kn})=>{const tr="function"==typeof ri?function Js(Ie){const pt=Array.isArray(Ie)&&Ie.length>0?Xs(...Ie):Ot=>Ot;return(Ot,nt)=>(Ot=pt(Ot),(Kt,dn)=>Ot(Kt=void 0===Kt?nt:Kt,dn))}(rr)(ri,Pn):xo(dr,rr)(ri,Pn);return dn[kn]=tr,dn},{});this.addReducers(Kt)}removeFeature(nt){this.removeFeatures([nt])}removeFeatures(nt){this.removeReducers(nt.map(Kt=>Kt.key))}addReducer(nt,Kt){this.addReducers({[nt]:Kt})}addReducers(nt){this.reducers={...this.reducers,...nt},this.updateReducers(Object.keys(nt))}removeReducer(nt){this.removeReducers([nt])}removeReducers(nt){nt.forEach(Kt=>{this.reducers=function gr(Ie,pt){return Object.keys(Ie).filter(Ot=>Ot!==pt).reduce((Ot,nt)=>Object.assign(Ot,{[nt]:Ie[nt]}),{})}(this.reducers,Kt)}),this.updateReducers(nt)}updateReducers(nt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:wa,features:nt})}ngOnDestroy(){this.complete()}}return(Ie=pt).\u0275fac=function(nt){return new(nt||Ie)(y.LFG(yr),y.LFG(ws),y.LFG(zi),y.LFG(ei))},Ie.\u0275prov=y.Yz7({token:Ie,factory:Ie.\u0275fac}),pt})();const Nn=[Kn,{provide:Ki,useExisting:Kn},{provide:yr,useExisting:rn}];let bi=(()=>{var Ie;class pt extends u.x{ngOnDestroy(){this.complete()}}return(Ie=pt).\u0275fac=function(){let Ot;return function(Kt){return(Ot||(Ot=y.n5z(Ie)))(Kt||Ie)}}(),Ie.\u0275prov=y.Yz7({token:Ie,factory:Ie.\u0275fac}),pt})();const Nr=[bi];class vr extends U.y{}let ti=(()=>{var Ie;class pt extends R.X{constructor(nt,Kt,dn,ri){super(ri);const kn=nt.pipe((0,J.Q)(F.N)).pipe((0,ee.M)(Kt)).pipe((0,ae.R)(ji,{state:ri}));this.stateSubscription=kn.subscribe(({state:tr,action:no})=>{this.next(tr),dn.next(no)}),this.state=(0,Ge.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return(Ie=pt).INIT=Nt,Ie.\u0275fac=function(nt){return new(nt||Ie)(y.LFG(rn),y.LFG(Ki),y.LFG(bi),y.LFG(ws))},Ie.\u0275prov=y.Yz7({token:Ie,factory:Ie.\u0275fac}),pt})();function ji(Ie={state:void 0},[pt,Ot]){const{state:nt}=Ie;return{state:Ot(nt,pt),action:pt}}const $r=[ti,{provide:vr,useExisting:ti}];let Qs=(()=>{var Ie;class pt extends U.y{constructor(nt,Kt,dn){super(),this.actionsObserver=Kt,this.reducerManager=dn,this.source=nt,this.state=nt.state}select(nt,...Kt){return Fo.call(null,nt,...Kt)(this)}selectSignal(nt,Kt){return(0,y.Flj)(()=>nt(this.state()),{equal:Kt?.equal||((dn,ri)=>dn===ri)})}lift(nt){const Kt=new pt(this,this.actionsObserver,this.reducerManager);return Kt.operator=nt,Kt}dispatch(nt){this.actionsObserver.next(nt)}next(nt){this.actionsObserver.next(nt)}error(nt){this.actionsObserver.error(nt)}complete(){this.actionsObserver.complete()}addReducer(nt,Kt){this.reducerManager.addReducer(nt,Kt)}removeReducer(nt){this.reducerManager.removeReducer(nt)}}return(Ie=pt).\u0275fac=function(nt){return new(nt||Ie)(y.LFG(vr),y.LFG(rn),y.LFG(Kn))},Ie.\u0275prov=y.Yz7({token:Ie,factory:Ie.\u0275fac}),pt})();const Qi=[Qs];function Fo(Ie,pt,...Ot){return function(Kt){let dn;if("string"==typeof Ie){const ri=[pt,...Ot].filter(Boolean);dn=Kt.pipe(function Me(...Ie){const pt=Ie.length;if(0===pt)throw new Error("list of properties cannot be empty.");return(0,de.U)(Ot=>{let nt=Ot;for(let Kt=0;Kt<pt;Kt++){const dn=nt?.[Ie[Kt]];if(!(typeof dn<"u"))return;nt=dn}return nt})}(Ie,...ri))}else{if("function"!=typeof Ie)throw new TypeError(`Unexpected type '${typeof Ie}' in select operator, expected 'string' or 'function'`);dn=Kt.pipe((0,de.U)(ri=>Ie(ri,pt)))}return dn.pipe((0,Fe.x)())}}const ki="https://ngrx.io/guide/store/configuration/runtime-checks";function Gr(Ie){return void 0===Ie}function ke(Ie){return null===Ie}function ue(Ie){return Array.isArray(Ie)}function We(Ie){return"object"==typeof Ie&&null!==Ie}function He(Ie){return"function"==typeof Ie}let nn=!1;function Un(Ie,pt){return Ie===pt}function gi(Ie,pt=Un,Ot=Un){let dn,nt=null,Kt=null;return{memoized:function Pn(){if(void 0!==dn)return dn.result;if(!nt)return Kt=Ie.apply(null,arguments),nt=arguments,Kt;if(!function ni(Ie,pt,Ot){for(let nt=0;nt<Ie.length;nt++)if(!Ot(Ie[nt],pt[nt]))return!0;return!1}(arguments,nt,pt))return Kt;const kn=Ie.apply(null,arguments);return nt=arguments,Ot(Kt,kn)?Kt:(Kt=kn,kn)},reset:function ri(){nt=null,Kt=null},setResult:function dr(kn=void 0){dn={result:kn}},clearResult:function rr(){dn=void 0}}}function _i(...Ie){return function vi(Ie,pt={stateFn:Ri}){return function(...Ot){let nt=Ot;if(Array.isArray(nt[0])){const[kn,...tr]=nt;nt=[...kn,...tr]}else 1===nt.length&&function as(Ie){return!!Ie&&"object"==typeof Ie&&Object.values(Ie).every(pt=>"function"==typeof pt)}(nt[0])&&(nt=function Lr(Ie){const pt=Object.values(Ie),Ot=Object.keys(Ie);return[...pt,(...Kt)=>Ot.reduce((dn,ri,dr)=>({...dn,[ri]:Kt[dr]}),{})]}(nt[0]));const Kt=nt.slice(0,nt.length-1),dn=nt[nt.length-1],ri=Kt.filter(kn=>kn.release&&"function"==typeof kn.release),dr=Ie(function(...kn){return dn.apply(null,kn)}),rr=gi(function(kn,tr){return pt.stateFn.apply(null,[kn,Kt,tr,dr])});return Object.assign(rr.memoized,{release:function Pn(){rr.reset(),dr.reset(),ri.forEach(kn=>kn.release())},projector:dr.memoized,setResult:rr.setResult,clearResult:rr.clearResult})}}(gi)(...Ie)}function Ri(Ie,pt,Ot,nt){if(void 0===Ot){const dn=pt.map(ri=>ri(Ie));return nt.memoized.apply(null,dn)}const Kt=pt.map(dn=>dn(Ie,Ot));return nt.memoized.apply(null,[...Kt,Ot])}function Zn(Ie){return _i(pt=>{const Ot=pt[Ie];return!function oi(){return nn}()&&(0,y.X6Q)()&&!(Ie in pt)&&console.warn(`@ngrx/store: The feature name "${Ie}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ie}', ...) or StoreModule.forFeature('${Ie}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ot},pt=>pt)}function er(Ie){return Ie instanceof y.OlP?(0,y.f3M)(Ie):Ie}function ai(Ie,pt){return pt.map((Ot,nt)=>{if(Ie[nt]instanceof y.OlP){const Kt=(0,y.f3M)(Ie[nt]);return{key:Ot.key,reducerFactory:Kt.reducerFactory?Kt.reducerFactory:$i,metaReducers:Kt.metaReducers?Kt.metaReducers:[],initialState:Kt.initialState}}return Ot})}function ts(Ie){return Ie.map(pt=>pt instanceof y.OlP?(0,y.f3M)(pt):pt)}function Ar(Ie){return"function"==typeof Ie?Ie():Ie}function Fi(Ie,pt){return Ie.concat(pt)}function No(){if((0,y.f3M)(Qs,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ni(Ie){Object.freeze(Ie);const pt=He(Ie);return Object.getOwnPropertyNames(Ie).forEach(Ot=>{if(!Ot.startsWith("\u0275")&&function qt(Ie,pt){return Object.prototype.hasOwnProperty.call(Ie,pt)}(Ie,Ot)&&(!pt||"caller"!==Ot&&"callee"!==Ot&&"arguments"!==Ot)){const nt=Ie[Ot];(We(nt)||He(nt))&&!Object.isFrozen(nt)&&Ni(nt)}}),Ie}function eo(Ie,pt=[]){return(Gr(Ie)||ke(Ie))&&0===pt.length?{path:["root"],value:Ie}:Object.keys(Ie).reduce((nt,Kt)=>{if(nt)return nt;const dn=Ie[Kt];return function at(Ie){return He(Ie)&&Ie.hasOwnProperty("\u0275cmp")}(dn)?nt:!(Gr(dn)||ke(dn)||function Be(Ie){return"number"==typeof Ie}(dn)||function Se(Ie){return"boolean"==typeof Ie}(dn)||function fe(Ie){return"string"==typeof Ie}(dn)||ue(dn))&&(function Je(Ie){if(!function et(Ie){return We(Ie)&&!ue(Ie)}(Ie))return!1;const pt=Object.getPrototypeOf(Ie);return pt===Object.prototype||null===pt}(dn)?eo(dn,[...pt,Kt]):{path:[...pt,Kt],value:dn})},!1)}function Ls(Ie,pt){if(!1===Ie)return;const Ot=Ie.path.join("."),nt=new Error(`Detected unserializable ${pt} at "${Ot}". ${ki}#strict${pt}serializability`);throw nt.value=Ie.value,nt.unserializablePath=Ot,nt}function Da(Ie){return(0,y.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ie}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function vt({strictActionSerializability:Ie,strictStateSerializability:pt}){return Ot=>Ie||pt?function Ma(Ie,pt){return function(Ot,nt){pt.action(nt)&&Ls(eo(nt),"action");const Kt=Ie(Ot,nt);return pt.state()&&Ls(eo(Kt),"state"),Kt}}(Ot,{action:nt=>Ie&&!fr(nt),state:()=>pt}):Ot}function Mo({strictActionImmutability:Ie,strictStateImmutability:pt}){return Ot=>Ie||pt?function Cs(Ie,pt){return function(Ot,nt){const Kt=pt.action(nt)?Ni(nt):nt,dn=Ie(Ot,Kt);return pt.state()?Ni(dn):dn}}(Ot,{action:nt=>Ie&&!fr(nt),state:()=>pt}):Ot}function fr(Ie){return Ie.type.startsWith("@ngrx")}function Ir({strictActionWithinNgZone:Ie}){return pt=>Ie?function zs(Ie,pt){return function(Ot,nt){if(pt.action(nt)&&!y.R0b.isInAngularZone())throw new Error(`Action '${nt.type}' running outside NgZone. ${ki}#strictactionwithinngzone`);return Ie(Ot,nt)}}(pt,{action:Ot=>Ie&&!fr(Ot)}):pt}function Yl(Ie){return[{provide:Mi,useValue:Ie},{provide:Sn,useFactory:Dc,deps:[Mi]},{provide:Yn,deps:[Sn],useFactory:Da},{provide:wt,multi:!0,deps:[Yn],useFactory:Mo},{provide:wt,multi:!0,deps:[Yn],useFactory:vt},{provide:wt,multi:!0,deps:[Yn],useFactory:Ir}]}function As(){return[{provide:di,multi:!0,deps:[Yn],useFactory:Ea}]}function Dc(Ie){return Ie}function Ea(Ie){if(!Ie.strictActionTypeUniqueness)return;const pt=Object.entries(ht).filter(([,Ot])=>Ot>1).map(([Ot])=>Ot);if(pt.length)throw new Error(`Action types are registered more than once, ${pt.map(Ot=>`"${Ot}"`).join(", ")}. ${ki}#strictactiontypeuniqueness`)}function cn(Ie={},pt={}){return[{provide:fi,useFactory:No},{provide:_r,useValue:pt.initialState},{provide:ws,useFactory:Ar,deps:[_r]},{provide:Mr,useValue:Ie},{provide:dt,useExisting:Ie instanceof y.OlP?Ie:Mr},{provide:zi,deps:[Mr,[new y.tBr(dt)]],useFactory:er},{provide:Tt,useValue:pt.metaReducers?pt.metaReducers:[]},{provide:vn,deps:[wt,Tt],useFactory:Fi},{provide:co,useValue:pt.reducerFactory?pt.reducerFactory:$i},{provide:ei,deps:[co,vn],useFactory:xo},wi,Nn,Nr,$r,Qi,Yl(pt.runtimeChecks),As()]}function Wr(Ie,pt,Ot={}){return[{provide:At,multi:!0,useValue:Ie instanceof Object?{}:Ot},{provide:es,multi:!0,useValue:{key:Ie instanceof Object?Ie.name:Ie,reducerFactory:Ot instanceof y.OlP||!Ot.reducerFactory?$i:Ot.reducerFactory,metaReducers:Ot instanceof y.OlP||!Ot.metaReducers?[]:Ot.metaReducers,initialState:Ot instanceof y.OlP||!Ot.initialState?void 0:Ot.initialState}},{provide:St,deps:[At,es],useFactory:ai},{provide:gt,multi:!0,useValue:Ie instanceof Object?Ie.reducer:pt},{provide:mt,multi:!0,useExisting:pt instanceof y.OlP?pt:gt},{provide:Et,multi:!0,deps:[gt,[new y.tBr(mt)]],useFactory:ts},As()]}let Bo=(()=>{var Ie;class pt{constructor(nt,Kt,dn,ri,dr,rr){}}return(Ie=pt).\u0275fac=function(nt){return new(nt||Ie)(y.LFG(rn),y.LFG(Ki),y.LFG(bi),y.LFG(Qs),y.LFG(fi,8),y.LFG(di,8))},Ie.\u0275mod=y.oAB({type:Ie}),Ie.\u0275inj=y.cJS({}),pt})(),zo=(()=>{var Ie;class pt{constructor(nt,Kt,dn,ri,dr){this.features=nt,this.featureReducers=Kt,this.reducerManager=dn;const rr=nt.map((Pn,kn)=>{const no=Kt.shift()[kn];return{...Pn,reducers:no,initialState:Ar(Pn.initialState)}});dn.addFeatures(rr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return(Ie=pt).\u0275fac=function(nt){return new(nt||Ie)(y.LFG(St),y.LFG(Et),y.LFG(Kn),y.LFG(Bo),y.LFG(di,8))},Ie.\u0275mod=y.oAB({type:Ie}),Ie.\u0275inj=y.cJS({}),pt})(),Ms=(()=>{var Ie;class pt{static forRoot(nt,Kt){return{ngModule:Bo,providers:[...cn(nt,Kt)]}}static forFeature(nt,Kt,dn={}){return{ngModule:zo,providers:[...Wr(nt,Kt,dn)]}}}return(Ie=pt).\u0275fac=function(nt){return new(nt||Ie)},Ie.\u0275mod=y.oAB({type:Ie}),Ie.\u0275inj=y.cJS({}),pt})();function Yi(...Ie){return{reducer:Ie.pop(),types:Ie.map(nt=>nt.type)}}function to(Ie,...pt){const Ot=new Map;for(const nt of pt)for(const Kt of nt.types){const dn=Ot.get(Kt);Ot.set(Kt,dn?(dr,rr)=>nt.reducer(dn(dr,rr),rr):nt.reducer)}return function(nt=Ie,Kt){const dn=Ot.get(Kt.type);return dn?dn(nt,Kt):nt}}},7582:(xe,_e,G)=>{"use strict";function Ge(dt,gt,At,St){return new(At||(At=Promise))(function(Et,Tt){function wt(Mi){try{Sn(St.next(Mi))}catch(Yn){Tt(Yn)}}function vn(Mi){try{Sn(St.throw(Mi))}catch(Yn){Tt(Yn)}}function Sn(Mi){Mi.done?Et(Mi.value):function mt(Et){return Et instanceof At?Et:new At(function(Tt){Tt(Et)})}(Mi.value).then(wt,vn)}Sn((St=St.apply(dt,gt||[])).next())})}function ct(dt){return this instanceof ct?(this.v=dt,this):new ct(dt)}function qe(dt,gt,At){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,St=At.apply(dt,gt||[]),Et=[];return mt={},Tt("next"),Tt("throw"),Tt("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function Tt(di){St[di]&&(mt[di]=function(Ji){return new Promise(function(ps,$i){Et.push([di,Ji,ps,$i])>1||wt(di,Ji)})})}function wt(di,Ji){try{!function vn(di){di.value instanceof ct?Promise.resolve(di.value.v).then(Sn,Mi):Yn(Et[0][2],di)}(St[di](Ji))}catch(ps){Yn(Et[0][3],ps)}}function Sn(di){wt("next",di)}function Mi(di){wt("throw",di)}function Yn(di,Ji){di(Ji),Et.shift(),Et.length&&wt(Et[0][0],Et[0][1])}}function Jt(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,gt=dt[Symbol.asyncIterator];return gt?gt.call(dt):(dt=function Pt(dt){var gt="function"==typeof Symbol&&Symbol.iterator,At=gt&&dt[gt],St=0;if(At)return At.call(dt);if(dt&&"number"==typeof dt.length)return{next:function(){return dt&&St>=dt.length&&(dt=void 0),{value:dt&&dt[St++],done:!dt}}};throw new TypeError(gt?"Object is not iterable.":"Symbol.iterator is not defined.")}(dt),At={},St("next"),St("throw"),St("return"),At[Symbol.asyncIterator]=function(){return this},At);function St(Et){At[Et]=dt[Et]&&function(Tt){return new Promise(function(wt,vn){!function mt(Et,Tt,wt,vn){Promise.resolve(vn).then(function(Sn){Et({value:Sn,done:wt})},Tt)}(wt,vn,(Tt=dt[Et](Tt)).done,Tt.value)})}}}G.d(_e,{FC:()=>qe,KL:()=>Jt,mG:()=>Ge,qq:()=>ct}),"function"==typeof SuppressedError&&SuppressedError}},xe=>{xe(xe.s=7344)}]);